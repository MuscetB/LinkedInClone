import{A as gs,B as mu,C as yA,D as zi,E as io,F as Qg,G as vA,H as _u,I as wA,J as Bn,K as vt,a as Q,b as Ee,c as Hh,d as $U,e as Gg,f as kw,g as F,h as dA,i as qg,j as hA,k as fA,l as pA,m as Fw,n as Wg,o as Gh,p as gA,q as Lw,r as pu,s as mA,t as _A,u as ra,v as gu,w as qh,x as Kg,y as tt,z as Vn}from"./chunk-KCHZ77MV.js";var lg=$U((Ys,qM)=>{"use strict";(function(n,e){typeof Ys=="object"&&typeof qM<"u"?qM.exports=e():typeof define=="function"&&define.amd?define(e):(n=typeof globalThis<"u"?globalThis:n||self,n.Sweetalert2=e())})(Ys,function(){"use strict";function n(f,p,y){if(typeof f=="function"?f===p:f.has(p))return arguments.length<3?p:y;throw new TypeError("Private element is not present on this object")}function e(f,p){if(p.has(f))throw new TypeError("Cannot initialize the same private elements twice on an object")}function t(f,p){return f.get(n(f,p))}function i(f,p,y){e(f,p),p.set(f,y)}function r(f,p,y){return f.set(n(f,p),y),y}let s=100,o={},a=()=>{o.previousActiveElement instanceof HTMLElement?(o.previousActiveElement.focus(),o.previousActiveElement=null):document.body&&document.body.focus()},l=f=>new Promise(p=>{if(!f)return p();let y=window.scrollX,I=window.scrollY;o.restoreFocusTimeout=setTimeout(()=>{a(),p()},s),window.scrollTo(y,I)}),c="swal2-",h=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((f,p)=>(f[p]=c+p,f),{}),v=["success","warning","info","question","error"].reduce((f,p)=>(f[p]=c+p,f),{}),b="SweetAlert2:",A=f=>f.charAt(0).toUpperCase()+f.slice(1),S=f=>{console.warn(`${b} ${typeof f=="object"?f.join(" "):f}`)},j=f=>{console.error(`${b} ${f}`)},Z=[],W=f=>{Z.includes(f)||(Z.push(f),S(f))},Y=function(f){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;W(`"${f}" is deprecated and will be removed in the next major release.${p?` Use "${p}" instead.`:""}`)},ge=f=>typeof f=="function"?f():f,ae=f=>f&&typeof f.toPromise=="function",R=f=>ae(f)?f.toPromise():Promise.resolve(f),T=f=>f&&Promise.resolve(f)===f,M=()=>document.body.querySelector(`.${h.container}`),N=f=>{let p=M();return p?p.querySelector(f):null},k=f=>N(`.${f}`),P=()=>k(h.popup),O=()=>k(h.icon),Ii=()=>k(h["icon-content"]),Tr=()=>k(h.title),me=()=>k(h["html-container"]),Ce=()=>k(h.image),Te=()=>k(h["progress-steps"]),ze=()=>k(h["validation-message"]),ut=()=>N(`.${h.actions} .${h.confirm}`),wn=()=>N(`.${h.actions} .${h.cancel}`),gt=()=>N(`.${h.actions} .${h.deny}`),Tt=()=>k(h["input-label"]),dt=()=>N(`.${h.loader}`),Ti=()=>k(h.actions),qc=()=>k(h.footer),Dt=()=>k(h["timer-progress-bar"]),Li=()=>k(h.close),Qn=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Vi=()=>{let f=P();if(!f)return[];let p=f.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),y=Array.from(p).sort((_e,Ye)=>{let mt=parseInt(_e.getAttribute("tabindex")||"0"),Gt=parseInt(Ye.getAttribute("tabindex")||"0");return mt>Gt?1:mt<Gt?-1:0}),I=f.querySelectorAll(Qn),z=Array.from(I).filter(_e=>_e.getAttribute("tabindex")!=="-1");return[...new Set(y.concat(z))].filter(_e=>Fn(_e))},rr=()=>Bi(document.body,h.shown)&&!Bi(document.body,h["toast-shown"])&&!Bi(document.body,h["no-backdrop"]),Go=()=>{let f=P();return f?Bi(f,h.toast):!1},Ch=()=>{let f=P();return f?f.hasAttribute("data-loading"):!1},kn=(f,p)=>{if(f.textContent="",p){let I=new DOMParser().parseFromString(p,"text/html"),z=I.querySelector("head");z&&Array.from(z.childNodes).forEach(Ye=>{f.appendChild(Ye)});let _e=I.querySelector("body");_e&&Array.from(_e.childNodes).forEach(Ye=>{Ye instanceof HTMLVideoElement||Ye instanceof HTMLAudioElement?f.appendChild(Ye.cloneNode(!0)):f.appendChild(Ye)})}},Bi=(f,p)=>{if(!p)return!1;let y=p.split(/\s+/);for(let I=0;I<y.length;I++)if(!f.classList.contains(y[I]))return!1;return!0},cg=(f,p)=>{Array.from(f.classList).forEach(y=>{!Object.values(h).includes(y)&&!Object.values(v).includes(y)&&!Object.values(p.showClass||{}).includes(y)&&f.classList.remove(y)})},Zn=(f,p,y)=>{if(cg(f,p),!p.customClass)return;let I=p.customClass[y];if(I){if(typeof I!="string"&&!I.forEach){S(`Invalid type of customClass.${y}! Expected string or iterable object, got "${typeof I}"`);return}Xe(f,I)}},Wc=(f,p)=>{if(!p)return null;switch(p){case"select":case"textarea":case"file":return f.querySelector(`.${h.popup} > .${h[p]}`);case"checkbox":return f.querySelector(`.${h.popup} > .${h.checkbox} input`);case"radio":return f.querySelector(`.${h.popup} > .${h.radio} input:checked`)||f.querySelector(`.${h.popup} > .${h.radio} input:first-child`);case"range":return f.querySelector(`.${h.popup} > .${h.range} input`);default:return f.querySelector(`.${h.popup} > .${h.input}`)}},Eh=f=>{if(f.focus(),f.type!=="file"){let p=f.value;f.value="",f.value=p}},Ih=(f,p,y)=>{!f||!p||(typeof p=="string"&&(p=p.split(/\s+/).filter(Boolean)),p.forEach(I=>{Array.isArray(f)?f.forEach(z=>{y?z.classList.add(I):z.classList.remove(I)}):y?f.classList.add(I):f.classList.remove(I)}))},Xe=(f,p)=>{Ih(f,p,!0)},Ui=(f,p)=>{Ih(f,p,!1)},as=(f,p)=>{let y=Array.from(f.children);for(let I=0;I<y.length;I++){let z=y[I];if(z instanceof HTMLElement&&Bi(z,p))return z}},Dr=(f,p,y)=>{y===`${parseInt(y)}`&&(y=parseInt(y)),y||parseInt(y)===0?f.style.setProperty(p,typeof y=="number"?`${y}px`:y):f.style.removeProperty(p)},Jt=function(f){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";f&&(f.style.display=p)},cn=f=>{f&&(f.style.display="none")},un=function(f){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";f&&new MutationObserver(()=>{ls(f,f.innerHTML,p)}).observe(f,{childList:!0,subtree:!0})},xn=(f,p,y,I)=>{let z=f.querySelector(p);z&&z.style.setProperty(y,I)},ls=function(f,p){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";p?Jt(f,y):cn(f)},Fn=f=>!!(f&&(f.offsetWidth||f.offsetHeight||f.getClientRects().length)),ug=()=>!Fn(ut())&&!Fn(gt())&&!Fn(wn()),dg=f=>f.scrollHeight>f.clientHeight,qo=f=>{let p=window.getComputedStyle(f),y=parseFloat(p.getPropertyValue("animation-duration")||"0"),I=parseFloat(p.getPropertyValue("transition-duration")||"0");return y>0||I>0},Kc=function(f){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y=Dt();y&&Fn(y)&&(p&&(y.style.transition="none",y.style.width="100%"),setTimeout(()=>{y.style.transition=`width ${f/1e3}s linear`,y.style.width="0%"},10))},hg=()=>{let f=Dt();if(!f)return;let p=parseInt(window.getComputedStyle(f).width);f.style.removeProperty("transition"),f.style.width="100%";let y=parseInt(window.getComputedStyle(f).width),I=p/y*100;f.style.width=`${I}%`},Qc=()=>typeof window>"u"||typeof document>"u",mw=`
 <div aria-labelledby="${h.title}" aria-describedby="${h["html-container"]}" class="${h.popup}" tabindex="-1">
   <button type="button" class="${h.close}"></button>
   <ul class="${h["progress-steps"]}"></ul>
   <div class="${h.icon}"></div>
   <img class="${h.image}" />
   <h2 class="${h.title}" id="${h.title}"></h2>
   <div class="${h["html-container"]}" id="${h["html-container"]}"></div>
   <input class="${h.input}" id="${h.input}" />
   <input type="file" class="${h.file}" />
   <div class="${h.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${h.select}" id="${h.select}"></select>
   <div class="${h.radio}"></div>
   <label class="${h.checkbox}">
     <input type="checkbox" id="${h.checkbox}" />
     <span class="${h.label}"></span>
   </label>
   <textarea class="${h.textarea}" id="${h.textarea}"></textarea>
   <div class="${h["validation-message"]}" id="${h["validation-message"]}"></div>
   <div class="${h.actions}">
     <div class="${h.loader}"></div>
     <button type="button" class="${h.confirm}"></button>
     <button type="button" class="${h.deny}"></button>
     <button type="button" class="${h.cancel}"></button>
   </div>
   <div class="${h.footer}"></div>
   <div class="${h["timer-progress-bar-container"]}">
     <div class="${h["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),_w=()=>{let f=M();return f?(f.remove(),Ui([document.documentElement,document.body],[h["no-backdrop"],h["toast-shown"],h["has-column"]]),!0):!1},Sr=()=>{o.currentInstance.resetValidationMessage()},fg=()=>{let f=P(),p=as(f,h.input),y=as(f,h.file),I=f.querySelector(`.${h.range} input`),z=f.querySelector(`.${h.range} output`),_e=as(f,h.select),Ye=f.querySelector(`.${h.checkbox} input`),mt=as(f,h.textarea);p.oninput=Sr,y.onchange=Sr,_e.onchange=Sr,Ye.onchange=Sr,mt.oninput=Sr,I.oninput=()=>{Sr(),z.value=I.value},I.onchange=()=>{Sr(),z.value=I.value}},pg=f=>typeof f=="string"?document.querySelector(f):f,hl=f=>{let p=P();p.setAttribute("role",f.toast?"alert":"dialog"),p.setAttribute("aria-live",f.toast?"polite":"assertive"),f.toast||p.setAttribute("aria-modal","true")},Th=f=>{window.getComputedStyle(f).direction==="rtl"&&Xe(M(),h.rtl)},Dh=f=>{let p=_w();if(Qc()){j("SweetAlert2 requires document to initialize");return}let y=document.createElement("div");y.className=h.container,p&&Xe(y,h["no-transition"]),kn(y,mw);let I=pg(f.target);I.appendChild(y),hl(f),Th(I),fg()},Mr=(f,p)=>{f instanceof HTMLElement?p.appendChild(f):typeof f=="object"?gg(f,p):f&&kn(p,f)},gg=(f,p)=>{f.jquery?Zc(p,f):kn(p,f.toString())},Zc=(f,p)=>{if(f.textContent="",0 in p)for(let y=0;y in p;y++)f.appendChild(p[y].cloneNode(!0));else f.appendChild(p.cloneNode(!0))},cs=(()=>{if(Qc())return!1;let f=document.createElement("div");return typeof f.style.webkitAnimation<"u"?"webkitAnimationEnd":typeof f.style.animation<"u"?"animationend":!1})(),fl=(f,p)=>{let y=Ti(),I=dt();!y||!I||(!p.showConfirmButton&&!p.showDenyButton&&!p.showCancelButton?cn(y):Jt(y),Zn(y,p,"actions"),mg(y,I,p),kn(I,p.loaderHtml||""),Zn(I,p,"loader"))};function mg(f,p,y){let I=ut(),z=gt(),_e=wn();!I||!z||!_e||(Yc(I,"confirm",y),Yc(z,"deny",y),Yc(_e,"cancel",y),Ln(I,z,_e,y),y.reverseButtons&&(y.toast?(f.insertBefore(_e,I),f.insertBefore(z,I)):(f.insertBefore(_e,p),f.insertBefore(z,p),f.insertBefore(I,p))))}function Ln(f,p,y,I){if(!I.buttonsStyling){Ui([f,p,y],h.styled);return}Xe([f,p,y],h.styled),I.confirmButtonColor&&(f.style.backgroundColor=I.confirmButtonColor,Xe(f,h["default-outline"])),I.denyButtonColor&&(p.style.backgroundColor=I.denyButtonColor,Xe(p,h["default-outline"])),I.cancelButtonColor&&(y.style.backgroundColor=I.cancelButtonColor,Xe(y,h["default-outline"]))}function Yc(f,p,y){let I=A(p);ls(f,y[`show${I}Button`],"inline-block"),kn(f,y[`${p}ButtonText`]||""),f.setAttribute("aria-label",y[`${p}ButtonAriaLabel`]||""),f.className=h[p],Zn(f,y,`${p}Button`)}let pl=(f,p)=>{let y=Li();y&&(kn(y,p.closeButtonHtml||""),Zn(y,p,"closeButton"),ls(y,p.showCloseButton),y.setAttribute("aria-label",p.closeButtonAriaLabel||""))},gl=(f,p)=>{let y=M();y&&(yw(y,p.backdrop),vw(y,p.position),Wo(y,p.grow),Zn(y,p,"container"))};function yw(f,p){typeof p=="string"?f.style.background=p:p||Xe([document.documentElement,document.body],h["no-backdrop"])}function vw(f,p){p&&(p in h?Xe(f,h[p]):(S('The "position" parameter is not valid, defaulting to "center"'),Xe(f,h.center)))}function Wo(f,p){p&&Xe(f,h[`grow-${p}`])}var Ct={innerParams:new WeakMap,domCache:new WeakMap};let ww=["input","file","range","select","radio","checkbox","textarea"],Jc=(f,p)=>{let y=P();if(!y)return;let I=Ct.innerParams.get(f),z=!I||p.input!==I.input;ww.forEach(_e=>{let Ye=as(y,h[_e]);Ye&&(Xc(_e,p.inputAttributes),Ye.className=h[_e],z&&cn(Ye))}),p.input&&(z&&_g(p),us(p))},_g=f=>{if(!f.input)return;if(!Vt[f.input]){j(`Unexpected type of input! Expected ${Object.keys(Vt).join(" | ")}, got "${f.input}"`);return}let p=tu(f.input);if(!p)return;let y=Vt[f.input](p,f);Jt(p),f.inputAutoFocus&&setTimeout(()=>{Eh(y)})},Sh=f=>{for(let p=0;p<f.attributes.length;p++){let y=f.attributes[p].name;["id","type","value","style"].includes(y)||f.removeAttribute(y)}},Xc=(f,p)=>{let y=P();if(!y)return;let I=Wc(y,f);if(I){Sh(I);for(let z in p)I.setAttribute(z,p[z])}},us=f=>{if(!f.input)return;let p=tu(f.input);p&&Zn(p,f,"input")},eu=(f,p)=>{!f.placeholder&&p.inputPlaceholder&&(f.placeholder=p.inputPlaceholder)},Ko=(f,p,y)=>{if(y.inputLabel){let I=document.createElement("label"),z=h["input-label"];I.setAttribute("for",f.id),I.className=z,typeof y.customClass=="object"&&Xe(I,y.customClass.inputLabel),I.innerText=y.inputLabel,p.insertAdjacentElement("beforebegin",I)}},tu=f=>{let p=P();if(p)return as(p,h[f]||h.input)},Qo=(f,p)=>{["string","number"].includes(typeof p)?f.value=`${p}`:T(p)||S(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof p}"`)},Vt={};Vt.text=Vt.email=Vt.password=Vt.number=Vt.tel=Vt.url=Vt.search=Vt.date=Vt["datetime-local"]=Vt.time=Vt.week=Vt.month=(f,p)=>(Qo(f,p.inputValue),Ko(f,f,p),eu(f,p),f.type=p.input,f),Vt.file=(f,p)=>(Ko(f,f,p),eu(f,p),f),Vt.range=(f,p)=>{let y=f.querySelector("input"),I=f.querySelector("output");return Qo(y,p.inputValue),y.type=p.input,Qo(I,p.inputValue),Ko(y,f,p),f},Vt.select=(f,p)=>{if(f.textContent="",p.inputPlaceholder){let y=document.createElement("option");kn(y,p.inputPlaceholder),y.value="",y.disabled=!0,y.selected=!0,f.appendChild(y)}return Ko(f,f,p),f},Vt.radio=f=>(f.textContent="",f),Vt.checkbox=(f,p)=>{let y=Wc(P(),"checkbox");y.value="1",y.checked=!!p.inputValue;let I=f.querySelector("span");return kn(I,p.inputPlaceholder||p.inputLabel),y},Vt.textarea=(f,p)=>{Qo(f,p.inputValue),eu(f,p),Ko(f,f,p);let y=I=>parseInt(window.getComputedStyle(I).marginLeft)+parseInt(window.getComputedStyle(I).marginRight);return setTimeout(()=>{if("MutationObserver"in window){let I=parseInt(window.getComputedStyle(P()).width),z=()=>{if(!document.body.contains(f))return;let _e=f.offsetWidth+y(f);_e>I?P().style.width=`${_e}px`:Dr(P(),"width",p.width)};new MutationObserver(z).observe(f,{attributes:!0,attributeFilter:["style"]})}}),f};let yg=(f,p)=>{let y=me();y&&(un(y),Zn(y,p,"htmlContainer"),p.html?(Mr(p.html,y),Jt(y,"block")):p.text?(y.textContent=p.text,Jt(y,"block")):cn(y),Jc(f,p))},bw=(f,p)=>{let y=qc();y&&(un(y),ls(y,p.footer,"block"),p.footer&&Mr(p.footer,y),Zn(y,p,"footer"))},nu=(f,p)=>{let y=Ct.innerParams.get(f),I=O();if(I){if(y&&p.icon===y.icon){iu(I,p),Mh(I,p);return}if(!p.icon&&!p.iconHtml){cn(I);return}if(p.icon&&Object.keys(v).indexOf(p.icon)===-1){j(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${p.icon}"`),cn(I);return}Jt(I),iu(I,p),Mh(I,p),Xe(I,p.showClass&&p.showClass.icon)}},Mh=(f,p)=>{for(let[y,I]of Object.entries(v))p.icon!==y&&Ui(f,I);Xe(f,p.icon&&v[p.icon]),Cw(f,p),Ah(),Zn(f,p,"icon")},Ah=()=>{let f=P();if(!f)return;let p=window.getComputedStyle(f).getPropertyValue("background-color"),y=f.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let I=0;I<y.length;I++)y[I].style.backgroundColor=p},ml=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,Xs=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,iu=(f,p)=>{if(!p.icon&&!p.iconHtml)return;let y=f.innerHTML,I="";p.iconHtml?I=xh(p.iconHtml):p.icon==="success"?(I=ml,y=y.replace(/ style=".*?"/g,"")):p.icon==="error"?I=Xs:p.icon&&(I=xh({question:"?",warning:"!",info:"i"}[p.icon])),y.trim()!==I.trim()&&kn(f,I)},Cw=(f,p)=>{if(p.iconColor){f.style.color=p.iconColor,f.style.borderColor=p.iconColor;for(let y of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])xn(f,y,"background-color",p.iconColor);xn(f,".swal2-success-ring","border-color",p.iconColor)}},xh=f=>`<div class="${h["icon-content"]}">${f}</div>`,vg=(f,p)=>{let y=Ce();if(y){if(!p.imageUrl){cn(y);return}Jt(y,""),y.setAttribute("src",p.imageUrl),y.setAttribute("alt",p.imageAlt||""),Dr(y,"width",p.imageWidth),Dr(y,"height",p.imageHeight),y.className=h.image,Zn(y,p,"image")}},wg=(f,p)=>{let y=M(),I=P();if(!(!y||!I)){if(p.toast){Dr(y,"width",p.width),I.style.width="100%";let z=dt();z&&I.insertBefore(z,O())}else Dr(I,"width",p.width);Dr(I,"padding",p.padding),p.color&&(I.style.color=p.color),p.background&&(I.style.background=p.background),cn(ze()),Rh(I,p)}},Rh=(f,p)=>{let y=p.showClass||{};f.className=`${h.popup} ${Fn(f)?y.popup:""}`,p.toast?(Xe([document.documentElement,document.body],h["toast-shown"]),Xe(f,h.toast)):Xe(f,h.modal),Zn(f,p,"popup"),typeof p.customClass=="string"&&Xe(f,p.customClass),p.icon&&Xe(f,h[`icon-${p.icon}`])},Oh=(f,p)=>{let y=Te();if(!y)return;let{progressSteps:I,currentProgressStep:z}=p;if(!I||I.length===0||z===void 0){cn(y);return}Jt(y),y.textContent="",z>=I.length&&S("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),I.forEach((_e,Ye)=>{let mt=bg(_e);if(y.appendChild(mt),Ye===z&&Xe(mt,h["active-progress-step"]),Ye!==I.length-1){let Gt=Cg(p);y.appendChild(Gt)}})},bg=f=>{let p=document.createElement("li");return Xe(p,h["progress-step"]),kn(p,f),p},Cg=f=>{let p=document.createElement("li");return Xe(p,h["progress-step-line"]),f.progressStepsDistance&&Dr(p,"width",f.progressStepsDistance),p},Ew=(f,p)=>{let y=Tr();y&&(un(y),ls(y,p.title||p.titleText,"block"),p.title&&Mr(p.title,y),p.titleText&&(y.innerText=p.titleText),Zn(y,p,"title"))},Eg=(f,p)=>{wg(f,p),gl(f,p),Oh(f,p),nu(f,p),vg(f,p),Ew(f,p),pl(f,p),yg(f,p),fl(f,p),bw(f,p);let y=P();typeof p.didRender=="function"&&y&&p.didRender(y),o.eventEmitter.emit("didRender",y)},Ig=()=>Fn(P()),Nh=()=>{var f;return(f=ut())===null||f===void 0?void 0:f.click()},Iw=()=>{var f;return(f=gt())===null||f===void 0?void 0:f.click()},eo=()=>{var f;return(f=wn())===null||f===void 0?void 0:f.click()},Yn=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),_l=f=>{f.keydownTarget&&f.keydownHandlerAdded&&(f.keydownTarget.removeEventListener("keydown",f.keydownHandler,{capture:f.keydownListenerCapture}),f.keydownHandlerAdded=!1)},ru=(f,p,y)=>{_l(f),p.toast||(f.keydownHandler=I=>yl(p,I,y),f.keydownTarget=p.keydownListenerCapture?window:P(),f.keydownListenerCapture=p.keydownListenerCapture,f.keydownTarget.addEventListener("keydown",f.keydownHandler,{capture:f.keydownListenerCapture}),f.keydownHandlerAdded=!0)},su=(f,p)=>{var y;let I=Vi();if(I.length){f=f+p,f===I.length?f=0:f===-1&&(f=I.length-1),I[f].focus();return}(y=P())===null||y===void 0||y.focus()},Et=["ArrowRight","ArrowDown"],ou=["ArrowLeft","ArrowUp"],yl=(f,p,y)=>{f&&(p.isComposing||p.keyCode===229||(f.stopKeydownPropagation&&p.stopPropagation(),p.key==="Enter"?vl(p,f):p.key==="Tab"?Tw(p):[...Et,...ou].includes(p.key)?Tg(p.key):p.key==="Escape"&&Dw(p,f,y)))},vl=(f,p)=>{if(!ge(p.allowEnterKey))return;let y=Wc(P(),p.input);if(f.target&&y&&f.target instanceof HTMLElement&&f.target.outerHTML===y.outerHTML){if(["textarea","file"].includes(p.input))return;Nh(),f.preventDefault()}},Tw=f=>{let p=f.target,y=Vi(),I=-1;for(let z=0;z<y.length;z++)if(p===y[z]){I=z;break}f.shiftKey?su(I,-1):su(I,1),f.stopPropagation(),f.preventDefault()},Tg=f=>{let p=Ti(),y=ut(),I=gt(),z=wn();if(!p||!y||!I||!z)return;let _e=[y,I,z];if(document.activeElement instanceof HTMLElement&&!_e.includes(document.activeElement))return;let Ye=Et.includes(f)?"nextElementSibling":"previousElementSibling",mt=document.activeElement;if(mt){for(let Gt=0;Gt<p.children.length;Gt++){if(mt=mt[Ye],!mt)return;if(mt instanceof HTMLButtonElement&&Fn(mt))break}mt instanceof HTMLButtonElement&&mt.focus()}},Dw=(f,p,y)=>{ge(p.allowEscapeKey)&&(f.preventDefault(),y(Yn.esc))};var Zo={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};let Sw=()=>{let f=M();Array.from(document.body.children).forEach(y=>{y.contains(f)||(y.hasAttribute("aria-hidden")&&y.setAttribute("data-previous-aria-hidden",y.getAttribute("aria-hidden")||""),y.setAttribute("aria-hidden","true"))})},Dg=()=>{Array.from(document.body.children).forEach(p=>{p.hasAttribute("data-previous-aria-hidden")?(p.setAttribute("aria-hidden",p.getAttribute("data-previous-aria-hidden")||""),p.removeAttribute("data-previous-aria-hidden")):p.removeAttribute("aria-hidden")})},Yo=typeof window<"u"&&!!window.GestureEvent,ds=()=>{if(Yo&&!Bi(document.body,h.iosfix)){let f=document.body.scrollTop;document.body.style.top=`${f*-1}px`,Xe(document.body,h.iosfix),Sg()}},Sg=()=>{let f=M();if(!f)return;let p;f.ontouchstart=y=>{p=Mg(y)},f.ontouchmove=y=>{p&&(y.preventDefault(),y.stopPropagation())}},Mg=f=>{let p=f.target,y=M(),I=me();return!y||!I||Ag(f)||Jo(f)?!1:p===y||!dg(y)&&p instanceof HTMLElement&&p.tagName!=="INPUT"&&p.tagName!=="TEXTAREA"&&!(dg(I)&&I.contains(p))},Ag=f=>f.touches&&f.touches.length&&f.touches[0].touchType==="stylus",Jo=f=>f.touches&&f.touches.length>1,Mw=()=>{if(Bi(document.body,h.iosfix)){let f=parseInt(document.body.style.top,10);Ui(document.body,h.iosfix),document.body.style.top="",document.body.scrollTop=f*-1}},Aw=()=>{let f=document.createElement("div");f.className=h["scrollbar-measure"],document.body.appendChild(f);let p=f.getBoundingClientRect().width-f.clientWidth;return document.body.removeChild(f),p},Xo=null,hs=f=>{Xo===null&&(document.body.scrollHeight>window.innerHeight||f==="scroll")&&(Xo=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Xo+Aw()}px`)},xw=()=>{Xo!==null&&(document.body.style.paddingRight=`${Xo}px`,Xo=null)};function xg(f,p,y,I){Go()?Ng(f,I):(l(y).then(()=>Ng(f,I)),_l(o)),Yo?(p.setAttribute("style","display:none !important"),p.removeAttribute("class"),p.innerHTML=""):p.remove(),rr()&&(xw(),Mw(),Dg()),wl()}function wl(){Ui([document.documentElement,document.body],[h.shown,h["height-auto"],h["no-backdrop"],h["toast-shown"]])}function ji(f){f=Og(f);let p=Zo.swalPromiseResolve.get(this),y=Rg(this);this.isAwaitingPromise?f.isDismissed||(Ar(this),p(f)):y&&p(f)}let Rg=f=>{let p=P();if(!p)return!1;let y=Ct.innerParams.get(f);if(!y||Bi(p,y.hideClass.popup))return!1;Ui(p,y.showClass.popup),Xe(p,y.hideClass.popup);let I=M();return Ui(I,y.showClass.backdrop),Xe(I,y.hideClass.backdrop),Ph(f,p,y),!0};function ea(f){let p=Zo.swalPromiseReject.get(this);Ar(this),p&&p(f)}let Ar=f=>{f.isAwaitingPromise&&(delete f.isAwaitingPromise,Ct.innerParams.get(f)||f._destroy())},Og=f=>typeof f>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},f),Ph=(f,p,y)=>{let I=M(),z=cs&&qo(p);typeof y.willClose=="function"&&y.willClose(p),o.eventEmitter.emit("willClose",p),z?Bt(f,p,I,y.returnFocus,y.didClose):xg(f,I,y.returnFocus,y.didClose)},Bt=(f,p,y,I,z)=>{cs&&(o.swalCloseEventFinishedCallback=xg.bind(null,f,y,I,z),p.addEventListener(cs,function(_e){_e.target===p&&(o.swalCloseEventFinishedCallback(),delete o.swalCloseEventFinishedCallback)}))},Ng=(f,p)=>{setTimeout(()=>{typeof p=="function"&&p.bind(f.params)(),o.eventEmitter.emit("didClose"),f._destroy&&f._destroy()})},ta=f=>{let p=P();if(p||new Hg,p=P(),!p)return;let y=dt();Go()?cn(O()):Pg(p,f),Jt(y),p.setAttribute("data-loading","true"),p.setAttribute("aria-busy","true"),p.focus()},Pg=(f,p)=>{let y=Ti(),I=dt();!y||!I||(!p&&Fn(ut())&&(p=ut()),Jt(y),p&&(cn(p),I.setAttribute("data-button-to-replace",p.className),y.insertBefore(I,p)),Xe([f,y],h.loading))},kg=(f,p)=>{p.input==="select"||p.input==="radio"?Vg(f,p):["text","email","number","tel","textarea"].some(y=>y===p.input)&&(ae(p.inputValue)||T(p.inputValue))&&(ta(ut()),Rw(f,p))},Fg=(f,p)=>{let y=f.getInput();if(!y)return null;switch(p.input){case"checkbox":return au(y);case"radio":return Lg(y);case"file":return xr(y);default:return p.inputAutoTrim?y.value.trim():y.value}},au=f=>f.checked?1:0,Lg=f=>f.checked?f.value:null,xr=f=>f.files&&f.files.length?f.getAttribute("multiple")!==null?f.files:f.files[0]:null,Vg=(f,p)=>{let y=P();if(!y)return;let I=z=>{p.input==="select"?bl(y,na(z),p):p.input==="radio"&&Bg(y,na(z),p)};ae(p.inputOptions)||T(p.inputOptions)?(ta(ut()),R(p.inputOptions).then(z=>{f.hideLoading(),I(z)})):typeof p.inputOptions=="object"?I(p.inputOptions):j(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof p.inputOptions}`)},Rw=(f,p)=>{let y=f.getInput();y&&(cn(y),R(p.inputValue).then(I=>{y.value=p.input==="number"?`${parseFloat(I)||0}`:`${I}`,Jt(y),y.focus(),f.hideLoading()}).catch(I=>{j(`Error in inputValue promise: ${I}`),y.value="",Jt(y),y.focus(),f.hideLoading()}))};function bl(f,p,y){let I=as(f,h.select);if(!I)return;let z=(_e,Ye,mt)=>{let Gt=document.createElement("option");Gt.value=mt,kn(Gt,Ye),Gt.selected=Cl(mt,y.inputValue),_e.appendChild(Gt)};p.forEach(_e=>{let Ye=_e[0],mt=_e[1];if(Array.isArray(mt)){let Gt=document.createElement("optgroup");Gt.label=Ye,Gt.disabled=!1,I.appendChild(Gt),mt.forEach(fu=>z(Gt,fu[1],fu[0]))}else z(I,mt,Ye)}),I.focus()}function Bg(f,p,y){let I=as(f,h.radio);if(!I)return;p.forEach(_e=>{let Ye=_e[0],mt=_e[1],Gt=document.createElement("input"),fu=document.createElement("label");Gt.type="radio",Gt.name=h.radio,Gt.value=Ye,Cl(Ye,y.inputValue)&&(Gt.checked=!0);let Pw=document.createElement("span");kn(Pw,mt),Pw.className=h.label,fu.appendChild(Gt),fu.appendChild(Pw),I.appendChild(fu)});let z=I.querySelectorAll("input");z.length&&z[0].focus()}let na=f=>{let p=[];return f instanceof Map?f.forEach((y,I)=>{let z=y;typeof z=="object"&&(z=na(z)),p.push([I,z])}):Object.keys(f).forEach(y=>{let I=f[y];typeof I=="object"&&(I=na(I)),p.push([y,I])}),p},Cl=(f,p)=>!!p&&p.toString()===f.toString(),Ug=f=>{let p=Ct.innerParams.get(f);f.disableButtons(),p.input?kh(f,"confirm"):Il(f,!0)},lu=f=>{let p=Ct.innerParams.get(f);f.disableButtons(),p.returnInputValueOnDeny?kh(f,"deny"):cu(f,!1)},Ow=(f,p)=>{f.disableButtons(),p(Yn.cancel)},kh=(f,p)=>{let y=Ct.innerParams.get(f);if(!y.input){j(`The "input" parameter is needed to be set when using returnInputValueOn${A(p)}`);return}let I=f.getInput(),z=Fg(f,y);y.inputValidator?El(f,z,p):I&&!I.checkValidity()?(f.enableButtons(),f.showValidationMessage(y.validationMessage||I.validationMessage)):p==="deny"?cu(f,z):Il(f,z)},El=(f,p,y)=>{let I=Ct.innerParams.get(f);f.disableInput(),Promise.resolve().then(()=>R(I.inputValidator(p,I.validationMessage))).then(_e=>{f.enableButtons(),f.enableInput(),_e?f.showValidationMessage(_e):y==="deny"?cu(f,p):Il(f,p)})},cu=(f,p)=>{let y=Ct.innerParams.get(f||void 0);y.showLoaderOnDeny&&ta(gt()),y.preDeny?(f.isAwaitingPromise=!0,Promise.resolve().then(()=>R(y.preDeny(p,y.validationMessage))).then(z=>{z===!1?(f.hideLoading(),Ar(f)):f.close({isDenied:!0,value:typeof z>"u"?p:z})}).catch(z=>uu(f||void 0,z))):f.close({isDenied:!0,value:p})},Fh=(f,p)=>{f.close({isConfirmed:!0,value:p})},uu=(f,p)=>{f.rejectPromise(p)},Il=(f,p)=>{let y=Ct.innerParams.get(f||void 0);y.showLoaderOnConfirm&&ta(),y.preConfirm?(f.resetValidationMessage(),f.isAwaitingPromise=!0,Promise.resolve().then(()=>R(y.preConfirm(p,y.validationMessage))).then(z=>{Fn(ze())||z===!1?(f.hideLoading(),Ar(f)):Fh(f,typeof z>"u"?p:z)}).catch(z=>uu(f||void 0,z))):Fh(f,p)};function Tl(){let f=Ct.innerParams.get(this);if(!f)return;let p=Ct.domCache.get(this);cn(p.loader),Go()?f.icon&&Jt(O()):du(p),Ui([p.popup,p.actions],h.loading),p.popup.removeAttribute("aria-busy"),p.popup.removeAttribute("data-loading"),p.confirmButton.disabled=!1,p.denyButton.disabled=!1,p.cancelButton.disabled=!1}let du=f=>{let p=f.popup.getElementsByClassName(f.loader.getAttribute("data-button-to-replace"));p.length?Jt(p[0],"inline-block"):ug()&&cn(f.actions)};function Lh(){let f=Ct.innerParams.get(this),p=Ct.domCache.get(this);return p?Wc(p.popup,f.input):null}function Vh(f,p,y){let I=Ct.domCache.get(f);p.forEach(z=>{I[z].disabled=y})}function fs(f,p){let y=P();if(!(!y||!f))if(f.type==="radio"){let I=y.querySelectorAll(`[name="${h.radio}"]`);for(let z=0;z<I.length;z++)I[z].disabled=p}else f.disabled=p}function Bh(){Vh(this,["confirmButton","denyButton","cancelButton"],!1)}function Uh(){Vh(this,["confirmButton","denyButton","cancelButton"],!0)}function jh(){fs(this.getInput(),!1)}function zh(){fs(this.getInput(),!0)}function Dl(f){let p=Ct.domCache.get(this),y=Ct.innerParams.get(this);kn(p.validationMessage,f),p.validationMessage.className=h["validation-message"],y.customClass&&y.customClass.validationMessage&&Xe(p.validationMessage,y.customClass.validationMessage),Jt(p.validationMessage);let I=this.getInput();I&&(I.setAttribute("aria-invalid","true"),I.setAttribute("aria-describedby",h["validation-message"]),Eh(I),Xe(I,h.inputerror))}function Jn(){let f=Ct.domCache.get(this);f.validationMessage&&cn(f.validationMessage);let p=this.getInput();p&&(p.removeAttribute("aria-invalid"),p.removeAttribute("aria-describedby"),Ui(p,h.inputerror))}let to={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},jg=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],ia={allowEnterKey:void 0},u=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],g=f=>Object.prototype.hasOwnProperty.call(to,f),_=f=>jg.indexOf(f)!==-1,w=f=>ia[f],V=f=>{g(f)||S(`Unknown parameter "${f}"`)},H=f=>{u.includes(f)&&S(`The parameter "${f}" is incompatible with toasts`)},ce=f=>{let p=w(f);p&&Y(f,p)},yt=f=>{f.backdrop===!1&&f.allowOutsideClick&&S('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(let p in f)V(p),f.toast&&H(p),ce(p)};function dn(f){let p=P(),y=Ct.innerParams.get(this);if(!p||Bi(p,y.hideClass.popup)){S("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}let I=it(f),z=Object.assign({},y,I);Eg(this,z),Ct.innerParams.set(this,z),Object.defineProperties(this,{params:{value:Object.assign({},this.params,f),writable:!1,enumerable:!0}})}let it=f=>{let p={};return Object.keys(f).forEach(y=>{_(y)?p[y]=f[y]:S(`Invalid parameter to update: ${y}`)}),p};function bn(){let f=Ct.domCache.get(this),p=Ct.innerParams.get(this);if(!p){no(this);return}f.popup&&o.swalCloseEventFinishedCallback&&(o.swalCloseEventFinishedCallback(),delete o.swalCloseEventFinishedCallback),typeof p.didDestroy=="function"&&p.didDestroy(),o.eventEmitter.emit("didDestroy"),Rn(this)}let Rn=f=>{no(f),delete f.params,delete o.keydownHandler,delete o.keydownTarget,delete o.currentInstance},no=f=>{f.isAwaitingPromise?(di(Ct,f),f.isAwaitingPromise=!0):(di(Zo,f),di(Ct,f),delete f.isAwaitingPromise,delete f.disableButtons,delete f.enableButtons,delete f.getInput,delete f.disableInput,delete f.enableInput,delete f.hideLoading,delete f.disableLoading,delete f.showValidationMessage,delete f.resetValidationMessage,delete f.close,delete f.closePopup,delete f.closeModal,delete f.closeToast,delete f.rejectPromise,delete f.update,delete f._destroy)},di=(f,p)=>{for(let y in f)f[y].delete(p)};var hu=Object.freeze({__proto__:null,_destroy:bn,close:ji,closeModal:ji,closePopup:ji,closeToast:ji,disableButtons:Uh,disableInput:zh,disableLoading:Tl,enableButtons:Bh,enableInput:jh,getInput:Lh,handleAwaitingPromise:Ar,hideLoading:Tl,rejectPromise:ea,resetValidationMessage:Jn,showValidationMessage:Dl,update:dn});let $h=(f,p,y)=>{f.toast?tU(f,p,y):(iU(p),rU(p),sU(f,p,y))},tU=(f,p,y)=>{p.popup.onclick=()=>{f&&(nU(f)||f.timer||f.input)||y(Yn.close)}},nU=f=>!!(f.showConfirmButton||f.showDenyButton||f.showCancelButton||f.showCloseButton),zg=!1,iU=f=>{f.popup.onmousedown=()=>{f.container.onmouseup=function(p){f.container.onmouseup=()=>{},p.target===f.container&&(zg=!0)}}},rU=f=>{f.container.onmousedown=p=>{p.target===f.container&&p.preventDefault(),f.popup.onmouseup=function(y){f.popup.onmouseup=()=>{},(y.target===f.popup||y.target instanceof HTMLElement&&f.popup.contains(y.target))&&(zg=!0)}}},sU=(f,p,y)=>{p.container.onclick=I=>{if(zg){zg=!1;return}I.target===p.container&&ge(f.allowOutsideClick)&&y(Yn.backdrop)}},oU=f=>typeof f=="object"&&f.jquery,iA=f=>f instanceof Element||oU(f),aU=f=>{let p={};return typeof f[0]=="object"&&!iA(f[0])?Object.assign(p,f[0]):["title","html","icon"].forEach((y,I)=>{let z=f[I];typeof z=="string"||iA(z)?p[y]=z:z!==void 0&&j(`Unexpected type of ${y}! Expected "string" or "Element", got ${typeof z}`)}),p};function lU(){for(var f=arguments.length,p=new Array(f),y=0;y<f;y++)p[y]=arguments[y];return new this(...p)}function cU(f){class p extends this{_main(I,z){return super._main(I,Object.assign({},f,z))}}return p}let uU=()=>o.timeout&&o.timeout.getTimerLeft(),rA=()=>{if(o.timeout)return hg(),o.timeout.stop()},sA=()=>{if(o.timeout){let f=o.timeout.start();return Kc(f),f}},dU=()=>{let f=o.timeout;return f&&(f.running?rA():sA())},hU=f=>{if(o.timeout){let p=o.timeout.increase(f);return Kc(p,!0),p}},fU=()=>!!(o.timeout&&o.timeout.isRunning()),oA=!1,Nw={};function pU(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";Nw[f]=this,oA||(document.body.addEventListener("click",gU),oA=!0)}let gU=f=>{for(let p=f.target;p&&p!==document;p=p.parentNode)for(let y in Nw){let I=p.getAttribute(y);if(I){Nw[y].fire({template:I});return}}};class mU{constructor(){this.events={}}_getHandlersByEventName(p){return typeof this.events[p]>"u"&&(this.events[p]=[]),this.events[p]}on(p,y){let I=this._getHandlersByEventName(p);I.includes(y)||I.push(y)}once(p,y){var I=this;let z=function(){I.removeListener(p,z);for(var _e=arguments.length,Ye=new Array(_e),mt=0;mt<_e;mt++)Ye[mt]=arguments[mt];y.apply(I,Ye)};this.on(p,z)}emit(p){for(var y=arguments.length,I=new Array(y>1?y-1:0),z=1;z<y;z++)I[z-1]=arguments[z];this._getHandlersByEventName(p).forEach(_e=>{try{_e.apply(this,I)}catch(Ye){console.error(Ye)}})}removeListener(p,y){let I=this._getHandlersByEventName(p),z=I.indexOf(y);z>-1&&I.splice(z,1)}removeAllListeners(p){this.events[p]!==void 0&&(this.events[p].length=0)}reset(){this.events={}}}o.eventEmitter=new mU;var _U=Object.freeze({__proto__:null,argsToParams:aU,bindClickHandler:pU,clickCancel:eo,clickConfirm:Nh,clickDeny:Iw,enableLoading:ta,fire:lU,getActions:Ti,getCancelButton:wn,getCloseButton:Li,getConfirmButton:ut,getContainer:M,getDenyButton:gt,getFocusableElements:Vi,getFooter:qc,getHtmlContainer:me,getIcon:O,getIconContent:Ii,getImage:Ce,getInputLabel:Tt,getLoader:dt,getPopup:P,getProgressSteps:Te,getTimerLeft:uU,getTimerProgressBar:Dt,getTitle:Tr,getValidationMessage:ze,increaseTimer:hU,isDeprecatedParameter:w,isLoading:Ch,isTimerRunning:fU,isUpdatableParameter:_,isValidParameter:g,isVisible:Ig,mixin:cU,off:(f,p)=>{if(!f){o.eventEmitter.reset();return}p?o.eventEmitter.removeListener(f,p):o.eventEmitter.removeAllListeners(f)},on:(f,p)=>{o.eventEmitter.on(f,p)},once:(f,p)=>{o.eventEmitter.once(f,p)},resumeTimer:sA,showLoading:ta,stopTimer:rA,toggleTimer:dU});class yU{constructor(p,y){this.callback=p,this.remaining=y,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(p){let y=this.running;return y&&this.stop(),this.remaining+=p,y&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}let aA=["swal-title","swal-html","swal-footer"],vU=f=>{let p=typeof f.template=="string"?document.querySelector(f.template):f.template;if(!p)return{};let y=p.content;return SU(y),Object.assign(wU(y),bU(y),CU(y),EU(y),IU(y),TU(y),DU(y,aA))},wU=f=>{let p={};return Array.from(f.querySelectorAll("swal-param")).forEach(I=>{Sl(I,["name","value"]);let z=I.getAttribute("name"),_e=I.getAttribute("value");!z||!_e||(typeof to[z]=="boolean"?p[z]=_e!=="false":typeof to[z]=="object"?p[z]=JSON.parse(_e):p[z]=_e)}),p},bU=f=>{let p={};return Array.from(f.querySelectorAll("swal-function-param")).forEach(I=>{let z=I.getAttribute("name"),_e=I.getAttribute("value");!z||!_e||(p[z]=new Function(`return ${_e}`)())}),p},CU=f=>{let p={};return Array.from(f.querySelectorAll("swal-button")).forEach(I=>{Sl(I,["type","color","aria-label"]);let z=I.getAttribute("type");!z||!["confirm","cancel","deny"].includes(z)||(p[`${z}ButtonText`]=I.innerHTML,p[`show${A(z)}Button`]=!0,I.hasAttribute("color")&&(p[`${z}ButtonColor`]=I.getAttribute("color")),I.hasAttribute("aria-label")&&(p[`${z}ButtonAriaLabel`]=I.getAttribute("aria-label")))}),p},EU=f=>{let p={},y=f.querySelector("swal-image");return y&&(Sl(y,["src","width","height","alt"]),y.hasAttribute("src")&&(p.imageUrl=y.getAttribute("src")||void 0),y.hasAttribute("width")&&(p.imageWidth=y.getAttribute("width")||void 0),y.hasAttribute("height")&&(p.imageHeight=y.getAttribute("height")||void 0),y.hasAttribute("alt")&&(p.imageAlt=y.getAttribute("alt")||void 0)),p},IU=f=>{let p={},y=f.querySelector("swal-icon");return y&&(Sl(y,["type","color"]),y.hasAttribute("type")&&(p.icon=y.getAttribute("type")),y.hasAttribute("color")&&(p.iconColor=y.getAttribute("color")),p.iconHtml=y.innerHTML),p},TU=f=>{let p={},y=f.querySelector("swal-input");y&&(Sl(y,["type","label","placeholder","value"]),p.input=y.getAttribute("type")||"text",y.hasAttribute("label")&&(p.inputLabel=y.getAttribute("label")),y.hasAttribute("placeholder")&&(p.inputPlaceholder=y.getAttribute("placeholder")),y.hasAttribute("value")&&(p.inputValue=y.getAttribute("value")));let I=Array.from(f.querySelectorAll("swal-input-option"));return I.length&&(p.inputOptions={},I.forEach(z=>{Sl(z,["value"]);let _e=z.getAttribute("value");if(!_e)return;let Ye=z.innerHTML;p.inputOptions[_e]=Ye})),p},DU=(f,p)=>{let y={};for(let I in p){let z=p[I],_e=f.querySelector(z);_e&&(Sl(_e,[]),y[z.replace(/^swal-/,"")]=_e.innerHTML.trim())}return y},SU=f=>{let p=aA.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(f.children).forEach(y=>{let I=y.tagName.toLowerCase();p.includes(I)||S(`Unrecognized element <${I}>`)})},Sl=(f,p)=>{Array.from(f.attributes).forEach(y=>{p.indexOf(y.name)===-1&&S([`Unrecognized attribute "${y.name}" on <${f.tagName.toLowerCase()}>.`,`${p.length?`Allowed attributes are: ${p.join(", ")}`:"To set the value, use HTML within the element."}`])})},lA=10,MU=f=>{let p=M(),y=P();typeof f.willOpen=="function"&&f.willOpen(y),o.eventEmitter.emit("willOpen",y);let z=window.getComputedStyle(document.body).overflowY;RU(p,y,f),setTimeout(()=>{AU(p,y)},lA),rr()&&(xU(p,f.scrollbarPadding,z),Sw()),!Go()&&!o.previousActiveElement&&(o.previousActiveElement=document.activeElement),typeof f.didOpen=="function"&&setTimeout(()=>f.didOpen(y)),o.eventEmitter.emit("didOpen",y),Ui(p,h["no-transition"])},cA=f=>{let p=P();if(f.target!==p||!cs)return;let y=M();p.removeEventListener(cs,cA),y.style.overflowY="auto"},AU=(f,p)=>{cs&&qo(p)?(f.style.overflowY="hidden",p.addEventListener(cs,cA)):f.style.overflowY="auto"},xU=(f,p,y)=>{ds(),p&&y!=="hidden"&&hs(y),setTimeout(()=>{f.scrollTop=0})},RU=(f,p,y)=>{Xe(f,y.showClass.backdrop),y.animation?(p.style.setProperty("opacity","0","important"),Jt(p,"grid"),setTimeout(()=>{Xe(p,y.showClass.popup),p.style.removeProperty("opacity")},lA)):Jt(p,"grid"),Xe([document.documentElement,document.body],h.shown),y.heightAuto&&y.backdrop&&!y.toast&&Xe([document.documentElement,document.body],h["height-auto"])};var uA={email:(f,p)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(f)?Promise.resolve():Promise.resolve(p||"Invalid email address"),url:(f,p)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(f)?Promise.resolve():Promise.resolve(p||"Invalid URL")};function OU(f){f.inputValidator||(f.input==="email"&&(f.inputValidator=uA.email),f.input==="url"&&(f.inputValidator=uA.url))}function NU(f){(!f.target||typeof f.target=="string"&&!document.querySelector(f.target)||typeof f.target!="string"&&!f.target.appendChild)&&(S('Target parameter is not valid, defaulting to "body"'),f.target="body")}function PU(f){OU(f),f.showLoaderOnConfirm&&!f.preConfirm&&S(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),NU(f),typeof f.title=="string"&&(f.title=f.title.split(`
`).join("<br />")),Dh(f)}let ps;var $g=new WeakMap;class tn{constructor(){if(i(this,$g,void 0),typeof window>"u")return;ps=this;for(var p=arguments.length,y=new Array(p),I=0;I<p;I++)y[I]=arguments[I];let z=Object.freeze(this.constructor.argsToParams(y));this.params=z,this.isAwaitingPromise=!1,r($g,this,this._main(ps.params))}_main(p){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(yt(Object.assign({},y,p)),o.currentInstance){let _e=Zo.swalPromiseResolve.get(o.currentInstance),{isAwaitingPromise:Ye}=o.currentInstance;o.currentInstance._destroy(),Ye||_e({isDismissed:!0}),rr()&&Dg()}o.currentInstance=ps;let I=FU(p,y);PU(I),Object.freeze(I),o.timeout&&(o.timeout.stop(),delete o.timeout),clearTimeout(o.restoreFocusTimeout);let z=LU(ps);return Eg(ps,I),Ct.innerParams.set(ps,I),kU(ps,z,I)}then(p){return t($g,this).then(p)}finally(p){return t($g,this).finally(p)}}let kU=(f,p,y)=>new Promise((I,z)=>{let _e=Ye=>{f.close({isDismissed:!0,dismiss:Ye})};Zo.swalPromiseResolve.set(f,I),Zo.swalPromiseReject.set(f,z),p.confirmButton.onclick=()=>{Ug(f)},p.denyButton.onclick=()=>{lu(f)},p.cancelButton.onclick=()=>{Ow(f,_e)},p.closeButton.onclick=()=>{_e(Yn.close)},$h(y,p,_e),ru(o,y,_e),kg(f,y),MU(y),VU(o,y,_e),BU(p,y),setTimeout(()=>{p.container.scrollTop=0})}),FU=(f,p)=>{let y=vU(f),I=Object.assign({},to,p,y,f);return I.showClass=Object.assign({},to.showClass,I.showClass),I.hideClass=Object.assign({},to.hideClass,I.hideClass),I.animation===!1&&(I.showClass={backdrop:"swal2-noanimation"},I.hideClass={}),I},LU=f=>{let p={popup:P(),container:M(),actions:Ti(),confirmButton:ut(),denyButton:gt(),cancelButton:wn(),loader:dt(),closeButton:Li(),validationMessage:ze(),progressSteps:Te()};return Ct.domCache.set(f,p),p},VU=(f,p,y)=>{let I=Dt();cn(I),p.timer&&(f.timeout=new yU(()=>{y("timer"),delete f.timeout},p.timer),p.timerProgressBar&&(Jt(I),Zn(I,p,"timerProgressBar"),setTimeout(()=>{f.timeout&&f.timeout.running&&Kc(p.timer)})))},BU=(f,p)=>{if(!p.toast){if(!ge(p.allowEnterKey)){Y("allowEnterKey"),zU();return}UU(f)||jU(f,p)||su(-1,1)}},UU=f=>{let p=f.popup.querySelectorAll("[autofocus]");for(let y of p)if(y instanceof HTMLElement&&Fn(y))return y.focus(),!0;return!1},jU=(f,p)=>p.focusDeny&&Fn(f.denyButton)?(f.denyButton.focus(),!0):p.focusCancel&&Fn(f.cancelButton)?(f.cancelButton.focus(),!0):p.focusConfirm&&Fn(f.confirmButton)?(f.confirmButton.focus(),!0):!1,zU=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){let f=new Date,p=localStorage.getItem("swal-initiation");p?(f.getTime()-Date.parse(p))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";let y=document.createElement("audio");y.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",y.loop=!0,document.body.appendChild(y),setTimeout(()=>{y.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${f}`)}tn.prototype.disableButtons=Uh,tn.prototype.enableButtons=Bh,tn.prototype.getInput=Lh,tn.prototype.disableInput=zh,tn.prototype.enableInput=jh,tn.prototype.hideLoading=Tl,tn.prototype.disableLoading=Tl,tn.prototype.showValidationMessage=Dl,tn.prototype.resetValidationMessage=Jn,tn.prototype.close=ji,tn.prototype.closePopup=ji,tn.prototype.closeModal=ji,tn.prototype.closeToast=ji,tn.prototype.rejectPromise=ea,tn.prototype.update=dn,tn.prototype._destroy=bn,Object.assign(tn,_U),Object.keys(hu).forEach(f=>{tn[f]=function(){return ps&&ps[f]?ps[f](...arguments):null}}),tn.DismissReason=Yn,tn.version="11.14.0";let Hg=tn;return Hg.default=Hg,Hg});typeof Ys<"u"&&Ys.Sweetalert2&&(Ys.swal=Ys.sweetAlert=Ys.Swal=Ys.SweetAlert=Ys.Sweetalert2);typeof document<"u"&&function(n,e){var t=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(t),t.styleSheet)t.styleSheet.disabled||(t.styleSheet.cssText=e);else try{t.innerHTML=e}catch{t.innerText=e}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')});function bA(n,e){return Object.is(n,e)}var Cn=null,Zg=!1,Yg=1,ro=Symbol("SIGNAL");function ct(n){let e=Cn;return Cn=n,e}function CA(){return Cn}var Kh={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Uw(n){if(Zg)throw new Error("");if(Cn===null)return;Cn.consumerOnSignalRead(n);let e=Cn.nextProducerIndex++;if(tm(Cn),e<Cn.producerNode.length&&Cn.producerNode[e]!==n&&Wh(Cn)){let t=Cn.producerNode[e];em(t,Cn.producerIndexOfThis[e])}Cn.producerNode[e]!==n&&(Cn.producerNode[e]=n,Cn.producerIndexOfThis[e]=Wh(Cn)?DA(n,Cn,e):0),Cn.producerLastReadVersion[e]=n.version}function HU(){Yg++}function EA(n){if(!(Wh(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Yg)){if(!n.producerMustRecompute(n)&&!zw(n)){n.dirty=!1,n.lastCleanEpoch=Yg;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=Yg}}function IA(n){if(n.liveConsumerNode===void 0)return;let e=Zg;Zg=!0;try{for(let t of n.liveConsumerNode)t.dirty||GU(t)}finally{Zg=e}}function TA(){return Cn?.consumerAllowSignalWrites!==!1}function GU(n){n.dirty=!0,IA(n),n.consumerMarkedDirty?.(n)}function Xg(n){return n&&(n.nextProducerIndex=0),ct(n)}function jw(n,e){if(ct(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Wh(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)em(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function zw(n){tm(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(EA(t),i!==t.version))return!0}return!1}function $w(n){if(tm(n),Wh(n))for(let e=0;e<n.producerNode.length;e++)em(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function DA(n,e,t){if(SA(n),n.liveConsumerNode.length===0&&MA(n))for(let i=0;i<n.producerNode.length;i++)n.producerIndexOfThis[i]=DA(n.producerNode[i],n,i);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function em(n,e){if(SA(n),n.liveConsumerNode.length===1&&MA(n))for(let i=0;i<n.producerNode.length;i++)em(n.producerNode[i],n.producerIndexOfThis[i]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let i=n.liveConsumerIndexOfThis[e],r=n.liveConsumerNode[e];tm(r),r.producerIndexOfThis[i]=e}}function Wh(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function tm(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function SA(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function MA(n){return n.producerNode!==void 0}function AA(n){let e=Object.create(qU);e.computation=n;let t=()=>{if(EA(e),Uw(e),e.value===Jg)throw e.error;return e.value};return t[ro]=e,t}var Vw=Symbol("UNSET"),Bw=Symbol("COMPUTING"),Jg=Symbol("ERRORED"),qU=Ee(Q({},Kh),{value:Vw,dirty:!0,error:null,equal:bA,producerMustRecompute(n){return n.value===Vw||n.value===Bw},producerRecomputeValue(n){if(n.value===Bw)throw new Error("Detected cycle in computations.");let e=n.value;n.value=Bw;let t=Xg(n),i;try{i=n.computation()}catch(r){i=Jg,n.error=r}finally{jw(n,t)}if(e!==Vw&&e!==Jg&&i!==Jg&&n.equal(e,i)){n.value=e;return}n.value=i,n.version++}});function WU(){throw new Error}var xA=WU;function RA(){xA()}function OA(n){xA=n}var KU=null;function NA(n){let e=Object.create(kA);e.value=n;let t=()=>(Uw(e),e.value);return t[ro]=e,t}function Hw(n,e){TA()||RA(),n.equal(n.value,e)||(n.value=e,QU(n))}function PA(n,e){TA()||RA(),Hw(n,e(n.value))}var kA=Ee(Q({},Kh),{equal:bA,value:void 0});function QU(n){n.version++,HU(),IA(n),KU?.()}function Ae(n){return typeof n=="function"}function yu(n){let t=n(i=>{Error.call(i),i.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var nm=yu(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Ml(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Xt=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let s of t)s.remove(this);else t.remove(this);let{initialTeardown:i}=this;if(Ae(i))try{i()}catch(s){e=s instanceof nm?s.errors:[s]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let s of r)try{FA(s)}catch(o){e=e??[],o instanceof nm?e=[...e,...o.errors]:e.push(o)}}if(e)throw new nm(e)}}add(e){var t;if(e&&e!==this)if(this.closed)FA(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Ml(t,e)}remove(e){let{_finalizers:t}=this;t&&Ml(t,e),e instanceof n&&e._removeParent(this)}};Xt.EMPTY=(()=>{let n=new Xt;return n.closed=!0,n})();var Gw=Xt.EMPTY;function im(n){return n instanceof Xt||n&&"closed"in n&&Ae(n.remove)&&Ae(n.add)&&Ae(n.unsubscribe)}function FA(n){Ae(n)?n():n.unsubscribe()}var Rr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var vu={setTimeout(n,e,...t){let{delegate:i}=vu;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=vu;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function rm(n){vu.setTimeout(()=>{let{onUnhandledError:e}=Rr;if(e)e(n);else throw n})}function Al(){}var LA=qw("C",void 0,void 0);function VA(n){return qw("E",void 0,n)}function BA(n){return qw("N",n,void 0)}function qw(n,e,t){return{kind:n,value:e,error:t}}var xl=null;function wu(n){if(Rr.useDeprecatedSynchronousErrorHandling){let e=!xl;if(e&&(xl={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:i}=xl;if(xl=null,t)throw i}}else n()}function UA(n){Rr.useDeprecatedSynchronousErrorHandling&&xl&&(xl.errorThrown=!0,xl.error=n)}var Rl=class extends Xt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,im(e)&&e.add(this)):this.destination=JU}static create(e,t,i){return new so(e,t,i)}next(e){this.isStopped?Kw(BA(e),this):this._next(e)}error(e){this.isStopped?Kw(VA(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Kw(LA,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},ZU=Function.prototype.bind;function Ww(n,e){return ZU.call(n,e)}var Qw=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){sm(i)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){sm(i)}else sm(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){sm(t)}}},so=class extends Rl{constructor(e,t,i){super();let r;if(Ae(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let s;this&&Rr.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&Ww(e.next,s),error:e.error&&Ww(e.error,s),complete:e.complete&&Ww(e.complete,s)}):r=e}this.destination=new Qw(r)}};function sm(n){Rr.useDeprecatedSynchronousErrorHandling?UA(n):rm(n)}function YU(n){throw n}function Kw(n,e){let{onStoppedNotification:t}=Rr;t&&vu.setTimeout(()=>t(n,e))}var JU={closed:!0,next:Al,error:YU,complete:Al};var bu=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Un(n){return n}function Zw(...n){return Yw(n)}function Yw(n){return n.length===0?Un:n.length===1?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}var Se=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){let s=e4(t)?t:new so(t,i,r);return wu(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return i=jA(i),new i((r,s)=>{let o=new so({next:a=>{try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(t){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(t)}[bu](){return this}pipe(...t){return Yw(t)(this)}toPromise(t){return t=jA(t),new t((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return n.create=e=>new n(e),n})();function jA(n){var e;return(e=n??Rr.Promise)!==null&&e!==void 0?e:Promise}function XU(n){return n&&Ae(n.next)&&Ae(n.error)&&Ae(n.complete)}function e4(n){return n&&n instanceof Rl||XU(n)&&im(n)}function Jw(n){return Ae(n?.lift)}function Fe(n){return e=>{if(Jw(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Re(n,e,t,i,r){return new Xw(n,e,t,i,r)}var Xw=class extends Rl{constructor(e,t,i,r,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Cu(){return Fe((n,e)=>{let t=null;n._refCount++;let i=Re(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}var Eu=class extends Se{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Jw(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Xt;let t=this.getSubject();e.add(this.source.subscribe(Re(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Xt.EMPTY)}return e}refCount(){return Cu()(this)}};var zA=yu(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Pe=(()=>{class n extends Se{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let i=new om(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new zA}next(t){wu(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(t)}})}error(t){wu(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){wu(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:i,isStopped:r,observers:s}=this;return i||r?Gw:(this.currentObservers=null,s.push(t),new Xt(()=>{this.currentObservers=null,Ml(s,t)}))}_checkFinalizedStatuses(t){let{hasError:i,thrownError:r,isStopped:s}=this;i?t.error(r):s&&t.complete()}asObservable(){let t=new Se;return t.source=this,t}}return n.create=(e,t)=>new om(e,t),n})(),om=class extends Pe{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.next)===null||i===void 0||i.call(t,e)}error(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.error)===null||i===void 0||i.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,i;return(i=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&i!==void 0?i:Gw}};var Nt=class extends Pe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var Qh={now(){return(Qh.delegate||Date).now()},delegate:void 0};var am=class extends Pe{constructor(e=1/0,t=1/0,i=Qh){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){let{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:o}=this;t||(i.push(e),!r&&i.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let o=0;o<s.length&&!e.closed;o+=i?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){let{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*e;if(e<1/0&&s<i.length&&i.splice(0,i.length-s),!r){let o=t.now(),a=0;for(let l=1;l<i.length&&i[l]<=o;l+=2)a=l;a&&i.splice(0,a+1)}}};var lm=class extends Xt{constructor(e,t){super()}schedule(e,t=0){return this}};var Zh={setInterval(n,e,...t){let{delegate:i}=Zh;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Zh;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Iu=class extends lm{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;let r=this.id,s=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(s,r,t)),this.pending=!0,this.delay=t,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,i=0){return Zh.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return t;t!=null&&Zh.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,t);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i=!1,r;try{this.work(e)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Ml(i,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Tu=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}};Tu.now=Qh.now;var Du=class extends Tu{constructor(e,t=Tu.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}};var sa=new Du(Iu),eb=sa;var cm=class extends Iu{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(e,t,i):(e.flush(this),0)}};var um=class extends Du{};var tb=new um(cm);var En=new Se(n=>n.complete());function dm(n){return n&&Ae(n.schedule)}function nb(n){return n[n.length-1]}function oa(n){return Ae(nb(n))?n.pop():void 0}function ms(n){return dm(nb(n))?n.pop():void 0}function $A(n,e){return typeof nb(n)=="number"?n.pop():e}var Su=n=>n&&typeof n.length=="number"&&typeof n!="function";function hm(n){return Ae(n?.then)}function fm(n){return Ae(n[bu])}function pm(n){return Symbol.asyncIterator&&Ae(n?.[Symbol.asyncIterator])}function gm(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function t4(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var mm=t4();function _m(n){return Ae(n?.[mm])}function ym(n){return hA(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:i,done:r}=yield qg(t.read());if(r)return yield qg(void 0);yield yield qg(i)}}finally{t.releaseLock()}})}function vm(n){return Ae(n?.getReader)}function rt(n){if(n instanceof Se)return n;if(n!=null){if(fm(n))return n4(n);if(Su(n))return i4(n);if(hm(n))return r4(n);if(pm(n))return HA(n);if(_m(n))return s4(n);if(vm(n))return o4(n)}throw gm(n)}function n4(n){return new Se(e=>{let t=n[bu]();if(Ae(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function i4(n){return new Se(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function r4(n){return new Se(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,rm)})}function s4(n){return new Se(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function HA(n){return new Se(e=>{a4(n,e).catch(t=>e.error(t))})}function o4(n){return HA(ym(n))}function a4(n,e){var t,i,r,s;return dA(this,void 0,void 0,function*(){try{for(t=fA(n);i=yield t.next(),!i.done;){let o=i.value;if(e.next(o),e.closed)return}}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=t.return)&&(yield s.call(t))}finally{if(r)throw r.error}}e.complete()})}function Di(n,e,t,i=0,r=!1){let s=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(s),!r)return s}function $i(n,e=0){return Fe((t,i)=>{t.subscribe(Re(i,r=>Di(i,n,()=>i.next(r),e),()=>Di(i,n,()=>i.complete(),e),r=>Di(i,n,()=>i.error(r),e)))})}function Or(n,e=0){return Fe((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function GA(n,e){return rt(n).pipe(Or(e),$i(e))}function qA(n,e){return rt(n).pipe(Or(e),$i(e))}function WA(n,e){return new Se(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}function KA(n,e){return new Se(t=>{let i;return Di(t,e,()=>{i=n[mm](),Di(t,e,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){t.error(o);return}s?t.complete():t.next(r)},0,!0)}),()=>Ae(i?.return)&&i.return()})}function wm(n,e){if(!n)throw new Error("Iterable cannot be null");return new Se(t=>{Di(t,e,()=>{let i=n[Symbol.asyncIterator]();Di(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function QA(n,e){return wm(ym(n),e)}function ZA(n,e){if(n!=null){if(fm(n))return GA(n,e);if(Su(n))return WA(n,e);if(hm(n))return qA(n,e);if(pm(n))return wm(n,e);if(_m(n))return KA(n,e);if(vm(n))return QA(n,e)}throw gm(n)}function Ge(n,e){return e?ZA(n,e):rt(n)}function le(...n){let e=ms(n);return Ge(n,e)}function Mu(n,e){let t=Ae(n)?n:()=>n,i=r=>r.error(t());return new Se(e?r=>e.schedule(i,0,r):i)}function ib(n){return!!n&&(n instanceof Se||Ae(n.lift)&&Ae(n.subscribe))}var oo=yu(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function YA(n){return n instanceof Date&&!isNaN(n)}function se(n,e){return Fe((t,i)=>{let r=0;t.subscribe(Re(i,s=>{i.next(n.call(e,s,r++))}))})}var{isArray:l4}=Array;function c4(n,e){return l4(e)?n(...e):n(e)}function Au(n){return se(e=>c4(n,e))}var{isArray:u4}=Array,{getPrototypeOf:d4,prototype:h4,keys:f4}=Object;function bm(n){if(n.length===1){let e=n[0];if(u4(e))return{args:e,keys:null};if(p4(e)){let t=f4(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}function p4(n){return n&&typeof n=="object"&&d4(n)===h4}function Cm(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function sr(...n){let e=ms(n),t=oa(n),{args:i,keys:r}=bm(n);if(i.length===0)return Ge([],e);let s=new Se(g4(i,e,r?o=>Cm(r,o):Un));return t?s.pipe(Au(t)):s}function g4(n,e,t=Un){return i=>{JA(e,()=>{let{length:r}=n,s=new Array(r),o=r,a=r;for(let l=0;l<r;l++)JA(e,()=>{let c=Ge(n[l],e),d=!1;c.subscribe(Re(i,h=>{s[l]=h,d||(d=!0,a--),a||i.next(t(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}function JA(n,e,t){n?Di(t,n,e):e()}function XA(n,e,t,i,r,s,o,a){let l=[],c=0,d=0,h=!1,m=()=>{h&&!l.length&&!c&&e.complete()},v=A=>c<i?b(A):l.push(A),b=A=>{s&&e.next(A),c++;let S=!1;rt(t(A,d++)).subscribe(Re(e,j=>{r?.(j),s?v(j):e.next(j)},()=>{S=!0},void 0,()=>{if(S)try{for(c--;l.length&&c<i;){let j=l.shift();o?Di(e,o,()=>b(j)):b(j)}m()}catch(j){e.error(j)}}))};return n.subscribe(Re(e,v,()=>{h=!0,m()})),()=>{a?.()}}function qt(n,e,t=1/0){return Ae(e)?qt((i,r)=>se((s,o)=>e(i,s,r,o))(rt(n(i,r))),t):(typeof e=="number"&&(t=e),Fe((i,r)=>XA(i,r,n,t)))}function _s(n=1/0){return qt(Un,n)}function ex(){return _s(1)}function aa(...n){return ex()(Ge(n,ms(n)))}function Em(n){return new Se(e=>{rt(n()).subscribe(e)})}function rb(...n){let e=oa(n),{args:t,keys:i}=bm(n),r=new Se(s=>{let{length:o}=t;if(!o){s.complete();return}let a=new Array(o),l=o,c=o;for(let d=0;d<o;d++){let h=!1;rt(t[d]).subscribe(Re(s,m=>{h||(h=!0,c--),a[d]=m},()=>l--,void 0,()=>{(!l||!h)&&(c||s.next(i?Cm(i,a):a),s.complete())}))}});return e?r.pipe(Au(e)):r}var m4=["addListener","removeListener"],_4=["addEventListener","removeEventListener"],y4=["on","off"];function or(n,e,t,i){if(Ae(t)&&(i=t,t=void 0),i)return or(n,e,t).pipe(Au(i));let[r,s]=b4(n)?_4.map(o=>a=>n[o](e,a,t)):v4(n)?m4.map(tx(n,e)):w4(n)?y4.map(tx(n,e)):[];if(!r&&Su(n))return qt(o=>or(o,e,t))(rt(n));if(!r)throw new TypeError("Invalid event target");return new Se(o=>{let a=(...l)=>o.next(1<l.length?l:l[0]);return r(a),()=>s(a)})}function tx(n,e){return t=>i=>n[t](e,i)}function v4(n){return Ae(n.addListener)&&Ae(n.removeListener)}function w4(n){return Ae(n.on)&&Ae(n.off)}function b4(n){return Ae(n.addEventListener)&&Ae(n.removeEventListener)}function sb(n=0,e,t=eb){let i=-1;return e!=null&&(dm(e)?t=e:i=e),new Se(r=>{let s=YA(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){r.closed||(r.next(o++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function Im(...n){let e=ms(n),t=$A(n,1/0),i=n;return i.length?i.length===1?rt(i[0]):_s(t)(Ge(i,e)):En}var{isArray:C4}=Array;function Tm(n){return n.length===1&&C4(n[0])?n[0]:n}function Ut(n,e){return Fe((t,i)=>{let r=0;t.subscribe(Re(i,s=>n.call(e,s,r++)&&i.next(s)))})}function ob(...n){return n=Tm(n),n.length===1?rt(n[0]):new Se(E4(n))}function E4(n){return e=>{let t=[];for(let i=0;t&&!e.closed&&i<n.length;i++)t.push(rt(n[i]).subscribe(Re(e,r=>{if(t){for(let s=0;s<t.length;s++)s!==i&&t[s].unsubscribe();t=null}e.next(r)})))}}function Yh(...n){let e=oa(n),t=Tm(n);return t.length?new Se(i=>{let r=t.map(()=>[]),s=t.map(()=>!1);i.add(()=>{r=s=null});for(let o=0;!i.closed&&o<t.length;o++)rt(t[o]).subscribe(Re(i,a=>{if(r[o].push(a),r.every(l=>l.length)){let l=r.map(c=>c.shift());i.next(e?e(...l):l),r.some((c,d)=>!c.length&&s[d])&&i.complete()}},()=>{s[o]=!0,!r[o].length&&i.complete()}));return()=>{r=s=null}}):En}function Xn(n){return Fe((e,t)=>{let i=null,r=!1,s;i=e.subscribe(Re(t,void 0,void 0,o=>{s=rt(n(o,Xn(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}function nx(n,e,t,i,r){return(s,o)=>{let a=t,l=e,c=0;s.subscribe(Re(o,d=>{let h=c++;l=a?n(l,d,h):(a=!0,d),i&&o.next(l)},r&&(()=>{a&&o.next(l),o.complete()})))}}function ao(n,e){return Ae(e)?qt(n,e,1):qt(n,1)}function ab(n,e=sa){return Fe((t,i)=>{let r=null,s=null,o=null,a=()=>{if(r){r.unsubscribe(),r=null;let c=s;s=null,i.next(c)}};function l(){let c=o+n,d=e.now();if(d<c){r=this.schedule(void 0,c-d),i.add(r);return}a()}t.subscribe(Re(i,c=>{s=c,o=e.now(),r||(r=e.schedule(l,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{s=r=null}))})}function la(n){return Fe((e,t)=>{let i=!1;e.subscribe(Re(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function In(n){return n<=0?()=>En:Fe((e,t)=>{let i=0;e.subscribe(Re(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function lb(n){return se(()=>n)}function Dm(n,e=Un){return n=n??I4,Fe((t,i)=>{let r,s=!0;t.subscribe(Re(i,o=>{let a=e(o);(s||!n(r,a))&&(s=!1,r=a,i.next(o))}))})}function I4(n,e){return n===e}function Sm(n=T4){return Fe((e,t)=>{let i=!1;e.subscribe(Re(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function T4(){return new oo}function cb(...n){return e=>aa(e,le(...n))}function jn(n){return Fe((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function ar(n,e){let t=arguments.length>=2;return i=>i.pipe(n?Ut((r,s)=>n(r,s,i)):Un,In(1),t?la(e):Sm(()=>new oo))}function xu(n){return n<=0?()=>En:Fe((e,t)=>{let i=[];e.subscribe(Re(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(let r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function ub(n,e){let t=arguments.length>=2;return i=>i.pipe(n?Ut((r,s)=>n(r,s,i)):Un,xu(1),t?la(e):Sm(()=>new oo))}function Jh(){return Fe((n,e)=>{let t,i=!1;n.subscribe(Re(e,r=>{let s=t;t=r,i&&e.next([s,r]),i=!0}))})}function Ol(n,e){return Fe(nx(n,e,arguments.length>=2,!0))}function ix(n={}){let{connector:e=()=>new Pe,resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return s=>{let o,a,l,c=0,d=!1,h=!1,m=()=>{a?.unsubscribe(),a=void 0},v=()=>{m(),o=l=void 0,d=h=!1},b=()=>{let A=o;v(),A?.unsubscribe()};return Fe((A,S)=>{c++,!h&&!d&&m();let j=l=l??e();S.add(()=>{c--,c===0&&!h&&!d&&(a=db(b,r))}),j.subscribe(S),!o&&c>0&&(o=new so({next:Z=>j.next(Z),error:Z=>{h=!0,m(),a=db(v,t,Z),j.error(Z)},complete:()=>{d=!0,m(),a=db(v,i),j.complete()}}),rt(A).subscribe(o))})(s)}}function db(n,e,...t){if(e===!0){n();return}if(e===!1)return;let i=new so({next:()=>{i.unsubscribe(),n()}});return rt(e(...t)).subscribe(i)}function Mm(n,e,t){let i,r=!1;return n&&typeof n=="object"?{bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n:i=n??1/0,ix({connector:()=>new am(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function Nr(...n){let e=ms(n);return Fe((t,i)=>{(e?aa(n,t,e):aa(n,t)).subscribe(i)})}function Le(n,e){return Fe((t,i)=>{let r=null,s=0,o=!1,a=()=>o&&!r&&i.complete();t.subscribe(Re(i,l=>{r?.unsubscribe();let c=0,d=s++;rt(n(l,d)).subscribe(r=Re(i,h=>i.next(e?e(l,h,d,c++):h),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function Am(n,e){return Ae(e)?Le(()=>n,e):Le(()=>n)}function hn(n){return Fe((e,t)=>{rt(n).subscribe(Re(t,()=>t.complete(),Al)),!t.closed&&e.subscribe(t)})}function Wt(n,e,t){let i=Ae(n)||e||t?{next:n,error:e,complete:t}:n;return i?Fe((r,s)=>{var o;(o=i.subscribe)===null||o===void 0||o.call(i);let a=!0;r.subscribe(Re(s,l=>{var c;(c=i.next)===null||c===void 0||c.call(i,l),s.next(l)},()=>{var l;a=!1,(l=i.complete)===null||l===void 0||l.call(i),s.complete()},l=>{var c;a=!1,(c=i.error)===null||c===void 0||c.call(i,l),s.error(l)},()=>{var l,c;a&&((l=i.unsubscribe)===null||l===void 0||l.call(i)),(c=i.finalize)===null||c===void 0||c.call(i)}))}):Un}function xm(...n){let e=oa(n);return Fe((t,i)=>{let r=n.length,s=new Array(r),o=n.map(()=>!1),a=!1;for(let l=0;l<r;l++)rt(n[l]).subscribe(Re(i,c=>{s[l]=c,!a&&!o[l]&&(o[l]=!0,(a=o.every(Un))&&(o=null))},Al));t.subscribe(Re(i,l=>{if(a){let c=[l,...s];i.next(e?e(...c):c)}}))})}var qx="https://g.co/ng/security#xss",re=class extends Error{constructor(e,t){super(_0(e,t)),this.code=e}};function _0(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function uf(n){return{toString:n}.toString()}var Rm="__parameters__";function D4(n){return function(...t){if(n){let i=n(...t);for(let r in i)this[r]=i[r]}}}function Wx(n,e,t){return uf(()=>{let i=D4(e);function r(...s){if(this instanceof r)return i.apply(this,s),this;let o=new r(...s);return a.annotation=o,a;function a(l,c,d){let h=l.hasOwnProperty(Rm)?l[Rm]:Object.defineProperty(l,Rm,{value:[]})[Rm];for(;h.length<=d;)h.push(null);return(h[d]=h[d]||[]).push(o),l}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}var zn=globalThis;function St(n){for(let e in n)if(n[e]===St)return e;throw Error("Could not find renamed property on target object.")}function S4(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function fi(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(fi).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function Db(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var M4=St({__forward_ref__:St});function Is(n){return n.__forward_ref__=Is,n.toString=function(){return fi(this())},n}function hi(n){return Kx(n)?n():n}function Kx(n){return typeof n=="function"&&n.hasOwnProperty(M4)&&n.__forward_ref__===Is}function ee(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function ve(n){return{providers:n.providers||[],imports:n.imports||[]}}function y0(n){return rx(n,Zx)||rx(n,Yx)}function Qx(n){return y0(n)!==null}function rx(n,e){return n.hasOwnProperty(e)?n[e]:null}function A4(n){let e=n&&(n[Zx]||n[Yx]);return e||null}function sx(n){return n&&(n.hasOwnProperty(ox)||n.hasOwnProperty(x4))?n[ox]:null}var Zx=St({\u0275prov:St}),ox=St({\u0275inj:St}),Yx=St({ngInjectableDef:St}),x4=St({ngInjectorDef:St}),oe=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=ee({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Jx(n){return n&&!!n.\u0275providers}var R4=St({\u0275cmp:St}),O4=St({\u0275dir:St}),N4=St({\u0275pipe:St}),P4=St({\u0275mod:St}),Hm=St({\u0275fac:St}),ef=St({__NG_ELEMENT_ID__:St}),ax=St({__NG_ENV_ID__:St});function Ll(n){return typeof n=="string"?n:n==null?"":String(n)}function k4(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Ll(n)}function F4(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new re(-200,n)}function N1(n,e){throw new re(-201,!1)}var Ke=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Ke||{}),Sb;function Xx(){return Sb}function Si(n){let e=Sb;return Sb=n,e}function eR(n,e,t){let i=y0(n);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(t&Ke.Optional)return null;if(e!==void 0)return e;N1(n,"Injector")}var L4={},nf=L4,Mb="__NG_DI_FLAG__",Gm="ngTempTokenPath",V4="ngTokenPath",B4=/\n/gm,U4="\u0275",lx="__source",Pu;function j4(){return Pu}function ca(n){let e=Pu;return Pu=n,e}function z4(n,e=Ke.Default){if(Pu===void 0)throw new re(-203,!1);return Pu===null?eR(n,void 0,e):Pu.get(n,e&Ke.Optional?null:void 0,e)}function G(n,e=Ke.Default){return(Xx()||z4)(hi(n),e)}function K(n,e=Ke.Default){return G(n,v0(e))}function v0(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Ab(n){let e=[];for(let t=0;t<n.length;t++){let i=hi(n[t]);if(Array.isArray(i)){if(i.length===0)throw new re(900,!1);let r,s=Ke.Default;for(let o=0;o<i.length;o++){let a=i[o],l=$4(a);typeof l=="number"?l===-1?r=a.token:s|=l:r=a}e.push(G(r,s))}else e.push(G(i))}return e}function tR(n,e){return n[Mb]=e,n.prototype[Mb]=e,n}function $4(n){return n[Mb]}function H4(n,e,t,i){let r=n[Gm];throw e[lx]&&r.unshift(e[lx]),n.message=G4(`
`+n.message,r,t,i),n[V4]=r,n[Gm]=null,n}function G4(n,e,t,i=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==U4?n.slice(2):n;let r=fi(e);if(Array.isArray(e))r=e.map(fi).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):fi(a)))}r=`{${s.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(B4,`
  `)}`}var Kl=tR(Wx("Optional"),8);var w0=tR(Wx("SkipSelf"),4);function Vl(n,e){let t=n.hasOwnProperty(Hm);return t?n[Hm]:null}function q4(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],s=e[i];if(t&&(r=t(r),s=t(s)),s!==r)return!1}return!0}function W4(n){return n.flat(Number.POSITIVE_INFINITY)}function P1(n,e){n.forEach(t=>Array.isArray(t)?P1(t,e):e(t))}function nR(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function qm(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function K4(n,e){let t=[];for(let i=0;i<n;i++)t.push(e);return t}function Q4(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(r===1)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;){let s=r-2;n[r]=n[s],r--}n[e]=t,n[e+1]=i}}function k1(n,e,t){let i=df(n,e);return i>=0?n[i|1]=t:(i=~i,Q4(n,i,e,t)),i}function hb(n,e){let t=df(n,e);if(t>=0)return n[t|1]}function df(n,e){return Z4(n,e,1)}function Z4(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){let s=i+(r-i>>1),o=n[s<<t];if(e===o)return s<<t;o>e?r=s:i=s+1}return~(r<<t)}var Fu={},Mi=[],Lu=new oe(""),iR=new oe("",-1),rR=new oe(""),Wm=class{get(e,t=nf){if(t===nf){let i=new Error(`NullInjectorError: No provider for ${fi(e)}!`);throw i.name="NullInjectorError",i}return t}},sR=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(sR||{}),ws=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(ws||{}),ha=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(ha||{});function Y4(n,e,t){let i=n.length;for(;;){let r=n.indexOf(e,t);if(r===-1)return r;if(r===0||n.charCodeAt(r-1)<=32){let s=e.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}t=r+1}}function xb(n,e,t){let i=0;for(;i<t.length;){let r=t[i];if(typeof r=="number"){if(r!==0)break;i++;let s=t[i++],o=t[i++],a=t[i++];n.setAttribute(e,o,a,s)}else{let s=r,o=t[++i];J4(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),i++}}return i}function oR(n){return n===3||n===4||n===6}function J4(n){return n.charCodeAt(0)===64}function rf(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?t=r:t===0||(t===-1||t===2?cx(n,t,r,null,e[++i]):cx(n,t,r,null,null))}}return n}function cx(n,e,t,i,r){let s=0,o=n.length;if(e===-1)o=-1;else for(;s<n.length;){let a=n[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<n.length;){let a=n[s];if(typeof a=="number")break;if(a===t){if(i===null){r!==null&&(n[s+1]=r);return}else if(i===n[s+1]){n[s+2]=r;return}}s++,i!==null&&s++,r!==null&&s++}o!==-1&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),i!==null&&n.splice(s++,0,i),r!==null&&n.splice(s++,0,r)}var aR="ng-template";function X4(n,e,t,i){let r=0;if(i){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&Y4(e[r+1].toLowerCase(),t,0)!==-1)return!0}else if(F1(n))return!1;if(r=e.indexOf(1,r),r>-1){let s;for(;++r<e.length&&typeof(s=e[r])=="string";)if(s.toLowerCase()===t)return!0}return!1}function F1(n){return n.type===4&&n.value!==aR}function ej(n,e,t){let i=n.type===4&&!t?aR:n.value;return e===i}function tj(n,e,t){let i=4,r=n.attrs,s=r!==null?rj(r):0,o=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!o&&!Pr(i)&&!Pr(l))return!1;if(o&&Pr(l))continue;o=!1,i=l|i&1;continue}if(!o)if(i&4){if(i=2|i&1,l!==""&&!ej(n,l,t)||l===""&&e.length===1){if(Pr(i))return!1;o=!0}}else if(i&8){if(r===null||!X4(n,r,l,t)){if(Pr(i))return!1;o=!0}}else{let c=e[++a],d=nj(l,r,F1(n),t);if(d===-1){if(Pr(i))return!1;o=!0;continue}if(c!==""){let h;if(d>s?h="":h=r[d+1].toLowerCase(),i&2&&c!==h){if(Pr(i))return!1;o=!0}}}}return Pr(i)||o}function Pr(n){return(n&1)===0}function nj(n,e,t,i){if(e===null)return-1;let r=0;if(i||!t){let s=!1;for(;r<e.length;){let o=e[r];if(o===n)return r;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(o===4)break;if(o===0){r+=4;continue}}r+=s?1:2}return-1}else return sj(e,n)}function lR(n,e,t=!1){for(let i=0;i<e.length;i++)if(tj(n,e[i],t))return!0;return!1}function ij(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if(!(t&1))return e[t+1]}return null}function rj(n){for(let e=0;e<n.length;e++){let t=n[e];if(oR(t))return e}return n.length}function sj(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let i=n[t];if(typeof i=="number")return-1;if(i===e)return t;t++}return-1}function oj(n,e){e:for(let t=0;t<e.length;t++){let i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function ux(n,e){return n?":not("+e.trim()+")":e}function aj(n){let e=n[0],t=1,i=2,r="",s=!1;for(;t<n.length;){let o=n[t];if(typeof o=="string")if(i&2){let a=n[++t];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+o:i&4&&(r+=" "+o);else r!==""&&!Pr(o)&&(e+=ux(s,r),r=""),i=o,s=s||!Pr(i);t++}return r!==""&&(e+=ux(s,r)),e}function lj(n){return n.map(aj).join(",")}function cj(n){let e=[],t=[],i=1,r=2;for(;i<n.length;){let s=n[i];if(typeof s=="string")r===2?s!==""&&e.push(s,n[++i]):r===8&&t.push(s);else{if(!Pr(r))break;r=s}i++}return{attrs:e,classes:t}}function Oe(n){return uf(()=>{let e=fR(n),t=Ee(Q({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===sR.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||ws.Emulated,styles:n.styles||Mi,_:null,schemas:n.schemas||null,tView:null,id:""});pR(t);let i=n.dependencies;return t.directiveDefs=hx(i,!1),t.pipeDefs=hx(i,!0),t.id=hj(t),t})}function uj(n){return co(n)||cR(n)}function dj(n){return n!==null}function we(n){return uf(()=>({type:n.type,bootstrap:n.bootstrap||Mi,declarations:n.declarations||Mi,imports:n.imports||Mi,exports:n.exports||Mi,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function dx(n,e){if(n==null)return Fu;let t={};for(let i in n)if(n.hasOwnProperty(i)){let r=n[i],s,o,a=ha.None;Array.isArray(r)?(a=r[0],s=r[1],o=r[2]??s):(s=r,o=r),e?(t[s]=a!==ha.None?[i,a]:i,e[s]=o):t[s]=i}return t}function Qe(n){return uf(()=>{let e=fR(n);return pR(e),e})}function b0(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function co(n){return n[R4]||null}function cR(n){return n[O4]||null}function uR(n){return n[N4]||null}function dR(n){let e=co(n)||cR(n)||uR(n);return e!==null?e.standalone:!1}function hR(n,e){let t=n[P4]||null;if(!t&&e===!0)throw new Error(`Type ${fi(n)} does not have '\u0275mod' property.`);return t}function fR(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Fu,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||Mi,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:dx(n.inputs,e),outputs:dx(n.outputs),debugInfo:null}}function pR(n){n.features?.forEach(e=>e(n))}function hx(n,e){if(!n)return null;let t=e?uR:uj;return()=>(typeof n=="function"?n():n).map(i=>t(i)).filter(dj)}function hj(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let r of t)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Hu(n){return{\u0275providers:n}}function fj(...n){return{\u0275providers:gR(!0,n),\u0275fromNgModule:!0}}function gR(n,...e){let t=[],i=new Set,r,s=o=>{t.push(o)};return P1(e,o=>{let a=o;Rb(a,s,[],i)&&(r||=[],r.push(a))}),r!==void 0&&mR(r,s),t}function mR(n,e){for(let t=0;t<n.length;t++){let{ngModule:i,providers:r}=n[t];L1(r,s=>{e(s,i)})}}function Rb(n,e,t,i){if(n=hi(n),!n)return!1;let r=null,s=sx(n),o=!s&&co(n);if(!s&&!o){let l=n.ngModule;if(s=sx(l),s)r=l;else return!1}else{if(o&&!o.standalone)return!1;r=n}let a=i.has(r);if(o){if(a)return!1;if(i.add(r),o.dependencies){let l=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let c of l)Rb(c,e,t,i)}}else if(s){if(s.imports!=null&&!a){i.add(r);let c;try{P1(s.imports,d=>{Rb(d,e,t,i)&&(c||=[],c.push(d))})}finally{}c!==void 0&&mR(c,e)}if(!a){let c=Vl(r)||(()=>new r);e({provide:r,useFactory:c,deps:Mi},r),e({provide:rR,useValue:r,multi:!0},r),e({provide:Lu,useValue:()=>G(r),multi:!0},r)}let l=s.providers;if(l!=null&&!a){let c=n;L1(l,d=>{e(d,c)})}}else return!1;return r!==n&&n.providers!==void 0}function L1(n,e){for(let t of n)Jx(t)&&(t=t.\u0275providers),Array.isArray(t)?L1(t,e):e(t)}var pj=St({provide:String,useValue:St});function _R(n){return n!==null&&typeof n=="object"&&pj in n}function gj(n){return!!(n&&n.useExisting)}function mj(n){return!!(n&&n.useFactory)}function Vu(n){return typeof n=="function"}function _j(n){return!!n.useClass}var C0=new oe(""),Bm={},yj={},fb;function E0(){return fb===void 0&&(fb=new Wm),fb}var On=class{},sf=class extends On{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Nb(e,o=>this.processProvider(o)),this.records.set(iR,Ru(void 0,this)),r.has("environment")&&this.records.set(On,Ru(void 0,this));let s=this.records.get(C0);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(rR,Mi,Ke.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ct(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of t)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ct(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=ca(this),i=Si(void 0),r;try{return e()}finally{ca(t),Si(i)}}get(e,t=nf,i=Ke.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(ax))return e[ax](this);i=v0(i);let r,s=ca(this),o=Si(void 0);try{if(!(i&Ke.SkipSelf)){let l=this.records.get(e);if(l===void 0){let c=Ej(e)&&y0(e);c&&this.injectableDefInScope(c)?l=Ru(Ob(e),Bm):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=i&Ke.Self?E0():this.parent;return t=i&Ke.Optional&&t===nf?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Gm]=a[Gm]||[]).unshift(fi(e)),s)throw a;return H4(a,e,"R3InjectorError",this.source)}else throw a}finally{Si(o),ca(s)}}resolveInjectorInitializers(){let e=ct(null),t=ca(this),i=Si(void 0),r;try{let s=this.get(Lu,Mi,Ke.Self);for(let o of s)o()}finally{ca(t),Si(i),ct(e)}}toString(){let e=[],t=this.records;for(let i of t.keys())e.push(fi(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new re(205,!1)}processProvider(e){e=hi(e);let t=Vu(e)?e:hi(e&&e.provide),i=wj(e);if(!Vu(e)&&e.multi===!0){let r=this.records.get(t);r||(r=Ru(void 0,Bm,!0),r.factory=()=>Ab(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){let i=ct(null);try{return t.value===Bm&&(t.value=yj,t.value=t.factory()),typeof t.value=="object"&&t.value&&Cj(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ct(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=hi(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Ob(n){let e=y0(n),t=e!==null?e.factory:Vl(n);if(t!==null)return t;if(n instanceof oe)throw new re(204,!1);if(n instanceof Function)return vj(n);throw new re(204,!1)}function vj(n){if(n.length>0)throw new re(204,!1);let t=A4(n);return t!==null?()=>t.factory(n):()=>new n}function wj(n){if(_R(n))return Ru(void 0,n.useValue);{let e=yR(n);return Ru(e,Bm)}}function yR(n,e,t){let i;if(Vu(n)){let r=hi(n);return Vl(r)||Ob(r)}else if(_R(n))i=()=>hi(n.useValue);else if(mj(n))i=()=>n.useFactory(...Ab(n.deps||[]));else if(gj(n))i=()=>G(hi(n.useExisting));else{let r=hi(n&&(n.useClass||n.provide));if(bj(n))i=()=>new r(...Ab(n.deps));else return Vl(r)||Ob(r)}return i}function Ru(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function bj(n){return!!n.deps}function Cj(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function Ej(n){return typeof n=="function"||typeof n=="object"&&n instanceof oe}function Nb(n,e){for(let t of n)Array.isArray(t)?Nb(t,e):t&&Jx(t)?Nb(t.\u0275providers,e):e(t)}function ur(n,e){n instanceof sf&&n.assertNotDestroyed();let t,i=ca(n),r=Si(void 0);try{return e()}finally{ca(i),Si(r)}}function vR(){return Xx()!==void 0||j4()!=null}function Ij(n){if(!vR())throw new re(-203,!1)}function Tj(n){let e=zn.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function Dj(n){return typeof n=="function"}var Ts=0,qe=1,ke=2,ei=3,Fr=4,Ai=5,of=6,Km=7,Lr=8,Bu=9,bs=10,jt=11,af=12,fx=13,Gu=14,cr=15,Bl=16,Ou=17,uo=18,I0=19,wR=20,ua=21,pb=22,lr=23,pi=25,V1=1;var Ul=7,Qm=8,Uu=9,Hi=10,Zm=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(Zm||{});function da(n){return Array.isArray(n)&&typeof n[V1]=="object"}function mo(n){return Array.isArray(n)&&n[V1]===!0}function B1(n){return(n.flags&4)!==0}function T0(n){return n.componentOffset>-1}function D0(n){return(n.flags&1)===1}function ho(n){return!!n.template}function Pb(n){return(n[ke]&512)!==0}var kb=class{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}};function bR(n,e,t,i){e!==null?e.applyValueToInputSignal(e,i):n[t]=i}function Tn(){return CR}function CR(n){return n.type.prototype.ngOnChanges&&(n.setInput=Mj),Sj}Tn.ngInherit=!0;function Sj(){let n=IR(this),e=n?.current;if(e){let t=n.previous;if(t===Fu)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function Mj(n,e,t,i,r){let s=this.declaredInputs[i],o=IR(n)||Aj(n,{previous:Fu,current:null}),a=o.current||(o.current={}),l=o.previous,c=l[s];a[s]=new kb(c&&c.currentValue,t,l===Fu),bR(n,e,r,t)}var ER="__ngSimpleChanges__";function IR(n){return n[ER]||null}function Aj(n,e){return n[ER]=e}var px=null;var ys=function(n,e,t){px?.(n,e,t)},TR="svg",xj="math";function Cs(n){for(;Array.isArray(n);)n=n[Ts];return n}function Rj(n){for(;Array.isArray(n);){if(typeof n[V1]=="object")return n;n=n[Ts]}return null}function DR(n,e){return Cs(e[n])}function dr(n,e){return Cs(e[n.index])}function SR(n,e){return n.data[e]}function U1(n,e){return n[e]}function _a(n,e){let t=e[n];return da(t)?t:t[Ts]}function Oj(n){return(n[ke]&4)===4}function j1(n){return(n[ke]&128)===128}function Nj(n){return mo(n[ei])}function ju(n,e){return e==null?null:n[e]}function MR(n){n[Ou]=0}function AR(n){n[ke]&1024||(n[ke]|=1024,j1(n)&&M0(n))}function Pj(n,e){for(;n>0;)e=e[Gu],n--;return e}function S0(n){return!!(n[ke]&9216||n[lr]?.dirty)}function Fb(n){n[bs].changeDetectionScheduler?.notify(8),n[ke]&64&&(n[ke]|=1024),S0(n)&&M0(n)}function M0(n){n[bs].changeDetectionScheduler?.notify(0);let e=jl(n);for(;e!==null&&!(e[ke]&8192||(e[ke]|=8192,!j1(e)));)e=jl(e)}function xR(n,e){if((n[ke]&256)===256)throw new re(911,!1);n[ua]===null&&(n[ua]=[]),n[ua].push(e)}function kj(n,e){if(n[ua]===null)return;let t=n[ua].indexOf(e);t!==-1&&n[ua].splice(t,1)}function jl(n){let e=n[ei];return mo(e)?e[ei]:e}var $e={lFrame:UR(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var RR=!1;function Fj(){return $e.lFrame.elementDepthCount}function Lj(){$e.lFrame.elementDepthCount++}function Vj(){$e.lFrame.elementDepthCount--}function OR(){return $e.bindingsEnabled}function NR(){return $e.skipHydrationRootTNode!==null}function Bj(n){return $e.skipHydrationRootTNode===n}function Uj(){$e.skipHydrationRootTNode=null}function Ve(){return $e.lFrame.lView}function Qt(){return $e.lFrame.tView}function ue(n){return $e.lFrame.contextLView=n,n[Lr]}function de(n){return $e.lFrame.contextLView=null,n}function $n(){let n=PR();for(;n!==null&&n.type===64;)n=n.parent;return n}function PR(){return $e.lFrame.currentTNode}function jj(){let n=$e.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Ql(n,e){let t=$e.lFrame;t.currentTNode=n,t.isParent=e}function z1(){return $e.lFrame.isParent}function $1(){$e.lFrame.isParent=!1}function zj(){return $e.lFrame.contextLView}function kR(){return RR}function gx(n){RR=n}function Zl(){let n=$e.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function $j(){return $e.lFrame.bindingIndex}function Hj(n){return $e.lFrame.bindingIndex=n}function hf(){return $e.lFrame.bindingIndex++}function H1(n){let e=$e.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function Gj(){return $e.lFrame.inI18n}function qj(n,e){let t=$e.lFrame;t.bindingIndex=t.bindingRootIndex=n,Lb(e)}function Wj(){return $e.lFrame.currentDirectiveIndex}function Lb(n){$e.lFrame.currentDirectiveIndex=n}function FR(n){let e=$e.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function LR(){return $e.lFrame.currentQueryIndex}function G1(n){$e.lFrame.currentQueryIndex=n}function Kj(n){let e=n[qe];return e.type===2?e.declTNode:e.type===1?n[Ai]:null}function VR(n,e,t){if(t&Ke.SkipSelf){let r=e,s=n;for(;r=r.parent,r===null&&!(t&Ke.Host);)if(r=Kj(s),r===null||(s=s[Gu],r.type&10))break;if(r===null)return!1;e=r,n=s}let i=$e.lFrame=BR();return i.currentTNode=e,i.lView=n,!0}function q1(n){let e=BR(),t=n[qe];$e.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function BR(){let n=$e.lFrame,e=n===null?null:n.child;return e===null?UR(n):e}function UR(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function jR(){let n=$e.lFrame;return $e.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var zR=jR;function W1(){let n=jR();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Qj(n){return($e.lFrame.contextLView=Pj(n,$e.lFrame.contextLView))[Lr]}function ya(){return $e.lFrame.selectedIndex}function zl(n){$e.lFrame.selectedIndex=n}function ff(){let n=$e.lFrame;return SR(n.tView,n.selectedIndex)}function Ds(){$e.lFrame.currentNamespace=TR}function $R(){Zj()}function Zj(){$e.lFrame.currentNamespace=null}function Yj(){return $e.lFrame.currentNamespace}var HR=!0;function A0(){return HR}function x0(n){HR=n}function Jj(n,e,t){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(i){let o=CR(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}r&&(t.preOrderHooks??=[]).push(0-n,r),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}function R0(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){let s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:d}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),c&&((n.viewHooks??=[]).push(t,c),(n.viewCheckHooks??=[]).push(t,c)),d!=null&&(n.destroyHooks??=[]).push(t,d)}}function Um(n,e,t){GR(n,e,3,t)}function jm(n,e,t,i){(n[ke]&3)===t&&GR(n,e,t,i)}function gb(n,e){let t=n[ke];(t&3)===e&&(t&=16383,t+=1,n[ke]=t)}function GR(n,e,t,i){let r=i!==void 0?n[Ou]&65535:0,s=i??-1,o=e.length-1,a=0;for(let l=r;l<o;l++)if(typeof e[l+1]=="number"){if(a=e[l],i!=null&&a>=i)break}else e[l]<0&&(n[Ou]+=65536),(a<s||s==-1)&&(Xj(n,t,e,l),n[Ou]=(n[Ou]&4294901760)+l+2),l++}function mx(n,e){ys(4,n,e);let t=ct(null);try{e.call(n)}finally{ct(t),ys(5,n,e)}}function Xj(n,e,t,i){let r=t[i]<0,s=t[i+1],o=r?-t[i]:t[i],a=n[o];r?n[ke]>>14<n[Ou]>>16&&(n[ke]&3)===e&&(n[ke]+=16384,mx(a,s)):mx(a,s)}var ku=-1,$l=class{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}};function ez(n){return n instanceof $l}function tz(n){return(n.flags&8)!==0}function nz(n){return(n.flags&16)!==0}var mb={},Vb=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=v0(i);let r=this.injector.get(e,mb,i);return r!==mb||t===mb?r:this.parentInjector.get(e,t,i)}};function qR(n){return n!==ku}function Ym(n){return n&32767}function iz(n){return n>>16}function Jm(n,e){let t=iz(n),i=e;for(;t>0;)i=i[Gu],t--;return i}var Bb=!0;function Xm(n){let e=Bb;return Bb=n,e}var rz=256,WR=rz-1,KR=5,sz=0,vs={};function oz(n,e,t){let i;typeof t=="string"?i=t.charCodeAt(0)||0:t.hasOwnProperty(ef)&&(i=t[ef]),i==null&&(i=t[ef]=sz++);let r=i&WR,s=1<<r;e.data[n+(r>>KR)]|=s}function e0(n,e){let t=QR(n,e);if(t!==-1)return t;let i=e[qe];i.firstCreatePass&&(n.injectorIndex=e.length,_b(i.data,n),_b(e,null),_b(i.blueprint,null));let r=K1(n,e),s=n.injectorIndex;if(qR(r)){let o=Ym(r),a=Jm(r,e),l=a[qe].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=r,s}function _b(n,e){n.push(0,0,0,0,0,0,0,0,e)}function QR(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function K1(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;r!==null;){if(i=eO(r),i===null)return ku;if(t++,r=r[Gu],i.injectorIndex!==-1)return i.injectorIndex|t<<16}return ku}function Ub(n,e,t){oz(n,e,t)}function az(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let i=t.length,r=0;for(;r<i;){let s=t[r];if(oR(s))break;if(s===0)r=r+2;else if(typeof s=="number")for(r++;r<i&&typeof t[r]=="string";)r++;else{if(s===e)return t[r+1];r=r+2}}}return null}function ZR(n,e,t){if(t&Ke.Optional||n!==void 0)return n;N1(e,"NodeInjector")}function YR(n,e,t,i){if(t&Ke.Optional&&i===void 0&&(i=null),!(t&(Ke.Self|Ke.Host))){let r=n[Bu],s=Si(void 0);try{return r?r.get(e,i,t&Ke.Optional):eR(e,i,t&Ke.Optional)}finally{Si(s)}}return ZR(i,e,t)}function JR(n,e,t,i=Ke.Default,r){if(n!==null){if(e[ke]&2048&&!(i&Ke.Self)){let o=dz(n,e,t,i,vs);if(o!==vs)return o}let s=XR(n,e,t,i,vs);if(s!==vs)return s}return YR(e,t,i,r)}function XR(n,e,t,i,r){let s=cz(t);if(typeof s=="function"){if(!VR(e,n,i))return i&Ke.Host?ZR(r,t,i):YR(e,t,i,r);try{let o;if(o=s(i),o==null&&!(i&Ke.Optional))N1(t);else return o}finally{zR()}}else if(typeof s=="number"){let o=null,a=QR(n,e),l=ku,c=i&Ke.Host?e[cr][Ai]:null;for((a===-1||i&Ke.SkipSelf)&&(l=a===-1?K1(n,e):e[a+8],l===ku||!yx(i,!1)?a=-1:(o=e[qe],a=Ym(l),e=Jm(l,e)));a!==-1;){let d=e[qe];if(_x(s,a,d.data)){let h=lz(a,e,t,o,i,c);if(h!==vs)return h}l=e[a+8],l!==ku&&yx(i,e[qe].data[a+8]===c)&&_x(s,a,e)?(o=d,a=Ym(l),e=Jm(l,e)):a=-1}}return r}function lz(n,e,t,i,r,s){let o=e[qe],a=o.data[n+8],l=i==null?T0(a)&&Bb:i!=o&&(a.type&3)!==0,c=r&Ke.Host&&s===a,d=zm(a,o,t,l,c);return d!==null?Hl(e,o,d,a):vs}function zm(n,e,t,i,r){let s=n.providerIndexes,o=e.data,a=s&1048575,l=n.directiveStart,c=n.directiveEnd,d=s>>20,h=i?a:a+d,m=r?a+d:c;for(let v=h;v<m;v++){let b=o[v];if(v<l&&t===b||v>=l&&b.type===t)return v}if(r){let v=o[l];if(v&&ho(v)&&v.type===t)return l}return null}function Hl(n,e,t,i){let r=n[t],s=e.data;if(ez(r)){let o=r;o.resolving&&F4(k4(s[t]));let a=Xm(o.canSeeViewProviders);o.resolving=!0;let l,c=o.injectImpl?Si(o.injectImpl):null,d=VR(n,i,Ke.Default);try{r=n[t]=o.factory(void 0,s,n,i),e.firstCreatePass&&t>=i.directiveStart&&Jj(t,s[t],e)}finally{c!==null&&Si(c),Xm(a),o.resolving=!1,zR()}}return r}function cz(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(ef)?n[ef]:void 0;return typeof e=="number"?e>=0?e&WR:uz:e}function _x(n,e,t){let i=1<<n;return!!(t[e+(n>>KR)]&i)}function yx(n,e){return!(n&Ke.Self)&&!(n&Ke.Host&&e)}var Fl=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return JR(this._tNode,this._lView,e,v0(i),t)}};function uz(){return new Fl($n(),Ve())}function gi(n){return uf(()=>{let e=n.prototype.constructor,t=e[Hm]||jb(e),i=Object.prototype,r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){let s=r[Hm]||jb(r);if(s&&s!==t)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function jb(n){return Kx(n)?()=>{let e=jb(hi(n));return e&&e()}:Vl(n)}function dz(n,e,t,i,r){let s=n,o=e;for(;s!==null&&o!==null&&o[ke]&2048&&!(o[ke]&512);){let a=XR(s,o,t,i|Ke.Self,vs);if(a!==vs)return a;let l=s.parent;if(!l){let c=o[wR];if(c){let d=c.get(t,vs,i);if(d!==vs)return d}l=eO(o),o=o[Gu]}s=l}return r}function eO(n){let e=n[qe],t=e.type;return t===2?e.declTNode:t===1?n[Ai]:null}function O0(n){return az($n(),n)}function vx(n,e=null,t=null,i){let r=tO(n,e,t,i);return r.resolveInjectorInitializers(),r}function tO(n,e=null,t=null,i,r=new Set){let s=[t||Mi,fj(n)];return i=i||(typeof n=="object"?void 0:fi(n)),new sf(s,e||E0(),i||null,r)}var Pl=class Pl{static create(e,t){if(Array.isArray(e))return vx({name:""},t,e,"");{let i=e.name??"";return vx({name:i},e.parent,e.providers,i)}}};Pl.THROW_IF_NOT_FOUND=nf,Pl.NULL=new Wm,Pl.\u0275prov=ee({token:Pl,providedIn:"any",factory:()=>G(iR)}),Pl.__NG_ELEMENT_ID__=-1;var Kt=Pl;var hz=new oe("");hz.__NG_ELEMENT_ID__=n=>{let e=$n();if(e===null)throw new re(204,!1);if(e.type&2)return e.value;if(n&Ke.Optional)return null;throw new re(204,!1)};var fz="ngOriginalError";function yb(n){return n[fz]}var nO=!0,N0=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=pz,e.__NG_ENV_ID__=i=>i;let n=e;return n})(),zb=class extends N0{constructor(e){super(),this._lView=e}onDestroy(e){return xR(this._lView,e),()=>kj(this._lView,e)}};function pz(){return new zb(Ve())}var _o=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Nt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=ee({token:e,providedIn:"root",factory:()=>new e});let n=e;return n})();var $b=class extends Pe{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,vR()&&(this.destroyRef=K(N0,{optional:!0})??void 0,this.pendingTasks=K(_o,{optional:!0})??void 0)}emit(e){let t=ct(null);try{super.next(e)}finally{ct(t)}}subscribe(e,t,i){let r=e,s=t||(()=>null),o=i;if(e&&typeof e=="object"){let l=e;r=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=this.wrapInTimeout(s),r&&(r=this.wrapInTimeout(r)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:r,error:s,complete:o});return e instanceof Xt&&e.add(a),a}wrapInTimeout(e){return t=>{let i=this.pendingTasks?.add();setTimeout(()=>{e(t),i!==void 0&&this.pendingTasks?.remove(i)})}}},xe=$b;function t0(...n){}function iO(n){let e,t;function i(){n=t0;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),i()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),i()})),()=>i()}function wx(n){return queueMicrotask(()=>n()),()=>{n=t0}}var Q1="isAngularZone",n0=Q1+"_ID",gz=0,De=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xe(!1),this.onMicrotaskEmpty=new xe(!1),this.onStable=new xe(!1),this.onError=new xe(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:s=nO}=e;if(typeof Zone>"u")throw new re(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&i,o.shouldCoalesceRunChangeDetection=r,o.callbackScheduled=!1,o.scheduleInRootZone=s,yz(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Q1)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new re(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new re(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,e,mz,t0,t0);try{return s.runTask(o,t,i)}finally{s.cancelTask(o)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}},mz={};function Z1(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function _z(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){iO(()=>{n.callbackScheduled=!1,Hb(n),n.isCheckStableRunning=!0,Z1(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Hb(n)}function yz(n){let e=()=>{_z(n)},t=gz++;n._inner=n._inner.fork({name:"angular",properties:{[Q1]:!0,[n0]:t,[n0+t]:!0},onInvokeTask:(i,r,s,o,a,l)=>{if(vz(l))return i.invokeTask(s,o,a,l);try{return bx(n),i.invokeTask(s,o,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),Cx(n)}},onInvoke:(i,r,s,o,a,l,c)=>{try{return bx(n),i.invoke(s,o,a,l,c)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!wz(l)&&e(),Cx(n)}},onHasTask:(i,r,s,o)=>{i.hasTask(s,o),r===s&&(o.change=="microTask"?(n._hasPendingMicrotasks=o.microTask,Hb(n),Z1(n)):o.change=="macroTask"&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(i,r,s,o)=>(i.handleError(s,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}function Hb(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function bx(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Cx(n){n._nesting--,Z1(n)}var i0=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xe,this.onMicrotaskEmpty=new xe,this.onStable=new xe,this.onError=new xe}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}};function vz(n){return rO(n,"__ignore_ng_zone__")}function wz(n){return rO(n,"__scheduler_tick__")}function rO(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}function bz(n="zone.js",e){return n==="noop"?new i0:n==="zone.js"?new De(e):n}var fo=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&yb(e);for(;t&&yb(t);)t=yb(t);return t||null}},Cz=new oe("",{providedIn:"root",factory:()=>{let n=K(De),e=K(fo);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function Ez(){return qu($n(),Ve())}function qu(n,e){return new nt(dr(n,e))}var nt=(()=>{let e=class e{constructor(i){this.nativeElement=i}};e.__NG_ELEMENT_ID__=Ez;let n=e;return n})();function Iz(n){return n instanceof nt?n.nativeElement:n}function Tz(){return this._results[Symbol.iterator]()}var Gb=class n{get changes(){return this._changes??=new xe}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=n.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=Tz)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let i=W4(e);(this._changesDetected=!q4(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function sO(n){return(n.flags&128)===128}var oO=new Map,Dz=0;function Sz(){return Dz++}function Mz(n){oO.set(n[I0],n)}function qb(n){oO.delete(n[I0])}var Ex="__ngContext__";function fa(n,e){da(e)?(n[Ex]=e[I0],Mz(e)):n[Ex]=e}function aO(n){return cO(n[af])}function lO(n){return cO(n[Fr])}function cO(n){for(;n!==null&&!mo(n);)n=n[Fr];return n}var Wb;function uO(n){Wb=n}function dO(){if(Wb!==void 0)return Wb;if(typeof document<"u")return document;throw new re(210,!1)}var P0=new oe("",{providedIn:"root",factory:()=>Az}),Az="ng",Y1=new oe(""),wt=new oe("",{providedIn:"platform",factory:()=>"unknown"});var J1=new oe(""),X1=new oe("",{providedIn:"root",factory:()=>dO().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var xz="h",Rz="b";var Oz=()=>null;function eC(n,e,t=!1){return Oz(n,e,t)}var hO=!1,Nz=new oe("",{providedIn:"root",factory:()=>hO});var Om;function Pz(){if(Om===void 0&&(Om=null,zn.trustedTypes))try{Om=zn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Om}function k0(n){return Pz()?.createHTML(n)||n}var Nm;function fO(){if(Nm===void 0&&(Nm=null,zn.trustedTypes))try{Nm=zn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Nm}function Ix(n){return fO()?.createHTML(n)||n}function Tx(n){return fO()?.createScriptURL(n)||n}var po=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${qx})`}},Kb=class extends po{getTypeName(){return"HTML"}},Qb=class extends po{getTypeName(){return"Style"}},Zb=class extends po{getTypeName(){return"Script"}},Yb=class extends po{getTypeName(){return"URL"}},Jb=class extends po{getTypeName(){return"ResourceURL"}};function hr(n){return n instanceof po?n.changingThisBreaksApplicationSecurity:n}function yo(n,e){let t=kz(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${qx})`)}return t===e}function kz(n){return n instanceof po&&n.getTypeName()||null}function pO(n){return new Kb(n)}function gO(n){return new Qb(n)}function mO(n){return new Zb(n)}function _O(n){return new Yb(n)}function yO(n){return new Jb(n)}function Fz(n){let e=new e1(n);return Lz()?new Xb(e):e}var Xb=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(k0(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},e1=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=k0(e),t}};function Lz(){try{return!!new window.DOMParser().parseFromString(k0(""),"text/html")}catch{return!1}}var Vz=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function F0(n){return n=String(n),n.match(Vz)?n:"unsafe:"+n}function vo(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function pf(...n){let e={};for(let t of n)for(let i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}var vO=vo("area,br,col,hr,img,wbr"),wO=vo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),bO=vo("rp,rt"),Bz=pf(bO,wO),Uz=pf(wO,vo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),jz=pf(bO,vo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Dx=pf(vO,Uz,jz,Bz),CO=vo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),zz=vo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),$z=vo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),Hz=pf(CO,zz,$z),Gz=vo("script,style,template"),t1=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,i=!0,r=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild){r.push(t),t=Kz(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let s=Wz(t);if(s){t=s;break}t=r.pop()}}return this.buf.join("")}startElement(e){let t=Sx(e).toLowerCase();if(!Dx.hasOwnProperty(t))return this.sanitizedSomething=!0,!Gz.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let i=e.attributes;for(let r=0;r<i.length;r++){let s=i.item(r),o=s.name,a=o.toLowerCase();if(!Hz.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;CO[a]&&(l=F0(l)),this.buf.push(" ",o,'="',Mx(l),'"')}return this.buf.push(">"),!0}endElement(e){let t=Sx(e).toLowerCase();Dx.hasOwnProperty(t)&&!vO.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(Mx(e))}};function qz(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function Wz(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw EO(e);return e}function Kz(n){let e=n.firstChild;if(e&&qz(n,e))throw EO(e);return e}function Sx(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function EO(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var Qz=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Zz=/([^\#-~ |!])/g;function Mx(n){return n.replace(/&/g,"&amp;").replace(Qz,function(e){let t=e.charCodeAt(0),i=e.charCodeAt(1);return"&#"+((t-55296)*1024+(i-56320)+65536)+";"}).replace(Zz,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Pm;function tC(n,e){let t=null;try{Pm=Pm||Fz(n);let i=e?String(e):"";t=Pm.getInertBodyElement(i);let r=5,s=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=t.innerHTML,t=Pm.getInertBodyElement(i)}while(i!==s);let a=new t1().sanitizeChildren(Ax(t)||t);return k0(a)}finally{if(t){let i=Ax(t)||t;for(;i.firstChild;)i.firstChild.remove()}}}function Ax(n){return"content"in n&&Yz(n)?n.content:null}function Yz(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var Gi=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Gi||{});function nC(n){let e=iC();return e?Ix(e.sanitize(Gi.HTML,n)||""):yo(n,"HTML")?Ix(hr(n)):tC(dO(),Ll(n))}function Hn(n){let e=iC();return e?e.sanitize(Gi.URL,n)||"":yo(n,"URL")?hr(n):F0(Ll(n))}function Jz(n){let e=iC();if(e)return Tx(e.sanitize(Gi.RESOURCE_URL,n)||"");if(yo(n,"ResourceURL"))return Tx(hr(n));throw new re(904,!1)}function Xz(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?Jz:Hn}function IO(n,e,t){return Xz(e,t)(n)}function iC(){let n=Ve();return n&&n[bs].sanitizer}var e$=/^>|^->|<!--|-->|--!>|<!-$/g,t$=/(<|>)/g,n$="\u200B$1\u200B";function i$(n){return n.replace(e$,e=>e.replace(t$,n$))}function gf(n){return n.ownerDocument.defaultView}function TO(n){return n.ownerDocument}function DO(n){return n instanceof Function?n():n}function r$(n){return(n??K(Kt)).get(wt)==="browser"}var Es=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Es||{}),s$;function rC(n,e){return s$(n,e)}function Nu(n,e,t,i,r){if(i!=null){let s,o=!1;mo(i)?s=i:da(i)&&(o=!0,i=i[Ts]);let a=Cs(i);n===0&&t!==null?r==null?OO(e,t,a):r0(e,t,a,r||null,!0):n===1&&t!==null?r0(e,t,a,r||null,!0):n===2?v$(e,a,o):n===3&&e.destroyNode(a),s!=null&&b$(e,n,s,t,r)}}function o$(n,e){return n.createText(e)}function a$(n,e,t){n.setValue(e,t)}function l$(n,e){return n.createComment(i$(e))}function SO(n,e,t){return n.createElement(e,t)}function c$(n,e){MO(n,e),e[Ts]=null,e[Ai]=null}function u$(n,e,t,i,r,s){i[Ts]=r,i[Ai]=e,V0(n,i,t,1,r,s)}function MO(n,e){e[bs].changeDetectionScheduler?.notify(9),V0(n,e,e[jt],2,null,null)}function d$(n){let e=n[af];if(!e)return vb(n[qe],n);for(;e;){let t=null;if(da(e))t=e[af];else{let i=e[Hi];i&&(t=i)}if(!t){for(;e&&!e[Fr]&&e!==n;)da(e)&&vb(e[qe],e),e=e[ei];e===null&&(e=n),da(e)&&vb(e[qe],e),t=e&&e[Fr]}e=t}}function h$(n,e,t,i){let r=Hi+i,s=t.length;i>0&&(t[r-1][Fr]=e),i<s-Hi?(e[Fr]=t[r],nR(t,Hi+i,e)):(t.push(e),e[Fr]=null),e[ei]=t;let o=e[Bl];o!==null&&t!==o&&AO(o,e);let a=e[uo];a!==null&&a.insertView(n),Fb(e),e[ke]|=128}function AO(n,e){let t=n[Uu],i=e[ei];if(da(i))n[ke]|=Zm.HasTransplantedViews;else{let r=i[ei][cr];e[cr]!==r&&(n[ke]|=Zm.HasTransplantedViews)}t===null?n[Uu]=[e]:t.push(e)}function sC(n,e){let t=n[Uu],i=t.indexOf(e);t.splice(i,1)}function n1(n,e){if(n.length<=Hi)return;let t=Hi+e,i=n[t];if(i){let r=i[Bl];r!==null&&r!==n&&sC(r,i),e>0&&(n[t-1][Fr]=i[Fr]);let s=qm(n,Hi+e);c$(i[qe],i);let o=s[uo];o!==null&&o.detachView(s[qe]),i[ei]=null,i[Fr]=null,i[ke]&=-129}return i}function xO(n,e){if(!(e[ke]&256)){let t=e[jt];t.destroyNode&&V0(n,e,t,3,null,null),d$(e)}}function vb(n,e){if(e[ke]&256)return;let t=ct(null);try{e[ke]&=-129,e[ke]|=256,e[lr]&&$w(e[lr]),p$(n,e),f$(n,e),e[qe].type===1&&e[jt].destroy();let i=e[Bl];if(i!==null&&mo(e[ei])){i!==e[ei]&&sC(i,e);let r=e[uo];r!==null&&r.detachView(n)}qb(e)}finally{ct(t)}}function f$(n,e){let t=n.cleanup,i=e[Km];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let o=t[s+3];o>=0?i[o]():i[-o].unsubscribe(),s+=2}else{let o=i[t[s+1]];t[s].call(o)}i!==null&&(e[Km]=null);let r=e[ua];if(r!==null){e[ua]=null;for(let s=0;s<r.length;s++){let o=r[s];o()}}}function p$(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let i=0;i<t.length;i+=2){let r=e[t[i]];if(!(r instanceof $l)){let s=t[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=r[s[o]],l=s[o+1];ys(4,a,l);try{l.call(a)}finally{ys(5,a,l)}}else{ys(4,r,s);try{s.call(r)}finally{ys(5,r,s)}}}}}function RO(n,e,t){return g$(n,e.parent,t)}function g$(n,e,t){let i=e;for(;i!==null&&i.type&168;)e=i,i=e.parent;if(i===null)return t[Ts];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:s}=n.data[i.directiveStart+r];if(s===ws.None||s===ws.Emulated)return null}return dr(i,t)}}function r0(n,e,t,i,r){n.insertBefore(e,t,i,r)}function OO(n,e,t){n.appendChild(e,t)}function xx(n,e,t,i,r){i!==null?r0(n,e,t,i,r):OO(n,e,t)}function NO(n,e){return n.parentNode(e)}function m$(n,e){return n.nextSibling(e)}function PO(n,e,t){return y$(n,e,t)}function _$(n,e,t){return n.type&40?dr(n,t):null}var y$=_$,Rx;function L0(n,e,t,i){let r=RO(n,i,e),s=e[jt],o=i.parent||e[Ai],a=PO(o,i,e);if(r!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)xx(s,r,t[l],a,!1);else xx(s,r,t,a,!1);Rx!==void 0&&Rx(s,i,e,t,r)}function Xh(n,e){if(e!==null){let t=e.type;if(t&3)return dr(e,n);if(t&4)return i1(-1,n[e.index]);if(t&8){let i=e.child;if(i!==null)return Xh(n,i);{let r=n[e.index];return mo(r)?i1(-1,r):Cs(r)}}else{if(t&128)return Xh(n,e.next);if(t&32)return rC(e,n)()||Cs(n[e.index]);{let i=kO(n,e);if(i!==null){if(Array.isArray(i))return i[0];let r=jl(n[cr]);return Xh(r,i)}else return Xh(n,e.next)}}}return null}function kO(n,e){if(e!==null){let i=n[cr][Ai],r=e.projection;return i.projection[r]}return null}function i1(n,e){let t=Hi+n+1;if(t<e.length){let i=e[t],r=i[qe].firstChild;if(r!==null)return Xh(i,r)}return e[Ul]}function v$(n,e,t){n.removeChild(null,e,t)}function oC(n,e,t,i,r,s,o){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=i[t.index],l=t.type;if(o&&e===0&&(a&&fa(Cs(a),i),t.flags|=2),(t.flags&32)!==32)if(l&8)oC(n,e,t.child,i,r,s,!1),Nu(e,n,r,a,s);else if(l&32){let c=rC(t,i),d;for(;d=c();)Nu(e,n,r,d,s);Nu(e,n,r,a,s)}else l&16?FO(n,e,i,t,r,s):Nu(e,n,r,a,s);t=o?t.projectionNext:t.next}}function V0(n,e,t,i,r,s){oC(t,i,n.firstChild,e,r,s,!1)}function w$(n,e,t){let i=e[jt],r=RO(n,t,e),s=t.parent||e[Ai],o=PO(s,t,e);FO(i,0,e,t,r,o)}function FO(n,e,t,i,r,s){let o=t[cr],l=o[Ai].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let d=l[c];Nu(e,n,r,d,s)}else{let c=l,d=o[ei];sO(i)&&(c.flags|=128),oC(n,e,c,d,r,s,!0)}}function b$(n,e,t,i,r){let s=t[Ul],o=Cs(t);s!==o&&Nu(e,n,i,s,r);for(let a=Hi;a<t.length;a++){let l=t[a];V0(l[qe],l,n,e,i,s)}}function C$(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let s=i.indexOf("-")===-1?void 0:Es.DashCase;r==null?n.removeStyle(t,i,s):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=Es.Important),n.setStyle(t,i,r,s))}}function E$(n,e,t){n.setAttribute(e,"style",t)}function LO(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function VO(n,e,t){let{mergedAttrs:i,classes:r,styles:s}=t;i!==null&&xb(n,e,i),r!==null&&LO(n,e,r),s!==null&&E$(n,e,s)}var qi={};function D(n=1){BO(Qt(),Ve(),ya()+n,!1)}function BO(n,e,t,i){if(!i)if((e[ke]&3)===3){let s=n.preOrderCheckHooks;s!==null&&Um(e,s,t)}else{let s=n.preOrderHooks;s!==null&&jm(e,s,0,t)}zl(t)}function U(n,e=Ke.Default){let t=Ve();if(t===null)return G(n,e);let i=$n();return JR(i,t,hi(n),e)}function UO(){let n="invalid";throw new Error(n)}function jO(n,e,t,i,r,s){let o=ct(null);try{let a=null;r&ha.SignalBased&&(a=e[i][ro]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),r&ha.HasDecoratorInputTransform&&(s=n.inputTransforms[i].call(e,s)),n.setInput!==null?n.setInput(e,a,s,t,i):bR(e,a,i,s)}finally{ct(o)}}function I$(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let i=0;i<t.length;i++){let r=t[i];if(r<0)zl(~r);else{let s=r,o=t[++i],a=t[++i];qj(o,s);let l=e[s];a(2,l)}}}finally{zl(-1)}}function B0(n,e,t,i,r,s,o,a,l,c,d){let h=e.blueprint.slice();return h[Ts]=r,h[ke]=i|4|128|8|64,(c!==null||n&&n[ke]&2048)&&(h[ke]|=2048),MR(h),h[ei]=h[Gu]=n,h[Lr]=t,h[bs]=o||n&&n[bs],h[jt]=a||n&&n[jt],h[Bu]=l||n&&n[Bu]||null,h[Ai]=s,h[I0]=Sz(),h[of]=d,h[wR]=c,h[cr]=e.type==2?n[cr]:h,h}function Wu(n,e,t,i,r){let s=n.data[e];if(s===null)s=T$(n,e,t,i,r),Gj()&&(s.flags|=32);else if(s.type&64){s.type=t,s.value=i,s.attrs=r;let o=jj();s.injectorIndex=o===null?-1:o.injectorIndex}return Ql(s,!0),s}function T$(n,e,t,i,r){let s=PR(),o=z1(),a=o?s:s&&s.parent,l=n.data[e]=R$(n,a,t,e,i,r);return n.firstChild===null&&(n.firstChild=l),s!==null&&(o?s.child==null&&l.parent!==null&&(s.child=l):s.next===null&&(s.next=l,l.prev=s)),l}function zO(n,e,t,i){if(t===0)return-1;let r=e.length;for(let s=0;s<t;s++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function $O(n,e,t,i,r){let s=ya(),o=i&2;try{zl(-1),o&&e.length>pi&&BO(n,e,pi,!1),ys(o?2:0,r),t(i,r)}finally{zl(s),ys(o?3:1,r)}}function aC(n,e,t){if(B1(e)){let i=ct(null);try{let r=e.directiveStart,s=e.directiveEnd;for(let o=r;o<s;o++){let a=n.data[o];if(a.contentQueries){let l=t[o];a.contentQueries(1,l,o)}}}finally{ct(i)}}}function lC(n,e,t){OR()&&(L$(n,e,t,dr(t,e)),(t.flags&64)===64&&qO(n,e,t))}function cC(n,e,t=dr){let i=e.localNames;if(i!==null){let r=e.index+1;for(let s=0;s<i.length;s+=2){let o=i[s+1],a=o===-1?t(e,n):n[o];n[r++]=a}}}function HO(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=uC(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function uC(n,e,t,i,r,s,o,a,l,c,d){let h=pi+i,m=h+r,v=D$(h,m),b=typeof c=="function"?c():c;return v[qe]={type:n,blueprint:v,template:t,queries:null,viewQuery:a,declTNode:e,data:v.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:l,consts:b,incompleteFirstPass:!1,ssrId:d}}function D$(n,e){let t=[];for(let i=0;i<e;i++)t.push(i<n?null:qi);return t}function S$(n,e,t,i){let s=i.get(Nz,hO)||t===ws.ShadowDom,o=n.selectRootElement(e,s);return M$(o),o}function M$(n){A$(n)}var A$=()=>null;function x$(n,e,t,i){let r=QO(e);r.push(t),n.firstCreatePass&&ZO(n).push(i,r.length-1)}function R$(n,e,t,i,r,s){let o=e?e.injectorIndex:-1,a=0;return NR()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Ox(n,e,t,i,r){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;i??={};let a,l=ha.None;Array.isArray(o)?(a=o[0],l=o[1]):a=o;let c=s;if(r!==null){if(!r.hasOwnProperty(s))continue;c=r[s]}n===0?Nx(i,t,c,a,l):Nx(i,t,c,a)}return i}function Nx(n,e,t,i,r){let s;n.hasOwnProperty(t)?(s=n[t]).push(e,i):s=n[t]=[e,i],r!==void 0&&s.push(r)}function O$(n,e,t){let i=e.directiveStart,r=e.directiveEnd,s=n.data,o=e.attrs,a=[],l=null,c=null;for(let d=i;d<r;d++){let h=s[d],m=t?t.get(h):null,v=m?m.inputs:null,b=m?m.outputs:null;l=Ox(0,h.inputs,d,l,v),c=Ox(1,h.outputs,d,c,b);let A=l!==null&&o!==null&&!F1(e)?K$(l,d,o):null;a.push(A)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}function N$(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function U0(n,e,t,i,r,s,o,a){let l=dr(e,t),c=e.inputs,d;!a&&c!=null&&(d=c[i])?(hC(n,t,d,i,r),T0(e)&&P$(t,e.index)):e.type&3?(i=N$(i),r=o!=null?o(r,e.value||"",i):r,s.setProperty(l,i,r)):e.type&12}function P$(n,e){let t=_a(e,n);t[ke]&16||(t[ke]|=64)}function dC(n,e,t,i){if(OR()){let r=i===null?null:{"":-1},s=B$(n,t),o,a;s===null?o=a=null:[o,a]=s,o!==null&&GO(n,e,t,o,r,a),r&&U$(t,i,r)}t.mergedAttrs=rf(t.mergedAttrs,t.attrs)}function GO(n,e,t,i,r,s){for(let c=0;c<i.length;c++)Ub(e0(t,e),n,i[c].type);z$(t,n.data.length,i.length);for(let c=0;c<i.length;c++){let d=i[c];d.providersResolver&&d.providersResolver(d)}let o=!1,a=!1,l=zO(n,e,i.length,null);for(let c=0;c<i.length;c++){let d=i[c];t.mergedAttrs=rf(t.mergedAttrs,d.hostAttrs),$$(n,t,e,l,d),j$(l,d,r),d.contentQueries!==null&&(t.flags|=4),(d.hostBindings!==null||d.hostAttrs!==null||d.hostVars!==0)&&(t.flags|=64);let h=d.type.prototype;!o&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),o=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}O$(n,t,s)}function k$(n,e,t,i,r){let s=r.hostBindings;if(s){let o=n.hostBindingOpCodes;o===null&&(o=n.hostBindingOpCodes=[]);let a=~e.index;F$(o)!=a&&o.push(a),o.push(t,i,s)}}function F$(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function L$(n,e,t,i){let r=t.directiveStart,s=t.directiveEnd;T0(t)&&H$(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||e0(t,e),fa(i,e);let o=t.initialInputs;for(let a=r;a<s;a++){let l=n.data[a],c=Hl(e,n,a,t);if(fa(c,e),o!==null&&W$(e,a-r,c,l,t,o),ho(l)){let d=_a(t.index,e);d[Lr]=Hl(e,n,a,t)}}}function qO(n,e,t){let i=t.directiveStart,r=t.directiveEnd,s=t.index,o=Wj();try{zl(s);for(let a=i;a<r;a++){let l=n.data[a],c=e[a];Lb(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&V$(l,c)}}finally{zl(-1),Lb(o)}}function V$(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function B$(n,e){let t=n.directiveRegistry,i=null,r=null;if(t)for(let s=0;s<t.length;s++){let o=t[s];if(lR(e,o.selectors,!1))if(i||(i=[]),ho(o))if(o.findHostDirectiveDefs!==null){let a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),i.unshift(...a,o);let l=a.length;r1(n,e,l)}else i.unshift(o),r1(n,e,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return i===null?null:[i,r]}function r1(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function U$(n,e,t){if(e){let i=n.localNames=[];for(let r=0;r<e.length;r+=2){let s=t[e[r+1]];if(s==null)throw new re(-301,!1);i.push(e[r],s)}}}function j$(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;ho(e)&&(t[""]=n)}}function z$(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function $$(n,e,t,i,r){n.data[i]=r;let s=r.factory||(r.factory=Vl(r.type,!0)),o=new $l(s,ho(r),U);n.blueprint[i]=o,t[i]=o,k$(n,e,i,zO(n,t,r.hostVars,qi),r)}function H$(n,e,t){let i=dr(e,n),r=HO(t),s=n[bs].rendererFactory,o=16;t.signals?o=4096:t.onPush&&(o=64);let a=j0(n,B0(n,r,null,o,i,e,null,s.createRenderer(i,t),null,null,null));n[e.index]=a}function G$(n,e,t,i,r,s){let o=dr(n,e);q$(e[jt],o,s,n.value,t,i,r)}function q$(n,e,t,i,r,s,o){if(s==null)n.removeAttribute(e,r,t);else{let a=o==null?Ll(s):o(s,i||"",r);n.setAttribute(e,r,a,t)}}function W$(n,e,t,i,r,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let l=o[a++],c=o[a++],d=o[a++],h=o[a++];jO(i,t,l,c,d,h)}}function K$(n,e,t){let i=null,r=0;for(;r<t.length;){let s=t[r];if(s===0){r+=4;continue}else if(s===5){r+=2;continue}if(typeof s=="number")break;if(n.hasOwnProperty(s)){i===null&&(i=[]);let o=n[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){i.push(s,o[a+1],o[a+2],t[r+1]);break}}r+=2}return i}function WO(n,e,t,i){return[n,!0,0,e,null,i,null,t,null,null]}function KO(n,e){let t=n.contentQueries;if(t!==null){let i=ct(null);try{for(let r=0;r<t.length;r+=2){let s=t[r],o=t[r+1];if(o!==-1){let a=n.data[o];G1(s),a.contentQueries(2,e[o],o)}}}finally{ct(i)}}}function j0(n,e){return n[af]?n[fx][Fr]=e:n[af]=e,n[fx]=e,e}function s1(n,e,t){G1(0);let i=ct(null);try{e(n,t)}finally{ct(i)}}function QO(n){return n[Km]??=[]}function ZO(n){return n.cleanup??=[]}function Q$(n,e,t){return(n===null||ho(n))&&(t=Rj(t[e.index])),t[jt]}function YO(n,e){let t=n[Bu],i=t?t.get(fo,null):null;i&&i.handleError(e)}function hC(n,e,t,i,r){for(let s=0;s<t.length;){let o=t[s++],a=t[s++],l=t[s++],c=e[o],d=n.data[o];jO(d,c,i,a,l,r)}}function JO(n,e,t){let i=DR(e,n);a$(n[jt],i,t)}function Z$(n,e){let t=_a(e,n),i=t[qe];Y$(i,t);let r=t[Ts];r!==null&&t[of]===null&&(t[of]=eC(r,t[Bu])),fC(i,t,t[Lr])}function Y$(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function fC(n,e,t){q1(e);try{let i=n.viewQuery;i!==null&&s1(1,i,t);let r=n.template;r!==null&&$O(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[uo]?.finishViewCreation(n),n.staticContentQueries&&KO(n,e),n.staticViewQueries&&s1(2,n.viewQuery,t);let s=n.components;s!==null&&J$(e,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[ke]&=-5,W1()}}function J$(n,e){for(let t=0;t<e.length;t++)Z$(n,e[t])}function XO(n,e,t,i){let r=ct(null);try{let s=e.tView,a=n[ke]&4096?4096:16,l=B0(n,s,t,a,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),c=n[e.index];l[Bl]=c;let d=n[uo];return d!==null&&(l[uo]=d.createEmbeddedView(s)),fC(s,l,t),l}finally{ct(r)}}function o1(n,e){return!e||e.firstChild===null||sO(n)}function eN(n,e,t,i=!0){let r=e[qe];if(h$(r,e,n,t),i){let o=i1(t,n),a=e[jt],l=NO(a,n[Ul]);l!==null&&u$(r,n[Ai],a,e,l,o)}let s=e[of];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function s0(n,e,t,i,r=!1){for(;t!==null;){if(t.type===128){t=r?t.projectionNext:t.next;continue}let s=e[t.index];s!==null&&i.push(Cs(s)),mo(s)&&X$(s,i);let o=t.type;if(o&8)s0(n,e,t.child,i);else if(o&32){let a=rC(t,e),l;for(;l=a();)i.push(l)}else if(o&16){let a=kO(e,t);if(Array.isArray(a))i.push(...a);else{let l=jl(e[cr]);s0(l[qe],l,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function X$(n,e){for(let t=Hi;t<n.length;t++){let i=n[t],r=i[qe].firstChild;r!==null&&s0(i[qe],i,r,e)}n[Ul]!==n[Ts]&&e.push(n[Ul])}var tN=[];function e8(n){return n[lr]??t8(n)}function t8(n){let e=tN.pop()??Object.create(i8);return e.lView=n,e}function n8(n){n.lView[lr]!==n&&(n.lView=null,tN.push(n))}var i8=Ee(Q({},Kh),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{M0(n.lView)},consumerOnSignalRead(){this.lView[lr]=this}});function r8(n){let e=n[lr]??Object.create(s8);return e.lView=n,e}var s8=Ee(Q({},Kh),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=jl(n.lView);for(;e&&!nN(e[qe]);)e=jl(e);e&&AR(e)},consumerOnSignalRead(){this.lView[lr]=this}});function nN(n){return n.type!==2}var o8=100;function iN(n,e=!0,t=0){let i=n[bs],r=i.rendererFactory,s=!1;s||r.begin?.();try{a8(n,t)}catch(o){throw e&&YO(n,o),o}finally{s||(r.end?.(),i.inlineEffectRunner?.flush())}}function a8(n,e){let t=kR();try{gx(!0),a1(n,e);let i=0;for(;S0(n);){if(i===o8)throw new re(103,!1);i++,a1(n,1)}}finally{gx(t)}}function l8(n,e,t,i){let r=e[ke];if((r&256)===256)return;let s=!1,o=!1;!s&&e[bs].inlineEffectRunner?.flush(),q1(e);let a=!0,l=null,c=null;s||(nN(n)?(c=e8(e),l=Xg(c)):CA()===null?(a=!1,c=r8(e),l=Xg(c)):e[lr]&&($w(e[lr]),e[lr]=null));try{MR(e),Hj(n.bindingStartIndex),t!==null&&$O(n,e,t,2,i);let d=(r&3)===3;if(!s)if(d){let v=n.preOrderCheckHooks;v!==null&&Um(e,v,null)}else{let v=n.preOrderHooks;v!==null&&jm(e,v,0,null),gb(e,0)}if(o||c8(e),rN(e,0),n.contentQueries!==null&&KO(n,e),!s)if(d){let v=n.contentCheckHooks;v!==null&&Um(e,v)}else{let v=n.contentHooks;v!==null&&jm(e,v,1),gb(e,1)}I$(n,e);let h=n.components;h!==null&&oN(e,h,0);let m=n.viewQuery;if(m!==null&&s1(2,m,i),!s)if(d){let v=n.viewCheckHooks;v!==null&&Um(e,v)}else{let v=n.viewHooks;v!==null&&jm(e,v,2),gb(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[pb]){for(let v of e[pb])v();e[pb]=null}s||(e[ke]&=-73)}catch(d){throw s||M0(e),d}finally{c!==null&&(jw(c,l),a&&n8(c)),W1()}}function rN(n,e){for(let t=aO(n);t!==null;t=lO(t))for(let i=Hi;i<t.length;i++){let r=t[i];sN(r,e)}}function c8(n){for(let e=aO(n);e!==null;e=lO(e)){if(!(e[ke]&Zm.HasTransplantedViews))continue;let t=e[Uu];for(let i=0;i<t.length;i++){let r=t[i];AR(r)}}}function u8(n,e,t){let i=_a(e,n);sN(i,t)}function sN(n,e){j1(n)&&a1(n,e)}function a1(n,e){let i=n[qe],r=n[ke],s=n[lr],o=!!(e===0&&r&16);if(o||=!!(r&64&&e===0),o||=!!(r&1024),o||=!!(s?.dirty&&zw(s)),o||=!1,s&&(s.dirty=!1),n[ke]&=-9217,o)l8(i,n,i.template,n[Lr]);else if(r&8192){rN(n,1);let a=i.components;a!==null&&oN(n,a,1)}}function oN(n,e,t){for(let i=0;i<e.length;i++)u8(n,e[i],t)}function pC(n,e){let t=kR()?64:1088;for(n[bs].changeDetectionScheduler?.notify(e);n;){n[ke]|=t;let i=jl(n);if(Pb(n)&&!i)return n;n=i}return null}var Gl=class{get rootNodes(){let e=this._lView,t=e[qe];return s0(t,e,t.firstChild,[])}constructor(e,t,i=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Lr]}set context(e){this._lView[Lr]=e}get destroyed(){return(this._lView[ke]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[ei];if(mo(e)){let t=e[Qm],i=t?t.indexOf(this):-1;i>-1&&(n1(e,i),qm(t,i))}this._attachedToViewContainer=!1}xO(this._lView[qe],this._lView)}onDestroy(e){xR(this._lView,e)}markForCheck(){pC(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ke]&=-129}reattach(){Fb(this._lView),this._lView[ke]|=128}detectChanges(){this._lView[ke]|=1024,iN(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new re(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Pb(this._lView),t=this._lView[Bl];t!==null&&!e&&sC(t,this._lView),MO(this._lView[qe],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new re(902,!1);this._appRef=e;let t=Pb(this._lView),i=this._lView[Bl];i!==null&&!t&&AO(i,this._lView),Fb(this._lView)}},Vr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=f8;let n=e;return n})(),d8=Vr,h8=class extends d8{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){let r=XO(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:i});return new Gl(r)}};function f8(){return z0($n(),Ve())}function z0(n,e){return n.type&4?new h8(e,n,qu(n,e)):null}var xde=new RegExp(`^(\\d+)*(${Rz}|${xz})*(.*)`);var p8=()=>null;function l1(n,e){return p8(n,e)}var zu=class{},aN=new oe("",{providedIn:"root",factory:()=>!1});var lN=new oe(""),cN=new oe(""),c1=class{},o0=class{};function g8(n){let e=Error(`No component factory found for ${fi(n)}.`);return e[m8]=n,e}var m8="ngComponent";var u1=class{resolveComponentFactory(e){throw g8(e)}},SC=class SC{};SC.NULL=new u1;var pa=SC,ga=class{},ti=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>_8();let n=e;return n})();function _8(){let n=Ve(),e=$n(),t=_a(e.index,n);return(da(t)?t:n)[jt]}var y8=(()=>{let e=class e{};e.\u0275prov=ee({token:e,providedIn:"root",factory:()=>null});let n=e;return n})();function a0(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)r=Db(r,a);else if(s==2){let l=a,c=e[++o];i=Db(i,l+": "+c+";")}}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}var l0=class extends pa{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=co(e);return new ql(t,this.ngModule)}};function Px(n,e){let t=[];for(let i in n){if(!n.hasOwnProperty(i))continue;let r=n[i];if(r===void 0)continue;let s=Array.isArray(r),o=s?r[0]:r,a=s?r[1]:ha.None;e?t.push({propName:o,templateName:i,isSignal:(a&ha.SignalBased)!==0}):t.push({propName:o,templateName:i})}return t}function v8(n){let e=n.toLowerCase();return e==="svg"?TR:e==="math"?xj:null}var ql=class extends o0{get inputs(){let e=this.componentDef,t=e.inputTransforms,i=Px(e.inputs,!0);if(t!==null)for(let r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return Px(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=lj(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let s=ct(null);try{r=r||this.ngModule;let o=r instanceof On?r:r?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new Vb(e,o):e,l=a.get(ga,null);if(l===null)throw new re(407,!1);let c=a.get(y8,null),d=a.get(zu,null),h={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,changeDetectionScheduler:d},m=l.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",b=i?S$(m,i,this.componentDef.encapsulation,a):SO(m,v,v8(v)),A=512;this.componentDef.signals?A|=4096:this.componentDef.onPush||(A|=16);let S=null;b!==null&&(S=eC(b,a,!0));let j=uC(0,null,null,1,0,null,null,null,null,null,null),Z=B0(null,j,null,A,null,null,h,m,a,null,S);q1(Z);let W,Y,ge=null;try{let ae=this.componentDef,R,T=null;ae.findHostDirectiveDefs?(R=[],T=new Map,ae.findHostDirectiveDefs(ae,R,T),R.push(ae)):R=[ae];let M=w8(Z,b);ge=b8(M,b,ae,R,Z,h,m),Y=SR(j,pi),b&&I8(m,ae,b,i),t!==void 0&&T8(Y,this.ngContentSelectors,t),W=E8(ge,ae,R,T,Z,[D8]),fC(j,Z,null)}catch(ae){throw ge!==null&&qb(ge),qb(Z),ae}finally{W1()}return new d1(this.componentType,W,qu(Y,Z),Z,Y)}finally{ct(s)}}},d1=class extends c1{constructor(e,t,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Gl(r,void 0,!1),this.componentType=e}setInput(e,t){let i=this._tNode.inputs,r;if(i!==null&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let s=this._rootLView;hC(s[qe],s,r,e,t),this.previousInputValues.set(e,t);let o=_a(this._tNode.index,s);pC(o,1)}}get injector(){return new Fl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function w8(n,e){let t=n[qe],i=pi;return n[i]=e,Wu(t,i,2,"#host",null)}function b8(n,e,t,i,r,s,o){let a=r[qe];C8(i,n,e,o);let l=null;e!==null&&(l=eC(e,r[Bu]));let c=s.rendererFactory.createRenderer(e,t),d=16;t.signals?d=4096:t.onPush&&(d=64);let h=B0(r,HO(t),null,d,r[n.index],n,s,c,null,null,l);return a.firstCreatePass&&r1(a,n,i.length-1),j0(r,h),r[n.index]=h}function C8(n,e,t,i){for(let r of n)e.mergedAttrs=rf(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(a0(e,e.mergedAttrs,!0),t!==null&&VO(i,t,e))}function E8(n,e,t,i,r,s){let o=$n(),a=r[qe],l=dr(o,r);GO(a,r,o,t,null,i);for(let d=0;d<t.length;d++){let h=o.directiveStart+d,m=Hl(r,a,h,o);fa(m,r)}qO(a,r,o),l&&fa(l,r);let c=Hl(r,a,o.directiveStart+o.componentOffset,o);if(n[Lr]=r[Lr]=c,s!==null)for(let d of s)d(c,e);return aC(a,o,r),c}function I8(n,e,t,i){if(i)xb(n,t,["ng-version","18.2.4"]);else{let{attrs:r,classes:s}=cj(e.selectors[0]);r&&xb(n,t,r),s&&s.length>0&&LO(n,t,s.join(" "))}}function T8(n,e,t){let i=n.projection=[];for(let r=0;r<e.length;r++){let s=t[r];i.push(s!=null?Array.from(s):null)}}function D8(){let n=$n();R0(Ve()[qe],n)}var Ss=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=S8;let n=e;return n})();function S8(){let n=$n();return dN(n,Ve())}var M8=Ss,uN=class extends M8{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return qu(this._hostTNode,this._hostLView)}get injector(){return new Fl(this._hostTNode,this._hostLView)}get parentInjector(){let e=K1(this._hostTNode,this._hostLView);if(qR(e)){let t=Jm(e,this._hostLView),i=Ym(e),r=t[qe].data[i+8];return new Fl(r,t)}else return new Fl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=kx(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Hi}createEmbeddedView(e,t,i){let r,s;typeof i=="number"?r=i:i!=null&&(r=i.index,s=i.injector);let o=l1(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},s,o);return this.insertImpl(a,r,o1(this._hostTNode,o)),a}createComponent(e,t,i,r,s){let o=e&&!Dj(e),a;if(o)a=t;else{let b=t||{};a=b.index,i=b.injector,r=b.projectableNodes,s=b.environmentInjector||b.ngModuleRef}let l=o?e:new ql(co(e)),c=i||this.parentInjector;if(!s&&l.ngModule==null){let A=(o?c:this.parentInjector).get(On,null);A&&(s=A)}let d=co(l.componentType??{}),h=l1(this._lContainer,d?.id??null),m=h?.firstChild??null,v=l.create(c,r,m,s);return this.insertImpl(v.hostView,a,o1(this._hostTNode,h)),v}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,i){let r=e._lView;if(Nj(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=r[ei],c=new uN(l,l[Ai],l[ei]);c.detach(c.indexOf(e))}}let s=this._adjustIndex(t),o=this._lContainer;return eN(o,r,s,i),e.attachToViewContainerRef(),nR(wb(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=kx(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),i=n1(this._lContainer,t);i&&(qm(wb(this._lContainer),t),xO(i[qe],i))}detach(e){let t=this._adjustIndex(e,-1),i=n1(this._lContainer,t);return i&&qm(wb(this._lContainer),t)!=null?new Gl(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function kx(n){return n[Qm]}function wb(n){return n[Qm]||(n[Qm]=[])}function dN(n,e){let t,i=e[n.index];return mo(i)?t=i:(t=WO(i,e,null,n),e[n.index]=t,j0(e,t)),x8(t,e,n,i),new uN(t,n,e)}function A8(n,e){let t=n[jt],i=t.createComment(""),r=dr(e,n),s=NO(t,r);return r0(t,s,i,m$(t,r),!1),i}var x8=N8,R8=()=>!1;function O8(n,e,t){return R8(n,e,t)}function N8(n,e,t,i){if(n[Ul])return;let r;t.type&8?r=Cs(i):r=A8(e,t),n[Ul]=r}var h1=class n{constructor(e){this.queryList=e,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},f1=class n{constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let i=e.contentQueries!==null?e.contentQueries[0]:t.length,r=[];for(let s=0;s<i;s++){let o=t.getByIndex(s),a=this.queries[o.indexInDeclarationView];r.push(a.clone())}return new n(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)gC(e,t).matches!==null&&this.queries[t].setDirty()}},c0=class{constructor(e,t,i=null){this.flags=t,this.read=i,typeof e=="string"?this.predicate=j8(e):this.predicate=e}},p1=class n{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){let r=t!==null?t.length:0,s=this.getByIndex(i).embeddedTView(e,r);s&&(s.indexInDeclarationView=i,t!==null?t.push(s):t=[s])}return t!==null?new n(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},g1=class n{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==t;)i=i.parent;return t===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let s=i[r];this.matchTNodeWithReadOption(e,t,P8(t,s)),this.matchTNodeWithReadOption(e,t,zm(t,e,s,!1,!1))}else i===Vr?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,zm(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===nt||r===Ss||r===Vr&&t.type&4)this.addMatch(t.index,-2);else{let s=zm(t,e,r,!1,!1);s!==null&&this.addMatch(t.index,s)}else this.addMatch(t.index,i)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function P8(n,e){let t=n.localNames;if(t!==null){for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1]}return null}function k8(n,e){return n.type&11?qu(n,e):n.type&4?z0(n,e):null}function F8(n,e,t,i){return t===-1?k8(e,n):t===-2?L8(n,e,i):Hl(n,n[qe],t,e)}function L8(n,e,t){if(t===nt)return qu(e,n);if(t===Vr)return z0(e,n);if(t===Ss)return dN(e,n)}function hN(n,e,t,i){let r=e[uo].queries[i];if(r.matches===null){let s=n.data,o=t.matches,a=[];for(let l=0;o!==null&&l<o.length;l+=2){let c=o[l];if(c<0)a.push(null);else{let d=s[c];a.push(F8(e,d,o[l+1],t.metadata.read))}}r.matches=a}return r.matches}function m1(n,e,t,i){let r=n.queries.getByIndex(t),s=r.matches;if(s!==null){let o=hN(n,e,r,t);for(let a=0;a<s.length;a+=2){let l=s[a];if(l>0)i.push(o[a/2]);else{let c=s[a+1],d=e[-l];for(let h=Hi;h<d.length;h++){let m=d[h];m[Bl]===m[ei]&&m1(m[qe],m,c,i)}if(d[Uu]!==null){let h=d[Uu];for(let m=0;m<h.length;m++){let v=h[m];m1(v[qe],v,c,i)}}}}}return i}function V8(n,e){return n[uo].queries[e].queryList}function fN(n,e,t){let i=new Gb((t&4)===4);return x$(n,e,i,i.destroy),(e[uo]??=new f1).queries.push(new h1(i))-1}function B8(n,e,t){let i=Qt();return i.firstCreatePass&&(pN(i,new c0(n,e,t),-1),(e&2)===2&&(i.staticViewQueries=!0)),fN(i,Ve(),e)}function U8(n,e,t,i){let r=Qt();if(r.firstCreatePass){let s=$n();pN(r,new c0(e,t,i),s.index),z8(r,n),(t&2)===2&&(r.staticContentQueries=!0)}return fN(r,Ve(),t)}function j8(n){return n.split(",").map(e=>e.trim())}function pN(n,e,t){n.queries===null&&(n.queries=new p1),n.queries.track(new g1(e,t))}function z8(n,e){let t=n.contentQueries||(n.contentQueries=[]),i=t.length?t[t.length-1]:-1;e!==i&&t.push(n.queries.length-1,e)}function gC(n,e){return n.queries.getByIndex(e)}function $8(n,e){let t=n[qe],i=gC(t,e);return i.crossesNgTemplate?m1(t,n,e,[]):hN(t,n,i,e)}var Fx=new Set;function Yl(n){Fx.has(n)||(Fx.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function H8(n){return typeof n=="function"&&n[ro]!==void 0}function xi(n,e){Yl("NgSignals");let t=NA(n),i=t[ro];return e?.equal&&(i.equal=e.equal),t.set=r=>Hw(i,r),t.update=r=>PA(i,r),t.asReadonly=G8.bind(t),t}function G8(){let n=this[ro];if(n.readonlyFn===void 0){let e=()=>this();e[ro]=n,n.readonlyFn=e}return n.readonlyFn}function gN(n){return H8(n)&&typeof n.set=="function"}function q8(n){let e=[],t=new Map;function i(r){let s=t.get(r);if(!s){let o=n(r);t.set(r,s=o.then(Z8))}return s}return u0.forEach((r,s)=>{let o=[];r.templateUrl&&o.push(i(r.templateUrl).then(c=>{r.template=c}));let a=typeof r.styles=="string"?[r.styles]:r.styles||[];if(r.styles=a,r.styleUrl&&r.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(r.styleUrls?.length){let c=r.styles.length,d=r.styleUrls;r.styleUrls.forEach((h,m)=>{a.push(""),o.push(i(h).then(v=>{a[c+m]=v,d.splice(d.indexOf(h),1),d.length==0&&(r.styleUrls=void 0)}))})}else r.styleUrl&&o.push(i(r.styleUrl).then(c=>{a.push(c),r.styleUrl=void 0}));let l=Promise.all(o).then(()=>Y8(s));e.push(l)}),K8(),Promise.all(e).then(()=>{})}var u0=new Map,W8=new Set;function K8(){let n=u0;return u0=new Map,n}function Q8(){return u0.size===0}function Z8(n){return typeof n=="string"?n:n.text()}function Y8(n){W8.delete(n)}function J8(n){return Object.getPrototypeOf(n.prototype).constructor}function fn(n){let e=J8(n.type),t=!0,i=[n];for(;e;){let r;if(ho(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new re(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);let o=n;o.inputs=km(n.inputs),o.inputTransforms=km(n.inputTransforms),o.declaredInputs=km(n.declaredInputs),o.outputs=km(n.outputs);let a=r.hostBindings;a&&i6(n,a);let l=r.viewQuery,c=r.contentQueries;if(l&&t6(n,l),c&&n6(n,c),X8(n,r),S4(n.outputs,r.outputs),ho(r)&&r.data.animation){let d=n.data;d.animation=(d.animation||[]).concat(r.data.animation)}}let s=r.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(n),a===fn&&(t=!1)}}e=Object.getPrototypeOf(e)}e6(i)}function X8(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let i=e.inputs[t];if(i!==void 0&&(n.inputs[t]=i,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;n.inputTransforms??={},n.inputTransforms[r]=e.inputTransforms[r]}}}function e6(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){let r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=rf(r.hostAttrs,t=rf(t,r.hostAttrs))}}function km(n){return n===Fu?{}:n===Mi?[]:n}function t6(n,e){let t=n.viewQuery;t?n.viewQuery=(i,r)=>{e(i,r),t(i,r)}:n.viewQuery=e}function n6(n,e){let t=n.contentQueries;t?n.contentQueries=(i,r,s)=>{e(i,r,s),t(i,r,s)}:n.contentQueries=e}function i6(n,e){let t=n.hostBindings;t?n.hostBindings=(i,r)=>{e(i,r),t(i,r)}:n.hostBindings=e}function mi(n){let e=n.inputConfig,t={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i];Array.isArray(r)&&r[3]&&(t[i]=r[3])}n.inputTransforms=t}var ma=class{},lf=class{};var d0=class extends ma{constructor(e,t,i,r=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new l0(this);let s=hR(e);this._bootstrapComponents=DO(s.bootstrap),this._r3Injector=tO(e,t,[{provide:ma,useValue:this},{provide:pa,useValue:this.componentFactoryResolver},...i],fi(e),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},h0=class extends lf{constructor(e){super(),this.moduleType=e}create(e){return new d0(this.moduleType,e,[])}};function r6(n,e,t){return new d0(n,e,t,!1)}var _1=class extends ma{constructor(e){super(),this.componentFactoryResolver=new l0(this),this.instance=null;let t=new sf([...e.providers,{provide:ma,useValue:this},{provide:pa,useValue:this.componentFactoryResolver}],e.parent||E0(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function $0(n,e,t=null){return new _1({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function mN(n){return mC(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function s6(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),i;for(;!(i=t.next()).done;)e(i.value)}}function mC(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function mf(n,e,t){return n[e]=t}function o6(n,e){return n[e]}function Br(n,e,t){let i=n[e];return Object.is(i,t)?!1:(n[e]=t,!0)}function f0(n,e,t,i){let r=Br(n,e,t);return Br(n,e+1,i)||r}function a6(n,e,t,i,r,s){let o=f0(n,e,t,i);return f0(n,e+2,r,s)||o}function l6(n){return(n.flags&32)===32}function c6(n,e,t,i,r,s,o,a,l){let c=e.consts,d=Wu(e,n,4,o||null,a||null);dC(e,t,d,ju(c,l)),R0(e,d);let h=d.tView=uC(2,d,i,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return e.queries!==null&&(e.queries.template(e,d),h.queries=e.queries.embeddedTView(d)),d}function _N(n,e,t,i,r,s,o,a,l,c){let d=t+pi,h=e.firstCreatePass?c6(d,e,n,i,r,s,o,a,l):e.data[d];Ql(h,!1);let m=u6(e,n,h,t);A0()&&L0(e,n,m,h),fa(m,n);let v=WO(m,n,m,h);return n[d]=v,j0(n,v),O8(v,h,n),D0(h)&&lC(e,n,h),l!=null&&cC(n,h,c),h}function J(n,e,t,i,r,s,o,a){let l=Ve(),c=Qt(),d=ju(c.consts,s);return _N(l,c,n,e,t,i,r,d,o,a),J}var u6=d6;function d6(n,e,t,i){return x0(!0),e[jt].createComment("")}var lo=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(lo||{}),yN=(()=>{let e=class e{constructor(){this.impl=null}execute(){this.impl?.execute()}};e.\u0275prov=ee({token:e,providedIn:"root",factory:()=>new e});let n=e;return n})(),kl=class kl{constructor(){this.ngZone=K(De),this.scheduler=K(zu),this.errorHandler=K(fo,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(let e of kl.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(i){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}};kl.PHASES=[lo.EarlyRead,lo.Write,lo.MixedReadWrite,lo.Read],kl.\u0275prov=ee({token:kl,providedIn:"root",factory:()=>new kl});var y1=kl,v1=class{constructor(e,t,i,r){this.impl=e,this.hooks=t,this.once=i,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=r.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy()}};function Ku(n,e){!e?.injector&&Ij(Ku);let t=e?.injector??K(Kt);return r$(t)?(Yl("NgAfterNextRender"),f6(n,t,e,!0)):p6}function h6(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function f6(n,e,t,i){let r=e.get(yN);r.impl??=e.get(y1);let s=t?.phase??lo.MixedReadWrite,o=new v1(r.impl,h6(n,s),i,e.get(N0));return r.impl.register(o),o}var p6={destroy(){}};function Je(n,e,t,i){let r=Ve(),s=hf();if(Br(r,s,e)){let o=Qt(),a=ff();G$(a,r,n,e,t,i)}return Je}function vN(n,e,t,i){return Br(n,hf(),t)?e+Ll(t)+i:qi}function g6(n,e,t,i,r,s){let o=$j(),a=f0(n,o,t,r);return H1(2),a?e+Ll(t)+i+Ll(r)+s:qi}function Fm(n,e){return n<<17|e<<2}function Wl(n){return n>>17&32767}function m6(n){return(n&2)==2}function _6(n,e){return n&131071|e<<17}function w1(n){return n|2}function $u(n){return(n&131068)>>2}function bb(n,e){return n&-131069|e<<2}function y6(n){return(n&1)===1}function b1(n){return n|1}function v6(n,e,t,i,r,s){let o=s?e.classBindings:e.styleBindings,a=Wl(o),l=$u(o);n[i]=t;let c=!1,d;if(Array.isArray(t)){let h=t;d=h[1],(d===null||df(h,d)>0)&&(c=!0)}else d=t;if(r)if(l!==0){let m=Wl(n[a+1]);n[i+1]=Fm(m,a),m!==0&&(n[m+1]=bb(n[m+1],i)),n[a+1]=_6(n[a+1],i)}else n[i+1]=Fm(a,0),a!==0&&(n[a+1]=bb(n[a+1],i)),a=i;else n[i+1]=Fm(l,0),a===0?a=i:n[l+1]=bb(n[l+1],i),l=i;c&&(n[i+1]=w1(n[i+1])),Lx(n,d,i,!0),Lx(n,d,i,!1),w6(e,d,n,i,s),o=Fm(a,l),s?e.classBindings=o:e.styleBindings=o}function w6(n,e,t,i,r){let s=r?n.residualClasses:n.residualStyles;s!=null&&typeof e=="string"&&df(s,e)>=0&&(t[i+1]=b1(t[i+1]))}function Lx(n,e,t,i){let r=n[t+1],s=e===null,o=i?Wl(r):$u(r),a=!1;for(;o!==0&&(a===!1||s);){let l=n[o],c=n[o+1];b6(l,e)&&(a=!0,n[o+1]=i?b1(c):w1(c)),o=i?Wl(c):$u(c)}a&&(n[t+1]=i?w1(r):b1(r))}function b6(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?df(n,e)>=0:!1}var kr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function C6(n){return n.substring(kr.key,kr.keyEnd)}function E6(n){return I6(n),wN(n,bN(n,0,kr.textEnd))}function wN(n,e){let t=kr.textEnd;return t===e?-1:(e=kr.keyEnd=T6(n,kr.key=e,t),bN(n,e,t))}function I6(n){kr.key=0,kr.keyEnd=0,kr.value=0,kr.valueEnd=0,kr.textEnd=n.length}function bN(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function T6(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function x(n,e,t){let i=Ve(),r=hf();if(Br(i,r,e)){let s=Qt(),o=ff();U0(s,o,i,n,e,i[jt],t,!1)}return x}function C1(n,e,t,i,r){let s=e.inputs,o=r?"class":"style";hC(n,t,s[o],o,i)}function va(n,e,t){return CN(n,e,t,!1),va}function Ur(n,e){return CN(n,e,null,!0),Ur}function It(n){S6(N6,D6,n,!0)}function D6(n,e){for(let t=E6(e);t>=0;t=wN(e,t))k1(n,C6(e),!0)}function CN(n,e,t,i){let r=Ve(),s=Qt(),o=H1(2);if(s.firstUpdatePass&&IN(s,n,o,i),e!==qi&&Br(r,o,e)){let a=s.data[ya()];TN(s,a,r,r[jt],n,r[o+1]=k6(e,t),i,o)}}function S6(n,e,t,i){let r=Qt(),s=H1(2);r.firstUpdatePass&&IN(r,null,s,i);let o=Ve();if(t!==qi&&Br(o,s,t)){let a=r.data[ya()];if(DN(a,i)&&!EN(r,s)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(t=Db(l,t||"")),C1(r,a,o,t,i)}else P6(r,a,o,o[jt],o[s+1],o[s+1]=O6(n,e,t),i,s)}}function EN(n,e){return e>=n.expandoStartIndex}function IN(n,e,t,i){let r=n.data;if(r[t+1]===null){let s=r[ya()],o=EN(n,t);DN(s,i)&&e===null&&!o&&(e=!1),e=M6(r,s,e,i),v6(r,s,e,t,o,i)}}function M6(n,e,t,i){let r=FR(n),s=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(t=Cb(null,n,e,t,i),t=cf(t,e.attrs,i),s=null);else{let o=e.directiveStylingLast;if(o===-1||n[o]!==r)if(t=Cb(r,n,e,t,i),s===null){let l=A6(n,e,i);l!==void 0&&Array.isArray(l)&&(l=Cb(null,n,e,l[1],i),l=cf(l,e.attrs,i),x6(n,e,i,l))}else s=R6(n,e,i)}return s!==void 0&&(i?e.residualClasses=s:e.residualStyles=s),t}function A6(n,e,t){let i=t?e.classBindings:e.styleBindings;if($u(i)!==0)return n[Wl(i)]}function x6(n,e,t,i){let r=t?e.classBindings:e.styleBindings;n[Wl(r)]=i}function R6(n,e,t){let i,r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++){let o=n[s].hostAttrs;i=cf(i,o,t)}return cf(i,e.attrs,t)}function Cb(n,e,t,i,r){let s=null,o=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<o&&(s=e[a],i=cf(i,s.hostAttrs,r),s!==n);)a++;return n!==null&&(t.directiveStylingLast=a),i}function cf(n,e,t){let i=t?1:2,r=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?r=o:r===i&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),k1(n,o,t?!0:e[++s]))}return n===void 0?null:n}function O6(n,e,t){if(t==null||t==="")return Mi;let i=[],r=hr(t);if(Array.isArray(r))for(let s=0;s<r.length;s++)n(i,r[s],!0);else if(typeof r=="object")for(let s in r)r.hasOwnProperty(s)&&n(i,s,r[s]);else typeof r=="string"&&e(i,r);return i}function N6(n,e,t){let i=String(e);i!==""&&!i.includes(" ")&&k1(n,i,t)}function P6(n,e,t,i,r,s,o,a){r===qi&&(r=Mi);let l=0,c=0,d=0<r.length?r[0]:null,h=0<s.length?s[0]:null;for(;d!==null||h!==null;){let m=l<r.length?r[l+1]:void 0,v=c<s.length?s[c+1]:void 0,b=null,A;d===h?(l+=2,c+=2,m!==v&&(b=h,A=v)):h===null||d!==null&&d<h?(l+=2,b=d):(c+=2,b=h,A=v),b!==null&&TN(n,e,t,i,b,A,o,a),d=l<r.length?r[l]:null,h=c<s.length?s[c]:null}}function TN(n,e,t,i,r,s,o,a){if(!(e.type&3))return;let l=n.data,c=l[a+1],d=y6(c)?Vx(l,e,t,r,$u(c),o):void 0;if(!p0(d)){p0(s)||m6(c)&&(s=Vx(l,null,t,r,a,o));let h=DR(ya(),t);C$(i,o,h,r,s)}}function Vx(n,e,t,i,r,s){let o=e===null,a;for(;r>0;){let l=n[r],c=Array.isArray(l),d=c?l[1]:l,h=d===null,m=t[r+1];m===qi&&(m=h?Mi:void 0);let v=h?hb(m,i):d===i?m:void 0;if(c&&!p0(v)&&(v=hb(l,i)),p0(v)&&(a=v,o))return a;let b=n[r+1];r=o?Wl(b):$u(b)}if(e!==null){let l=s?e.residualClasses:e.residualStyles;l!=null&&(a=hb(l,i))}return a}function p0(n){return n!==void 0}function k6(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=fi(hr(n)))),n}function DN(n,e){return(n.flags&(e?8:16))!==0}function F6(n,e,t,i,r,s){let o=e.consts,a=ju(o,r),l=Wu(e,n,2,i,a);return dC(e,t,l,ju(o,s)),l.attrs!==null&&a0(l,l.attrs,!1),l.mergedAttrs!==null&&a0(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function E(n,e,t,i){let r=Ve(),s=Qt(),o=pi+n,a=r[jt],l=s.firstCreatePass?F6(o,s,r,e,t,i):s.data[o],c=L6(s,r,l,a,e,n);r[o]=c;let d=D0(l);return Ql(l,!0),VO(a,c,l),!l6(l)&&A0()&&L0(s,r,c,l),Fj()===0&&fa(c,r),Lj(),d&&(lC(s,r,l),aC(s,l,r)),i!==null&&cC(r,l),E}function C(){let n=$n();z1()?$1():(n=n.parent,Ql(n,!1));let e=n;Bj(e)&&Uj(),Vj();let t=Qt();return t.firstCreatePass&&(R0(t,n),B1(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&tz(e)&&C1(t,e,Ve(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&nz(e)&&C1(t,e,Ve(),e.stylesWithoutHost,!1),C}function ie(n,e,t,i){return E(n,e,t,i),C(),ie}var L6=(n,e,t,i,r,s)=>(x0(!0),SO(i,r,Yj()));function V6(n,e,t,i,r){let s=e.consts,o=ju(s,i),a=Wu(e,n,8,"ng-container",o);o!==null&&a0(a,o,!0);let l=ju(s,r);return dC(e,t,a,l),e.queries!==null&&e.queries.elementStart(e,a),a}function ni(n,e,t){let i=Ve(),r=Qt(),s=n+pi,o=r.firstCreatePass?V6(s,r,i,e,t):r.data[s];Ql(o,!0);let a=B6(r,i,o,n);return i[s]=a,A0()&&L0(r,i,a,o),fa(a,i),D0(o)&&(lC(r,i,o),aC(r,o,i)),t!=null&&cC(i,o),ni}function ii(){let n=$n(),e=Qt();return z1()?$1():(n=n.parent,Ql(n,!1)),e.firstCreatePass&&(R0(e,n),B1(n)&&e.queries.elementEnd(n)),ii}function wa(n,e,t){return ni(n,e,t),ii(),wa}var B6=(n,e,t,i)=>(x0(!0),l$(e[jt],""));function be(){return Ve()}function _C(n,e,t){let i=Ve(),r=hf();if(Br(i,r,e)){let s=Qt(),o=ff(),a=FR(s.data),l=Q$(a,o,i);U0(s,o,i,n,e,l,t,!0)}return _C}var Nl=void 0;function U6(n){let e=n,t=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return t===1&&i===0?1:5}var j6=["en",[["a","p"],["AM","PM"],Nl],[["AM","PM"],Nl,Nl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Nl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Nl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Nl,"{1} 'at' {0}",Nl],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",U6],Eb={};function fr(n){let e=z6(n),t=Bx(e);if(t)return t;let i=e.split("-")[0];if(t=Bx(i),t)return t;if(i==="en")return j6;throw new re(701,!1)}function Bx(n){return n in Eb||(Eb[n]=zn.ng&&zn.ng.common&&zn.ng.common.locales&&zn.ng.common.locales[n]),Eb[n]}var nn=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(nn||{});function z6(n){return n.toLowerCase().replace(/_/g,"-")}var g0="en-US";var $6=g0;function H6(n){typeof n=="string"&&($6=n.toLowerCase().replace(/_/g,"-"))}var G6=(n,e,t)=>{};function te(n,e,t,i){let r=Ve(),s=Qt(),o=$n();return SN(s,r,r[jt],o,n,e,i),te}function q6(n,e,t,i){let r=n.cleanup;if(r!=null)for(let s=0;s<r.length-1;s+=2){let o=r[s];if(o===t&&r[s+1]===i){let a=e[Km],l=r[s+2];return a.length>l?a[l]:null}typeof o=="string"&&(s+=2)}return null}function SN(n,e,t,i,r,s,o){let a=D0(i),c=n.firstCreatePass&&ZO(n),d=e[Lr],h=QO(e),m=!0;if(i.type&3||o){let A=dr(i,e),S=o?o(A):A,j=h.length,Z=o?Y=>o(Cs(Y[i.index])):i.index,W=null;if(!o&&a&&(W=q6(n,e,r,i.index)),W!==null){let Y=W.__ngLastListenerFn__||W;Y.__ngNextListenerFn__=s,W.__ngLastListenerFn__=s,m=!1}else{s=jx(i,e,d,s),G6(A,r,s);let Y=t.listen(S,r,s);h.push(s,Y),c&&c.push(r,Z,j,j+1)}}else s=jx(i,e,d,s);let v=i.outputs,b;if(m&&v!==null&&(b=v[r])){let A=b.length;if(A)for(let S=0;S<A;S+=2){let j=b[S],Z=b[S+1],ge=e[j][Z].subscribe(s),ae=h.length;h.push(s,ge),c&&c.push(r,i.index,ae,-(ae+1))}}}function Ux(n,e,t,i){let r=ct(null);try{return ys(6,e,t),t(i)!==!1}catch(s){return YO(n,s),!1}finally{ys(7,e,t),ct(r)}}function jx(n,e,t,i){return function r(s){if(s===Function)return i;let o=n.componentOffset>-1?_a(n.index,e):e;pC(o,5);let a=Ux(e,t,i,s),l=r.__ngNextListenerFn__;for(;l;)a=Ux(e,t,l,s)&&a,l=l.__ngNextListenerFn__;return a}}function B(n=1){return Qj(n)}function W6(n,e){let t=null,i=ij(n);for(let r=0;r<e.length;r++){let s=e[r];if(s==="*"){t=r;continue}if(i===null?lR(n,s,!0):oj(i,s))return r}return t}function Wi(n){let e=Ve()[cr][Ai];if(!e.projection){let t=n?n.length:1,i=e.projection=K4(t,null),r=i.slice(),s=e.child;for(;s!==null;){if(s.type!==128){let o=n?W6(s,n):0;o!==null&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s)}s=s.next}}}function _i(n,e=0,t,i,r,s){let o=Ve(),a=Qt(),l=i?n+1:null;l!==null&&_N(o,a,l,i,r,s,null,t);let c=Wu(a,pi+n,16,null,t||null);c.projection===null&&(c.projection=e),$1();let h=!o[of]||NR();o[cr][Ai].projection[c.projection]===null&&l!==null?K6(o,a,l):h&&(c.flags&32)!==32&&w$(a,o,c)}function K6(n,e,t){let i=pi+t,r=e.data[i],s=n[i],o=l1(s,r.tView.ssrId),a=XO(n,r,void 0,{dehydratedView:o});eN(s,a,0,o1(r,o))}function yC(n,e,t,i,r){let s=Ve(),o=vN(s,e,t,i);if(o!==qi){let a=Qt(),l=ff();U0(a,l,s,n,o,s[jt],r,!1)}return yC}function Ms(n,e,t,i){U8(n,e,t,i)}function jr(n,e,t){B8(n,e,t)}function Dn(n){let e=Ve(),t=Qt(),i=LR();G1(i+1);let r=gC(t,i);if(n.dirty&&Oj(e)===((r.metadata.flags&2)===2)){if(r.matches===null)n.reset([]);else{let s=$8(e,i);n.reset(s,Iz),n.notifyOnChanges()}return!0}return!1}function Sn(){return V8(Ve(),LR())}function Q6(n,e,t,i){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=i}function zr(n){let e=zj();return U1(e,pi+n)}function L(n,e=""){let t=Ve(),i=Qt(),r=n+pi,s=i.firstCreatePass?Wu(i,r,1,e,null):i.data[r],o=Z6(i,t,s,e,n);t[r]=o,A0()&&L0(i,t,o,s),Ql(s,!1)}var Z6=(n,e,t,i,r)=>(x0(!0),o$(e[jt],i));function ht(n){return st("",n,""),ht}function st(n,e,t){let i=Ve(),r=vN(i,n,e,t);return r!==qi&&JO(i,ya(),r),st}function $r(n,e,t,i,r){let s=Ve(),o=g6(s,n,e,t,i,r);return o!==qi&&JO(s,ya(),o),$r}function pr(n,e,t){gN(e)&&(e=e());let i=Ve(),r=hf();if(Br(i,r,e)){let s=Qt(),o=ff();U0(s,o,i,n,e,i[jt],t,!1)}return pr}function Hr(n,e){let t=gN(n);return t&&n.set(e),t}function gr(n,e){let t=Ve(),i=Qt(),r=$n();return SN(i,t,t[jt],r,n,e),gr}function Y6(n,e,t){let i=Qt();if(i.firstCreatePass){let r=ho(n);E1(t,i.data,i.blueprint,r,!0),E1(e,i.data,i.blueprint,r,!1)}}function E1(n,e,t,i,r){if(n=hi(n),Array.isArray(n))for(let s=0;s<n.length;s++)E1(n[s],e,t,i,r);else{let s=Qt(),o=Ve(),a=$n(),l=Vu(n)?n:hi(n.provide),c=yR(n),d=a.providerIndexes&1048575,h=a.directiveStart,m=a.providerIndexes>>20;if(Vu(n)||!n.multi){let v=new $l(c,r,U),b=Tb(l,e,r?d:d+m,h);b===-1?(Ub(e0(a,o),s,l),Ib(s,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(v),o.push(v)):(t[b]=v,o[b]=v)}else{let v=Tb(l,e,d+m,h),b=Tb(l,e,d,d+m),A=v>=0&&t[v],S=b>=0&&t[b];if(r&&!S||!r&&!A){Ub(e0(a,o),s,l);let j=eH(r?X6:J6,t.length,r,i,c);!r&&S&&(t[b].providerFactory=j),Ib(s,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(j),o.push(j)}else{let j=MN(t[r?b:v],c,!r&&i);Ib(s,n,v>-1?v:b,j)}!r&&i&&S&&t[b].componentProviders++}}}function Ib(n,e,t,i){let r=Vu(e),s=_j(e);if(r||s){let l=(s?hi(e.useClass):e).prototype.ngOnDestroy;if(l){let c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){let d=c.indexOf(t);d===-1?c.push(t,[i,l]):c[d+1].push(i,l)}else c.push(t,l)}}}function MN(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Tb(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function J6(n,e,t,i){return I1(this.multi,[])}function X6(n,e,t,i){let r=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Hl(t,t[qe],this.providerFactory.index,i);s=a.slice(0,o),I1(r,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],I1(r,s);return s}function I1(n,e){for(let t=0;t<n.length;t++){let i=n[t];e.push(i())}return e}function eH(n,e,t,i,r){let s=new $l(n,t,U);return s.multi=[],s.index=e,s.componentProviders=0,MN(s,r,i&&!t),s}function ba(n,e=[]){return t=>{t.providersResolver=(i,r)=>Y6(i,r?r(n):n,e)}}var tH=(()=>{let e=class e{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){let r=gR(!1,i.type),s=r.length>0?$0([r],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,s)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(let i of this.cachedInjectors.values())i!==null&&i.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=ee({token:e,providedIn:"environment",factory:()=>new e(G(On))});let n=e;return n})();function Pt(n){Yl("NgStandalone"),n.getStandaloneInjector=e=>e.get(tH).getOrCreateStandaloneInjector(n)}function Gr(n,e,t){let i=Zl()+n,r=Ve();return r[i]===qi?mf(r,i,t?e.call(t):e()):o6(r,i)}function Gn(n,e,t,i){return RN(Ve(),Zl(),n,e,t,i)}function _f(n,e,t,i,r){return ON(Ve(),Zl(),n,e,t,i,r)}function AN(n,e,t,i,r,s,o){return nH(Ve(),Zl(),n,e,t,i,r,s,o)}function xN(n,e,t,i){return iH(Ve(),Zl(),n,e,t,i)}function H0(n,e){let t=n[e];return t===qi?void 0:t}function RN(n,e,t,i,r,s){let o=e+t;return Br(n,o,r)?mf(n,o+1,s?i.call(s,r):i(r)):H0(n,o+1)}function ON(n,e,t,i,r,s,o){let a=e+t;return f0(n,a,r,s)?mf(n,a+2,o?i.call(o,r,s):i(r,s)):H0(n,a+2)}function nH(n,e,t,i,r,s,o,a,l){let c=e+t;return a6(n,c,r,s,o,a)?mf(n,c+4,l?i.call(l,r,s,o,a):i(r,s,o,a)):H0(n,c+4)}function iH(n,e,t,i,r,s){let o=e+t,a=!1;for(let l=0;l<r.length;l++)Br(n,o++,r[l])&&(a=!0);return a?mf(n,o,i.apply(s,r)):H0(n,o)}function ri(n,e){let t=Qt(),i,r=n+pi;t.firstCreatePass?(i=rH(e,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks??=[]).push(r,i.onDestroy)):i=t.data[r];let s=i.factory||(i.factory=Vl(i.type,!0)),o,a=Si(U);try{let l=Xm(!1),c=s();return Xm(l),Q6(t,Ve(),r,c),c}finally{Si(a)}}function rH(n,e){if(e)for(let t=e.length-1;t>=0;t--){let i=e[t];if(n===i.name)return i}}function qr(n,e,t){let i=n+pi,r=Ve(),s=U1(r,i);return NN(r,i)?RN(r,Zl(),e,s.transform,t,s):s.transform(t)}function Jl(n,e,t,i){let r=n+pi,s=Ve(),o=U1(s,r);return NN(s,r)?ON(s,Zl(),e,o.transform,t,i,o):o.transform(t,i)}function NN(n,e){return n[qe].data[e].pure}function Wr(n,e){return z0(n,e)}var Lm=null;function sH(n){Lm!==null&&(n.defaultEncapsulation!==Lm.defaultEncapsulation||n.preserveWhitespaces!==Lm.preserveWhitespaces)||(Lm=n)}var go=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},PN=new go("18.2.4");var G0=(()=>{let e=class e{log(i){console.log(i)}warn(i){console.warn(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"platform"});let n=e;return n})();var vC=new oe(""),yf=new oe(""),q0=(()=>{let e=class e{constructor(i,r,s){this._ngZone=i,this.registry=r,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,wC||(oH(s),s.addToWindow(r)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{De.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb()}});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(i)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,r,s){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),i()},r)),this._callbacks.push({doneCb:i,timeoutId:o,updateCb:s})}whenStable(i,r,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,r,s),this._runCallbacksIfReady()}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,r,s){return[]}};e.\u0275fac=function(r){return new(r||e)(G(De),G(W0),G(yf))},e.\u0275prov=ee({token:e,factory:e.\u0275fac});let n=e;return n})(),W0=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(i,r){this._applications.set(i,r)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,r=!0){return wC?.findTestabilityInTree(this,i,r)??null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"platform"});let n=e;return n})();function oH(n){wC=n}var wC;function Ca(n){return!!n&&typeof n.then=="function"}function bC(n){return!!n&&typeof n.subscribe=="function"}var K0=new oe(""),kN=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r}),this.appInits=K(K0,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let i=[];for(let s of this.appInits){let o=s();if(Ca(o))i.push(o);else if(bC(o)){let a=new Promise((l,c)=>{o.subscribe({complete:l,error:c})});i.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{r()}).catch(s=>{this.reject(s)}),i.length===0&&r(),this.initialized=!0}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),Q0=new oe("");function aH(){OA(()=>{throw new re(600,!1)})}function lH(n){return n.isBoundToModule}var cH=10;function uH(n,e,t){try{let i=t();return Ca(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}function FN(n,e){return Array.isArray(e)?e.reduce(FN,n):Q(Q({},n),e)}var yi=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=K(Cz),this.afterRenderManager=K(yN),this.zonelessEnabled=K(aN),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Pe,this.afterTick=new Pe,this.componentTypes=[],this.components=[],this.isStable=K(_o).hasPendingTasks.pipe(se(i=>!i)),this._injector=K(On)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let i;return new Promise(r=>{i=this.isStable.subscribe({next:s=>{s&&r()}})}).finally(()=>{i.unsubscribe()})}get injector(){return this._injector}bootstrap(i,r){let s=i instanceof o0;if(!this._injector.get(kN).done){let v=!s&&dR(i),b=!1;throw new re(405,b)}let a;s?a=i:a=this._injector.get(pa).resolveComponentFactory(i),this.componentTypes.push(a.componentType);let l=lH(a)?void 0:this._injector.get(ma),c=r||a.selector,d=a.create(Kt.NULL,[],c,l),h=d.location.nativeElement,m=d.injector.get(vC,null);return m?.registerApplication(h),d.onDestroy(()=>{this.detachView(d.hostView),$m(this.components,d),m?.unregisterApplication(h)}),this._loadComponent(d),d}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new re(101,!1);let i=ct(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,ct(i),this.afterTick.next()}}synchronize(){let i=null;this._injector.destroyed||(i=this._injector.get(ga,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<cH;)this.synchronizeOnce(i)}synchronizeOnce(i){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:s,notifyErrorHandler:o}of this._views)dH(s,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else i?.begin?.(),i?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:i})=>S0(i))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(i){let r=i;this._views.push(r),r.attachToAppRef(this)}detachView(i){let r=i;$m(this._views,r),r.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);let r=this._injector.get(Q0,[]);[...this._bootstrapListeners,...r].forEach(s=>s(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>$m(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new re(406,!1);let i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function $m(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function dH(n,e,t,i){if(!t&&!S0(n))return;iN(n,e,t&&!i?0:1)}var T1=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Z0=(()=>{let e=class e{compileModuleSync(i){return new h0(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){let r=this.compileModuleSync(i),s=hR(i),o=DO(s.declarations).reduce((a,l)=>{let c=co(l);return c&&a.push(new ql(c)),a},[]);return new T1(r,o)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),hH=new oe("");function fH(n,e,t){let i=new h0(t);return Promise.resolve(i)}function zx(n){for(let e=n.length-1;e>=0;e--)if(n[e]!==void 0)return n[e]}var pH=(()=>{let e=class e{constructor(){this.zone=K(De),this.changeDetectionScheduler=K(zu),this.applicationRef=K(yi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function gH({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new De(Ee(Q({},LN()),{scheduleInRootZone:t})),[{provide:De,useFactory:n},{provide:Lu,multi:!0,useFactory:()=>{let i=K(pH,{optional:!0});return()=>i.initialize()}},{provide:Lu,multi:!0,useFactory:()=>{let i=K(mH);return()=>{i.initialize()}}},e===!0?{provide:lN,useValue:!0}:[],{provide:cN,useValue:t??nO}]}function LN(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var mH=(()=>{let e=class e{constructor(){this.subscription=new Xt,this.initialized=!1,this.zone=K(De),this.pendingTasks=K(_o)}initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{De.assertNotInAngularZone(),queueMicrotask(()=>{i!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{De.assertInAngularZone(),i??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var _H=(()=>{let e=class e{constructor(){this.appRef=K(yi),this.taskService=K(_o),this.ngZone=K(De),this.zonelessEnabled=K(aN),this.disableScheduling=K(lN,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Xt,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(n0):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(K(cN,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof i0||!this.zoneIsDefined)}notify(i){if(!this.zonelessEnabled&&i===5)return;switch(i){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?wx:iO;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(n0+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let i=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(i),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,wx(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(i)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let i=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(i)}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function yH(){return typeof $localize<"u"&&$localize.locale||g0}var vf=new oe("",{providedIn:"root",factory:()=>K(vf,Ke.Optional|Ke.SkipSelf)||yH()});var CC=new oe("");function Vm(n){return!!n.platformInjector}function vH(n){let e=Vm(n)?n.r3Injector:n.moduleRef.injector,t=e.get(De);return t.run(()=>{Vm(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let i=e.get(fo,null),r;if(t.runOutsideAngular(()=>{r=t.onError.subscribe({next:s=>{i.handleError(s)}})}),Vm(n)){let s=()=>e.destroy(),o=n.platformInjector.get(CC);o.add(s),e.onDestroy(()=>{r.unsubscribe(),o.delete(s)})}else n.moduleRef.onDestroy(()=>{$m(n.allPlatformModules,n.moduleRef),r.unsubscribe()});return uH(i,t,()=>{let s=e.get(kN);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(vf,g0);if(H6(o||g0),Vm(n)){let a=e.get(yi);return n.rootComponent!==void 0&&a.bootstrap(n.rootComponent),a}else return wH(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function wH(n,e){let t=n.injector.get(yi);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>t.bootstrap(i));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new re(-403,!1);e.push(n)}var VN=(()=>{let e=class e{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,r){let s=r?.scheduleInRootZone,o=()=>bz(r?.ngZone,Ee(Q({},LN({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing})),{scheduleInRootZone:s})),a=r?.ignoreChangesOutsideZone,l=[gH({ngZoneFactory:o,ignoreChangesOutsideZone:a}),{provide:zu,useExisting:_H}],c=r6(i.moduleType,this.injector,l);return vH({moduleRef:c,allPlatformModules:this._modules})}bootstrapModule(i,r=[]){let s=FN({},r);return fH(this.injector,s,i).then(o=>this.bootstrapModuleFactory(o,s))}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new re(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());let i=this._injector.get(CC,null);i&&(i.forEach(r=>r()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};e.\u0275fac=function(r){return new(r||e)(G(Kt))},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"platform"});let n=e;return n})(),tf=null,BN=new oe("");function bH(n){if(tf&&!tf.get(BN,!1))throw new re(400,!1);aH(),tf=n;let e=n.get(VN);return IH(n),e}function EC(n,e,t=[]){let i=`Platform: ${e}`,r=new oe(i);return(s=[])=>{let o=UN();if(!o||o.injector.get(BN,!1)){let a=[...t,...s,{provide:r,useValue:!0}];n?n(a):bH(CH(a,i))}return EH(r)}}function CH(n=[],e){return Kt.create({name:e,providers:[{provide:C0,useValue:"platform"},{provide:CC,useValue:new Set([()=>tf=null])},...n]})}function EH(n){let e=UN();if(!e)throw new re(401,!1);return e}function UN(){return tf?.get(VN)??null}function IH(n){n.get(Y1,null)?.forEach(t=>t())}function IC(){return!1}var Ri=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=TH;let n=e;return n})();function TH(n){return DH($n(),Ve(),(n&16)===16)}function DH(n,e,t){if(T0(n)&&!t){let i=_a(n.index,e);return new Gl(i,i)}else if(n.type&175){let i=e[cr];return new Gl(i,e)}return null}var D1=class{constructor(){}supports(e){return mN(e)}create(e){return new S1(e)}},SH=(n,e)=>e,S1=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||SH}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,s=null;for(;t||i;){let o=!i||t&&t.currentIndex<$x(i,r,s)?t:i,a=$x(o,r,s),l=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(t=t._next,o.previousIndex==null)r++;else{s||(s=[]);let c=a-r,d=l-r;if(c!=d){for(let m=0;m<c;m++){let v=m<s.length?s[m]:s[m]=0,b=v+m;d<=b&&b<c&&(s[m]=v+1)}let h=o.previousIndex;s[h]=d-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!mN(e))throw new re(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,i=!1,r,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,s,o,a),i=!0):(i&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)),t=t._next}else r=0,s6(e,a=>{o=this._trackByFn(r,a),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,a,o,r),i=!0):(i&&(t=this._verifyReinsertion(t,a,o,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,r),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,r)):e=this._addAfter(new M1(t,i),s,r)),e}_verifyReinsertion(e,t,i,r){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return s!==null?e=this._reinsertAfter(s,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,s=e._nextRemoved;return r===null?this._removalsHead=s:r._nextRemoved=s,s===null?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){let r=t===null?this._itHead:t._next;return e._next=r,e._prev=t,r===null?this._itTail=e:r._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new m0),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,i=e._next;return t===null?this._itHead=i:t._next=i,i===null?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new m0),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},M1=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},A1=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;i!==null;i=i._nextDup)if((t===null||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let t=e._prevDup,i=e._nextDup;return t===null?this._head=i:t._nextDup=i,i===null?this._tail=t:i._prevDup=t,this._head===null}},m0=class{constructor(){this.map=new Map}put(e){let t=e.trackById,i=this.map.get(t);i||(i=new A1,this.map.set(t,i)),i.add(e)}get(e,t){let i=e,r=this.map.get(i);return r?r.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function $x(n,e,t){let i=n.previousIndex;if(i===null)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}var x1=class{constructor(){}supports(e){return e instanceof Map||mC(e)}create(){return new R1}},R1=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let t;for(t=this._mapHead;t!==null;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||mC(e)))throw new re(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{let s=this._getOrCreateRecordForKey(r,i);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;i!==null;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){let i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){let r=this._records.get(e);this._maybeAddToChanges(r,t);let s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}let i=new O1(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}},O1=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function Hx(){return new TC([new D1])}var TC=(()=>{let e=class e{constructor(i){this.factories=i}static create(i,r){if(r!=null){let s=r.factories.slice();i=i.concat(s)}return new e(i)}static extend(i){return{provide:e,useFactory:r=>e.create(i,r||Hx()),deps:[[e,new w0,new Kl]]}}find(i){let r=this.factories.find(s=>s.supports(i));if(r!=null)return r;throw new re(901,!1)}};e.\u0275prov=ee({token:e,providedIn:"root",factory:Hx});let n=e;return n})();function Gx(){return new DC([new x1])}var DC=(()=>{let e=class e{constructor(i){this.factories=i}static create(i,r){if(r){let s=r.factories.slice();i=i.concat(s)}return new e(i)}static extend(i){return{provide:e,useFactory:r=>e.create(i,r||Gx()),deps:[[e,new w0,new Kl]]}}find(i){let r=this.factories.find(s=>s.supports(i));if(r)return r;throw new re(901,!1)}};e.\u0275prov=ee({token:e,providedIn:"root",factory:Gx});let n=e;return n})();var jN=EC(null,"core",[]),zN=(()=>{let e=class e{constructor(i){}};e.\u0275fac=function(r){return new(r||e)(G(yi))},e.\u0275mod=we({type:e}),e.\u0275inj=ve({});let n=e;return n})();var $N=new oe("");function je(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Xl(n,e=NaN){return!isNaN(parseFloat(n))&&!isNaN(Number(n))?Number(n):e}function Qu(n,e){Yl("NgSignals");let t=AA(n);return e?.equal&&(t[ro].equal=e.equal),t}function mr(n){let e=ct(null);try{return n()}finally{ct(e)}}function Y0(n,e){let t=co(n),i=e.elementInjector||E0();return new ql(t).create(i,e.projectableNodes,e.hostElement,e.environmentInjector)}function HN(n){let e=co(n);if(!e)return null;let t=new ql(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var YN=null;function As(){return YN}function JN(n){YN??=n}var o_=class{};var Ze=new oe(""),VC=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ee({token:e,factory:()=>K(AH),providedIn:"platform"});let n=e;return n})(),XN=new oe(""),AH=(()=>{let e=class e extends VC{constructor(){super(),this._doc=K(Ze),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return As().getBaseHref(this._doc)}onPopState(i){let r=As().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",i,!1),()=>r.removeEventListener("popstate",i)}onHashChange(i){let r=As().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",i,!1),()=>r.removeEventListener("hashchange",i)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(i){this._location.pathname=i}pushState(i,r,s){this._history.pushState(i,r,s)}replaceState(i,r,s){this._history.replaceState(i,r,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ee({token:e,factory:()=>new e,providedIn:"platform"});let n=e;return n})();function BC(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function GN(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,i=t-(n[t-1]==="/"?1:0);return n.slice(0,i)+n.slice(t)}function bo(n){return n&&n[0]!=="?"?"?"+n:n}var Eo=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ee({token:e,factory:()=>K(UC),providedIn:"root"});let n=e;return n})(),eP=new oe(""),UC=(()=>{let e=class e extends Eo{constructor(i,r){super(),this._platformLocation=i,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??K(Ze).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return BC(this._baseHref,i)}path(i=!1){let r=this._platformLocation.pathname+bo(this._platformLocation.search),s=this._platformLocation.hash;return s&&i?`${r}${s}`:r}pushState(i,r,s,o){let a=this.prepareExternalUrl(s+bo(o));this._platformLocation.pushState(i,r,a)}replaceState(i,r,s,o){let a=this.prepareExternalUrl(s+bo(o));this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)(G(VC),G(eP,8))},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),tP=(()=>{let e=class e extends Eo{constructor(i,r){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(i){let r=BC(this._baseHref,i);return r.length>0?"#"+r:r}pushState(i,r,s,o){let a=this.prepareExternalUrl(s+bo(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(i,r,a)}replaceState(i,r,s,o){let a=this.prepareExternalUrl(s+bo(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)(G(VC),G(eP,8))},e.\u0275prov=ee({token:e,factory:e.\u0275fac});let n=e;return n})(),Yu=(()=>{let e=class e{constructor(i){this._subject=new xe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=i;let r=this._locationStrategy.getBaseHref();this._basePath=OH(GN(qN(r))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(i=!1){return this.normalize(this._locationStrategy.path(i))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(i,r=""){return this.path()==this.normalize(i+bo(r))}normalize(i){return e.stripTrailingSlash(RH(this._basePath,qN(i)))}prepareExternalUrl(i){return i&&i[0]!=="/"&&(i="/"+i),this._locationStrategy.prepareExternalUrl(i)}go(i,r="",s=null){this._locationStrategy.pushState(s,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+bo(r)),s)}replaceState(i,r="",s=null){this._locationStrategy.replaceState(s,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+bo(r)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(i=0){this._locationStrategy.historyGo?.(i)}onUrlChange(i){return this._urlChangeListeners.push(i),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(i);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(i="",r){this._urlChangeListeners.forEach(s=>s(i,r))}subscribe(i,r,s){return this._subject.subscribe({next:i,error:r,complete:s})}};e.normalizeQueryParams=bo,e.joinWithSlash=BC,e.stripTrailingSlash=GN,e.\u0275fac=function(r){return new(r||e)(G(Eo))},e.\u0275prov=ee({token:e,factory:()=>xH(),providedIn:"root"});let n=e;return n})();function xH(){return new Yu(G(Eo))}function RH(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function qN(n){return n.replace(/\/index.html$/,"")}function OH(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var vi=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(vi||{}),Mt=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(Mt||{}),Ki=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(Ki||{}),Ea={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function NH(n){return fr(n)[nn.LocaleId]}function PH(n,e,t){let i=fr(n),r=[i[nn.DayPeriodsFormat],i[nn.DayPeriodsStandalone]],s=_r(r,e);return _r(s,t)}function kH(n,e,t){let i=fr(n),r=[i[nn.DaysFormat],i[nn.DaysStandalone]],s=_r(r,e);return _r(s,t)}function FH(n,e,t){let i=fr(n),r=[i[nn.MonthsFormat],i[nn.MonthsStandalone]],s=_r(r,e);return _r(s,t)}function LH(n,e){let i=fr(n)[nn.Eras];return _r(i,e)}function J0(n,e){let t=fr(n);return _r(t[nn.DateFormat],e)}function X0(n,e){let t=fr(n);return _r(t[nn.TimeFormat],e)}function e_(n,e){let i=fr(n)[nn.DateTimeFormat];return _r(i,e)}function l_(n,e){let t=fr(n),i=t[nn.NumberSymbols][e];if(typeof i>"u"){if(e===Ea.CurrencyDecimal)return t[nn.NumberSymbols][Ea.Decimal];if(e===Ea.CurrencyGroup)return t[nn.NumberSymbols][Ea.Group]}return i}function nP(n){if(!n[nn.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[nn.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function VH(n){let e=fr(n);return nP(e),(e[nn.ExtraData][2]||[]).map(i=>typeof i=="string"?MC(i):[MC(i[0]),MC(i[1])])}function BH(n,e,t){let i=fr(n);nP(i);let r=[i[nn.ExtraData][0],i[nn.ExtraData][1]],s=_r(r,e)||[];return _r(s,t)||[]}function _r(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function MC(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}var UH=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,t_={},jH=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Co=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(Co||{}),pt=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(pt||{}),ft=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(ft||{});function iP(n,e,t,i){let r=ZH(n);e=wo(t,e)||e;let o=[],a;for(;e;)if(a=jH.exec(e),a){o=o.concat(a.slice(1));let d=o.pop();if(!d)break;e=d}else{o.push(e);break}let l=r.getTimezoneOffset();i&&(l=sP(i,l),r=QH(r,i,!0));let c="";return o.forEach(d=>{let h=WH(d);c+=h?h(r,t,l):d==="''"?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function a_(n,e,t){let i=new Date(0);return i.setFullYear(n,e,t),i.setHours(0,0,0),i}function wo(n,e){let t=NH(n);if(t_[t]??={},t_[t][e])return t_[t][e];let i="";switch(e){case"shortDate":i=J0(n,Ki.Short);break;case"mediumDate":i=J0(n,Ki.Medium);break;case"longDate":i=J0(n,Ki.Long);break;case"fullDate":i=J0(n,Ki.Full);break;case"shortTime":i=X0(n,Ki.Short);break;case"mediumTime":i=X0(n,Ki.Medium);break;case"longTime":i=X0(n,Ki.Long);break;case"fullTime":i=X0(n,Ki.Full);break;case"short":let r=wo(n,"shortTime"),s=wo(n,"shortDate");i=n_(e_(n,Ki.Short),[r,s]);break;case"medium":let o=wo(n,"mediumTime"),a=wo(n,"mediumDate");i=n_(e_(n,Ki.Medium),[o,a]);break;case"long":let l=wo(n,"longTime"),c=wo(n,"longDate");i=n_(e_(n,Ki.Long),[l,c]);break;case"full":let d=wo(n,"fullTime"),h=wo(n,"fullDate");i=n_(e_(n,Ki.Full),[d,h]);break}return i&&(t_[t][e]=i),i}function n_(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,i){return e!=null&&i in e?e[i]:t})),n}function Kr(n,e,t="-",i,r){let s="";(n<0||r&&n<=0)&&(r?n=-n+1:(n=-n,s=t));let o=String(n);for(;o.length<e;)o="0"+o;return i&&(o=o.slice(o.length-e)),s+o}function zH(n,e){return Kr(n,3).substring(0,e)}function pn(n,e,t=0,i=!1,r=!1){return function(s,o){let a=$H(n,s);if((t>0||a>-t)&&(a+=t),n===pt.Hours)a===0&&t===-12&&(a=12);else if(n===pt.FractionalSeconds)return zH(a,e);let l=l_(o,Ea.MinusSign);return Kr(a,e,l,i,r)}}function $H(n,e){switch(n){case pt.FullYear:return e.getFullYear();case pt.Month:return e.getMonth();case pt.Date:return e.getDate();case pt.Hours:return e.getHours();case pt.Minutes:return e.getMinutes();case pt.Seconds:return e.getSeconds();case pt.FractionalSeconds:return e.getMilliseconds();case pt.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function Rt(n,e,t=vi.Format,i=!1){return function(r,s){return HH(r,s,n,e,t,i)}}function HH(n,e,t,i,r,s){switch(t){case ft.Months:return FH(e,r,i)[n.getMonth()];case ft.Days:return kH(e,r,i)[n.getDay()];case ft.DayPeriods:let o=n.getHours(),a=n.getMinutes();if(s){let c=VH(e),d=BH(e,r,i),h=c.findIndex(m=>{if(Array.isArray(m)){let[v,b]=m,A=o>=v.hours&&a>=v.minutes,S=o<b.hours||o===b.hours&&a<b.minutes;if(v.hours<b.hours){if(A&&S)return!0}else if(A||S)return!0}else if(m.hours===o&&m.minutes===a)return!0;return!1});if(h!==-1)return d[h]}return PH(e,r,i)[o<12?0:1];case ft.Eras:return LH(e,i)[n.getFullYear()<=0?0:1];default:let l=t;throw new Error(`unexpected translation type ${l}`)}}function i_(n){return function(e,t,i){let r=-1*i,s=l_(t,Ea.MinusSign),o=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case Co.Short:return(r>=0?"+":"")+Kr(o,2,s)+Kr(Math.abs(r%60),2,s);case Co.ShortGMT:return"GMT"+(r>=0?"+":"")+Kr(o,1,s);case Co.Long:return"GMT"+(r>=0?"+":"")+Kr(o,2,s)+":"+Kr(Math.abs(r%60),2,s);case Co.Extended:return i===0?"Z":(r>=0?"+":"")+Kr(o,2,s)+":"+Kr(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}var GH=0,s_=4;function qH(n){let e=a_(n,GH,1).getDay();return a_(n,0,1+(e<=s_?s_:s_+7)-e)}function rP(n){let e=n.getDay(),t=e===0?-3:s_-e;return a_(n.getFullYear(),n.getMonth(),n.getDate()+t)}function AC(n,e=!1){return function(t,i){let r;if(e){let s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,o=t.getDate();r=1+Math.floor((o+s)/7)}else{let s=rP(t),o=qH(s.getFullYear()),a=s.getTime()-o.getTime();r=1+Math.round(a/6048e5)}return Kr(r,n,l_(i,Ea.MinusSign))}}function r_(n,e=!1){return function(t,i){let s=rP(t).getFullYear();return Kr(s,n,l_(i,Ea.MinusSign),e)}}var xC={};function WH(n){if(xC[n])return xC[n];let e;switch(n){case"G":case"GG":case"GGG":e=Rt(ft.Eras,Mt.Abbreviated);break;case"GGGG":e=Rt(ft.Eras,Mt.Wide);break;case"GGGGG":e=Rt(ft.Eras,Mt.Narrow);break;case"y":e=pn(pt.FullYear,1,0,!1,!0);break;case"yy":e=pn(pt.FullYear,2,0,!0,!0);break;case"yyy":e=pn(pt.FullYear,3,0,!1,!0);break;case"yyyy":e=pn(pt.FullYear,4,0,!1,!0);break;case"Y":e=r_(1);break;case"YY":e=r_(2,!0);break;case"YYY":e=r_(3);break;case"YYYY":e=r_(4);break;case"M":case"L":e=pn(pt.Month,1,1);break;case"MM":case"LL":e=pn(pt.Month,2,1);break;case"MMM":e=Rt(ft.Months,Mt.Abbreviated);break;case"MMMM":e=Rt(ft.Months,Mt.Wide);break;case"MMMMM":e=Rt(ft.Months,Mt.Narrow);break;case"LLL":e=Rt(ft.Months,Mt.Abbreviated,vi.Standalone);break;case"LLLL":e=Rt(ft.Months,Mt.Wide,vi.Standalone);break;case"LLLLL":e=Rt(ft.Months,Mt.Narrow,vi.Standalone);break;case"w":e=AC(1);break;case"ww":e=AC(2);break;case"W":e=AC(1,!0);break;case"d":e=pn(pt.Date,1);break;case"dd":e=pn(pt.Date,2);break;case"c":case"cc":e=pn(pt.Day,1);break;case"ccc":e=Rt(ft.Days,Mt.Abbreviated,vi.Standalone);break;case"cccc":e=Rt(ft.Days,Mt.Wide,vi.Standalone);break;case"ccccc":e=Rt(ft.Days,Mt.Narrow,vi.Standalone);break;case"cccccc":e=Rt(ft.Days,Mt.Short,vi.Standalone);break;case"E":case"EE":case"EEE":e=Rt(ft.Days,Mt.Abbreviated);break;case"EEEE":e=Rt(ft.Days,Mt.Wide);break;case"EEEEE":e=Rt(ft.Days,Mt.Narrow);break;case"EEEEEE":e=Rt(ft.Days,Mt.Short);break;case"a":case"aa":case"aaa":e=Rt(ft.DayPeriods,Mt.Abbreviated);break;case"aaaa":e=Rt(ft.DayPeriods,Mt.Wide);break;case"aaaaa":e=Rt(ft.DayPeriods,Mt.Narrow);break;case"b":case"bb":case"bbb":e=Rt(ft.DayPeriods,Mt.Abbreviated,vi.Standalone,!0);break;case"bbbb":e=Rt(ft.DayPeriods,Mt.Wide,vi.Standalone,!0);break;case"bbbbb":e=Rt(ft.DayPeriods,Mt.Narrow,vi.Standalone,!0);break;case"B":case"BB":case"BBB":e=Rt(ft.DayPeriods,Mt.Abbreviated,vi.Format,!0);break;case"BBBB":e=Rt(ft.DayPeriods,Mt.Wide,vi.Format,!0);break;case"BBBBB":e=Rt(ft.DayPeriods,Mt.Narrow,vi.Format,!0);break;case"h":e=pn(pt.Hours,1,-12);break;case"hh":e=pn(pt.Hours,2,-12);break;case"H":e=pn(pt.Hours,1);break;case"HH":e=pn(pt.Hours,2);break;case"m":e=pn(pt.Minutes,1);break;case"mm":e=pn(pt.Minutes,2);break;case"s":e=pn(pt.Seconds,1);break;case"ss":e=pn(pt.Seconds,2);break;case"S":e=pn(pt.FractionalSeconds,1);break;case"SS":e=pn(pt.FractionalSeconds,2);break;case"SSS":e=pn(pt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=i_(Co.Short);break;case"ZZZZZ":e=i_(Co.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=i_(Co.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=i_(Co.Long);break;default:return null}return xC[n]=e,e}function sP(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function KH(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function QH(n,e,t){let i=t?-1:1,r=n.getTimezoneOffset(),s=sP(e,r);return KH(n,i*(s-r))}function ZH(n){if(WN(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[r,s=1,o=1]=n.split("-").map(a=>+a);return a_(r,s-1,o)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let i;if(i=n.match(UH))return YH(i)}let e=new Date(n);if(!WN(e))throw new Error(`Unable to convert "${n}" into a date`);return e}function YH(n){let e=new Date(0),t=0,i=0,r=n[8]?e.setUTCFullYear:e.setFullYear,s=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let o=Number(n[4]||0)-t,a=Number(n[5]||0)-i,l=Number(n[6]||0),c=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return s.call(e,o,a,l,c),e}function WN(n){return n instanceof Date&&!isNaN(n.valueOf())}function c_(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let i=t.indexOf("="),[r,s]=i==-1?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}var RC=/\s+/,KN=[],Oi=(()=>{let e=class e{constructor(i,r){this._ngEl=i,this._renderer=r,this.initialClasses=KN,this.stateMap=new Map}set klass(i){this.initialClasses=i!=null?i.trim().split(RC):KN}set ngClass(i){this.rawClass=typeof i=="string"?i.trim().split(RC):i}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let i=this.rawClass;if(Array.isArray(i)||i instanceof Set)for(let r of i)this._updateState(r,!0);else if(i!=null)for(let r of Object.keys(i))this._updateState(r,!!i[r]);this._applyStateDiff()}_updateState(i,r){let s=this.stateMap.get(i);s!==void 0?(s.enabled!==r&&(s.changed=!0,s.enabled=r),s.touched=!0):this.stateMap.set(i,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let i of this.stateMap){let r=i[0],s=i[1];s.changed?(this._toggleClass(r,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),s.touched=!1}}_toggleClass(i,r){i=i.trim(),i.length>0&&i.split(RC).forEach(s=>{r?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}};e.\u0275fac=function(r){return new(r||e)(U(nt),U(ti))},e.\u0275dir=Qe({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0});let n=e;return n})();var OC=class{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},xs=(()=>{let e=class e{set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}constructor(i,r,s){this._viewContainer=i,this._template=r,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let i=this._ngForOf;if(!this._differ&&i)if(0)try{}catch{}else this._differ=this._differs.find(i).create(this.ngForTrackBy)}if(this._differ){let i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){let r=this._viewContainer;i.forEachOperation((s,o,a)=>{if(s.previousIndex==null)r.createEmbeddedView(this._template,new OC(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)r.remove(o===null?void 0:o);else if(o!==null){let l=r.get(o);r.move(l,a),QN(l,s)}});for(let s=0,o=r.length;s<o;s++){let l=r.get(s).context;l.index=s,l.count=o,l.ngForOf=this._ngForOf}i.forEachIdentityChange(s=>{let o=r.get(s.currentIndex);QN(o,s)})}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(U(Ss),U(Vr),U(TC))},e.\u0275dir=Qe({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let n=e;return n})();function QN(n,e){n.context.$implicit=e.item}var kt=(()=>{let e=class e{constructor(i,r){this._viewContainer=i,this._context=new NC,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){ZN("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){ZN("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(U(Ss),U(Vr))},e.\u0275dir=Qe({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let n=e;return n})(),NC=class{constructor(){this.$implicit=null,this.ngIf=null}};function ZN(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${fi(e)}'.`)}var u_=(()=>{let e=class e{constructor(i,r,s){this._ngEl=i,this._differs=r,this._renderer=s,this._ngStyle=null,this._differ=null}set ngStyle(i){this._ngStyle=i,!this._differ&&i&&(this._differ=this._differs.find(i).create())}ngDoCheck(){if(this._differ){let i=this._differ.diff(this._ngStyle);i&&this._applyChanges(i)}}_setStyle(i,r){let[s,o]=i.split("."),a=s.indexOf("-")===-1?void 0:Es.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,s,o?`${r}${o}`:r,a):this._renderer.removeStyle(this._ngEl.nativeElement,s,a)}_applyChanges(i){i.forEachRemovedItem(r=>this._setStyle(r.key,null)),i.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),i.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}};e.\u0275fac=function(r){return new(r||e)(U(nt),U(DC),U(ti))},e.\u0275dir=Qe({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0});let n=e;return n})(),wf=(()=>{let e=class e{constructor(i){this._viewContainerRef=i,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(i){if(this._shouldRecreateView(i)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let s=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,s,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(i){return!!i.ngTemplateOutlet||!!i.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(i,r,s)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,s):!1,get:(i,r,s)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,s)}})}};e.\u0275fac=function(r){return new(r||e)(U(Ss))},e.\u0275dir=Qe({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Tn]});let n=e;return n})();function oP(n,e){return new re(2100,!1)}var PC=class{createSubscription(e,t){return mr(()=>e.subscribe({next:t,error:i=>{throw i}}))}dispose(e){mr(()=>e.unsubscribe())}},kC=class{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}},JH=new kC,XH=new PC,Ia=(()=>{let e=class e{constructor(i){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=i}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(i){if(!this._obj){if(i)try{this.markForCheckOnValueUpdate=!1,this._subscribe(i)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return i!==this._obj?(this._dispose(),this.transform(i)):this._latestValue}_subscribe(i){this._obj=i,this._strategy=this._selectStrategy(i),this._subscription=this._strategy.createSubscription(i,r=>this._updateLatestValue(i,r))}_selectStrategy(i){if(Ca(i))return JH;if(bC(i))return XH;throw oP(e,i)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(i,r){i===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}};e.\u0275fac=function(r){return new(r||e)(U(Ri,16))},e.\u0275pipe=b0({name:"async",type:e,pure:!1,standalone:!0});let n=e;return n})();var e9="mediumDate",t9=new oe(""),n9=new oe(""),Ju=(()=>{let e=class e{constructor(i,r,s){this.locale=i,this.defaultTimezone=r,this.defaultOptions=s}transform(i,r,s,o){if(i==null||i===""||i!==i)return null;try{let a=r??this.defaultOptions?.dateFormat??e9,l=s??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return iP(i,a,o||this.locale,l)}catch(a){throw oP(e,a.message)}}};e.\u0275fac=function(r){return new(r||e)(U(vf,16),U(t9,24),U(n9,24))},e.\u0275pipe=b0({name:"date",type:e,pure:!0,standalone:!0});let n=e;return n})();var Rs=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({});let n=e;return n})(),jC="browser",i9="server";function Qi(n){return n===jC}function Ta(n){return n===i9}var aP=(()=>{let e=class e{};e.\u0275prov=ee({token:e,providedIn:"root",factory:()=>Qi(K(wt))?new FC(K(Ze),window):new LC});let n=e;return n})(),FC=class{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=r9(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}};function r9(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let s=r.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}r=i.nextNode()}}return null}var LC=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Zu=class{};var Cf=class{},h_=class{},Io=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let i=t.indexOf(":");if(i>0){let r=t.slice(0,i),s=r.toLowerCase(),o=t.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(e.name,t);let r=(e.op==="a"?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":let s=e.value;if(!s)this.headers.delete(t),this.normalizedNames.delete(t);else{let o=this.headers.get(t);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}break}}setHeaderEntries(e,t){let i=(Array.isArray(t)?t:[t]).map(s=>s.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var $C=class{encodeKey(e){return lP(e)}encodeValue(e){return lP(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function a9(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{let s=r.indexOf("="),[o,a]=s==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],l=t.get(o)||[];l.push(a),t.set(o,l)}),t}var l9=/%(\d[a-f0-9])/gi,c9={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function lP(n){return encodeURIComponent(n).replace(l9,(e,t)=>c9[t]??e)}function d_(n){return`${n}`}var Sa=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new $C,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=a9(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let i=e.fromObject[t],r=Array.isArray(i)?i.map(d_):[d_(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(i=>{let r=e[i];Array.isArray(r)?r.forEach(s=>{t.push({param:i,value:s,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(d_(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let i=this.map.get(e.param)||[],r=i.indexOf(d_(e.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var HC=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function u9(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function cP(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function uP(n){return typeof Blob<"u"&&n instanceof Blob}function dP(n){return typeof FormData<"u"&&n instanceof FormData}function d9(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var bf=class n{constructor(e,t,i,r){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(u9(this.method)||r?(this.body=i!==void 0?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new Io,this.context??=new HC,!this.params)this.params=new Sa,this.urlWithParams=t;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),l=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+l+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||cP(this.body)||uP(this.body)||dP(this.body)||d9(this.body)?this.body:this.body instanceof Sa?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||dP(this.body)?null:uP(this.body)?this.body.type||null:cP(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Sa?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,c=e.headers||this.headers,d=e.params||this.params,h=e.context??this.context;return e.setHeaders!==void 0&&(c=Object.keys(e.setHeaders).reduce((m,v)=>m.set(v,e.setHeaders[v]),c)),e.setParams&&(d=Object.keys(e.setParams).reduce((m,v)=>m.set(v,e.setParams[v]),d)),new n(t,i,o,{params:d,headers:c,context:h,reportProgress:l,responseType:r,withCredentials:a,transferCache:s})}},Ma=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Ma||{}),Ef=class{constructor(e,t=200,i="OK"){this.headers=e.headers||new Io,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},f_=class n extends Ef{constructor(e={}){super(e),this.type=Ma.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},If=class n extends Ef{constructor(e={}){super(e),this.type=Ma.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Da=class extends Ef{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},mP=200,h9=204;function zC(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var WC=(()=>{let e=class e{constructor(i){this.handler=i}request(i,r,s={}){let o;if(i instanceof bf)o=i;else{let c;s.headers instanceof Io?c=s.headers:c=new Io(s.headers);let d;s.params&&(s.params instanceof Sa?d=s.params:d=new Sa({fromObject:s.params})),o=new bf(i,r,s.body!==void 0?s.body:null,{headers:c,context:s.context,params:d,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let a=le(o).pipe(ao(c=>this.handler.handle(c)));if(i instanceof bf||s.observe==="events")return a;let l=a.pipe(Ut(c=>c instanceof If));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return l.pipe(se(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return l.pipe(se(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return l.pipe(se(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return l.pipe(se(c=>c.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(i,r={}){return this.request("DELETE",i,r)}get(i,r={}){return this.request("GET",i,r)}head(i,r={}){return this.request("HEAD",i,r)}jsonp(i,r){return this.request("JSONP",i,{params:new Sa().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,r={}){return this.request("OPTIONS",i,r)}patch(i,r,s={}){return this.request("PATCH",i,zC(s,r))}post(i,r,s={}){return this.request("POST",i,zC(s,r))}put(i,r,s={}){return this.request("PUT",i,zC(s,r))}};e.\u0275fac=function(r){return new(r||e)(G(Cf))},e.\u0275prov=ee({token:e,factory:e.\u0275fac});let n=e;return n})(),f9=/^\)\]\}',?\n/,p9="X-Request-URL";function hP(n){if(n.url)return n.url;let e=p9.toLocaleLowerCase();return n.headers.get(e)}var g9=(()=>{let e=class e{constructor(){this.fetchImpl=K(GC,{optional:!0})?.fetch??((...i)=>globalThis.fetch(...i)),this.ngZone=K(De)}handle(i){return new Se(r=>{let s=new AbortController;return this.doRequest(i,s.signal,r).then(qC,o=>r.error(new Da({error:o}))),()=>s.abort()})}doRequest(i,r,s){return F(this,null,function*(){let o=this.createRequestInit(i),a;try{let b=this.ngZone.runOutsideAngular(()=>this.fetchImpl(i.urlWithParams,Q({signal:r},o)));m9(b),s.next({type:Ma.Sent}),a=yield b}catch(b){s.error(new Da({error:b,status:b.status??0,statusText:b.statusText,url:i.urlWithParams,headers:b.headers}));return}let l=new Io(a.headers),c=a.statusText,d=hP(a)??i.urlWithParams,h=a.status,m=null;if(i.reportProgress&&s.next(new f_({headers:l,status:h,statusText:c,url:d})),a.body){let b=a.headers.get("content-length"),A=[],S=a.body.getReader(),j=0,Z,W,Y=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>F(this,null,function*(){for(;;){let{done:ae,value:R}=yield S.read();if(ae)break;if(A.push(R),j+=R.length,i.reportProgress){W=i.responseType==="text"?(W??"")+(Z??=new TextDecoder).decode(R,{stream:!0}):void 0;let T=()=>s.next({type:Ma.DownloadProgress,total:b?+b:void 0,loaded:j,partialText:W});Y?Y.run(T):T()}}}));let ge=this.concatChunks(A,j);try{let ae=a.headers.get("Content-Type")??"";m=this.parseBody(i,ge,ae)}catch(ae){s.error(new Da({error:ae,headers:new Io(a.headers),status:a.status,statusText:a.statusText,url:hP(a)??i.urlWithParams}));return}}h===0&&(h=m?mP:0),h>=200&&h<300?(s.next(new If({body:m,headers:l,status:h,statusText:c,url:d})),s.complete()):s.error(new Da({error:m,headers:l,status:h,statusText:c,url:d}))})}parseBody(i,r,s){switch(i.responseType){case"json":let o=new TextDecoder().decode(r).replace(f9,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:s});case"arraybuffer":return r.buffer}}createRequestInit(i){let r={},s=i.withCredentials?"include":void 0;if(i.headers.forEach((o,a)=>r[o]=a.join(",")),i.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!i.headers.has("Content-Type")){let o=i.detectContentTypeHeader();o!==null&&(r["Content-Type"]=o)}return{body:i.serializeBody(),method:i.method,headers:r,credentials:s}}concatChunks(i,r){let s=new Uint8Array(r),o=0;for(let a of i)s.set(a,o),o+=a.length;return s}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac});let n=e;return n})(),GC=class{};function qC(){}function m9(n){n.then(qC,qC)}function _P(n,e){return e(n)}function _9(n,e){return(t,i)=>e.intercept(t,{handle:r=>n(r,i)})}function y9(n,e,t){return(i,r)=>ur(t,()=>e(i,s=>n(s,r)))}var v9=new oe(""),KC=new oe(""),w9=new oe(""),yP=new oe("",{providedIn:"root",factory:()=>!0});function b9(){let n=null;return(e,t)=>{n===null&&(n=(K(v9,{optional:!0})??[]).reduceRight(_9,_P));let i=K(_o);if(K(yP)){let s=i.add();return n(e,t).pipe(jn(()=>i.remove(s)))}else return n(e,t)}}var fP=(()=>{let e=class e extends Cf{constructor(i,r){super(),this.backend=i,this.injector=r,this.chain=null,this.pendingTasks=K(_o),this.contributeToStability=K(yP)}handle(i){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(KC),...this.injector.get(w9,[])]));this.chain=r.reduceRight((s,o)=>y9(s,o,this.injector),_P)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(i,s=>this.backend.handle(s)).pipe(jn(()=>this.pendingTasks.remove(r)))}else return this.chain(i,r=>this.backend.handle(r))}};e.\u0275fac=function(r){return new(r||e)(G(h_),G(On))},e.\u0275prov=ee({token:e,factory:e.\u0275fac});let n=e;return n})();var C9=/^\)\]\}',?\n/;function E9(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var pP=(()=>{let e=class e{constructor(i){this.xhrFactory=i}handle(i){if(i.method==="JSONP")throw new re(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Ge(r.\u0275loadImpl()):le(null)).pipe(Le(()=>new Se(o=>{let a=r.build();if(a.open(i.method,i.urlWithParams),i.withCredentials&&(a.withCredentials=!0),i.headers.forEach((S,j)=>a.setRequestHeader(S,j.join(","))),i.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!i.headers.has("Content-Type")){let S=i.detectContentTypeHeader();S!==null&&a.setRequestHeader("Content-Type",S)}if(i.responseType){let S=i.responseType.toLowerCase();a.responseType=S!=="json"?S:"text"}let l=i.serializeBody(),c=null,d=()=>{if(c!==null)return c;let S=a.statusText||"OK",j=new Io(a.getAllResponseHeaders()),Z=E9(a)||i.url;return c=new f_({headers:j,status:a.status,statusText:S,url:Z}),c},h=()=>{let{headers:S,status:j,statusText:Z,url:W}=d(),Y=null;j!==h9&&(Y=typeof a.response>"u"?a.responseText:a.response),j===0&&(j=Y?mP:0);let ge=j>=200&&j<300;if(i.responseType==="json"&&typeof Y=="string"){let ae=Y;Y=Y.replace(C9,"");try{Y=Y!==""?JSON.parse(Y):null}catch(R){Y=ae,ge&&(ge=!1,Y={error:R,text:Y})}}ge?(o.next(new If({body:Y,headers:S,status:j,statusText:Z,url:W||void 0})),o.complete()):o.error(new Da({error:Y,headers:S,status:j,statusText:Z,url:W||void 0}))},m=S=>{let{url:j}=d(),Z=new Da({error:S,status:a.status||0,statusText:a.statusText||"Unknown Error",url:j||void 0});o.error(Z)},v=!1,b=S=>{v||(o.next(d()),v=!0);let j={type:Ma.DownloadProgress,loaded:S.loaded};S.lengthComputable&&(j.total=S.total),i.responseType==="text"&&a.responseText&&(j.partialText=a.responseText),o.next(j)},A=S=>{let j={type:Ma.UploadProgress,loaded:S.loaded};S.lengthComputable&&(j.total=S.total),o.next(j)};return a.addEventListener("load",h),a.addEventListener("error",m),a.addEventListener("timeout",m),a.addEventListener("abort",m),i.reportProgress&&(a.addEventListener("progress",b),l!==null&&a.upload&&a.upload.addEventListener("progress",A)),a.send(l),o.next({type:Ma.Sent}),()=>{a.removeEventListener("error",m),a.removeEventListener("abort",m),a.removeEventListener("load",h),a.removeEventListener("timeout",m),i.reportProgress&&(a.removeEventListener("progress",b),l!==null&&a.upload&&a.upload.removeEventListener("progress",A)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(r){return new(r||e)(G(Zu))},e.\u0275prov=ee({token:e,factory:e.\u0275fac});let n=e;return n})(),vP=new oe(""),I9="XSRF-TOKEN",T9=new oe("",{providedIn:"root",factory:()=>I9}),D9="X-XSRF-TOKEN",S9=new oe("",{providedIn:"root",factory:()=>D9}),p_=class{},M9=(()=>{let e=class e{constructor(i,r,s){this.doc=i,this.platform=r,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let i=this.doc.cookie||"";return i!==this.lastCookieString&&(this.parseCount++,this.lastToken=c_(i,this.cookieName),this.lastCookieString=i),this.lastToken}};e.\u0275fac=function(r){return new(r||e)(G(Ze),G(wt),G(T9))},e.\u0275prov=ee({token:e,factory:e.\u0275fac});let n=e;return n})();function A9(n,e){let t=n.url.toLowerCase();if(!K(vP)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let i=K(p_).getToken(),r=K(S9);return i!=null&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}var wP=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(wP||{});function x9(n,e){return{\u0275kind:n,\u0275providers:e}}function R9(...n){let e=[WC,pP,fP,{provide:Cf,useExisting:fP},{provide:h_,useFactory:()=>K(g9,{optional:!0})??K(pP)},{provide:KC,useValue:A9,multi:!0},{provide:vP,useValue:!0},{provide:p_,useClass:M9}];for(let t of n)e.push(...t.\u0275providers);return Hu(e)}var gP=new oe("");function O9(){return x9(wP.LegacyInterceptors,[{provide:gP,useFactory:b9},{provide:KC,useExisting:gP,multi:!0}])}var bP=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({providers:[R9(O9())]});let n=e;return n})();var YC=class extends o_{constructor(){super(...arguments),this.supportsDOMEvents=!0}},JC=class n extends YC{static makeCurrent(){JN(new n)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=P9();return t==null?null:k9(t)}resetBaseElement(){Tf=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return c_(document.cookie,e)}},Tf=null;function P9(){return Tf=Tf||document.querySelector("base"),Tf?Tf.getAttribute("href"):null}function k9(n){return new URL(n,document.baseURI).pathname}var XC=class{addToWindow(e){zn.getAngularTestability=(i,r=!0)=>{let s=e.findTestabilityInTree(i,r);if(s==null)throw new re(5103,!1);return s},zn.getAllAngularTestabilities=()=>e.getAllTestabilities(),zn.getAllAngularRootElements=()=>e.getAllRootElements();let t=i=>{let r=zn.getAllAngularTestabilities(),s=r.length,o=function(){s--,s==0&&i()};r.forEach(a=>{a.whenStable(o)})};zn.frameworkStabilizers||(zn.frameworkStabilizers=[]),zn.frameworkStabilizers.push(t)}findTestabilityInTree(e,t,i){if(t==null)return null;let r=e.getTestability(t);return r??(i?As().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},F9=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac});let n=e;return n})(),g_=new oe(""),IP=(()=>{let e=class e{constructor(i,r){this._zone=r,this._eventNameToPlugin=new Map,i.forEach(s=>{s.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,r,s){return this._findPluginFor(r).addEventListener(i,r,s)}getZone(){return this._zone}_findPluginFor(i){let r=this._eventNameToPlugin.get(i);if(r)return r;if(r=this._plugins.find(o=>o.supports(i)),!r)throw new re(5101,!1);return this._eventNameToPlugin.set(i,r),r}};e.\u0275fac=function(r){return new(r||e)(G(g_),G(De))},e.\u0275prov=ee({token:e,factory:e.\u0275fac});let n=e;return n})(),Df=class{constructor(e){this._doc=e}},QC="ng-app-id",TP=(()=>{let e=class e{constructor(i,r,s,o={}){this.doc=i,this.appId=r,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ta(o),this.resetHostNodes()}addStyles(i){for(let r of i)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(i){for(let r of i)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let i=this.styleNodesInDOM;i&&(i.forEach(r=>r.remove()),i.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(let r of this.getAllStyles())this.addStyleToHost(i,r)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(let r of this.hostNodes)this.addStyleToHost(r,i)}onStyleRemoved(i){let r=this.styleRef;r.get(i)?.elements?.forEach(s=>s.remove()),r.delete(i)}collectServerRenderedStyles(){let i=this.doc.head?.querySelectorAll(`style[${QC}="${this.appId}"]`);if(i?.length){let r=new Map;return i.forEach(s=>{s.textContent!=null&&r.set(s.textContent,s)}),r}return null}changeUsageCount(i,r){let s=this.styleRef;if(s.has(i)){let o=s.get(i);return o.usage+=r,o.usage}return s.set(i,{usage:r,elements:[]}),r}getStyleElement(i,r){let s=this.styleNodesInDOM,o=s?.get(r);if(o?.parentNode===i)return s.delete(r),o.removeAttribute(QC),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(QC,this.appId),i.appendChild(a),a}}addStyleToHost(i,r){let s=this.getStyleElement(i,r),o=this.styleRef,a=o.get(r)?.elements;a?a.push(s):o.set(r,{elements:[s],usage:1})}resetHostNodes(){let i=this.hostNodes;i.clear(),i.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)(G(Ze),G(P0),G(X1,8),G(wt))},e.\u0275prov=ee({token:e,factory:e.\u0275fac});let n=e;return n})(),ZC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},tE=/%COMP%/g,DP="%COMP%",L9=`_nghost-${DP}`,V9=`_ngcontent-${DP}`,B9=!0,U9=new oe("",{providedIn:"root",factory:()=>B9});function j9(n){return V9.replace(tE,n)}function z9(n){return L9.replace(tE,n)}function SP(n,e){return e.map(t=>t.replace(tE,n))}var m_=(()=>{let e=class e{constructor(i,r,s,o,a,l,c,d=null){this.eventManager=i,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=Ta(l),this.defaultRenderer=new Sf(i,a,c,this.platformIsServer)}createRenderer(i,r){if(!i||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===ws.ShadowDom&&(r=Ee(Q({},r),{encapsulation:ws.Emulated}));let s=this.getOrCreateRenderer(i,r);return s instanceof __?s.applyToHost(i):s instanceof Mf&&s.applyStyles(),s}getOrCreateRenderer(i,r){let s=this.rendererByCompId,o=s.get(r.id);if(!o){let a=this.doc,l=this.ngZone,c=this.eventManager,d=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(r.encapsulation){case ws.Emulated:o=new __(c,d,r,this.appId,h,a,l,m);break;case ws.ShadowDom:return new eE(c,d,i,r,a,l,this.nonce,m);default:o=new Mf(c,d,r,h,a,l,m);break}s.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)(G(IP),G(TP),G(P0),G(U9),G(Ze),G(wt),G(De),G(X1))},e.\u0275prov=ee({token:e,factory:e.\u0275fac});let n=e;return n})(),Sf=class{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(ZC[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(CP(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(CP(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){t.remove()}selectRootElement(e,t){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new re(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;let s=ZC[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){let r=ZC[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(Es.DashCase|Es.Important)?e.style.setProperty(t,i,r&Es.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Es.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e!=null&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i){if(typeof e=="string"&&(e=As().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function CP(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var eE=class extends Sf{constructor(e,t,i,r,s,o,a,l){super(e,s,o,l),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=SP(r.id,r.styles);for(let d of c){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=d,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Mf=class extends Sf{constructor(e,t,i,r,s,o,a,l){super(e,s,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=l?SP(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},__=class extends Mf{constructor(e,t,i,r,s,o,a,l){let c=r+"-"+i.id;super(e,t,i,s,o,a,l,c),this.contentAttr=j9(c),this.hostAttr=z9(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}},$9=(()=>{let e=class e extends Df{constructor(i){super(i)}supports(i){return!0}addEventListener(i,r,s){return i.addEventListener(r,s,!1),()=>this.removeEventListener(i,r,s)}removeEventListener(i,r,s){return i.removeEventListener(r,s)}};e.\u0275fac=function(r){return new(r||e)(G(Ze))},e.\u0275prov=ee({token:e,factory:e.\u0275fac});let n=e;return n})(),H9=(()=>{let e=class e extends Df{constructor(i){super(i),this.delegate=K($N,{optional:!0})}supports(i){return this.delegate?this.delegate.supports(i):!1}addEventListener(i,r,s){return this.delegate.addEventListener(i,r,s)}removeEventListener(i,r,s){return this.delegate.removeEventListener(i,r,s)}};e.\u0275fac=function(r){return new(r||e)(G(Ze))},e.\u0275prov=ee({token:e,factory:e.\u0275fac});let n=e;return n})(),EP=["alt","control","meta","shift"],G9={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},q9={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},W9=(()=>{let e=class e extends Df{constructor(i){super(i)}supports(i){return e.parseEventName(i)!=null}addEventListener(i,r,s){let o=e.parseEventName(r),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>As().onAndCancel(i,o.domEventName,a))}static parseEventName(i){let r=i.toLowerCase().split("."),s=r.shift();if(r.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(r.pop()),a="",l=r.indexOf("code");if(l>-1&&(r.splice(l,1),a="code."),EP.forEach(d=>{let h=r.indexOf(d);h>-1&&(r.splice(h,1),a+=d+".")}),a+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=s,c.fullKey=a,c}static matchEventFullKeyCode(i,r){let s=G9[i.key]||i.key,o="";return r.indexOf("code.")>-1&&(s=i.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),EP.forEach(a=>{if(a!==s){let l=q9[a];l(i)&&(o+=a+".")}}),o+=s,o===r)}static eventCallback(i,r,s){return o=>{e.matchEventFullKeyCode(o,i)&&s.runGuarded(()=>r(o))}}static _normalizeKey(i){return i==="esc"?"escape":i}};e.\u0275fac=function(r){return new(r||e)(G(Ze))},e.\u0275prov=ee({token:e,factory:e.\u0275fac});let n=e;return n})();function K9(){JC.makeCurrent()}function Q9(){return new fo}function Z9(){return uO(document),document}var Y9=[{provide:wt,useValue:jC},{provide:Y1,useValue:K9,multi:!0},{provide:Ze,useFactory:Z9,deps:[]}],MP=EC(jN,"browser",Y9),J9=new oe(""),X9=[{provide:yf,useClass:XC,deps:[]},{provide:vC,useClass:q0,deps:[De,W0,yf]},{provide:q0,useClass:q0,deps:[De,W0,yf]}],eG=[{provide:C0,useValue:"root"},{provide:fo,useFactory:Q9,deps:[]},{provide:g_,useClass:$9,multi:!0,deps:[Ze,De,wt]},{provide:g_,useClass:W9,multi:!0,deps:[Ze]},{provide:g_,useClass:H9,multi:!0},m_,TP,IP,{provide:ga,useExisting:m_},{provide:Zu,useClass:F9,deps:[]},[]],y_=(()=>{let e=class e{constructor(i){}static withServerTransition(i){return{ngModule:e,providers:[{provide:P0,useValue:i.appId}]}}};e.\u0275fac=function(r){return new(r||e)(G(J9,12))},e.\u0275mod=we({type:e}),e.\u0275inj=ve({providers:[...eG,...X9],imports:[Rs,zN]});let n=e;return n})();var AP=(()=>{let e=class e{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}};e.\u0275fac=function(r){return new(r||e)(G(Ze))},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var nE=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ee({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=G(tG),s},providedIn:"root"});let n=e;return n})(),tG=(()=>{let e=class e extends nE{constructor(i){super(),this._doc=i}sanitize(i,r){if(r==null)return null;switch(i){case Gi.NONE:return r;case Gi.HTML:return yo(r,"HTML")?hr(r):tC(this._doc,String(r)).toString();case Gi.STYLE:return yo(r,"Style")?hr(r):r;case Gi.SCRIPT:if(yo(r,"Script"))return hr(r);throw new re(5200,!1);case Gi.URL:return yo(r,"URL")?hr(r):F0(String(r));case Gi.RESOURCE_URL:if(yo(r,"ResourceURL"))return hr(r);throw new re(5201,!1);default:throw new re(5202,!1)}}bypassSecurityTrustHtml(i){return pO(i)}bypassSecurityTrustStyle(i){return gO(i)}bypassSecurityTrustScript(i){return mO(i)}bypassSecurityTrustUrl(i){return _O(i)}bypassSecurityTrustResourceUrl(i){return yO(i)}};e.\u0275fac=function(r){return new(r||e)(G(Ze))},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var nG="firebase",iG="10.13.2";Bn(nG,iG,"app");var Do=new go("ANGULARFIRE2_VERSION");var rG=(n,e)=>{let t=e?[e]:wA(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(o=>{i.includes(o)||i.push(o)})}),i},To=class{constructor(){return rG(sG)}},sG="app-check";function rE(){}var v_=class{zone;delegate;constructor(e,t=tb){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){let r=this.zone,s=function(o){r.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,t,i)}},sE=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",rE,{},rE,rE)),t.pipe(Wt({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Xu=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new v_(Zone.current)),this.insideAngular=t.run(()=>new v_(Zone.current,sa)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(G(De))};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function xP(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function oE(n){return n.pipe($i(xP().outsideAngular))}function qn(n){return oG(xP())(n)}function oG(n){return function(t){return t=t.lift(new sE(n.ngZone)),t.pipe(Or(n.outsideAngular),$i(n.insideAngular))}}var aG="firebase",lG="10.13.2";vt.registerVersion(aG,lG,"app-compat");var cG=["ngOnDestroy"],OP=(n,e,t,i={})=>new Proxy(n,{get:(r,s)=>t.runOutsideAngular(()=>{if(n[s])return i?.spy?.get&&i.spy.get(s,n[s]),n[s];if(cG.indexOf(s)>-1)return()=>{};let o=e.toPromise().then(a=>{let l=a?.[s];return typeof l=="function"?l.bind(a):l?.then?l.then(c=>t.run(()=>c)):t.run(()=>l)});return new Proxy(()=>{},{get:(a,l)=>o[l],apply:(a,l,c)=>o.then(d=>{let h=d?.(...c);return i?.spy?.apply&&i.spy.apply(s,c,h),h})})})});var w_=class{constructor(e){return e}},Aa=new oe("angularfire2.app.options"),xa=new oe("angularfire2.app.name");function ec(n,e,t){let i=typeof t=="string"&&t||"[DEFAULT]",r=typeof t=="object"&&t||{};r.name=r.name||i;let o=vt.apps.filter(a=>a&&a.name===r.name)[0]||e.runOutsideAngular(()=>vt.initializeApp(n,r));try{if(JSON.stringify(n)!==JSON.stringify(o.options)){let a=!!module.hot;uG("error",`${o.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new w_(o)}var uG=(n,...e)=>{IC()&&typeof console<"u"&&console[n](...e)},dG={provide:w_,useFactory:ec,deps:[Aa,De,[new Kl,xa]]},NP=(()=>{class n{static initializeApp(t,i){return{ngModule:n,providers:[{provide:Aa,useValue:t},{provide:xa,useValue:i}]}}constructor(t){vt.registerVersion("angularfire",Do.full,"core"),vt.registerVersion("angularfire",Do.full,"app-compat"),vt.registerVersion("angular",PN.full,t.toString())}static \u0275fac=function(i){return new(i||n)(G(wt))};static \u0275mod=we({type:n});static \u0275inj=ve({providers:[dG]})}return n})();function ed(n,e,t,i,r){let[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(s)return hG(r,o)||(RP("error",`${e} was already initialized on the ${t} Firebase App with different settings.${fG?" You may need to reload as Firebase is not HMR aware.":""}`),RP("warn",{is:r,was:o})),s;{let a=i();return globalThis.\u0275AngularfireInstanceCache.push([n,a,r]),a}}function hG(n,e){try{return n.toString()===e.toString()}catch{return n===e}}var fG=typeof module<"u"&&!!module.hot,RP=(n,...e)=>{IC()&&typeof console<"u"&&console[n](...e)};globalThis.\u0275AngularfireInstanceCache||=[];var pG=new Map,gG={activated:!1,tokenObservers:[]},mG={initialized:!1,enabled:!1};function Qr(n){return pG.get(n)||Object.assign({},gG)}function VP(){return mG}var _G="https://content-firebaseappcheck.googleapis.com/v1";var yG="exchangeDebugToken",PP={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},Ghe=24*60*60*1e3;var cE=class{constructor(e,t,i,r,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return F(this,null,function*(){this.stop();try{this.pending=new Fw,this.pending.promise.catch(t=>{}),yield vG(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Fw,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function vG(n){return new Promise(e=>{setTimeout(e,n)})}var wG={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Ra=new gu("appCheck","AppCheck",wG);function BP(n){if(!Qr(n).activated)throw Ra.create("use-before-activation",{appName:n.name})}function UP(i,r){return F(this,arguments,function*({url:n,body:e},t){let s={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){let v=yield o.getHeartbeatsHeader();v&&(s["X-Firebase-Client"]=v)}let a={method:"POST",body:JSON.stringify(e),headers:s},l;try{l=yield fetch(n,a)}catch(v){throw Ra.create("fetch-network-error",{originalErrorMessage:v?.message})}if(l.status!==200)throw Ra.create("fetch-status-error",{httpStatus:l.status});let c;try{c=yield l.json()}catch(v){throw Ra.create("fetch-parse-error",{originalErrorMessage:v?.message})}let d=c.ttl.match(/^([\d.]+)(s)$/);if(!d||!d[2]||isNaN(Number(d[1])))throw Ra.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});let h=Number(d[1])*1e3,m=Date.now();return{token:c.token,expireTimeMillis:m+h,issuedAtTimeMillis:m}})}function jP(n,e){let{projectId:t,appId:i,apiKey:r}=n.options;return{url:`${_G}/projects/${t}/apps/${i}:${yG}?key=${r}`,body:{debug_token:e}}}var bG="firebase-app-check-database",CG=1,uE="firebase-app-check-store";var b_=null;function EG(){return b_||(b_=new Promise((n,e)=>{try{let t=indexedDB.open(bG,CG);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(Ra.create("storage-open",{originalErrorMessage:(r=i.target.error)===null||r===void 0?void 0:r.message}))},t.onupgradeneeded=i=>{let r=i.target.result;switch(i.oldVersion){case 0:r.createObjectStore(uE,{keyPath:"compositeKey"})}}}catch(t){e(Ra.create("storage-open",{originalErrorMessage:t?.message}))}}),b_)}function IG(n,e){return TG(DG(n),e)}function TG(n,e){return F(this,null,function*(){let i=(yield EG()).transaction(uE,"readwrite"),s=i.objectStore(uE).put({compositeKey:n,value:e});return new Promise((o,a)=>{s.onsuccess=l=>{o()},i.onerror=l=>{var c;a(Ra.create("storage-set",{originalErrorMessage:(c=l.target.error)===null||c===void 0?void 0:c.message}))}})})}function DG(n){return`${n.options.appId}-${n.name}`}var dE=new mu("@firebase/app-check");function lE(n,e){return pu()?IG(n,e).catch(t=>{dE.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function zP(){return VP().enabled}function $P(){return F(this,null,function*(){let n=VP();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var SG={error:"UNKNOWN_ERROR"};function MG(n){return pA.encodeString(JSON.stringify(n),!1)}function hE(n,e=!1){return F(this,null,function*(){let t=n.app;BP(t);let i=Qr(t),r=i.token,s;if(r&&!Af(r)&&(i.token=void 0,r=void 0),!r){let l=yield i.cachedTokenPromise;l&&(Af(l)?r=l:yield lE(t,void 0))}if(!e&&r&&Af(r))return{token:r.token};let o=!1;if(zP()){i.exchangeTokenPromise||(i.exchangeTokenPromise=UP(jP(t,yield $P()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),o=!0);let l=yield i.exchangeTokenPromise;return yield lE(t,l),i.token=l,{token:l.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),o=!0),r=yield Qr(t).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?dE.warn(l.message):dE.error(l),s=l}let a;return r?s?Af(r)?a={token:r.token,internalError:s}:a=FP(s):(a={token:r.token},i.token=r,yield lE(t,r)):a=FP(s),o&&OG(t,a),a})}function AG(n){return F(this,null,function*(){let e=n.app;BP(e);let{provider:t}=Qr(e);if(zP()){let i=yield $P(),{token:r}=yield UP(jP(e,i),n.heartbeatServiceProvider);return{token:r}}else{let{token:i}=yield t.getToken();return{token:i}}})}function xG(n,e,t,i){let{app:r}=n,s=Qr(r),o={next:t,error:i,type:e};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&Af(s.token)){let a=s.token;Promise.resolve().then(()=>{t({token:a.token}),kP(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>kP(n))}function HP(n,e){let t=Qr(n),i=t.tokenObservers.filter(r=>r.next!==e);i.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function kP(n){let{app:e}=n,t=Qr(e),i=t.tokenRefresher;i||(i=RG(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function RG(n){let{app:e}=n;return new cE(()=>F(this,null,function*(){let t=Qr(e),i;if(t.token?i=yield hE(n,!0):i=yield hE(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{let t=Qr(e);if(t.token){let i=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,r=t.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,r),Math.max(0,i-Date.now())}else return 0},PP.RETRIAL_MIN_WAIT,PP.RETRIAL_MAX_WAIT)}function OG(n,e){let t=Qr(n).tokenObservers;for(let i of t)try{i.type==="EXTERNAL"&&e.error!=null?i.error(e.error):i.next(e)}catch{}}function Af(n){return n.expireTimeMillis-Date.now()>0}function FP(n){return{token:MG(SG),error:n}}var fE=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=Qr(this.app);for(let t of e)HP(this.app,t.next);return Promise.resolve()}};function NG(n,e){return new fE(n,e)}function PG(n){return{getToken:e=>hE(n,e),getLimitedUseToken:()=>AG(n),addTokenListener:e=>xG(n,"INTERNAL",e),removeTokenListener:e=>HP(n.app,e)}}var kG="@firebase/app-check",FG="0.8.8";var LG="app-check",LP="app-check-internal";function VG(){zi(new Vn(LG,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return NG(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(LP).initialize()})),zi(new Vn(LP,n=>{let e=n.getProvider("app-check").getImmediate();return PG(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Bn(kG,FG)}VG();var BG=["localhost","0.0.0.0","127.0.0.1"],ife=typeof window<"u"&&BG.includes(window.location.hostname);var gE=new oe("angularfire2.auth.use-emulator"),mE=new oe("angularfire2.auth.settings"),_E=new oe("angularfire2.auth.tenant-id"),yE=new oe("angularfire2.auth.langugage-code"),vE=new oe("angularfire2.auth.use-device-language"),wE=new oe("angularfire.auth.persistence"),bE=(n,e,t,i,r,s,o,a)=>ed(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{let l=e.runOutsideAngular(()=>n.auth());if(t&&l.useEmulator(...t),i&&(l.tenantId=i),l.languageCode=r,s&&l.useDeviceLanguage(),o)for(let[c,d]of Object.entries(o))l.settings[c]=d;return a&&l.setPersistence(a),l},[t,i,r,s,o,a]),Zr=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(t,i,r,s,o,a,l,c,d,h,m,v){let b=new Pe,A=le(void 0).pipe($i(o.outsideAngular),Le(()=>s.runOutsideAngular(()=>import("./chunk-A2KMIPMP.js"))),se(()=>ec(t,s,i)),se(S=>bE(S,s,a,c,d,h,l,m)),Mm({bufferSize:1,refCount:!1}));if(Ta(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=le(null);else{A.pipe(ar()).subscribe();let S=A.pipe(Le(W=>W.getRedirectResult().then(Y=>Y,()=>null)),qn,Mm({bufferSize:1,refCount:!1})),j=A.pipe(Le(W=>new Se(Y=>({unsubscribe:s.runOutsideAngular(()=>W.onAuthStateChanged(ge=>Y.next(ge),ge=>Y.error(ge),()=>Y.complete()))})))),Z=A.pipe(Le(W=>new Se(Y=>({unsubscribe:s.runOutsideAngular(()=>W.onIdTokenChanged(ge=>Y.next(ge),ge=>Y.error(ge),()=>Y.complete()))}))));this.authState=S.pipe(Am(j),Or(o.outsideAngular),$i(o.insideAngular)),this.user=S.pipe(Am(Z),Or(o.outsideAngular),$i(o.insideAngular)),this.idToken=this.user.pipe(Le(W=>W?Ge(W.getIdToken()):le(null))),this.idTokenResult=this.user.pipe(Le(W=>W?Ge(W.getIdTokenResult()):le(null))),this.credential=Im(S,b,this.authState.pipe(Ut(W=>!W))).pipe(se(W=>W?.user?W:null),Or(o.outsideAngular),$i(o.insideAngular))}return OP(this,A,s,{spy:{apply:(S,j,Z)=>{(S.startsWith("signIn")||S.startsWith("createUser"))&&Z.then(W=>b.next(W))}}})}static \u0275fac=function(i){return new(i||n)(G(Aa),G(xa,8),G(wt),G(De),G(Xu),G(gE,8),G(mE,8),G(_E,8),G(yE,8),G(vE,8),G(wE,8),G(To,8))};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),GP=(()=>{class n{constructor(){vt.registerVersion("angularfire",Do.full,"auth-compat")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=we({type:n});static \u0275inj=ve({providers:[Zr]})}return n})();var qP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},WP={};var Oa,CE;(function(){var n;function e(R,T){function M(){}M.prototype=T.prototype,R.D=T.prototype,R.prototype=new M,R.prototype.constructor=R,R.C=function(N,k,P){for(var O=Array(arguments.length-2),Ii=2;Ii<arguments.length;Ii++)O[Ii-2]=arguments[Ii];return T.prototype[k].apply(N,O)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(R,T,M){M||(M=0);var N=Array(16);if(typeof T=="string")for(var k=0;16>k;++k)N[k]=T.charCodeAt(M++)|T.charCodeAt(M++)<<8|T.charCodeAt(M++)<<16|T.charCodeAt(M++)<<24;else for(k=0;16>k;++k)N[k]=T[M++]|T[M++]<<8|T[M++]<<16|T[M++]<<24;T=R.g[0],M=R.g[1],k=R.g[2];var P=R.g[3],O=T+(P^M&(k^P))+N[0]+3614090360&4294967295;T=M+(O<<7&4294967295|O>>>25),O=P+(k^T&(M^k))+N[1]+3905402710&4294967295,P=T+(O<<12&4294967295|O>>>20),O=k+(M^P&(T^M))+N[2]+606105819&4294967295,k=P+(O<<17&4294967295|O>>>15),O=M+(T^k&(P^T))+N[3]+3250441966&4294967295,M=k+(O<<22&4294967295|O>>>10),O=T+(P^M&(k^P))+N[4]+4118548399&4294967295,T=M+(O<<7&4294967295|O>>>25),O=P+(k^T&(M^k))+N[5]+1200080426&4294967295,P=T+(O<<12&4294967295|O>>>20),O=k+(M^P&(T^M))+N[6]+2821735955&4294967295,k=P+(O<<17&4294967295|O>>>15),O=M+(T^k&(P^T))+N[7]+4249261313&4294967295,M=k+(O<<22&4294967295|O>>>10),O=T+(P^M&(k^P))+N[8]+1770035416&4294967295,T=M+(O<<7&4294967295|O>>>25),O=P+(k^T&(M^k))+N[9]+2336552879&4294967295,P=T+(O<<12&4294967295|O>>>20),O=k+(M^P&(T^M))+N[10]+4294925233&4294967295,k=P+(O<<17&4294967295|O>>>15),O=M+(T^k&(P^T))+N[11]+2304563134&4294967295,M=k+(O<<22&4294967295|O>>>10),O=T+(P^M&(k^P))+N[12]+1804603682&4294967295,T=M+(O<<7&4294967295|O>>>25),O=P+(k^T&(M^k))+N[13]+4254626195&4294967295,P=T+(O<<12&4294967295|O>>>20),O=k+(M^P&(T^M))+N[14]+2792965006&4294967295,k=P+(O<<17&4294967295|O>>>15),O=M+(T^k&(P^T))+N[15]+1236535329&4294967295,M=k+(O<<22&4294967295|O>>>10),O=T+(k^P&(M^k))+N[1]+4129170786&4294967295,T=M+(O<<5&4294967295|O>>>27),O=P+(M^k&(T^M))+N[6]+3225465664&4294967295,P=T+(O<<9&4294967295|O>>>23),O=k+(T^M&(P^T))+N[11]+643717713&4294967295,k=P+(O<<14&4294967295|O>>>18),O=M+(P^T&(k^P))+N[0]+3921069994&4294967295,M=k+(O<<20&4294967295|O>>>12),O=T+(k^P&(M^k))+N[5]+3593408605&4294967295,T=M+(O<<5&4294967295|O>>>27),O=P+(M^k&(T^M))+N[10]+38016083&4294967295,P=T+(O<<9&4294967295|O>>>23),O=k+(T^M&(P^T))+N[15]+3634488961&4294967295,k=P+(O<<14&4294967295|O>>>18),O=M+(P^T&(k^P))+N[4]+3889429448&4294967295,M=k+(O<<20&4294967295|O>>>12),O=T+(k^P&(M^k))+N[9]+568446438&4294967295,T=M+(O<<5&4294967295|O>>>27),O=P+(M^k&(T^M))+N[14]+3275163606&4294967295,P=T+(O<<9&4294967295|O>>>23),O=k+(T^M&(P^T))+N[3]+4107603335&4294967295,k=P+(O<<14&4294967295|O>>>18),O=M+(P^T&(k^P))+N[8]+1163531501&4294967295,M=k+(O<<20&4294967295|O>>>12),O=T+(k^P&(M^k))+N[13]+2850285829&4294967295,T=M+(O<<5&4294967295|O>>>27),O=P+(M^k&(T^M))+N[2]+4243563512&4294967295,P=T+(O<<9&4294967295|O>>>23),O=k+(T^M&(P^T))+N[7]+1735328473&4294967295,k=P+(O<<14&4294967295|O>>>18),O=M+(P^T&(k^P))+N[12]+2368359562&4294967295,M=k+(O<<20&4294967295|O>>>12),O=T+(M^k^P)+N[5]+4294588738&4294967295,T=M+(O<<4&4294967295|O>>>28),O=P+(T^M^k)+N[8]+2272392833&4294967295,P=T+(O<<11&4294967295|O>>>21),O=k+(P^T^M)+N[11]+1839030562&4294967295,k=P+(O<<16&4294967295|O>>>16),O=M+(k^P^T)+N[14]+4259657740&4294967295,M=k+(O<<23&4294967295|O>>>9),O=T+(M^k^P)+N[1]+2763975236&4294967295,T=M+(O<<4&4294967295|O>>>28),O=P+(T^M^k)+N[4]+1272893353&4294967295,P=T+(O<<11&4294967295|O>>>21),O=k+(P^T^M)+N[7]+4139469664&4294967295,k=P+(O<<16&4294967295|O>>>16),O=M+(k^P^T)+N[10]+3200236656&4294967295,M=k+(O<<23&4294967295|O>>>9),O=T+(M^k^P)+N[13]+681279174&4294967295,T=M+(O<<4&4294967295|O>>>28),O=P+(T^M^k)+N[0]+3936430074&4294967295,P=T+(O<<11&4294967295|O>>>21),O=k+(P^T^M)+N[3]+3572445317&4294967295,k=P+(O<<16&4294967295|O>>>16),O=M+(k^P^T)+N[6]+76029189&4294967295,M=k+(O<<23&4294967295|O>>>9),O=T+(M^k^P)+N[9]+3654602809&4294967295,T=M+(O<<4&4294967295|O>>>28),O=P+(T^M^k)+N[12]+3873151461&4294967295,P=T+(O<<11&4294967295|O>>>21),O=k+(P^T^M)+N[15]+530742520&4294967295,k=P+(O<<16&4294967295|O>>>16),O=M+(k^P^T)+N[2]+3299628645&4294967295,M=k+(O<<23&4294967295|O>>>9),O=T+(k^(M|~P))+N[0]+4096336452&4294967295,T=M+(O<<6&4294967295|O>>>26),O=P+(M^(T|~k))+N[7]+1126891415&4294967295,P=T+(O<<10&4294967295|O>>>22),O=k+(T^(P|~M))+N[14]+2878612391&4294967295,k=P+(O<<15&4294967295|O>>>17),O=M+(P^(k|~T))+N[5]+4237533241&4294967295,M=k+(O<<21&4294967295|O>>>11),O=T+(k^(M|~P))+N[12]+1700485571&4294967295,T=M+(O<<6&4294967295|O>>>26),O=P+(M^(T|~k))+N[3]+2399980690&4294967295,P=T+(O<<10&4294967295|O>>>22),O=k+(T^(P|~M))+N[10]+4293915773&4294967295,k=P+(O<<15&4294967295|O>>>17),O=M+(P^(k|~T))+N[1]+2240044497&4294967295,M=k+(O<<21&4294967295|O>>>11),O=T+(k^(M|~P))+N[8]+1873313359&4294967295,T=M+(O<<6&4294967295|O>>>26),O=P+(M^(T|~k))+N[15]+4264355552&4294967295,P=T+(O<<10&4294967295|O>>>22),O=k+(T^(P|~M))+N[6]+2734768916&4294967295,k=P+(O<<15&4294967295|O>>>17),O=M+(P^(k|~T))+N[13]+1309151649&4294967295,M=k+(O<<21&4294967295|O>>>11),O=T+(k^(M|~P))+N[4]+4149444226&4294967295,T=M+(O<<6&4294967295|O>>>26),O=P+(M^(T|~k))+N[11]+3174756917&4294967295,P=T+(O<<10&4294967295|O>>>22),O=k+(T^(P|~M))+N[2]+718787259&4294967295,k=P+(O<<15&4294967295|O>>>17),O=M+(P^(k|~T))+N[9]+3951481745&4294967295,R.g[0]=R.g[0]+T&4294967295,R.g[1]=R.g[1]+(k+(O<<21&4294967295|O>>>11))&4294967295,R.g[2]=R.g[2]+k&4294967295,R.g[3]=R.g[3]+P&4294967295}i.prototype.u=function(R,T){T===void 0&&(T=R.length);for(var M=T-this.blockSize,N=this.B,k=this.h,P=0;P<T;){if(k==0)for(;P<=M;)r(this,R,P),P+=this.blockSize;if(typeof R=="string"){for(;P<T;)if(N[k++]=R.charCodeAt(P++),k==this.blockSize){r(this,N),k=0;break}}else for(;P<T;)if(N[k++]=R[P++],k==this.blockSize){r(this,N),k=0;break}}this.h=k,this.o+=T},i.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var T=1;T<R.length-8;++T)R[T]=0;var M=8*this.o;for(T=R.length-8;T<R.length;++T)R[T]=M&255,M/=256;for(this.u(R),R=Array(16),T=M=0;4>T;++T)for(var N=0;32>N;N+=8)R[M++]=this.g[T]>>>N&255;return R};function s(R,T){var M=a;return Object.prototype.hasOwnProperty.call(M,R)?M[R]:M[R]=T(R)}function o(R,T){this.h=T;for(var M=[],N=!0,k=R.length-1;0<=k;k--){var P=R[k]|0;N&&P==T||(M[k]=P,N=!1)}this.g=M}var a={};function l(R){return-128<=R&&128>R?s(R,function(T){return new o([T|0],0>T?-1:0)}):new o([R|0],0>R?-1:0)}function c(R){if(isNaN(R)||!isFinite(R))return h;if(0>R)return S(c(-R));for(var T=[],M=1,N=0;R>=M;N++)T[N]=R/M|0,M*=4294967296;return new o(T,0)}function d(R,T){if(R.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(R.charAt(0)=="-")return S(d(R.substring(1),T));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=c(Math.pow(T,8)),N=h,k=0;k<R.length;k+=8){var P=Math.min(8,R.length-k),O=parseInt(R.substring(k,k+P),T);8>P?(P=c(Math.pow(T,P)),N=N.j(P).add(c(O))):(N=N.j(M),N=N.add(c(O)))}return N}var h=l(0),m=l(1),v=l(16777216);n=o.prototype,n.m=function(){if(A(this))return-S(this).m();for(var R=0,T=1,M=0;M<this.g.length;M++){var N=this.i(M);R+=(0<=N?N:4294967296+N)*T,T*=4294967296}return R},n.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(b(this))return"0";if(A(this))return"-"+S(this).toString(R);for(var T=c(Math.pow(R,6)),M=this,N="";;){var k=Y(M,T).g;M=j(M,k.j(T));var P=((0<M.g.length?M.g[0]:M.h)>>>0).toString(R);if(M=k,b(M))return P+N;for(;6>P.length;)P="0"+P;N=P+N}},n.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function b(R){if(R.h!=0)return!1;for(var T=0;T<R.g.length;T++)if(R.g[T]!=0)return!1;return!0}function A(R){return R.h==-1}n.l=function(R){return R=j(this,R),A(R)?-1:b(R)?0:1};function S(R){for(var T=R.g.length,M=[],N=0;N<T;N++)M[N]=~R.g[N];return new o(M,~R.h).add(m)}n.abs=function(){return A(this)?S(this):this},n.add=function(R){for(var T=Math.max(this.g.length,R.g.length),M=[],N=0,k=0;k<=T;k++){var P=N+(this.i(k)&65535)+(R.i(k)&65535),O=(P>>>16)+(this.i(k)>>>16)+(R.i(k)>>>16);N=O>>>16,P&=65535,O&=65535,M[k]=O<<16|P}return new o(M,M[M.length-1]&-2147483648?-1:0)};function j(R,T){return R.add(S(T))}n.j=function(R){if(b(this)||b(R))return h;if(A(this))return A(R)?S(this).j(S(R)):S(S(this).j(R));if(A(R))return S(this.j(S(R)));if(0>this.l(v)&&0>R.l(v))return c(this.m()*R.m());for(var T=this.g.length+R.g.length,M=[],N=0;N<2*T;N++)M[N]=0;for(N=0;N<this.g.length;N++)for(var k=0;k<R.g.length;k++){var P=this.i(N)>>>16,O=this.i(N)&65535,Ii=R.i(k)>>>16,Tr=R.i(k)&65535;M[2*N+2*k]+=O*Tr,Z(M,2*N+2*k),M[2*N+2*k+1]+=P*Tr,Z(M,2*N+2*k+1),M[2*N+2*k+1]+=O*Ii,Z(M,2*N+2*k+1),M[2*N+2*k+2]+=P*Ii,Z(M,2*N+2*k+2)}for(N=0;N<T;N++)M[N]=M[2*N+1]<<16|M[2*N];for(N=T;N<2*T;N++)M[N]=0;return new o(M,0)};function Z(R,T){for(;(R[T]&65535)!=R[T];)R[T+1]+=R[T]>>>16,R[T]&=65535,T++}function W(R,T){this.g=R,this.h=T}function Y(R,T){if(b(T))throw Error("division by zero");if(b(R))return new W(h,h);if(A(R))return T=Y(S(R),T),new W(S(T.g),S(T.h));if(A(T))return T=Y(R,S(T)),new W(S(T.g),T.h);if(30<R.g.length){if(A(R)||A(T))throw Error("slowDivide_ only works with positive integers.");for(var M=m,N=T;0>=N.l(R);)M=ge(M),N=ge(N);var k=ae(M,1),P=ae(N,1);for(N=ae(N,2),M=ae(M,2);!b(N);){var O=P.add(N);0>=O.l(R)&&(k=k.add(M),P=O),N=ae(N,1),M=ae(M,1)}return T=j(R,k.j(T)),new W(k,T)}for(k=h;0<=R.l(T);){for(M=Math.max(1,Math.floor(R.m()/T.m())),N=Math.ceil(Math.log(M)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),P=c(M),O=P.j(T);A(O)||0<O.l(R);)M-=N,P=c(M),O=P.j(T);b(P)&&(P=m),k=k.add(P),R=j(R,O)}return new W(k,R)}n.A=function(R){return Y(this,R).h},n.and=function(R){for(var T=Math.max(this.g.length,R.g.length),M=[],N=0;N<T;N++)M[N]=this.i(N)&R.i(N);return new o(M,this.h&R.h)},n.or=function(R){for(var T=Math.max(this.g.length,R.g.length),M=[],N=0;N<T;N++)M[N]=this.i(N)|R.i(N);return new o(M,this.h|R.h)},n.xor=function(R){for(var T=Math.max(this.g.length,R.g.length),M=[],N=0;N<T;N++)M[N]=this.i(N)^R.i(N);return new o(M,this.h^R.h)};function ge(R){for(var T=R.g.length+1,M=[],N=0;N<T;N++)M[N]=R.i(N)<<1|R.i(N-1)>>>31;return new o(M,R.h)}function ae(R,T){var M=T>>5;T%=32;for(var N=R.g.length-M,k=[],P=0;P<N;P++)k[P]=0<T?R.i(P+M)>>>T|R.i(P+M+1)<<32-T:R.i(P+M);return new o(k,R.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,CE=WP.Md5=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,Oa=WP.Integer=o}).apply(typeof qP<"u"?qP:typeof self<"u"?self:typeof window<"u"?window:{});var C_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},So={};var EE,IE,td,TE,Rf,E_,DE,SE,ME;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,_){return u==Array.prototype||u==Object.prototype||(u[g]=_.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof C_=="object"&&C_];for(var g=0;g<u.length;++g){var _=u[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=t(this);function r(u,g){if(g)e:{var _=i;u=u.split(".");for(var w=0;w<u.length-1;w++){var V=u[w];if(!(V in _))break e;_=_[V]}u=u[u.length-1],w=_[u],g=g(w),g!=w&&g!=null&&e(_,u,{configurable:!0,writable:!0,value:g})}}function s(u,g){u instanceof String&&(u+="");var _=0,w=!1,V={next:function(){if(!w&&_<u.length){var H=_++;return{value:g(H,u[H]),done:!1}}return w=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}r("Array.prototype.values",function(u){return u||function(){return s(this,function(g,_){return _})}});var o=o||{},a=this||self;function l(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function c(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function d(u,g,_){return u.call.apply(u.bind,arguments)}function h(u,g,_){if(!u)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,w),u.apply(g,V)}}return function(){return u.apply(g,arguments)}}function m(u,g,_){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,m.apply(null,arguments)}function v(u,g){var _=Array.prototype.slice.call(arguments,1);return function(){var w=_.slice();return w.push.apply(w,arguments),u.apply(this,w)}}function b(u,g){function _(){}_.prototype=g.prototype,u.aa=g.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(w,V,H){for(var ce=Array(arguments.length-2),yt=2;yt<arguments.length;yt++)ce[yt-2]=arguments[yt];return g.prototype[V].apply(w,ce)}}function A(u){let g=u.length;if(0<g){let _=Array(g);for(let w=0;w<g;w++)_[w]=u[w];return _}return[]}function S(u,g){for(let _=1;_<arguments.length;_++){let w=arguments[_];if(l(w)){let V=u.length||0,H=w.length||0;u.length=V+H;for(let ce=0;ce<H;ce++)u[V+ce]=w[ce]}else u.push(w)}}class j{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function Z(u){return/^[\s\xa0]*$/.test(u)}function W(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function Y(u){return Y[" "](u),u}Y[" "]=function(){};var ge=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function ae(u,g,_){for(let w in u)g.call(_,u[w],w,u)}function R(u,g){for(let _ in u)g.call(void 0,u[_],_,u)}function T(u){let g={};for(let _ in u)g[_]=u[_];return g}let M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(u,g){let _,w;for(let V=1;V<arguments.length;V++){w=arguments[V];for(_ in w)u[_]=w[_];for(let H=0;H<M.length;H++)_=M[H],Object.prototype.hasOwnProperty.call(w,_)&&(u[_]=w[_])}}function k(u){var g=1;u=u.split(":");let _=[];for(;0<g&&u.length;)_.push(u.shift()),g--;return u.length&&_.push(u.join(":")),_}function P(u){a.setTimeout(()=>{throw u},0)}function O(){var u=ze;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class Ii{constructor(){this.h=this.g=null}add(g,_){let w=Tr.get();w.set(g,_),this.h?this.h.next=w:this.g=w,this.h=w}}var Tr=new j(()=>new me,u=>u.reset());class me{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Ce,Te=!1,ze=new Ii,ut=()=>{let u=a.Promise.resolve(void 0);Ce=()=>{u.then(wn)}};var wn=()=>{for(var u;u=O();){try{u.h.call(u.g)}catch(_){P(_)}var g=Tr;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}Te=!1};function gt(){this.s=this.s,this.C=this.C}gt.prototype.s=!1,gt.prototype.ma=function(){this.s||(this.s=!0,this.N())},gt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Tt(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}Tt.prototype.h=function(){this.defaultPrevented=!0};var dt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{let _=()=>{};a.addEventListener("test",_,g),a.removeEventListener("test",_,g)}catch{}return u}();function Ti(u,g){if(Tt.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,w=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(ge){e:{try{Y(g.nodeName);var V=!0;break e}catch{}V=!1}V||(g=null)}}else _=="mouseover"?g=u.fromElement:_=="mouseout"&&(g=u.toElement);this.relatedTarget=g,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:qc[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ti.aa.h.call(this)}}b(Ti,Tt);var qc={2:"touch",3:"pen",4:"mouse"};Ti.prototype.h=function(){Ti.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Dt="closure_listenable_"+(1e6*Math.random()|0),Li=0;function Qn(u,g,_,w,V){this.listener=u,this.proxy=null,this.src=g,this.type=_,this.capture=!!w,this.ha=V,this.key=++Li,this.da=this.fa=!1}function Vi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function rr(u){this.src=u,this.g={},this.h=0}rr.prototype.add=function(u,g,_,w,V){var H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);var ce=Ch(u,g,w,V);return-1<ce?(g=u[ce],_||(g.fa=!1)):(g=new Qn(g,this.src,H,!!w,V),g.fa=_,u.push(g)),g};function Go(u,g){var _=g.type;if(_ in u.g){var w=u.g[_],V=Array.prototype.indexOf.call(w,g,void 0),H;(H=0<=V)&&Array.prototype.splice.call(w,V,1),H&&(Vi(g),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Ch(u,g,_,w){for(var V=0;V<u.length;++V){var H=u[V];if(!H.da&&H.listener==g&&H.capture==!!_&&H.ha==w)return V}return-1}var kn="closure_lm_"+(1e6*Math.random()|0),Bi={};function cg(u,g,_,w,V){if(w&&w.once)return Eh(u,g,_,w,V);if(Array.isArray(g)){for(var H=0;H<g.length;H++)cg(u,g[H],_,w,V);return null}return _=cn(_),u&&u[Dt]?u.K(g,_,c(w)?!!w.capture:!!w,V):Zn(u,g,_,!1,w,V)}function Zn(u,g,_,w,V,H){if(!g)throw Error("Invalid event type");var ce=c(V)?!!V.capture:!!V,yt=Dr(u);if(yt||(u[kn]=yt=new rr(u)),_=yt.add(g,_,w,ce,H),_.proxy)return _;if(w=Wc(),_.proxy=w,w.src=u,w.listener=_,u.addEventListener)dt||(V=ce),V===void 0&&(V=!1),u.addEventListener(g.toString(),w,V);else if(u.attachEvent)u.attachEvent(Ui(g.toString()),w);else if(u.addListener&&u.removeListener)u.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Wc(){function u(_){return g.call(u.src,u.listener,_)}let g=as;return u}function Eh(u,g,_,w,V){if(Array.isArray(g)){for(var H=0;H<g.length;H++)Eh(u,g[H],_,w,V);return null}return _=cn(_),u&&u[Dt]?u.L(g,_,c(w)?!!w.capture:!!w,V):Zn(u,g,_,!0,w,V)}function Ih(u,g,_,w,V){if(Array.isArray(g))for(var H=0;H<g.length;H++)Ih(u,g[H],_,w,V);else w=c(w)?!!w.capture:!!w,_=cn(_),u&&u[Dt]?(u=u.i,g=String(g).toString(),g in u.g&&(H=u.g[g],_=Ch(H,_,w,V),-1<_&&(Vi(H[_]),Array.prototype.splice.call(H,_,1),H.length==0&&(delete u.g[g],u.h--)))):u&&(u=Dr(u))&&(g=u.g[g.toString()],u=-1,g&&(u=Ch(g,_,w,V)),(_=-1<u?g[u]:null)&&Xe(_))}function Xe(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[Dt])Go(g.i,u);else{var _=u.type,w=u.proxy;g.removeEventListener?g.removeEventListener(_,w,u.capture):g.detachEvent?g.detachEvent(Ui(_),w):g.addListener&&g.removeListener&&g.removeListener(w),(_=Dr(g))?(Go(_,u),_.h==0&&(_.src=null,g[kn]=null)):Vi(u)}}}function Ui(u){return u in Bi?Bi[u]:Bi[u]="on"+u}function as(u,g){if(u.da)u=!0;else{g=new Ti(g,this);var _=u.listener,w=u.ha||u.src;u.fa&&Xe(u),u=_.call(w,g)}return u}function Dr(u){return u=u[kn],u instanceof rr?u:null}var Jt="__closure_events_fn_"+(1e9*Math.random()>>>0);function cn(u){return typeof u=="function"?u:(u[Jt]||(u[Jt]=function(g){return u.handleEvent(g)}),u[Jt])}function un(){gt.call(this),this.i=new rr(this),this.M=this,this.F=null}b(un,gt),un.prototype[Dt]=!0,un.prototype.removeEventListener=function(u,g,_,w){Ih(this,u,g,_,w)};function xn(u,g){var _,w=u.F;if(w)for(_=[];w;w=w.F)_.push(w);if(u=u.M,w=g.type||g,typeof g=="string")g=new Tt(g,u);else if(g instanceof Tt)g.target=g.target||u;else{var V=g;g=new Tt(w,u),N(g,V)}if(V=!0,_)for(var H=_.length-1;0<=H;H--){var ce=g.g=_[H];V=ls(ce,w,!0,g)&&V}if(ce=g.g=u,V=ls(ce,w,!0,g)&&V,V=ls(ce,w,!1,g)&&V,_)for(H=0;H<_.length;H++)ce=g.g=_[H],V=ls(ce,w,!1,g)&&V}un.prototype.N=function(){if(un.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var _=u.g[g],w=0;w<_.length;w++)Vi(_[w]);delete u.g[g],u.h--}}this.F=null},un.prototype.K=function(u,g,_,w){return this.i.add(String(u),g,!1,_,w)},un.prototype.L=function(u,g,_,w){return this.i.add(String(u),g,!0,_,w)};function ls(u,g,_,w){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var V=!0,H=0;H<g.length;++H){var ce=g[H];if(ce&&!ce.da&&ce.capture==_){var yt=ce.listener,dn=ce.ha||ce.src;ce.fa&&Go(u.i,ce),V=yt.call(dn,w)!==!1&&V}}return V&&!w.defaultPrevented}function Fn(u,g,_){if(typeof u=="function")_&&(u=m(u,_));else if(u&&typeof u.handleEvent=="function")u=m(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:a.setTimeout(u,g||0)}function ug(u){u.g=Fn(()=>{u.g=null,u.i&&(u.i=!1,ug(u))},u.l);let g=u.h;u.h=null,u.m.apply(null,g)}class dg extends gt{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:ug(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qo(u){gt.call(this),this.h=u,this.g={}}b(qo,gt);var Kc=[];function hg(u){ae(u.g,function(g,_){this.g.hasOwnProperty(_)&&Xe(g)},u),u.g={}}qo.prototype.N=function(){qo.aa.N.call(this),hg(this)},qo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qc=a.JSON.stringify,mw=a.JSON.parse,_w=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function Sr(){}Sr.prototype.h=null;function fg(u){return u.h||(u.h=u.i())}function pg(){}var hl={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Th(){Tt.call(this,"d")}b(Th,Tt);function Dh(){Tt.call(this,"c")}b(Dh,Tt);var Mr={},gg=null;function Zc(){return gg=gg||new un}Mr.La="serverreachability";function cs(u){Tt.call(this,Mr.La,u)}b(cs,Tt);function fl(u){let g=Zc();xn(g,new cs(g))}Mr.STAT_EVENT="statevent";function mg(u,g){Tt.call(this,Mr.STAT_EVENT,u),this.stat=g}b(mg,Tt);function Ln(u){let g=Zc();xn(g,new mg(g,u))}Mr.Ma="timingevent";function Yc(u,g){Tt.call(this,Mr.Ma,u),this.size=g}b(Yc,Tt);function pl(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},g)}function gl(){this.g=!0}gl.prototype.xa=function(){this.g=!1};function yw(u,g,_,w,V,H){u.info(function(){if(u.g)if(H)for(var ce="",yt=H.split("&"),dn=0;dn<yt.length;dn++){var it=yt[dn].split("=");if(1<it.length){var bn=it[0];it=it[1];var Rn=bn.split("_");ce=2<=Rn.length&&Rn[1]=="type"?ce+(bn+"="+it+"&"):ce+(bn+"=redacted&")}}else ce=null;else ce=H;return"XMLHTTP REQ ("+w+") [attempt "+V+"]: "+g+`
`+_+`
`+ce})}function vw(u,g,_,w,V,H,ce){u.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+V+"]: "+g+`
`+_+`
`+H+" "+ce})}function Wo(u,g,_,w){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+ww(u,_)+(w?" "+w:"")})}function Ct(u,g){u.info(function(){return"TIMEOUT: "+g})}gl.prototype.info=function(){};function ww(u,g){if(!u.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var w=_[u];if(!(2>w.length)){var V=w[1];if(Array.isArray(V)&&!(1>V.length)){var H=V[0];if(H!="noop"&&H!="stop"&&H!="close")for(var ce=1;ce<V.length;ce++)V[ce]=""}}}}return Qc(_)}catch{return g}}var Jc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_g={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Sh;function Xc(){}b(Xc,Sr),Xc.prototype.g=function(){return new XMLHttpRequest},Xc.prototype.i=function(){return{}},Sh=new Xc;function us(u,g,_,w){this.j=u,this.i=g,this.l=_,this.R=w||1,this.U=new qo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new eu}function eu(){this.i=null,this.g="",this.h=!1}var Ko={},tu={};function Qo(u,g,_){u.L=1,u.v=ou(Yn(g)),u.m=_,u.P=!0,Vt(u,null)}function Vt(u,g){u.F=Date.now(),nu(u),u.A=Yn(u.v);var _=u.A,w=u.R;Array.isArray(w)||(w=[String(w)]),Ag(_.i,"t",w),u.C=0,_=u.j.J,u.h=new eu,u.g=jh(u.j,_?g:null,!u.m),0<u.O&&(u.M=new dg(m(u.Y,u,u.g),u.O)),g=u.U,_=u.g,w=u.ca;var V="readystatechange";Array.isArray(V)||(V&&(Kc[0]=V.toString()),V=Kc);for(var H=0;H<V.length;H++){var ce=cg(_,V[H],w||g.handleEvent,!1,g.h||g);if(!ce)break;g.g[ce.key]=ce}g=u.H?T(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),fl(),yw(u.i,u.u,u.A,u.l,u.R,u.m)}us.prototype.ca=function(u){u=u.target;let g=this.M;g&&xr(u)==3?g.j():this.Y(u)},us.prototype.Y=function(u){try{if(u==this.g)e:{let Rn=xr(this.g);var g=this.g.Ba();let no=this.g.Z();if(!(3>Rn)&&(Rn!=3||this.g&&(this.h.h||this.g.oa()||Vg(this.g)))){this.J||Rn!=4||g==7||(g==8||0>=no?fl(3):fl(2)),Ah(this);var _=this.g.Z();this.X=_;t:if(yg(this)){var w=Vg(this.g);u="";var V=w.length,H=xr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Xs(this),ml(this);var ce="";break t}this.h.i=new a.TextDecoder}for(g=0;g<V;g++)this.h.h=!0,u+=this.h.i.decode(w[g],{stream:!(H&&g==V-1)});w.length=0,this.h.g+=u,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=_==200,vw(this.i,this.u,this.A,this.l,this.R,Rn,_),this.o){if(this.T&&!this.K){t:{if(this.g){var yt,dn=this.g;if((yt=dn.g?dn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Z(yt)){var it=yt;break t}}it=null}if(_=it)Wo(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,iu(this,_);else{this.o=!1,this.s=3,Ln(12),Xs(this),ml(this);break e}}if(this.P){_=!0;let di;for(;!this.J&&this.C<ce.length;)if(di=bw(this,ce),di==tu){Rn==4&&(this.s=4,Ln(14),_=!1),Wo(this.i,this.l,null,"[Incomplete Response]");break}else if(di==Ko){this.s=4,Ln(15),Wo(this.i,this.l,ce,"[Invalid Chunk]"),_=!1;break}else Wo(this.i,this.l,di,null),iu(this,di);if(yg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rn!=4||ce.length!=0||this.h.h||(this.s=1,Ln(16),_=!1),this.o=this.o&&_,!_)Wo(this.i,this.l,ce,"[Invalid Chunked Response]"),Xs(this),ml(this);else if(0<ce.length&&!this.W){this.W=!0;var bn=this.j;bn.g==this&&bn.ba&&!bn.M&&(bn.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),Il(bn),bn.M=!0,Ln(11))}}else Wo(this.i,this.l,ce,null),iu(this,ce);Rn==4&&Xs(this),this.o&&!this.J&&(Rn==4?Lh(this.j,this):(this.o=!1,nu(this)))}else Rw(this.g),_==400&&0<ce.indexOf("Unknown SID")?(this.s=3,Ln(12)):(this.s=0,Ln(13)),Xs(this),ml(this)}}}catch{}finally{}};function yg(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function bw(u,g){var _=u.C,w=g.indexOf(`
`,_);return w==-1?tu:(_=Number(g.substring(_,w)),isNaN(_)?Ko:(w+=1,w+_>g.length?tu:(g=g.slice(w,w+_),u.C=w+_,g)))}us.prototype.cancel=function(){this.J=!0,Xs(this)};function nu(u){u.S=Date.now()+u.I,Mh(u,u.I)}function Mh(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=pl(m(u.ba,u),g)}function Ah(u){u.B&&(a.clearTimeout(u.B),u.B=null)}us.prototype.ba=function(){this.B=null;let u=Date.now();0<=u-this.S?(Ct(this.i,this.A),this.L!=2&&(fl(),Ln(17)),Xs(this),this.s=2,ml(this)):Mh(this,this.S-u)};function ml(u){u.j.G==0||u.J||Lh(u.j,u)}function Xs(u){Ah(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,hg(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function iu(u,g){try{var _=u.j;if(_.G!=0&&(_.g==u||Rh(_.h,u))){if(!u.K&&Rh(_.h,u)&&_.G==3){try{var w=_.Da.g.parse(g)}catch{w=null}if(Array.isArray(w)&&w.length==3){var V=w;if(V[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)du(_),Cl(_);else break e;uu(_),Ln(18)}}else _.za=V[1],0<_.za-_.T&&37500>V[2]&&_.F&&_.v==0&&!_.C&&(_.C=pl(m(_.Za,_),6e3));if(1>=wg(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else fs(_,11)}else if((u.K||_.g==u)&&du(_),!Z(g))for(V=_.Da.g.parse(g),g=0;g<V.length;g++){let it=V[g];if(_.T=it[0],it=it[1],_.G==2)if(it[0]=="c"){_.K=it[1],_.ia=it[2];let bn=it[3];bn!=null&&(_.la=bn,_.j.info("VER="+_.la));let Rn=it[4];Rn!=null&&(_.Aa=Rn,_.j.info("SVER="+_.Aa));let no=it[5];no!=null&&typeof no=="number"&&0<no&&(w=1.5*no,_.L=w,_.j.info("backChannelRequestTimeoutMs_="+w)),w=_;let di=u.g;if(di){let hu=di.g?di.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(hu){var H=w.h;H.g||hu.indexOf("spdy")==-1&&hu.indexOf("quic")==-1&&hu.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Oh(H,H.h),H.h=null))}if(w.D){let $h=di.g?di.g.getResponseHeader("X-HTTP-Session-Id"):null;$h&&(w.ya=$h,Et(w.I,w.D,$h))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),w=_;var ce=u;if(w.qa=Uh(w,w.J?w.ia:null,w.W),ce.K){bg(w.h,ce);var yt=ce,dn=w.L;dn&&(yt.I=dn),yt.B&&(Ah(yt),nu(yt)),w.g=ce}else Fh(w);0<_.i.length&&lu(_)}else it[0]!="stop"&&it[0]!="close"||fs(_,7);else _.G==3&&(it[0]=="stop"||it[0]=="close"?it[0]=="stop"?fs(_,7):na(_):it[0]!="noop"&&_.l&&_.l.ta(it),_.v=0)}}fl(4)}catch{}}var Cw=class{constructor(u,g){this.g=u,this.map=g}};function xh(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function vg(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function wg(u){return u.h?1:u.g?u.g.size:0}function Rh(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function Oh(u,g){u.g?u.g.add(g):u.h=g}function bg(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}xh.prototype.cancel=function(){if(this.i=Cg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let u of this.g.values())u.cancel();this.g.clear()}};function Cg(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(let _ of u.g.values())g=g.concat(_.D);return g}return A(u.i)}function Ew(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var g=[],_=u.length,w=0;w<_;w++)g.push(u[w]);return g}g=[],_=0;for(w in u)g[_++]=u[w];return g}function Eg(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var g=[];u=u.length;for(var _=0;_<u;_++)g.push(_);return g}g=[],_=0;for(let w in u)g[_++]=w;return g}}}function Ig(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var _=Eg(u),w=Ew(u),V=w.length,H=0;H<V;H++)g.call(void 0,w[H],_&&_[H],u)}var Nh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Iw(u,g){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var w=u[_].indexOf("="),V=null;if(0<=w){var H=u[_].substring(0,w);V=u[_].substring(w+1)}else H=u[_];g(H,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function eo(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof eo){this.h=u.h,_l(this,u.j),this.o=u.o,this.g=u.g,ru(this,u.s),this.l=u.l;var g=u.i,_=new Yo;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),su(this,_),this.m=u.m}else u&&(g=String(u).match(Nh))?(this.h=!1,_l(this,g[1]||"",!0),this.o=yl(g[2]||""),this.g=yl(g[3]||"",!0),ru(this,g[4]),this.l=yl(g[5]||"",!0),su(this,g[6]||"",!0),this.m=yl(g[7]||"")):(this.h=!1,this.i=new Yo(null,this.h))}eo.prototype.toString=function(){var u=[],g=this.j;g&&u.push(vl(g,Tg,!0),":");var _=this.g;return(_||g=="file")&&(u.push("//"),(g=this.o)&&u.push(vl(g,Tg,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(vl(_,_.charAt(0)=="/"?Zo:Dw,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",vl(_,Dg)),u.join("")};function Yn(u){return new eo(u)}function _l(u,g,_){u.j=_?yl(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function ru(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function su(u,g,_){g instanceof Yo?(u.i=g,Mw(u.i,u.h)):(_||(g=vl(g,Sw)),u.i=new Yo(g,u.h))}function Et(u,g,_){u.i.set(g,_)}function ou(u){return Et(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function yl(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function vl(u,g,_){return typeof u=="string"?(u=encodeURI(u).replace(g,Tw),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Tw(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Tg=/[#\/\?@]/g,Dw=/[#\?:]/g,Zo=/[#\?]/g,Sw=/[#\?@]/g,Dg=/#/g;function Yo(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function ds(u){u.g||(u.g=new Map,u.h=0,u.i&&Iw(u.i,function(g,_){u.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}n=Yo.prototype,n.add=function(u,g){ds(this),this.i=null,u=Jo(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(g),this.h+=1,this};function Sg(u,g){ds(u),g=Jo(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function Mg(u,g){return ds(u),g=Jo(u,g),u.g.has(g)}n.forEach=function(u,g){ds(this),this.g.forEach(function(_,w){_.forEach(function(V){u.call(g,V,w,this)},this)},this)},n.na=function(){ds(this);let u=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let w=0;w<g.length;w++){let V=u[w];for(let H=0;H<V.length;H++)_.push(g[w])}return _},n.V=function(u){ds(this);let g=[];if(typeof u=="string")Mg(this,u)&&(g=g.concat(this.g.get(Jo(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)g=g.concat(u[_])}return g},n.set=function(u,g){return ds(this),this.i=null,u=Jo(this,u),Mg(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},n.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function Ag(u,g,_){Sg(u,g),0<_.length&&(u.i=null,u.g.set(Jo(u,g),A(_)),u.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let u=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var w=g[_];let H=encodeURIComponent(String(w)),ce=this.V(w);for(w=0;w<ce.length;w++){var V=H;ce[w]!==""&&(V+="="+encodeURIComponent(String(ce[w]))),u.push(V)}}return this.i=u.join("&")};function Jo(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function Mw(u,g){g&&!u.j&&(ds(u),u.i=null,u.g.forEach(function(_,w){var V=w.toLowerCase();w!=V&&(Sg(this,w),Ag(this,V,_))},u)),u.j=g}function Aw(u,g){let _=new gl;if(a.Image){let w=new Image;w.onload=v(hs,_,"TestLoadImage: loaded",!0,g,w),w.onerror=v(hs,_,"TestLoadImage: error",!1,g,w),w.onabort=v(hs,_,"TestLoadImage: abort",!1,g,w),w.ontimeout=v(hs,_,"TestLoadImage: timeout",!1,g,w),a.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=u}else g(!1)}function Xo(u,g){let _=new gl,w=new AbortController,V=setTimeout(()=>{w.abort(),hs(_,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:w.signal}).then(H=>{clearTimeout(V),H.ok?hs(_,"TestPingServer: ok",!0,g):hs(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(V),hs(_,"TestPingServer: error",!1,g)})}function hs(u,g,_,w,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),w(_)}catch{}}function xw(){this.g=new _w}function xg(u,g,_){let w=_||"";try{Ig(u,function(V,H){let ce=V;c(V)&&(ce=Qc(V)),g.push(w+H+"="+encodeURIComponent(ce))})}catch(V){throw g.push(w+"type="+encodeURIComponent("_badmap")),V}}function wl(u){this.l=u.Ub||null,this.j=u.eb||!1}b(wl,Sr),wl.prototype.g=function(){return new ji(this.l,this.j)},wl.prototype.i=function(u){return function(){return u}}({});function ji(u,g){un.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(ji,un),n=ji.prototype,n.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,Ar(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||a).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ea(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ar(this)),this.g&&(this.readyState=3,Ar(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Rg(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Rg(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?ea(this):Ar(this),this.readyState==3&&Rg(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,ea(this))},n.Qa=function(u){this.g&&(this.response=u,ea(this))},n.ga=function(){this.g&&ea(this)};function ea(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Ar(u)}n.setRequestHeader=function(u,g){this.u.append(u,g)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let u=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=g.next();return u.join(`\r
`)};function Ar(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ji.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Og(u){let g="";return ae(u,function(_,w){g+=w,g+=":",g+=_,g+=`\r
`}),g}function Ph(u,g,_){e:{for(w in _){var w=!1;break e}w=!0}w||(_=Og(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):Et(u,g,_))}function Bt(u){un.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(Bt,un);var Ng=/^https?$/i,ta=["POST","PUT"];n=Bt.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,g,_,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Sh.g(),this.v=this.o?fg(this.o):fg(Sh),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(H){Pg(this,H);return}if(u=_||"",_=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var V in w)_.set(V,w[V]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(let H of w.keys())_.set(H,w.get(H));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(_.keys()).find(H=>H.toLowerCase()=="content-type"),V=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(ta,g,void 0))||w||V||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[H,ce]of _)this.g.setRequestHeader(H,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Lg(this),this.u=!0,this.g.send(u),this.u=!1}catch(H){Pg(this,H)}};function Pg(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,kg(u),au(u)}function kg(u){u.A||(u.A=!0,xn(u,"complete"),xn(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,xn(this,"complete"),xn(this,"abort"),au(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),au(this,!0)),Bt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Fg(this):this.bb())},n.bb=function(){Fg(this)};function Fg(u){if(u.h&&typeof o<"u"&&(!u.v[1]||xr(u)!=4||u.Z()!=2)){if(u.u&&xr(u)==4)Fn(u.Ea,0,u);else if(xn(u,"readystatechange"),xr(u)==4){u.h=!1;try{let ce=u.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var w;if(w=ce===0){var V=String(u.D).match(Nh)[1]||null;!V&&a.self&&a.self.location&&(V=a.self.location.protocol.slice(0,-1)),w=!Ng.test(V?V.toLowerCase():"")}_=w}if(_)xn(u,"complete"),xn(u,"success");else{u.m=6;try{var H=2<xr(u)?u.g.statusText:""}catch{H=""}u.l=H+" ["+u.Z()+"]",kg(u)}}finally{au(u)}}}}function au(u,g){if(u.g){Lg(u);let _=u.g,w=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||xn(u,"ready");try{_.onreadystatechange=w}catch{}}}function Lg(u){u.I&&(a.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function xr(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<xr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),mw(g)}};function Vg(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Rw(u){let g={};u=(u.g&&2<=xr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<u.length;w++){if(Z(u[w]))continue;var _=k(u[w]);let V=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();let H=g[V]||[];g[V]=H,H.push(_)}R(g,function(w){return w.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function bl(u,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||g}function Bg(u){this.Aa=0,this.i=[],this.j=new gl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=bl("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=bl("baseRetryDelayMs",5e3,u),this.cb=bl("retryDelaySeedMs",1e4,u),this.Wa=bl("forwardChannelMaxRetries",2,u),this.wa=bl("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new xh(u&&u.concurrentRequestLimit),this.Da=new xw,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Bg.prototype,n.la=8,n.G=1,n.connect=function(u,g,_,w){Ln(0),this.W=u,this.H=g||{},_&&w!==void 0&&(this.H.OSID=_,this.H.OAID=w),this.F=this.X,this.I=Uh(this,null,this.W),lu(this)};function na(u){if(Ug(u),u.G==3){var g=u.U++,_=Yn(u.I);if(Et(_,"SID",u.K),Et(_,"RID",g),Et(_,"TYPE","terminate"),El(u,_),g=new us(u,u.j,g),g.L=2,g.v=ou(Yn(_)),_=!1,a.navigator&&a.navigator.sendBeacon)try{_=a.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&a.Image&&(new Image().src=g.v,_=!0),_||(g.g=jh(g.j,null),g.g.ea(g.v)),g.F=Date.now(),nu(g)}Bh(u)}function Cl(u){u.g&&(Il(u),u.g.cancel(),u.g=null)}function Ug(u){Cl(u),u.u&&(a.clearTimeout(u.u),u.u=null),du(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function lu(u){if(!vg(u.h)&&!u.s){u.s=!0;var g=u.Ga;Ce||ut(),Te||(Ce(),Te=!0),ze.add(g,u),u.B=0}}function Ow(u,g){return wg(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=pl(m(u.Ga,u,g),Vh(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;let V=new us(this,this.j,u),H=this.o;if(this.S&&(H?(H=T(H),N(H,this.S)):H=this.S),this.m!==null||this.O||(V.H=H,H=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var w=this.i[_];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(g+=w,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=cu(this,V,g),_=Yn(this.I),Et(_,"RID",u),Et(_,"CVER",22),this.D&&Et(_,"X-HTTP-Session-Id",this.D),El(this,_),H&&(this.O?g="headers="+encodeURIComponent(String(Og(H)))+"&"+g:this.m&&Ph(_,this.m,H)),Oh(this.h,V),this.Ua&&Et(_,"TYPE","init"),this.P?(Et(_,"$req",g),Et(_,"SID","null"),V.T=!0,Qo(V,_,null)):Qo(V,_,g),this.G=2}}else this.G==3&&(u?kh(this,u):this.i.length==0||vg(this.h)||kh(this))};function kh(u,g){var _;g?_=g.l:_=u.U++;let w=Yn(u.I);Et(w,"SID",u.K),Et(w,"RID",_),Et(w,"AID",u.T),El(u,w),u.m&&u.o&&Ph(w,u.m,u.o),_=new us(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),g&&(u.i=g.D.concat(u.i)),g=cu(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Oh(u.h,_),Qo(_,w,g)}function El(u,g){u.H&&ae(u.H,function(_,w){Et(g,w,_)}),u.l&&Ig({},function(_,w){Et(g,w,_)})}function cu(u,g,_){_=Math.min(u.i.length,_);var w=u.l?m(u.l.Na,u.l,u):null;e:{var V=u.i;let H=-1;for(;;){let ce=["count="+_];H==-1?0<_?(H=V[0].g,ce.push("ofs="+H)):H=0:ce.push("ofs="+H);let yt=!0;for(let dn=0;dn<_;dn++){let it=V[dn].g,bn=V[dn].map;if(it-=H,0>it)H=Math.max(0,V[dn].g-100),yt=!1;else try{xg(bn,ce,"req"+it+"_")}catch{w&&w(bn)}}if(yt){w=ce.join("&");break e}}}return u=u.i.splice(0,_),g.D=u,w}function Fh(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;Ce||ut(),Te||(Ce(),Te=!0),ze.add(g,u),u.v=0}}function uu(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=pl(m(u.Fa,u),Vh(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,Tl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=pl(m(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ln(10),Cl(this),Tl(this))};function Il(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function Tl(u){u.g=new us(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=Yn(u.qa);Et(g,"RID","rpc"),Et(g,"SID",u.K),Et(g,"AID",u.T),Et(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&Et(g,"TO",u.ja),Et(g,"TYPE","xmlhttp"),El(u,g),u.m&&u.o&&Ph(g,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=ou(Yn(g)),_.m=null,_.P=!0,Vt(_,u)}n.Za=function(){this.C!=null&&(this.C=null,Cl(this),uu(this),Ln(19))};function du(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function Lh(u,g){var _=null;if(u.g==g){du(u),Il(u),u.g=null;var w=2}else if(Rh(u.h,g))_=g.D,bg(u.h,g),w=1;else return;if(u.G!=0){if(g.o)if(w==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var V=u.B;w=Zc(),xn(w,new Yc(w,_)),lu(u)}else Fh(u);else if(V=g.s,V==3||V==0&&0<g.X||!(w==1&&Ow(u,g)||w==2&&uu(u)))switch(_&&0<_.length&&(g=u.h,g.i=g.i.concat(_)),V){case 1:fs(u,5);break;case 4:fs(u,10);break;case 3:fs(u,6);break;default:fs(u,2)}}}function Vh(u,g){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*g}function fs(u,g){if(u.j.info("Error code "+g),g==2){var _=m(u.fb,u),w=u.Xa;let V=!w;w=new eo(w||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||_l(w,"https"),ou(w),V?Aw(w.toString(),_):Xo(w.toString(),_)}else Ln(2);u.G=0,u.l&&u.l.sa(g),Bh(u),Ug(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Ln(2)):(this.j.info("Failed to ping google.com"),Ln(1))};function Bh(u){if(u.G=0,u.ka=[],u.l){let g=Cg(u.h);(g.length!=0||u.i.length!=0)&&(S(u.ka,g),S(u.ka,u.i),u.h.i.length=0,A(u.i),u.i.length=0),u.l.ra()}}function Uh(u,g,_){var w=_ instanceof eo?Yn(_):new eo(_);if(w.g!="")g&&(w.g=g+"."+w.g),ru(w,w.s);else{var V=a.location;w=V.protocol,g=g?g+"."+V.hostname:V.hostname,V=+V.port;var H=new eo(null);w&&_l(H,w),g&&(H.g=g),V&&ru(H,V),_&&(H.l=_),w=H}return _=u.D,g=u.ya,_&&g&&Et(w,_,g),Et(w,"VER",u.la),El(u,w),w}function jh(u,g,_){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new Bt(new wl({eb:_})):new Bt(u.pa),g.Ha(u.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function zh(){}n=zh.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Dl(){}Dl.prototype.g=function(u,g){return new Jn(u,g)};function Jn(u,g){un.call(this),this.g=new Bg(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!Z(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!Z(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new ia(this)}b(Jn,un),Jn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Jn.prototype.close=function(){na(this.g)},Jn.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=Qc(u),u=_);g.i.push(new Cw(g.Ya++,u)),g.G==3&&lu(g)},Jn.prototype.N=function(){this.g.l=null,delete this.j,na(this.g),delete this.g,Jn.aa.N.call(this)};function to(u){Th.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(let _ in g){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}b(to,Th);function jg(){Dh.call(this),this.status=1}b(jg,Dh);function ia(u){this.g=u}b(ia,zh),ia.prototype.ua=function(){xn(this.g,"a")},ia.prototype.ta=function(u){xn(this.g,new to(u))},ia.prototype.sa=function(u){xn(this.g,new jg)},ia.prototype.ra=function(){xn(this.g,"b")},Dl.prototype.createWebChannel=Dl.prototype.g,Jn.prototype.send=Jn.prototype.o,Jn.prototype.open=Jn.prototype.m,Jn.prototype.close=Jn.prototype.close,ME=So.createWebChannelTransport=function(){return new Dl},SE=So.getStatEventTarget=function(){return Zc()},DE=So.Event=Mr,E_=So.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Jc.NO_ERROR=0,Jc.TIMEOUT=8,Jc.HTTP_ERROR=6,Rf=So.ErrorCode=Jc,_g.COMPLETE="complete",TE=So.EventType=_g,pg.EventType=hl,hl.OPEN="a",hl.CLOSE="b",hl.ERROR="c",hl.MESSAGE="d",un.prototype.listen=un.prototype.K,td=So.WebChannel=pg,IE=So.FetchXmlHttpFactory=wl,Bt.prototype.listenOnce=Bt.prototype.L,Bt.prototype.getLastError=Bt.prototype.Ka,Bt.prototype.getLastErrorCode=Bt.prototype.Ba,Bt.prototype.getStatus=Bt.prototype.Z,Bt.prototype.getResponseJson=Bt.prototype.Oa,Bt.prototype.getResponseText=Bt.prototype.oa,Bt.prototype.send=Bt.prototype.ea,Bt.prototype.setWithCredentials=Bt.prototype.Ha,EE=So.XhrIo=Bt}).apply(typeof C_<"u"?C_:typeof self<"u"?self:typeof window<"u"?window:{});var KP="@firebase/firestore";var _n=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};_n.UNAUTHENTICATED=new _n(null),_n.GOOGLE_CREDENTIALS=new _n("google-credentials-uid"),_n.FIRST_PARTY=new _n("first-party-uid"),_n.MOCK_USER=new _n("mock-user");var Od="10.13.2";var Ba=new mu("@firebase/firestore");function od(){return Ba.logLevel}function Zk(n){Ba.setLogLevel(n)}function ne(n,...e){if(Ba.logLevel<=gs.DEBUG){let t=e.map(NT);Ba.debug(`Firestore (${Od}): ${n}`,...t)}}function rn(n,...e){if(Ba.logLevel<=gs.ERROR){let t=e.map(NT);Ba.error(`Firestore (${Od}): ${n}`,...t)}}function wr(n,...e){if(Ba.logLevel<=gs.WARN){let t=e.map(NT);Ba.warn(`Firestore (${Od}): ${n}`,...t)}}function NT(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function ye(n="Unexpected state"){let e=`FIRESTORE (${Od}) INTERNAL ASSERTION FAILED: `+n;throw rn(e),new Error(e)}function Ie(n,e){n||ye()}function Yk(n,e){n||ye()}function fe(n,e){return n}var q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},X=class extends ra{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var yn=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var P_=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},NE=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(_n.UNAUTHENTICATED))}shutdown(){}},PE=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},kE=class{constructor(e){this.t=e,this.currentUser=_n.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let i=this.i,r=l=>this.i!==i?(i=this.i,t(l)):Promise.resolve(),s=new yn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new yn,e.enqueueRetryable(()=>r(this.currentUser))};let o=()=>{let l=s;e.enqueueRetryable(()=>F(this,null,function*(){yield l.promise,yield r(this.currentUser)}))},a=l=>{ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?a(l):(ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new yn)}},0),o()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ie(typeof i.accessToken=="string"),new P_(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Ie(e===null||typeof e=="string"),new _n(e)}},FE=class{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=_n.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},LE=class{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new FE(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(_n.FIRST_PARTY))}shutdown(){}invalidateToken(){}},VE=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},BE=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){let i=s=>{s.error!=null&&ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,ne("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};let r=s=>{ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?r(s):ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ie(typeof t.token=="string"),this.R=t.token,new VE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function jG(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}var k_=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,i="";for(;i.length<20;){let r=jG(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+=e.charAt(r[s]%e.length))}return i}};function Be(n,e){return n<e?-1:n>e?1:0}function gd(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function Jk(n){return n+"\0"}var Zt=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new X(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new X(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new X(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new n(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var Me=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new Zt(0,0))}static max(){return new n(new Zt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var F_=class n{constructor(e,t,i){t===void 0?t=0:t>e.length&&ye(),i===void 0?i=e.length-t:i>e.length-t&&ye(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let i=Math.min(e.length,t.length);for(let r=0;r<i;r++){let s=e.get(r),o=t.get(r);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},at=class n extends F_{construct(e,t,i){return new n(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let i of e){if(i.indexOf("//")>=0)throw new X(q.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new n(t)}static emptyPath(){return new n([])}},zG=/^[_a-zA-Z][_a-zA-Z0-9]*$/,sn=class n extends F_{construct(e,t,i){return new n(e,t,i)}static isValidIdentifier(e){return zG.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],i="",r=0,s=()=>{if(i.length===0)throw new X(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""},o=!1;for(;r<e.length;){let a=e[r];if(a==="\\"){if(r+1===e.length)throw new X(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new X(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new X(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var pe=class n{constructor(e){this.path=e}static fromPath(e){return new n(at.fromString(e))}static fromName(e){return new n(at.fromString(e).popFirst(5))}static empty(){return new n(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return at.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new at(e.slice()))}};var md=class{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}};function UE(n){return n.fields.find(e=>e.kind===2)}function nc(n){return n.fields.filter(e=>e.kind!==2)}md.UNKNOWN_ID=-1;var hd=class{constructor(e,t){this.fieldPath=e,this.kind=t}};var $f=class n{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new n(0,br.min())}};function Xk(n,e){let t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Me.fromTimestamp(i===1e9?new Zt(t+1,0):new Zt(t,i));return new br(r,pe.empty(),e)}function e2(n){return new br(n.readTime,n.key,-1)}var br=class n{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new n(Me.min(),pe.empty(),-1)}static max(){return new n(Me.max(),pe.empty(),-1)}};function PT(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=pe.comparator(n.documentKey,e.documentKey),t!==0?t:Be(n.largestBatchId,e.largestBatchId))}var t2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",L_=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Qa(n){return F(this,null,function*(){if(n.code!==q.FAILED_PRECONDITION||n.message!==t2)throw n;ne("LocalStore","Unexpectedly lost primary lease")})}var $=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ye(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,i)=>{t(e)})}static reject(e){return new n((t,i)=>{i(e)})}static waitFor(e){return new n((t,i)=>{let r=0,s=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&t()},l=>i(l))}),o=!0,s===r&&t()})}static or(e){let t=n.resolve(!1);for(let i of e)t=t.next(r=>r?n.resolve(r):i());return t}static forEach(e,t){let i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}static mapArray(e,t){return new n((i,r)=>{let s=e.length,o=new Array(s),a=0;for(let l=0;l<s;l++){let c=l;t(e[c]).next(d=>{o[c]=d,++a,a===s&&i(o)},d=>r(d))}})}static doWhile(e,t){return new n((i,r)=>{let s=()=>{e()===!0?t().next(()=>{s()},r):i()};s()})}};var V_=class n{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new yn,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new lc(e,t.error)):this.V.resolve()},this.transaction.onerror=i=>{let r=kT(i.target.error);this.V.reject(new lc(e,r))}}static open(e,t,i,r){try{return new n(t,e.transaction(r,i))}catch(s){throw new lc(t,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(ne("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let t=this.transaction.objectStore(e);return new zE(t)}},Ua=class n{constructor(e,t,i){this.name=e,this.version=t,this.p=i,n.S(Gh())===12.2&&rn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ne("SimpleDb","Removing database:",e),ic(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!pu())return!1;if(n.v())return!0;let e=Gh(),t=n.S(e),i=0<t&&t<10,r=n2(e),s=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||s)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.C)==="YES"}static F(e,t){return e.store(t)}static S(e){let t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}M(e){return F(this,null,function*(){return this.db||(ne("SimpleDb","Opening database:",this.name),this.db=yield new Promise((t,i)=>{let r=indexedDB.open(this.name,this.version);r.onsuccess=s=>{let o=s.target.result;t(o)},r.onblocked=()=>{i(new lc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=s=>{let o=s.target.error;o.name==="VersionError"?i(new X(q.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?i(new X(q.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):i(new lc(e,o))},r.onupgradeneeded=s=>{ne("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);let o=s.target.result;this.p.O(o,r.transaction,s.oldVersion,this.version).next(()=>{ne("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=t=>this.N(t)),this.db})}L(e){this.N=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){return F(this,null,function*(){let s=t==="readonly",o=0;for(;;){++o;try{this.db=yield this.M(e);let a=V_.open(this.db,e,s?"readonly":"readwrite",i),l=r(a).next(c=>(a.g(),c)).catch(c=>(a.abort(c),$.reject(c))).toPromise();return l.catch(()=>{}),yield a.m,l}catch(a){let l=a,c=l.name!=="FirebaseError"&&o<3;if(ne("SimpleDb","Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}})}close(){this.db&&this.db.close(),this.db=void 0}};function n2(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}var jE=class{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return ic(this.B.delete())}},lc=class extends X{constructor(e,t){super(q.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}};function Za(n){return n.name==="IndexedDbTransactionError"}var zE=class{constructor(e){this.store=e}put(e,t){let i;return t!==void 0?(ne("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(ne("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),ic(i)}add(e){return ne("SimpleDb","ADD",this.store.name,e,e),ic(this.store.add(e))}get(e){return ic(this.store.get(e)).next(t=>(t===void 0&&(t=null),ne("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return ne("SimpleDb","DELETE",this.store.name,e),ic(this.store.delete(e))}count(){return ne("SimpleDb","COUNT",this.store.name),ic(this.store.count())}U(e,t){let i=this.options(e,t),r=i.index?this.store.index(i.index):this.store;if(typeof r.getAll=="function"){let s=r.getAll(i.range);return new $((o,a)=>{s.onerror=l=>{a(l.target.error)},s.onsuccess=l=>{o(l.target.result)}})}{let s=this.cursor(i),o=[];return this.W(s,(a,l)=>{o.push(l)}).next(()=>o)}}G(e,t){let i=this.store.getAll(e,t===null?void 0:t);return new $((r,s)=>{i.onerror=o=>{s(o.target.error)},i.onsuccess=o=>{r(o.target.result)}})}j(e,t){ne("SimpleDb","DELETE ALL",this.store.name);let i=this.options(e,t);i.H=!1;let r=this.cursor(i);return this.W(r,(s,o,a)=>a.delete())}J(e,t){let i;t?i=e:(i={},t=e);let r=this.cursor(i);return this.W(r,t)}Y(e){let t=this.cursor({});return new $((i,r)=>{t.onerror=s=>{let o=kT(s.target.error);r(o)},t.onsuccess=s=>{let o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():i()}):i()}})}W(e,t){let i=[];return new $((r,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{let a=o.target.result;if(!a)return void r();let l=new jE(a),c=t(a.primaryKey,a.value,l);if(c instanceof $){let d=c.catch(h=>(l.done(),$.reject(h)));i.push(d)}l.isDone?r():l.K===null?a.continue():a.continue(l.K)}}).next(()=>$.waitFor(i))}options(e,t){let i;return e!==void 0&&(typeof e=="string"?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){let i=this.store.index(e.index);return e.H?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}};function ic(n){return new $((e,t)=>{n.onsuccess=i=>{let r=i.target.result;e(r)},n.onerror=i=>{let r=kT(i.target.error);t(r)}})}var QP=!1;function kT(n){let e=Ua.S(Gh());if(e>=12.2&&e<13){let t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){let i=new X("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return QP||(QP=!0,setTimeout(()=>{throw i},0)),i}}return n}var $E=class{constructor(e,t){this.asyncQueue=e,this.Z=t,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){ne("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,()=>F(this,null,function*(){this.task=null;try{ne("IndexBackfiller",`Documents written: ${yield this.Z.ee()}`)}catch(t){Za(t)?ne("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",t):yield Qa(t)}yield this.X(6e4)}))}},HE=class{constructor(e,t){this.localStore=e,this.persistence=t}ee(e=50){return F(this,null,function*(){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.te(t,e))})}te(e,t){let i=new Set,r=t,s=!0;return $.doWhile(()=>s===!0&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!i.has(o))return ne("IndexBackfiller",`Processing collection: ${o}`),this.ne(e,o,r).next(a=>{r-=a,i.add(o)});s=!1})).next(()=>t-r)}ne(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(s=>{let o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.re(r,s)).next(a=>(ne("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,t,a))).next(()=>o.size)}))}re(e,t){let i=e;return t.changes.forEach((r,s)=>{let o=e2(s);PT(o,i)>0&&(i=o)}),new br(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}};var Zi=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ie(r),this.se=r=>i.writeSequenceNumber(r))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function hp(n){return n==null}function Hf(n){return n===0&&1/n==-1/0}function i2(n){return typeof n=="number"&&Number.isInteger(n)&&!Hf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function wi(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=ZP(e)),e=$G(n.get(t),e);return ZP(e)}function $G(n,e){let t=e,i=n.length;for(let r=0;r<i;r++){let s=n.charAt(r);switch(s){case"\0":t+="";break;case"":t+="";break;default:t+=s}}return t}function ZP(n){return n+""}function Os(n){let e=n.length;if(Ie(e>=2),e===2)return Ie(n.charAt(0)===""&&n.charAt(1)===""),at.emptyPath();let t=e-2,i=[],r="";for(let s=0;s<e;){let o=n.indexOf("",s);switch((o<0||o>t)&&ye(),n.charAt(o+1)){case"":let a=n.substring(s,o),l;r.length===0?l=a:(r+=a,l=r,r=""),i.push(l);break;case"":r+=n.substring(s,o),r+="\0";break;case"":r+=n.substring(s,o+1);break;default:ye()}s=o+2}return new at(i)}var YP=["userId","batchId"];function M_(n,e){return[n,wi(e)]}function r2(n,e,t){return[n,wi(e),t]}var HG={},GG=["prefixPath","collectionGroup","readTime","documentId"],qG=["prefixPath","collectionGroup","documentId"],WG=["collectionGroup","readTime","prefixPath","documentId"],KG=["canonicalId","targetId"],QG=["targetId","path"],ZG=["path","targetId"],YG=["collectionId","parent"],JG=["indexId","uid"],XG=["uid","sequenceNumber"],e7=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],t7=["indexId","uid","orderedDocumentKey"],n7=["userId","collectionPath","documentId"],i7=["userId","collectionPath","largestBatchId"],r7=["userId","collectionGroup","largestBatchId"],s2=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],s7=[...s2,"documentOverlays"],o2=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],a2=o2,FT=[...a2,"indexConfiguration","indexState","indexEntries"],o7=FT,a7=[...FT,"globals"];var Gf=class extends L_{constructor(e,t){super(),this._e=e,this.currentSequenceNumber=t}};function Mn(n,e){let t=fe(n);return Ua.F(t._e,e)}function JP(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function wc(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function l2(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Ft=class n{constructor(e,t){this.comparator=e,this.root=t||Ps.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ps.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ps.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){let e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new dd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new dd(this.root,e,this.comparator,!1)}getReverseIterator(){return new dd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new dd(this.root,e,this.comparator,!0)}},dd=class{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Ps=class n{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??n.RED,this.left=r??n.EMPTY,this.right=s??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new n(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this,s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):s===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return n.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ye();let e=this.left.check();if(e!==this.right.check())throw ye();return e+(this.isRed()?0:1)}};Ps.EMPTY=null,Ps.RED=!0,Ps.BLACK=!1;Ps.EMPTY=new class{constructor(){this.size=0}get key(){throw ye()}get value(){throw ye()}get color(){throw ye()}get left(){throw ye()}get right(){throw ye()}copy(e,t,i,r,s){return this}insert(e,t,i){return new Ps(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var At=class n{constructor(e){this.comparator=e,this.data=new Ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new B_(this.data.getIterator())}getIteratorFrom(e){return new B_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){let r=t.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},B_=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};function nd(n){return n.hasNext()?n.getNext():void 0}var Yi=class n{constructor(e){this.fields=e,e.sort(sn.comparator)}static empty(){return new n([])}unionWith(e){let t=new At(sn.comparator);for(let i of this.fields)t=t.add(i);for(let i of e)t=t.add(i);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return gd(this.fields,e.fields,(t,i)=>t.isEqual(i))}};var U_=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};function c2(){return typeof atob<"u"}var an=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new U_("Invalid base64 string: "+s):s}}(e);return new n(t)}static fromUint8Array(e){let t=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};an.EMPTY_BYTE_STRING=new an("");var l7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xo(n){if(Ie(!!n),typeof n=="string"){let e=0,t=l7.exec(n);if(Ie(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:zt(n.seconds),nanos:zt(n.nanos)}}function zt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ja(n){return typeof n=="string"?an.fromBase64String(n):an.fromUint8Array(n)}function xy(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function LT(n){let e=n.mapValue.fields.__previous_value__;return xy(e)?LT(e):e}function qf(n){let e=xo(n.mapValue.fields.__local_write_time__.timestampValue);return new Zt(e.seconds,e.nanos)}var GE=class{constructor(e,t,i,r,s,o,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}},za=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var La={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},A_={nullValue:"NULL_VALUE"};function cc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?xy(n)?4:u2(n)?9007199254740991:Ry(n)?10:11:ye()}function Ls(n,e){if(n===e)return!0;let t=cc(n);if(t!==cc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return qf(n).isEqual(qf(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;let o=xo(r.timestampValue),a=xo(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(r,s){return ja(r.bytesValue).isEqual(ja(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,s){return zt(r.geoPointValue.latitude)===zt(s.geoPointValue.latitude)&&zt(r.geoPointValue.longitude)===zt(s.geoPointValue.longitude)}(n,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return zt(r.integerValue)===zt(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){let o=zt(r.doubleValue),a=zt(s.doubleValue);return o===a?Hf(o)===Hf(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return gd(n.arrayValue.values||[],e.arrayValue.values||[],Ls);case 10:case 11:return function(r,s){let o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(JP(o)!==JP(a))return!1;for(let l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Ls(o[l],a[l])))return!1;return!0}(n,e);default:return ye()}}function Wf(n,e){return(n.values||[]).find(t=>Ls(t,e))!==void 0}function $a(n,e){if(n===e)return 0;let t=cc(n),i=cc(e);if(t!==i)return Be(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Be(n.booleanValue,e.booleanValue);case 2:return function(s,o){let a=zt(s.integerValue||s.doubleValue),l=zt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return XP(n.timestampValue,e.timestampValue);case 4:return XP(qf(n),qf(e));case 5:return Be(n.stringValue,e.stringValue);case 6:return function(s,o){let a=ja(s),l=ja(o);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){let d=Be(a[c],l[c]);if(d!==0)return d}return Be(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){let a=Be(zt(s.latitude),zt(o.latitude));return a!==0?a:Be(zt(s.longitude),zt(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return ek(n.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,d;let h=s.fields||{},m=o.fields||{},v=(a=h.value)===null||a===void 0?void 0:a.arrayValue,b=(l=m.value)===null||l===void 0?void 0:l.arrayValue,A=Be(((c=v?.values)===null||c===void 0?void 0:c.length)||0,((d=b?.values)===null||d===void 0?void 0:d.length)||0);return A!==0?A:ek(v,b)}(n.mapValue,e.mapValue);case 11:return function(s,o){if(s===La.mapValue&&o===La.mapValue)return 0;if(s===La.mapValue)return 1;if(o===La.mapValue)return-1;let a=s.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){let m=Be(l[h],d[h]);if(m!==0)return m;let v=$a(a[l[h]],c[d[h]]);if(v!==0)return v}return Be(l.length,d.length)}(n.mapValue,e.mapValue);default:throw ye()}}function XP(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Be(n,e);let t=xo(n),i=xo(e),r=Be(t.seconds,i.seconds);return r!==0?r:Be(t.nanos,i.nanos)}function ek(n,e){let t=n.values||[],i=e.values||[];for(let r=0;r<t.length&&r<i.length;++r){let s=$a(t[r],i[r]);if(s)return s}return Be(t.length,i.length)}function _d(n){return qE(n)}function qE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let i=xo(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ja(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return pe.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",r=!0;for(let s of t.values||[])r?r=!1:i+=",",i+=qE(s);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){let i=Object.keys(t.fields||{}).sort(),r="{",s=!0;for(let o of i)s?s=!1:r+=",",r+=`${o}:${qE(t.fields[o])}`;return r+"}"}(n.mapValue):ye()}function uc(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function WE(n){return!!n&&"integerValue"in n}function Kf(n){return!!n&&"arrayValue"in n}function tk(n){return!!n&&"nullValue"in n}function nk(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function x_(n){return!!n&&"mapValue"in n}function Ry(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Vf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return wc(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Vf(i)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Vf(n.arrayValue.values[t]);return e}return Object.assign({},n)}function u2(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var d2={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function c7(n){return"nullValue"in n?A_:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?uc(za.empty(),pe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?Ry(n)?d2:{mapValue:{}}:ye()}function u7(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?uc(za.empty(),pe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?d2:"mapValue"in n?Ry(n)?{mapValue:{}}:La:ye()}function ik(n,e){let t=$a(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function rk(n,e){let t=$a(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}var oi=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!x_(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vf(t)}setAll(e){let t=sn.emptyPath(),i={},r=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){let l=this.getFieldsMap(t);this.applyChanges(l,i,r),i={},r=[],t=a.popLast()}o?i[a.lastSegment()]=Vf(o):r.push(a.lastSegment())});let s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){let t=this.field(e.popLast());x_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ls(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];x_(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){wc(t,(r,s)=>e[r]=s);for(let r of i)delete e[r]}clone(){return new n(Vf(this.value))}};function h2(n){let e=[];return wc(n.fields,(t,i)=>{let r=new sn([t]);if(x_(i)){let s=h2(i.mapValue).fields;if(s.length===0)e.push(r);else for(let o of s)e.push(r.child(o))}else e.push(r)}),new Yi(e)}var vn=class n{constructor(e,t,i,r,s,o,a){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new n(e,0,Me.min(),Me.min(),Me.min(),oi.empty(),0)}static newFoundDocument(e,t,i,r){return new n(e,1,t,Me.min(),i,r,0)}static newNoDocument(e,t){return new n(e,2,t,Me.min(),Me.min(),oi.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,Me.min(),Me.min(),oi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=oi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=oi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Vs=class{constructor(e,t){this.position=e,this.inclusive=t}};function sk(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){let s=e[r],o=n.position[r];if(s.field.isKeyField()?i=pe.comparator(pe.fromName(o.referenceValue),t.key):i=$a(o,t.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function ok(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ls(n.position[t],e.position[t]))return!1;return!0}var dc=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function d7(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var j_=class{},et=class n extends j_{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new ZE(e,t,i):t==="array-contains"?new XE(e,i):t==="in"?new z_(e,i):t==="not-in"?new eI(e,i):t==="array-contains-any"?new tI(e,i):new n(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new YE(e,i):new JE(e,i)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison($a(t,this.value)):t!==null&&cc(this.value)===cc(t)&&this.matchesComparison($a(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},bt=class n extends j_{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return yd(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function yd(n){return n.op==="and"}function KE(n){return n.op==="or"}function VT(n){return f2(n)&&yd(n)}function f2(n){for(let e of n.filters)if(e instanceof bt)return!1;return!0}function QE(n){if(n instanceof et)return n.field.canonicalString()+n.op.toString()+_d(n.value);if(VT(n))return n.filters.map(e=>QE(e)).join(",");{let e=n.filters.map(t=>QE(t)).join(",");return`${n.op}(${e})`}}function p2(n,e){return n instanceof et?function(i,r){return r instanceof et&&i.op===r.op&&i.field.isEqual(r.field)&&Ls(i.value,r.value)}(n,e):n instanceof bt?function(i,r){return r instanceof bt&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,a)=>s&&p2(o,r.filters[a]),!0):!1}(n,e):void ye()}function g2(n,e){let t=n.filters.concat(e);return bt.create(t,n.op)}function m2(n){return n instanceof et?function(t){return`${t.field.canonicalString()} ${t.op} ${_d(t.value)}`}(n):n instanceof bt?function(t){return t.op.toString()+" {"+t.getFilters().map(m2).join(" ,")+"}"}(n):"Filter"}var ZE=class extends et{constructor(e,t,i){super(e,t,i),this.key=pe.fromName(i.referenceValue)}matches(e){let t=pe.comparator(e.key,this.key);return this.matchesComparison(t)}},YE=class extends et{constructor(e,t){super(e,"in",t),this.keys=_2("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},JE=class extends et{constructor(e,t){super(e,"not-in",t),this.keys=_2("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function _2(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>pe.fromName(i.referenceValue))}var XE=class extends et{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return Kf(t)&&Wf(t.arrayValue,this.value)}},z_=class extends et{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Wf(this.value.arrayValue,t)}},eI=class extends et{constructor(e,t){super(e,"not-in",t)}matches(e){if(Wf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!Wf(this.value.arrayValue,t)}},tI=class extends et{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!Kf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Wf(this.value.arrayValue,i))}};var nI=class{constructor(e,t=null,i=[],r=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function iI(n,e=null,t=[],i=[],r=null,s=null,o=null){return new nI(n,e,t,i,r,s,o)}function hc(n){let e=fe(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>QE(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),hp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>_d(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>_d(i)).join(",")),e.ue=t}return e.ue}function fp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!d7(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!p2(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!ok(n.startAt,e.startAt)&&ok(n.endAt,e.endAt)}function $_(n){return pe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function H_(n,e){return n.filters.filter(t=>t instanceof et&&t.field.isEqual(e))}function ak(n,e,t){let i=A_,r=!0;for(let s of H_(n,e)){let o=A_,a=!0;switch(s.op){case"<":case"<=":o=c7(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=A_}ik({value:i,inclusive:r},{value:o,inclusive:a})<0&&(i=o,r=a)}if(t!==null){for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){let o=t.position[s];ik({value:i,inclusive:r},{value:o,inclusive:t.inclusive})<0&&(i=o,r=t.inclusive);break}}return{value:i,inclusive:r}}function lk(n,e,t){let i=La,r=!0;for(let s of H_(n,e)){let o=La,a=!0;switch(s.op){case">=":case">":o=u7(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=La}rk({value:i,inclusive:r},{value:o,inclusive:a})>0&&(i=o,r=a)}if(t!==null){for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){let o=t.position[s];rk({value:i,inclusive:r},{value:o,inclusive:t.inclusive})>0&&(i=o,r=t.inclusive);break}}return{value:i,inclusive:r}}var Yr=class{constructor(e,t=null,i=[],r=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function y2(n,e,t,i,r,s,o,a){return new Yr(n,e,t,i,r,s,o,a)}function Nd(n){return new Yr(n)}function ck(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function BT(n){return n.collectionGroup!==null}function fd(n){let e=fe(n);if(e.ce===null){e.ce=[];let t=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),t.add(s.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new At(sn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.ce.push(new dc(s,i))}),t.has(sn.keyField().canonicalString())||e.ce.push(new dc(sn.keyField(),i))}return e.ce}function bi(n){let e=fe(n);return e.le||(e.le=h7(e,fd(n))),e.le}function h7(n,e){if(n.limitType==="F")return iI(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(r=>{let s=r.dir==="desc"?"asc":"desc";return new dc(r.field,s)});let t=n.endAt?new Vs(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Vs(n.startAt.position,n.startAt.inclusive):null;return iI(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function rI(n,e){let t=n.filters.concat([e]);return new Yr(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function G_(n,e,t){return new Yr(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function pp(n,e){return fp(bi(n),bi(e))&&n.limitType===e.limitType}function v2(n){return`${hc(bi(n))}|lt:${n.limitType}`}function ad(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(r=>m2(r)).join(", ")}]`),hp(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>_d(r)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>_d(r)).join(",")),`Target(${i})`}(bi(n))}; limitType=${n.limitType})`}function gp(n,e){return e.isFoundDocument()&&function(i,r){let s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):pe.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(n,e)&&function(i,r){for(let s of fd(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(n,e)&&function(i,r){for(let s of i.filters)if(!s.matches(r))return!1;return!0}(n,e)&&function(i,r){return!(i.startAt&&!function(o,a,l){let c=sk(o,a,l);return o.inclusive?c<=0:c<0}(i.startAt,fd(i),r)||i.endAt&&!function(o,a,l){let c=sk(o,a,l);return o.inclusive?c>=0:c>0}(i.endAt,fd(i),r))}(n,e)}function w2(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function b2(n){return(e,t)=>{let i=!1;for(let r of fd(n)){let s=f7(r,e,t);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function f7(n,e,t){let i=n.field.isKeyField()?pe.comparator(e.key,t.key):function(s,o,a){let l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?$a(l,c):ye()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ye()}}var Bs=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(let[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){let i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){wc(this.inner,(t,i)=>{for(let[r,s]of i)e(r,s)})}isEmpty(){return l2(this.inner)}size(){return this.innerSize}};var p7=new Ft(pe.comparator);function Ni(){return p7}var C2=new Ft(pe.comparator);function Ff(...n){let e=C2;for(let t of n)e=e.insert(t.key,t);return e}function E2(n){let e=C2;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Ns(){return Bf()}function I2(){return Bf()}function Bf(){return new Bs(n=>n.toString(),(n,e)=>n.isEqual(e))}var g7=new Ft(pe.comparator),m7=new At(pe.comparator);function He(...n){let e=m7;for(let t of n)e=e.add(t);return e}var _7=new At(Be);function UT(){return _7}function jT(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hf(e)?"-0":e}}function T2(n){return{integerValue:""+n}}function D2(n,e){return i2(e)?T2(e):jT(n,e)}var vd=class{constructor(){this._=void 0}};function y7(n,e,t){return n instanceof Ha?function(r,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&xy(s)&&(s=LT(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,e):n instanceof Ro?M2(n,e):n instanceof Oo?A2(n,e):function(r,s){let o=S2(r,s),a=uk(o)+uk(r.Pe);return WE(o)&&WE(r.Pe)?T2(a):jT(r.serializer,a)}(n,e)}function v7(n,e,t){return n instanceof Ro?M2(n,e):n instanceof Oo?A2(n,e):t}function S2(n,e){return n instanceof Ga?function(i){return WE(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}var Ha=class extends vd{},Ro=class extends vd{constructor(e){super(),this.elements=e}};function M2(n,e){let t=x2(e);for(let i of n.elements)t.some(r=>Ls(r,i))||t.push(i);return{arrayValue:{values:t}}}var Oo=class extends vd{constructor(e){super(),this.elements=e}};function A2(n,e){let t=x2(e);for(let i of n.elements)t=t.filter(r=>!Ls(r,i));return{arrayValue:{values:t}}}var Ga=class extends vd{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function uk(n){return zt(n.integerValue||n.doubleValue)}function x2(n){return Kf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}var fc=class{constructor(e,t){this.field=e,this.transform=t}};function w7(n,e){return n.field.isEqual(e.field)&&function(i,r){return i instanceof Ro&&r instanceof Ro||i instanceof Oo&&r instanceof Oo?gd(i.elements,r.elements,Ls):i instanceof Ga&&r instanceof Ga?Ls(i.Pe,r.Pe):i instanceof Ha&&r instanceof Ha}(n.transform,e.transform)}var sI=class{constructor(e,t){this.version=e,this.transformResults=t}},en=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function R_(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var wd=class{};function R2(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Wa(n.key,en.none()):new qa(n.key,n.data,en.none());{let t=n.data,i=oi.empty(),r=new At(sn.comparator);for(let s of e.fields)if(!r.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new Jr(n.key,i,new Yi(r.toArray()),en.none())}}function b7(n,e,t){n instanceof qa?function(r,s,o){let a=r.value.clone(),l=hk(r.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Jr?function(r,s,o){if(!R_(r.precondition,s))return void s.convertToUnknownDocument(o.version);let a=hk(r.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(O2(r)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,e,t):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function Uf(n,e,t,i){return n instanceof qa?function(s,o,a,l){if(!R_(s.precondition,o))return a;let c=s.value.clone(),d=fk(s.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(n,e,t,i):n instanceof Jr?function(s,o,a,l){if(!R_(s.precondition,o))return a;let c=fk(s.fieldTransforms,l,o),d=o.data;return d.setAll(O2(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(n,e,t,i):function(s,o,a){return R_(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(n,e,t)}function C7(n,e){let t=null;for(let i of n.fieldTransforms){let r=e.data.field(i.field),s=S2(i.transform,r||null);s!=null&&(t===null&&(t=oi.empty()),t.set(i.field,s))}return t||null}function dk(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&gd(i,r,(s,o)=>w7(s,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var qa=class extends wd{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},Jr=class extends wd{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function O2(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let i=n.data.field(t);e.set(t,i)}}),e}function hk(n,e,t){let i=new Map;Ie(n.length===t.length);for(let r=0;r<t.length;r++){let s=n[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,v7(o,a,t[r]))}return i}function fk(n,e,t){let i=new Map;for(let r of n){let s=r.transform,o=t.data.field(r.field);i.set(r.field,y7(s,o,e))}return i}var Wa=class extends wd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Qf=class extends wd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Zf=class{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){let i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){let s=this.mutations[r];s.key.isEqual(e.key)&&b7(s,e,i[r])}}applyToLocalView(e,t){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(t=Uf(i,e,t,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(t=Uf(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let i=I2();return this.mutations.forEach(r=>{let s=e.get(r.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=t.has(r.key)?null:a;let l=R2(o,a);l!==null&&i.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(Me.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),He())}isEqual(e){return this.batchId===e.batchId&&gd(this.mutations,e.mutations,(t,i)=>dk(t,i))&&gd(this.baseMutations,e.baseMutations,(t,i)=>dk(t,i))}},oI=class n{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Ie(e.mutations.length===i.length);let r=function(){return g7}(),s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new n(e,t,i,r)}};var Yf=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var aI=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var gn,ot;function N2(n){switch(n){default:return ye();case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0}}function P2(n){if(n===void 0)return rn("GRPC error has no .code"),q.UNKNOWN;switch(n){case gn.OK:return q.OK;case gn.CANCELLED:return q.CANCELLED;case gn.UNKNOWN:return q.UNKNOWN;case gn.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case gn.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case gn.INTERNAL:return q.INTERNAL;case gn.UNAVAILABLE:return q.UNAVAILABLE;case gn.UNAUTHENTICATED:return q.UNAUTHENTICATED;case gn.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case gn.NOT_FOUND:return q.NOT_FOUND;case gn.ALREADY_EXISTS:return q.ALREADY_EXISTS;case gn.PERMISSION_DENIED:return q.PERMISSION_DENIED;case gn.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case gn.ABORTED:return q.ABORTED;case gn.OUT_OF_RANGE:return q.OUT_OF_RANGE;case gn.UNIMPLEMENTED:return q.UNIMPLEMENTED;case gn.DATA_LOSS:return q.DATA_LOSS;default:return ye()}}(ot=gn||(gn={}))[ot.OK=0]="OK",ot[ot.CANCELLED=1]="CANCELLED",ot[ot.UNKNOWN=2]="UNKNOWN",ot[ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ot[ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ot[ot.NOT_FOUND=5]="NOT_FOUND",ot[ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",ot[ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",ot[ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",ot[ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ot[ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ot[ot.ABORTED=10]="ABORTED",ot[ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",ot[ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",ot[ot.INTERNAL=13]="INTERNAL",ot[ot.UNAVAILABLE=14]="UNAVAILABLE",ot[ot.DATA_LOSS=15]="DATA_LOSS";var pk=null;function k2(){return new TextEncoder}var E7=new Oa([4294967295,4294967295],0);function gk(n){let e=k2().encode(n),t=new CE;return t.update(e),new Uint8Array(t.digest())}function mk(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Oa([t,i],0),new Oa([r,s],0)]}var lI=class n{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new ac(`Invalid padding: ${t}`);if(i<0)throw new ac(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new ac(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new ac(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Oa.fromNumber(this.Ie)}Ee(e,t,i){let r=e.add(t.multiply(Oa.fromNumber(i)));return r.compare(E7)===1&&(r=new Oa([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=gk(e),[i,r]=mk(t);for(let s=0;s<this.hashCount;s++){let o=this.Ee(i,r,s);if(!this.de(o))return!1}return!0}static create(e,t,i){let r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new n(s,r,t);return i.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let t=gk(e),[i,r]=mk(t);for(let s=0;s<this.hashCount;s++){let o=this.Ee(i,r,s);this.Ae(o)}}Ae(e){let t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}},ac=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Jf=class n{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,i){let r=new Map;return r.set(e,Xf.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new n(Me.min(),r,new Ft(Be),Ni(),He())}},Xf=class n{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new n(i,t,He(),He(),He())}};var pd=class{constructor(e,t,i,r){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=r}},q_=class{constructor(e,t){this.targetId=e,this.me=t}},W_=class{constructor(e,t,i=an.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}},K_=class{constructor(){this.fe=0,this.ge=yk(),this.pe=an.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=He(),t=He(),i=He();return this.ge.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:ye()}}),new Xf(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=yk()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ie(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},cI=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ni(),this.qe=_k(),this.Qe=new Ft(Be)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let i=this.Ge(t);switch(e.state){case 0:this.ze(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),i.De(e.resumeToken));break;default:ye()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,r)=>{this.ze(r)&&t(r)})}He(e){let t=e.targetId,i=e.me.count,r=this.Je(t);if(r){let s=r.target;if($_(s))if(i===0){let o=new pe(s.path);this.Ue(t,o,vn.newNoDocument(o,Me.min()))}else Ie(i===1);else{let o=this.Ye(t);if(o!==i){let a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(t);let c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,c)}pk?.et(function(d,h,m,v,b){var A,S,j,Z,W,Y;let ge={localCacheCount:d,existenceFilterCount:h.count,databaseId:m.database,projectId:m.projectId},ae=h.unchangedNames;return ae&&(ge.bloomFilter={applied:b===0,hashCount:(A=ae?.hashCount)!==null&&A!==void 0?A:0,bitmapLength:(Z=(j=(S=ae?.bits)===null||S===void 0?void 0:S.bitmap)===null||j===void 0?void 0:j.length)!==null&&Z!==void 0?Z:0,padding:(Y=(W=ae?.bits)===null||W===void 0?void 0:W.padding)!==null&&Y!==void 0?Y:0,mightContain:R=>{var T;return(T=v?.mightContain(R))!==null&&T!==void 0&&T}}),ge}(o,e.me,this.Le.tt(),a,l))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=t,o,a;try{o=ja(i).toUint8Array()}catch(l){if(l instanceof U_)return wr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new lI(o,r,s)}catch(l){return wr(l instanceof ac?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,t,i){return t.me.count===i-this.nt(e,t.targetId)?0:2}nt(e,t){let i=this.Le.getRemoteKeysForTarget(t),r=0;return i.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,s,null),r++)}),r}rt(e){let t=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&$_(a.target)){let l=new pe(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,vn.newNoDocument(l,e))}s.be&&(t.set(o,s.ve()),s.Ce())}});let i=He();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{let c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let r=new Jf(e,t,this.Qe,this.ke,i);return this.ke=Ni(),this.qe=_k(),this.Qe=new Ft(Be),r}$e(e,t){if(!this.ze(e))return;let i=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,i){if(!this.ze(e))return;let r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new K_,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new At(Be),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||ne("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new K_),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function _k(){return new Ft(pe.comparator)}function yk(){return new Ft(pe.comparator)}var I7={asc:"ASCENDING",desc:"DESCENDING"},T7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},D7={and:"AND",or:"OR"},uI=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function dI(n,e){return n.useProto3Json||hp(e)?e:{value:e}}function bd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function F2(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function S7(n,e){return bd(n,e.toTimestamp())}function on(n){return Ie(!!n),Me.fromTimestamp(function(t){let i=xo(t);return new Zt(i.seconds,i.nanos)}(n))}function zT(n,e){return hI(n,e).canonicalString()}function hI(n,e){let t=function(r){return new at(["projects",r.projectId,"databases",r.database])}(n).child("documents");return e===void 0?t:t.child(e)}function L2(n){let e=at.fromString(n);return Ie(W2(e)),e}function ep(n,e){return zT(n.databaseId,e.path)}function ks(n,e){let t=L2(e);if(t.get(1)!==n.databaseId.projectId)throw new X(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new X(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new pe(U2(t))}function V2(n,e){return zT(n.databaseId,e)}function B2(n){let e=L2(n);return e.length===4?at.emptyPath():U2(e)}function fI(n){return new at(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function U2(n){return Ie(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function vk(n,e,t){return{name:ep(n,e),fields:t.value.mapValue.fields}}function j2(n,e,t){let i=ks(n,e.name),r=on(e.updateTime),s=e.createTime?on(e.createTime):Me.min(),o=new oi({mapValue:{fields:e.fields}}),a=vn.newFoundDocument(i,r,s,o);return t&&a.setHasCommittedMutations(),t?a.setHasCommittedMutations():a}function M7(n,e){return"found"in e?function(i,r){Ie(!!r.found),r.found.name,r.found.updateTime;let s=ks(i,r.found.name),o=on(r.found.updateTime),a=r.found.createTime?on(r.found.createTime):Me.min(),l=new oi({mapValue:{fields:r.found.fields}});return vn.newFoundDocument(s,o,a,l)}(n,e):"missing"in e?function(i,r){Ie(!!r.missing),Ie(!!r.readTime);let s=ks(i,r.missing),o=on(r.readTime);return vn.newNoDocument(s,o)}(n,e):ye()}function A7(n,e){let t;if("targetChange"in e){e.targetChange;let i=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ye()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(Ie(d===void 0||typeof d=="string"),an.fromBase64String(d||"")):(Ie(d===void 0||d instanceof Buffer||d instanceof Uint8Array),an.fromUint8Array(d||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){let d=c.code===void 0?q.UNKNOWN:P2(c.code);return new X(d,c.message||"")}(o);t=new W_(i,r,s,a||null)}else if("documentChange"in e){e.documentChange;let i=e.documentChange;i.document,i.document.name,i.document.updateTime;let r=ks(n,i.document.name),s=on(i.document.updateTime),o=i.document.createTime?on(i.document.createTime):Me.min(),a=new oi({mapValue:{fields:i.document.fields}}),l=vn.newFoundDocument(r,s,o,a),c=i.targetIds||[],d=i.removedTargetIds||[];t=new pd(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;let i=e.documentDelete;i.document;let r=ks(n,i.document),s=i.readTime?on(i.readTime):Me.min(),o=vn.newNoDocument(r,s),a=i.removedTargetIds||[];t=new pd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let i=e.documentRemove;i.document;let r=ks(n,i.document),s=i.removedTargetIds||[];t=new pd([],s,r,null)}else{if(!("filter"in e))return ye();{e.filter;let i=e.filter;i.targetId;let{count:r=0,unchangedNames:s}=i,o=new aI(r,s),a=i.targetId;t=new q_(a,o)}}return t}function tp(n,e){let t;if(e instanceof qa)t={update:vk(n,e.key,e.value)};else if(e instanceof Wa)t={delete:ep(n,e.key)};else if(e instanceof Jr)t={update:vk(n,e.key,e.data),updateMask:k7(e.fieldMask)};else{if(!(e instanceof Qf))return ye();t={verify:ep(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(s,o){let a=o.transform;if(a instanceof Ha)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ro)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Oo)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ga)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ye()}(0,i))),e.precondition.isNone||(t.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:S7(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ye()}(n,e.precondition)),t}function pI(n,e){let t=e.currentDocument?function(s){return s.updateTime!==void 0?en.updateTime(on(s.updateTime)):s.exists!==void 0?en.exists(s.exists):en.none()}(e.currentDocument):en.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(o,a){let l=null;if("setToServerValue"in a)Ie(a.setToServerValue==="REQUEST_TIME"),l=new Ha;else if("appendMissingElements"in a){let d=a.appendMissingElements.values||[];l=new Ro(d)}else if("removeAllFromArray"in a){let d=a.removeAllFromArray.values||[];l=new Oo(d)}else"increment"in a?l=new Ga(o,a.increment):ye();let c=sn.fromServerFormat(a.fieldPath);return new fc(c,l)}(n,r)):[];if(e.update){e.update.name;let r=ks(n,e.update.name),s=new oi({mapValue:{fields:e.update.fields}});if(e.updateMask){let o=function(l){let c=l.fieldPaths||[];return new Yi(c.map(d=>sn.fromServerFormat(d)))}(e.updateMask);return new Jr(r,s,o,t,i)}return new qa(r,s,t,i)}if(e.delete){let r=ks(n,e.delete);return new Wa(r,t)}if(e.verify){let r=ks(n,e.verify);return new Qf(r,t)}return ye()}function x7(n,e){return n&&n.length>0?(Ie(e!==void 0),n.map(t=>function(r,s){let o=r.updateTime?on(r.updateTime):on(s);return o.isEqual(Me.min())&&(o=on(s)),new sI(o,r.transformResults||[])}(t,e))):[]}function z2(n,e){return{documents:[V2(n,e.path)]}}function $2(n,e){let t={structuredQuery:{}},i=e.path,r;e.collectionGroup!==null?(r=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=V2(n,r);let s=function(c){if(c.length!==0)return q2(bt.create(c,"and"))}(e.filters);s&&(t.structuredQuery.where=s);let o=function(c){if(c.length!==0)return c.map(d=>function(m){return{field:ld(m.field),direction:O7(m.dir)}}(d))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);let a=dI(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:t,parent:r}}function H2(n){let e=B2(n.parent),t=n.structuredQuery,i=t.from?t.from.length:0,r=null;if(i>0){Ie(i===1);let d=t.from[0];d.allDescendants?r=d.collectionId:e=e.child(d.collectionId)}let s=[];t.where&&(s=function(h){let m=G2(h);return m instanceof bt&&VT(m)?m.getFilters():[m]}(t.where));let o=[];t.orderBy&&(o=function(h){return h.map(m=>function(b){return new dc(cd(b.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(m))}(t.orderBy));let a=null;t.limit&&(a=function(h){let m;return m=typeof h=="object"?h.value:h,hp(m)?null:m}(t.limit));let l=null;t.startAt&&(l=function(h){let m=!!h.before,v=h.values||[];return new Vs(v,m)}(t.startAt));let c=null;return t.endAt&&(c=function(h){let m=!h.before,v=h.values||[];return new Vs(v,m)}(t.endAt)),y2(e,r,o,s,a,"F",l,c)}function R7(n,e){let t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function G2(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let i=cd(t.unaryFilter.field);return et.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=cd(t.unaryFilter.field);return et.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=cd(t.unaryFilter.field);return et.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=cd(t.unaryFilter.field);return et.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ye()}}(n):n.fieldFilter!==void 0?function(t){return et.create(cd(t.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ye()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return bt.create(t.compositeFilter.filters.map(i=>G2(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return ye()}}(t.compositeFilter.op))}(n):ye()}function O7(n){return I7[n]}function N7(n){return T7[n]}function P7(n){return D7[n]}function ld(n){return{fieldPath:n.canonicalString()}}function cd(n){return sn.fromServerFormat(n.fieldPath)}function q2(n){return n instanceof et?function(t){if(t.op==="=="){if(nk(t.value))return{unaryFilter:{field:ld(t.field),op:"IS_NAN"}};if(tk(t.value))return{unaryFilter:{field:ld(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(nk(t.value))return{unaryFilter:{field:ld(t.field),op:"IS_NOT_NAN"}};if(tk(t.value))return{unaryFilter:{field:ld(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ld(t.field),op:N7(t.op),value:t.value}}}(n):n instanceof bt?function(t){let i=t.getFilters().map(r=>q2(r));return i.length===1?i[0]:{compositeFilter:{op:P7(t.op),filters:i}}}(n):ye()}function k7(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function W2(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Cd=class n{constructor(e,t,i,r,s=Me.min(),o=Me.min(),a=an.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Q_=class{constructor(e){this.ct=e}};function F7(n,e){let t;if(e.document)t=j2(n.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){let i=pe.fromSegments(e.noDocument.path),r=gc(e.noDocument.readTime);t=vn.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ye();{let i=pe.fromSegments(e.unknownDocument.path),r=gc(e.unknownDocument.version);t=vn.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(r){let s=new Zt(r[0],r[1]);return Me.fromTimestamp(s)}(e.readTime)),t}function wk(n,e){let t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Z_(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document=function(s,o){return{name:ep(s,o.key),fields:o.data.value.mapValue.fields,updateTime:bd(s,o.version.toTimestamp()),createTime:bd(s,o.createTime.toTimestamp())}}(n.ct,e);else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:pc(e.version)};else{if(!e.isUnknownDocument())return ye();i.unknownDocument={path:t.path.toArray(),version:pc(e.version)}}return i}function Z_(n){let e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function pc(n){let e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function gc(n){let e=new Zt(n.seconds,n.nanoseconds);return Me.fromTimestamp(e)}function rc(n,e){let t=(e.baseMutations||[]).map(s=>pI(n.ct,s));for(let s=0;s<e.mutations.length-1;++s){let o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){let a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}let i=e.mutations.map(s=>pI(n.ct,s)),r=Zt.fromMillis(e.localWriteTimeMs);return new Zf(e.batchId,r,t,i)}function Lf(n){let e=gc(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?gc(n.lastLimboFreeSnapshotVersion):Me.min(),i;return i=function(s){return s.documents!==void 0}(n.query)?function(s){return Ie(s.documents.length===1),bi(Nd(B2(s.documents[0])))}(n.query):function(s){return bi(H2(s))}(n.query),new Cd(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,an.fromBase64String(n.resumeToken))}function K2(n,e){let t=pc(e.snapshotVersion),i=pc(e.lastLimboFreeSnapshotVersion),r;r=$_(e.target)?z2(n.ct,e.target):$2(n.ct,e.target)._t;let s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:hc(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function $T(n){let e=H2({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?G_(e,e.limit,"L"):e}function AE(n,e){return new Yf(e.largestBatchId,pI(n.ct,e.overlayMutation))}function bk(n,e){let t=e.path.lastSegment();return[n,wi(e.path.popLast()),t]}function Ck(n,e,t,i){return{indexId:n,uid:e,sequenceNumber:t,readTime:pc(i.readTime),documentKey:wi(i.documentKey.path),largestBatchId:i.largestBatchId}}var gI=class{getBundleMetadata(e,t){return Ek(e).get(t).next(i=>{if(i)return function(s){return{id:s.bundleId,createTime:gc(s.createTime),version:s.version}}(i)})}saveBundleMetadata(e,t){return Ek(e).put(function(r){return{bundleId:r.id,createTime:pc(on(r.createTime)),version:r.version}}(t))}getNamedQuery(e,t){return Ik(e).get(t).next(i=>{if(i)return function(s){return{name:s.name,query:$T(s.bundledQuery),readTime:gc(s.readTime)}}(i)})}saveNamedQuery(e,t){return Ik(e).put(function(r){return{name:r.name,readTime:pc(on(r.readTime)),bundledQuery:r.bundledQuery}}(t))}};function Ek(n){return Mn(n,"bundles")}function Ik(n){return Mn(n,"namedQueries")}var Y_=class n{constructor(e,t){this.serializer=e,this.userId=t}static lt(e,t){let i=t.uid||"";return new n(e,i)}getOverlay(e,t){return Of(e).get(bk(this.userId,t)).next(i=>i?AE(this.serializer,i):null)}getOverlays(e,t){let i=Ns();return $.forEach(t,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){let r=[];return i.forEach((s,o)=>{let a=new Yf(t,o);r.push(this.ht(e,a))}),$.waitFor(r)}removeOverlaysForBatchId(e,t,i){let r=new Set;t.forEach(o=>r.add(wi(o.getCollectionPath())));let s=[];return r.forEach(o=>{let a=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,i+1],!1,!0);s.push(Of(e).j("collectionPathOverlayIndex",a))}),$.waitFor(s)}getOverlaysForCollection(e,t,i){let r=Ns(),s=wi(t),o=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Of(e).U("collectionPathOverlayIndex",o).next(a=>{for(let l of a){let c=AE(this.serializer,l);r.set(c.getKey(),c)}return r})}getOverlaysForCollectionGroup(e,t,i,r){let s=Ns(),o,a=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Of(e).J({index:"collectionGroupOverlayIndex",range:a},(l,c,d)=>{let h=AE(this.serializer,c);s.size()<r||h.largestBatchId===o?(s.set(h.getKey(),h),o=h.largestBatchId):d.done()}).next(()=>s)}ht(e,t){return Of(e).put(function(r,s,o){let[a,l,c]=bk(s,o.mutation.key);return{userId:s,collectionPath:l,documentId:c,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:tp(r.ct,o.mutation)}}(this.serializer,this.userId,t))}};function Of(n){return Mn(n,"documentOverlays")}var mI=class{Pt(e){return Mn(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(t=>{let i=t?.value;return i?an.fromUint8Array(i):an.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.Pt(e).put({name:"sessionToken",value:t.toUint8Array()})}};var Mo=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(zt(e.integerValue));else if("doubleValue"in e){let i=zt(e.doubleValue);isNaN(i)?this.dt(t,13):(this.dt(t,15),Hf(i)?t.At(0):t.At(i))}else if("timestampValue"in e){let i=e.timestampValue;this.dt(t,20),typeof i=="string"&&(i=xo(i)),t.Rt(`${i.seconds||""}`),t.At(i.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(ja(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let i=e.geoPointValue;this.dt(t,45),t.At(i.latitude||0),t.At(i.longitude||0)}else"mapValue"in e?u2(e)?this.dt(t,Number.MAX_SAFE_INTEGER):Ry(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):ye()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let i=e.fields||{};this.dt(t,55);for(let r of Object.keys(i))this.Vt(r,t),this.Tt(i[r],t)}wt(e,t){var i,r;let s=e.fields||{};this.dt(t,53);let o="value",a=((r=(i=s[o].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.length)||0;this.dt(t,15),t.At(zt(a)),this.Vt(o,t),this.Tt(s[o],t)}bt(e,t){let i=e.values||[];this.dt(t,50);for(let r of i)this.Tt(r,t)}yt(e,t){this.dt(t,37),pe.fromName(e).path.forEach(i=>{this.dt(t,60),this.Dt(i,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};Mo.vt=new Mo;function L7(n){if(n===0)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function Tk(n){let e=64-function(i){let r=0;for(let s=0;s<8;++s){let o=L7(255&i[s]);if(r+=o,o!==8)break}return r}(n);return Math.ceil(e/8)}var _I=class{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){let t=e[Symbol.iterator](),i=t.next();for(;!i.done;)this.Ft(i.value),i=t.next();this.Mt()}xt(e){let t=e[Symbol.iterator](),i=t.next();for(;!i.done;)this.Ot(i.value),i=t.next();this.Nt()}Lt(e){for(let t of e){let i=t.charCodeAt(0);if(i<128)this.Ft(i);else if(i<2048)this.Ft(960|i>>>6),this.Ft(128|63&i);else if(t<"\uD800"||"\uDBFF"<t)this.Ft(480|i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i);else{let r=t.codePointAt(0);this.Ft(240|r>>>18),this.Ft(128|63&r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r)}}this.Mt()}Bt(e){for(let t of e){let i=t.charCodeAt(0);if(i<128)this.Ot(i);else if(i<2048)this.Ot(960|i>>>6),this.Ot(128|63&i);else if(t<"\uD800"||"\uDBFF"<t)this.Ot(480|i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i);else{let r=t.codePointAt(0);this.Ot(240|r>>>18),this.Ot(128|63&r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r)}}this.Nt()}kt(e){let t=this.qt(e),i=Tk(t);this.Qt(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Kt(e){let t=this.qt(e),i=Tk(t);this.Qt(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){let t=function(s){let o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),i=(128&t[0])!=0;t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}Ft(e){let t=255&e;t===0?(this.Ut(0),this.Ut(255)):t===255?(this.Ut(255),this.Ut(0)):this.Ut(t)}Ot(e){let t=255&e;t===0?(this.Gt(0),this.Gt(255)):t===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){let t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);let r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}},yI=class{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}},vI=class{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}},sc=class{constructor(){this.jt=new _I,this.Ht=new yI(this.jt),this.Jt=new vI(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}};var oc=class n{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Zt(){let e=this.directionalValue.length,t=e===0||this.directionalValue[e-1]===255?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new n(this.indexId,this.documentKey,this.arrayValue,i)}};function Na(n,e){let t=n.indexId-e.indexId;return t!==0?t:(t=Dk(n.arrayValue,e.arrayValue),t!==0?t:(t=Dk(n.directionalValue,e.directionalValue),t!==0?t:pe.comparator(n.documentKey,e.documentKey)))}function Dk(n,e){for(let t=0;t<n.length&&t<e.length;++t){let i=n[t]-e[t];if(i!==0)return i}return n.length-e.length}var J_=class{constructor(e){this.Xt=new At((t,i)=>sn.comparator(t.field,i.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(let t of e.filters){let i=t;i.isInequality()?this.Xt=this.Xt.add(i):this.tn.push(i)}}get nn(){return this.Xt.size>1}rn(e){if(Ie(e.collectionGroup===this.collectionId),this.nn)return!1;let t=UE(e);if(t!==void 0&&!this.sn(t))return!1;let i=nc(e),r=new Set,s=0,o=0;for(;s<i.length&&this.sn(i[s]);++s)r=r.add(i[s].fieldPath.canonicalString());if(s===i.length)return!0;if(this.Xt.size>0){let a=this.Xt.getIterator().getNext();if(!r.has(a.field.canonicalString())){let l=i[s];if(!this.on(a,l)||!this._n(this.en[o++],l))return!1}++s}for(;s<i.length;++s){let a=i[s];if(o>=this.en.length||!this._n(this.en[o++],a))return!1}return!0}an(){if(this.nn)return null;let e=new At(sn.comparator),t=[];for(let i of this.tn)if(!i.field.isKeyField())if(i.op==="array-contains"||i.op==="array-contains-any")t.push(new hd(i.field,2));else{if(e.has(i.field))continue;e=e.add(i.field),t.push(new hd(i.field,0))}for(let i of this.en)i.field.isKeyField()||e.has(i.field)||(e=e.add(i.field),t.push(new hd(i.field,i.dir==="asc"?0:1)));return new md(md.UNKNOWN_ID,this.collectionId,t,$f.empty())}sn(e){for(let t of this.tn)if(this.on(t,e))return!0;return!1}on(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;let i=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===i}_n(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}};function Q2(n){var e,t;if(Ie(n instanceof et||n instanceof bt),n instanceof et){if(n instanceof z_){let r=((t=(e=n.value.arrayValue)===null||e===void 0?void 0:e.values)===null||t===void 0?void 0:t.map(s=>et.create(n.field,"==",s)))||[];return bt.create(r,"or")}return n}let i=n.filters.map(r=>Q2(r));return bt.create(i,n.op)}function V7(n){if(n.getFilters().length===0)return[];let e=CI(Q2(n));return Ie(Z2(e)),wI(e)||bI(e)?[e]:e.getFilters()}function wI(n){return n instanceof et}function bI(n){return n instanceof bt&&VT(n)}function Z2(n){return wI(n)||bI(n)||function(t){if(t instanceof bt&&KE(t)){for(let i of t.getFilters())if(!wI(i)&&!bI(i))return!1;return!0}return!1}(n)}function CI(n){if(Ie(n instanceof et||n instanceof bt),n instanceof et)return n;if(n.filters.length===1)return CI(n.filters[0]);let e=n.filters.map(i=>CI(i)),t=bt.create(e,n.op);return t=X_(t),Z2(t)?t:(Ie(t instanceof bt),Ie(yd(t)),Ie(t.filters.length>1),t.filters.reduce((i,r)=>HT(i,r)))}function HT(n,e){let t;return Ie(n instanceof et||n instanceof bt),Ie(e instanceof et||e instanceof bt),t=n instanceof et?e instanceof et?function(r,s){return bt.create([r,s],"and")}(n,e):Sk(n,e):e instanceof et?Sk(e,n):function(r,s){if(Ie(r.filters.length>0&&s.filters.length>0),yd(r)&&yd(s))return g2(r,s.getFilters());let o=KE(r)?r:s,a=KE(r)?s:r,l=o.filters.map(c=>HT(c,a));return bt.create(l,"or")}(n,e),X_(t)}function Sk(n,e){if(yd(e))return g2(e,n.getFilters());{let t=e.filters.map(i=>HT(n,i));return bt.create(t,"or")}}function X_(n){if(Ie(n instanceof et||n instanceof bt),n instanceof et)return n;let e=n.getFilters();if(e.length===1)return X_(e[0]);if(f2(n))return n;let t=e.map(r=>X_(r)),i=[];return t.forEach(r=>{r instanceof et?i.push(r):r instanceof bt&&(r.op===n.op?i.push(...r.filters):i.push(r))}),i.length===1?i[0]:bt.create(i,n.op)}var EI=class{constructor(){this.un=new np}addToCollectionParentIndex(e,t){return this.un.add(t),$.resolve()}getCollectionParents(e,t){return $.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return $.resolve()}deleteFieldIndex(e,t){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,t){return $.resolve()}getDocumentsMatchingTarget(e,t){return $.resolve(null)}getIndexType(e,t){return $.resolve(0)}getFieldIndexes(e,t){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,t){return $.resolve(br.min())}getMinOffsetFromCollectionGroup(e,t){return $.resolve(br.min())}updateCollectionGroup(e,t,i){return $.resolve()}updateIndexEntries(e,t){return $.resolve()}},np=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new At(at.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){let t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new At(at.comparator)).toArray()}};var I_=new Uint8Array(0),II=class{constructor(e,t){this.databaseId=t,this.cn=new np,this.ln=new Bs(i=>hc(i),(i,r)=>fp(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.cn.has(t)){let i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.cn.add(t)});let s={collectionId:i,parent:wi(r)};return Mk(e).put(s)}return $.resolve()}getCollectionParents(e,t){let i=[],r=IDBKeyRange.bound([t,""],[Jk(t),""],!1,!0);return Mk(e).U(r).next(s=>{for(let o of s){if(o.collectionId!==t)break;i.push(Os(o.parent))}return i})}addFieldIndex(e,t){let i=Nf(e),r=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(t);delete r.indexId;let s=i.add(r);if(t.indexState){let o=rd(e);return s.next(a=>{o.put(Ck(a,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){let i=Nf(e),r=rd(e),s=id(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){let t=Nf(e),i=id(e),r=rd(e);return t.j().next(()=>i.j()).next(()=>r.j())}createTargetIndexes(e,t){return $.forEach(this.hn(t),i=>this.getIndexType(e,i).next(r=>{if(r===0||r===1){let s=new J_(i).an();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,t){let i=id(e),r=!0,s=new Map;return $.forEach(this.hn(t),o=>this.Pn(e,o).next(a=>{r&&(r=!!a),s.set(o,a)})).next(()=>{if(r){let o=He(),a=[];return $.forEach(s,(l,c)=>{ne("IndexedDbIndexManager",`Using index ${function(W){return`id=${W.indexId}|cg=${W.collectionGroup}|f=${W.fields.map(Y=>`${Y.fieldPath}:${Y.kind}`).join(",")}`}(l)} to execute ${hc(t)}`);let d=function(W,Y){let ge=UE(Y);if(ge===void 0)return null;for(let ae of H_(W,ge.fieldPath))switch(ae.op){case"array-contains-any":return ae.value.arrayValue.values||[];case"array-contains":return[ae.value]}return null}(c,l),h=function(W,Y){let ge=new Map;for(let ae of nc(Y))for(let R of H_(W,ae.fieldPath))switch(R.op){case"==":case"in":ge.set(ae.fieldPath.canonicalString(),R.value);break;case"not-in":case"!=":return ge.set(ae.fieldPath.canonicalString(),R.value),Array.from(ge.values())}return null}(c,l),m=function(W,Y){let ge=[],ae=!0;for(let R of nc(Y)){let T=R.kind===0?ak(W,R.fieldPath,W.startAt):lk(W,R.fieldPath,W.startAt);ge.push(T.value),ae&&(ae=T.inclusive)}return new Vs(ge,ae)}(c,l),v=function(W,Y){let ge=[],ae=!0;for(let R of nc(Y)){let T=R.kind===0?lk(W,R.fieldPath,W.endAt):ak(W,R.fieldPath,W.endAt);ge.push(T.value),ae&&(ae=T.inclusive)}return new Vs(ge,ae)}(c,l),b=this.In(l,c,m),A=this.In(l,c,v),S=this.Tn(l,c,h),j=this.En(l.indexId,d,b,m.inclusive,A,v.inclusive,S);return $.forEach(j,Z=>i.G(Z,t.limit).next(W=>{W.forEach(Y=>{let ge=pe.fromSegments(Y.documentKey);o.has(ge)||(o=o.add(ge),a.push(ge))})}))}).next(()=>a)}return $.resolve(null)})}hn(e){let t=this.ln.get(e);return t||(e.filters.length===0?t=[e]:t=V7(bt.create(e.filters,"and")).map(i=>iI(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,t),t)}En(e,t,i,r,s,o,a){let l=(t!=null?t.length:1)*Math.max(i.length,s.length),c=l/(t!=null?t.length:1),d=[];for(let h=0;h<l;++h){let m=t?this.dn(t[h/c]):I_,v=this.An(e,m,i[h%c],r),b=this.Rn(e,m,s[h%c],o),A=a.map(S=>this.An(e,m,S,!0));d.push(...this.createRange(v,b,A))}return d}An(e,t,i,r){let s=new oc(e,pe.empty(),t,i);return r?s:s.Zt()}Rn(e,t,i,r){let s=new oc(e,pe.empty(),t,i);return r?s.Zt():s}Pn(e,t){let i=new J_(t),r=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(s=>{let o=null;for(let a of s)i.rn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,t){let i=2,r=this.hn(t);return $.forEach(r,s=>this.Pn(e,s).next(o=>{o?i!==0&&o.fields.length<function(l){let c=new At(sn.comparator),d=!1;for(let h of l.filters)for(let m of h.getFlattenedFilters())m.field.isKeyField()||(m.op==="array-contains"||m.op==="array-contains-any"?d=!0:c=c.add(m.field));for(let h of l.orderBy)h.field.isKeyField()||(c=c.add(h.field));return c.size+(d?1:0)}(s)&&(i=1):i=0})).next(()=>function(o){return o.limit!==null}(t)&&r.length>1&&i===2?1:i)}Vn(e,t){let i=new sc;for(let r of nc(e)){let s=t.data.field(r.fieldPath);if(s==null)return null;let o=i.Yt(r.kind);Mo.vt.It(s,o)}return i.zt()}dn(e){let t=new sc;return Mo.vt.It(e,t.Yt(0)),t.zt()}mn(e,t){let i=new sc;return Mo.vt.It(uc(this.databaseId,t),i.Yt(function(s){let o=nc(s);return o.length===0?0:o[o.length-1].kind}(e))),i.zt()}Tn(e,t,i){if(i===null)return[];let r=[];r.push(new sc);let s=0;for(let o of nc(e)){let a=i[s++];for(let l of r)if(this.fn(t,o.fieldPath)&&Kf(a))r=this.gn(r,o,a);else{let c=l.Yt(o.kind);Mo.vt.It(a,c)}}return this.pn(r)}In(e,t,i){return this.Tn(e,t,i.position)}pn(e){let t=[];for(let i=0;i<e.length;++i)t[i]=e[i].zt();return t}gn(e,t,i){let r=[...e],s=[];for(let o of i.arrayValue.values||[])for(let a of r){let l=new sc;l.seed(a.zt()),Mo.vt.It(o,l.Yt(t.kind)),s.push(l)}return s}fn(e,t){return!!e.filters.find(i=>i instanceof et&&i.field.isEqual(t)&&(i.op==="in"||i.op==="not-in"))}getFieldIndexes(e,t){let i=Nf(e),r=rd(e);return(t?i.U("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.U()).next(s=>{let o=[];return $.forEach(s,a=>r.get([a.indexId,this.uid]).next(l=>{o.push(function(d,h){let m=h?new $f(h.sequenceNumber,new br(gc(h.readTime),new pe(Os(h.documentKey)),h.largestBatchId)):$f.empty(),v=d.fields.map(([b,A])=>new hd(sn.fromServerFormat(b),A));return new md(d.indexId,d.collectionGroup,v,m)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>t.length===0?null:(t.sort((i,r)=>{let s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return s!==0?s:Be(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){let r=Nf(e),s=rd(e);return this.yn(e).next(o=>r.U("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(a=>$.forEach(a,l=>s.put(Ck(l.indexId,this.uid,o,i)))))}updateIndexEntries(e,t){let i=new Map;return $.forEach(t,(r,s)=>{let o=i.get(r.collectionGroup);return(o?$.resolve(o):this.getFieldIndexes(e,r.collectionGroup)).next(a=>(i.set(r.collectionGroup,a),$.forEach(a,l=>this.wn(e,r,l).next(c=>{let d=this.Sn(s,l);return c.isEqual(d)?$.resolve():this.bn(e,s,l,c,d)}))))})}Dn(e,t,i,r){return id(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.mn(i,t.key),documentKey:t.key.path.toArray()})}vn(e,t,i,r){return id(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.mn(i,t.key),t.key.path.toArray()])}wn(e,t,i){let r=id(e),s=new At(Na);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.mn(i,t)])},(o,a)=>{s=s.add(new oc(i.indexId,t,a.arrayValue,a.directionalValue))}).next(()=>s)}Sn(e,t){let i=new At(Na),r=this.Vn(t,e);if(r==null)return i;let s=UE(t);if(s!=null){let o=e.data.field(s.fieldPath);if(Kf(o))for(let a of o.arrayValue.values||[])i=i.add(new oc(t.indexId,e.key,this.dn(a),r))}else i=i.add(new oc(t.indexId,e.key,I_,r));return i}bn(e,t,i,r,s){ne("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);let o=[];return function(l,c,d,h,m){let v=l.getIterator(),b=c.getIterator(),A=nd(v),S=nd(b);for(;A||S;){let j=!1,Z=!1;if(A&&S){let W=d(A,S);W<0?Z=!0:W>0&&(j=!0)}else A!=null?Z=!0:j=!0;j?(h(S),S=nd(b)):Z?(m(A),A=nd(v)):(A=nd(v),S=nd(b))}}(r,s,Na,a=>{o.push(this.Dn(e,t,i,a))},a=>{o.push(this.vn(e,t,i,a))}),$.waitFor(o)}yn(e){let t=1;return rd(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((o,a)=>Na(o,a)).filter((o,a,l)=>!a||Na(o,l[a-1])!==0);let r=[];r.push(e);for(let o of i){let a=Na(o,e),l=Na(o,t);if(a===0)r[0]=e.Zt();else if(a>0&&l<0)r.push(o),r.push(o.Zt());else if(l>0)break}r.push(t);let s=[];for(let o=0;o<r.length;o+=2){if(this.Cn(r[o],r[o+1]))return[];let a=[r[o].indexId,this.uid,r[o].arrayValue,r[o].directionalValue,I_,[]],l=[r[o+1].indexId,this.uid,r[o+1].arrayValue,r[o+1].directionalValue,I_,[]];s.push(IDBKeyRange.bound(a,l))}return s}Cn(e,t){return Na(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Ak)}getMinOffset(e,t){return $.mapArray(this.hn(t),i=>this.Pn(e,i).next(r=>r||ye())).next(Ak)}};function Mk(n){return Mn(n,"collectionParents")}function id(n){return Mn(n,"indexEntries")}function Nf(n){return Mn(n,"indexConfiguration")}function rd(n){return Mn(n,"indexState")}function Ak(n){Ie(n.length!==0);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){let r=n[i].indexState.offset;PT(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new br(e.readTime,e.documentKey,t)}var xk={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vr=class n{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};function Y2(n,e,t){let i=n.store("mutations"),r=n.store("documentMutations"),s=[],o=IDBKeyRange.only(t.batchId),a=0,l=i.J({range:o},(d,h,m)=>(a++,m.delete()));s.push(l.next(()=>{Ie(a===1)}));let c=[];for(let d of t.mutations){let h=r2(e,d.key.path,t.batchId);s.push(r.delete(h)),c.push(d.key)}return $.waitFor(s).next(()=>c)}function ey(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ye();e=n.noDocument}return JSON.stringify(e).length}vr.DEFAULT_COLLECTION_PERCENTILE=10,vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vr.DEFAULT=new vr(41943040,vr.DEFAULT_COLLECTION_PERCENTILE,vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vr.DISABLED=new vr(-1,0,0);var ty=class n{constructor(e,t,i,r){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=r,this.Fn={}}static lt(e,t,i,r){Ie(e.uid!=="");let s=e.isAuthenticated()?e.uid:"";return new n(s,t,i,r)}checkEmpty(e){let t=!0,i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Pa(e).J({index:"userMutationsIndex",range:i},(r,s,o)=>{t=!1,o.done()}).next(()=>t)}addMutationBatch(e,t,i,r){let s=ud(e),o=Pa(e);return o.add({}).next(a=>{Ie(typeof a=="number");let l=new Zf(a,t,i,r),c=function(v,b,A){let S=A.baseMutations.map(Z=>tp(v.ct,Z)),j=A.mutations.map(Z=>tp(v.ct,Z));return{userId:b,batchId:A.batchId,localWriteTimeMs:A.localWriteTime.toMillis(),baseMutations:S,mutations:j}}(this.serializer,this.userId,l),d=[],h=new At((m,v)=>Be(m.canonicalString(),v.canonicalString()));for(let m of r){let v=r2(this.userId,m.key.path,a);h=h.add(m.key.path.popLast()),d.push(o.put(c)),d.push(s.put(v,HG))}return h.forEach(m=>{d.push(this.indexManager.addToCollectionParentIndex(e,m))}),e.addOnCommittedListener(()=>{this.Fn[a]=l.keys()}),$.waitFor(d).next(()=>l)})}lookupMutationBatch(e,t){return Pa(e).get(t).next(i=>i?(Ie(i.userId===this.userId),rc(this.serializer,i)):null)}Mn(e,t){return this.Fn[t]?$.resolve(this.Fn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){let r=i.keys();return this.Fn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){let i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]),s=null;return Pa(e).J({index:"userMutationsIndex",range:r},(o,a,l)=>{a.userId===this.userId&&(Ie(a.batchId>=i),s=rc(this.serializer,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){let t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),i=-1;return Pa(e).J({index:"userMutationsIndex",range:t,reverse:!0},(r,s,o)=>{i=s.batchId,o.done()}).next(()=>i)}getAllMutationBatches(e){let t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Pa(e).U("userMutationsIndex",t).next(i=>i.map(r=>rc(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){let i=M_(this.userId,t.path),r=IDBKeyRange.lowerBound(i),s=[];return ud(e).J({range:r},(o,a,l)=>{let[c,d,h]=o,m=Os(d);if(c===this.userId&&t.path.isEqual(m))return Pa(e).get(h).next(v=>{if(!v)throw ye();Ie(v.userId===this.userId),s.push(rc(this.serializer,v))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new At(Be),r=[];return t.forEach(s=>{let o=M_(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=ud(e).J({range:a},(c,d,h)=>{let[m,v,b]=c,A=Os(v);m===this.userId&&s.path.isEqual(A)?i=i.add(b):h.done()});r.push(l)}),$.waitFor(r).next(()=>this.xn(e,i))}getAllMutationBatchesAffectingQuery(e,t){let i=t.path,r=i.length+1,s=M_(this.userId,i),o=IDBKeyRange.lowerBound(s),a=new At(Be);return ud(e).J({range:o},(l,c,d)=>{let[h,m,v]=l,b=Os(m);h===this.userId&&i.isPrefixOf(b)?b.length===r&&(a=a.add(v)):d.done()}).next(()=>this.xn(e,a))}xn(e,t){let i=[],r=[];return t.forEach(s=>{r.push(Pa(e).get(s).next(o=>{if(o===null)throw ye();Ie(o.userId===this.userId),i.push(rc(this.serializer,o))}))}),$.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return Y2(e._e,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.On(t.batchId)}),$.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return $.resolve();let i=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),r=[];return ud(e).J({range:i},(s,o,a)=>{if(s[0]===this.userId){let l=Os(s[1]);r.push(l)}else a.done()}).next(()=>{Ie(r.length===0)})})}containsKey(e,t){return J2(e,this.userId,t)}Nn(e){return X2(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}};function J2(n,e,t){let i=M_(e,t.path),r=i[1],s=IDBKeyRange.lowerBound(i),o=!1;return ud(n).J({range:s,H:!0},(a,l,c)=>{let[d,h,m]=a;d===e&&h===r&&(o=!0),c.done()}).next(()=>o)}function Pa(n){return Mn(n,"mutations")}function ud(n){return Mn(n,"documentMutations")}function X2(n){return Mn(n,"mutationQueues")}var Ed=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var TI=class{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.qn(e).next(t=>{let i=new Ed(t.highestTargetId);return t.highestTargetId=i.next(),this.Qn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(t=>Me.fromTimestamp(new Zt(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.qn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Qn(e,r)))}addTargetData(e,t){return this.Kn(e,t).next(()=>this.qn(e).next(i=>(i.targetCount+=1,this.$n(t,i),this.Qn(e,i))))}updateTargetData(e,t){return this.Kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>sd(e).delete(t.targetId)).next(()=>this.qn(e)).next(i=>(Ie(i.targetCount>0),i.targetCount-=1,this.Qn(e,i)))}removeTargets(e,t,i){let r=0,s=[];return sd(e).J((o,a)=>{let l=Lf(a);l.sequenceNumber<=t&&i.get(l.targetId)===null&&(r++,s.push(this.removeTargetData(e,l)))}).next(()=>$.waitFor(s)).next(()=>r)}forEachTarget(e,t){return sd(e).J((i,r)=>{let s=Lf(r);t(s)})}qn(e){return Rk(e).get("targetGlobalKey").next(t=>(Ie(t!==null),t))}Qn(e,t){return Rk(e).put("targetGlobalKey",t)}Kn(e,t){return sd(e).put(K2(this.serializer,t))}$n(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.qn(e).next(t=>t.targetCount)}getTargetData(e,t){let i=hc(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]),s=null;return sd(e).J({range:r,index:"queryTargetsIndex"},(o,a,l)=>{let c=Lf(a);fp(t,c.target)&&(s=c,l.done())}).next(()=>s)}addMatchingKeys(e,t,i){let r=[],s=ka(e);return t.forEach(o=>{let a=wi(o.path);r.push(s.put({targetId:i,path:a})),r.push(this.referenceDelegate.addReference(e,i,o))}),$.waitFor(r)}removeMatchingKeys(e,t,i){let r=ka(e);return $.forEach(t,s=>{let o=wi(s.path);return $.waitFor([r.delete([i,o]),this.referenceDelegate.removeReference(e,i,s)])})}removeMatchingKeysForTargetId(e,t){let i=ka(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){let i=IDBKeyRange.bound([t],[t+1],!1,!0),r=ka(e),s=He();return r.J({range:i,H:!0},(o,a,l)=>{let c=Os(o[1]),d=new pe(c);s=s.add(d)}).next(()=>s)}containsKey(e,t){let i=wi(t.path),r=IDBKeyRange.bound([i],[Jk(i)],!1,!0),s=0;return ka(e).J({index:"documentTargetsIndex",H:!0,range:r},([o,a],l,c)=>{o!==0&&(s++,c.done())}).next(()=>s>0)}ot(e,t){return sd(e).get(t).next(i=>i?Lf(i):null)}};function sd(n){return Mn(n,"targets")}function Rk(n){return Mn(n,"targetGlobal")}function ka(n){return Mn(n,"targetDocuments")}function Ok([n,e],[t,i]){let r=Be(n,t);return r===0?Be(e,i):r}var DI=class{constructor(e){this.Un=e,this.buffer=new At(Ok),this.Wn=0}Gn(){return++this.Wn}zn(e){let t=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(t);else{let i=this.buffer.last();Ok(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}},SI=class{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){ne("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>F(this,null,function*(){this.jn=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){Za(t)?ne("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):yield Qa(t)}yield this.Hn(3e5)}))}},MI=class{constructor(e,t){this.Jn=e,this.params=t}calculateTargetCount(e,t){return this.Jn.Yn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return $.resolve(Zi.oe);let i=new DI(t);return this.Jn.forEachTarget(e,r=>i.zn(r.sequenceNumber)).next(()=>this.Jn.Zn(e,r=>i.zn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Jn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Jn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ne("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(xk)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xk):this.Xn(e,t))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,t){let i,r,s,o,a,l,c,d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),r=this.params.maximumSequenceNumbersToCollect):r=h,o=Date.now(),this.nthSequenceNumber(e,r))).next(h=>(i=h,a=Date.now(),this.removeTargets(e,i,t))).next(h=>(s=h,l=Date.now(),this.removeOrphanedDocuments(e,i))).next(h=>(c=Date.now(),od()<=gs.DEBUG&&ne("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${r} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:h})))}};function B7(n,e){return new MI(n,e)}var AI=class{constructor(e,t){this.db=e,this.garbageCollector=B7(this,t)}Yn(e){let t=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}er(e){let t=0;return this.Zn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Zn(e,t){return this.tr(e,(i,r)=>t(r))}addReference(e,t,i){return T_(e,i)}removeReference(e,t,i){return T_(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return T_(e,t)}nr(e,t){return function(r,s){let o=!1;return X2(r).Y(a=>J2(r,a,s).next(l=>(l&&(o=!0),$.resolve(!l)))).next(()=>o)}(e,t)}removeOrphanedDocuments(e,t){let i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[],s=0;return this.tr(e,(o,a)=>{if(a<=t){let l=this.nr(e,o).next(c=>{if(!c)return s++,i.getEntry(e,o).next(()=>(i.removeEntry(o,Me.min()),ka(e).delete(function(h){return[0,wi(h.path)]}(o))))});r.push(l)}}).next(()=>$.waitFor(r)).next(()=>i.apply(e)).next(()=>s)}removeTarget(e,t){let i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return T_(e,t)}tr(e,t){let i=ka(e),r,s=Zi.oe;return i.J({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:c})=>{o===0?(s!==Zi.oe&&t(new pe(Os(r)),s),s=c,r=l):s=Zi.oe}).next(()=>{s!==Zi.oe&&t(new pe(Os(r)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}};function T_(n,e){return ka(n).put(function(i,r){return{targetId:0,path:wi(i.path),sequenceNumber:r}}(e,n.currentSequenceNumber))}var ny=class{constructor(){this.changes=new Bs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,vn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let i=this.changes.get(t);return i!==void 0?$.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var xI=class{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return tc(e).put(i)}removeEntry(e,t,i){return tc(e).delete(function(s,o){let a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],Z_(o),a[a.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.rr(e,i)))}getEntry(e,t){let i=vn.newInvalidDocument(t);return tc(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Pf(t))},(r,s)=>{i=this.ir(t,s)}).next(()=>i)}sr(e,t){let i={size:0,document:vn.newInvalidDocument(t)};return tc(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Pf(t))},(r,s)=>{i={document:this.ir(t,s),size:ey(s)}}).next(()=>i)}getEntries(e,t){let i=Ni();return this._r(e,t,(r,s)=>{let o=this.ir(r,s);i=i.insert(r,o)}).next(()=>i)}ar(e,t){let i=Ni(),r=new Ft(pe.comparator);return this._r(e,t,(s,o)=>{let a=this.ir(s,o);i=i.insert(s,a),r=r.insert(s,ey(o))}).next(()=>({documents:i,ur:r}))}_r(e,t,i){if(t.isEmpty())return $.resolve();let r=new At(kk);t.forEach(l=>r=r.add(l));let s=IDBKeyRange.bound(Pf(r.first()),Pf(r.last())),o=r.getIterator(),a=o.getNext();return tc(e).J({index:"documentKeyIndex",range:s},(l,c,d)=>{let h=pe.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&kk(a,h)<0;)i(a,null),a=o.getNext();a&&a.isEqual(h)&&(i(a,c),a=o.hasNext()?o.getNext():null),a?d.$(Pf(a)):d.done()}).next(()=>{for(;a;)i(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,t,i,r,s){let o=t.path,a=[o.popLast().toArray(),o.lastSegment(),Z_(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return tc(e).U(IDBKeyRange.bound(a,l,!0)).next(c=>{s?.incrementDocumentReadCount(c.length);let d=Ni();for(let h of c){let m=this.ir(pe.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);m.isFoundDocument()&&(gp(t,m)||r.has(m.key))&&(d=d.insert(m.key,m))}return d})}getAllFromCollectionGroup(e,t,i,r){let s=Ni(),o=Pk(t,i),a=Pk(t,br.max());return tc(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,c,d)=>{let h=this.ir(pe.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);s=s.insert(h.key,h),s.size===r&&d.done()}).next(()=>s)}newChangeBuffer(e){return new RI(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Nk(e).get("remoteDocumentGlobalKey").next(t=>(Ie(!!t),t))}rr(e,t){return Nk(e).put("remoteDocumentGlobalKey",t)}ir(e,t){if(t){let i=F7(this.serializer,t);if(!(i.isNoDocument()&&i.version.isEqual(Me.min())))return i}return vn.newInvalidDocument(e)}};function eF(n){return new xI(n)}var RI=class extends ny{constructor(e,t){super(),this.cr=e,this.trackRemovals=t,this.lr=new Bs(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){let t=[],i=0,r=new At((s,o)=>Be(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{let a=this.lr.get(s);if(t.push(this.cr.removeEntry(e,s,a.readTime)),o.isValidDocument()){let l=wk(this.cr.serializer,o);r=r.add(s.path.popLast());let c=ey(l);i+=c-a.size,t.push(this.cr.addEntry(e,s,l))}else if(i-=a.size,this.trackRemovals){let l=wk(this.cr.serializer,o.convertToNoDocument(Me.min()));t.push(this.cr.addEntry(e,s,l))}}),r.forEach(s=>{t.push(this.cr.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.cr.updateMetadata(e,i)),$.waitFor(t)}getFromCache(e,t){return this.cr.sr(e,t).next(i=>(this.lr.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.cr.ar(e,t).next(({documents:i,ur:r})=>(r.forEach((s,o)=>{this.lr.set(s,{size:o,readTime:i.get(s).readTime})}),i))}};function Nk(n){return Mn(n,"remoteDocumentGlobal")}function tc(n){return Mn(n,"remoteDocumentsV14")}function Pf(n){let e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Pk(n,e){let t=e.documentKey.path.toArray();return[n,Z_(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function kk(n,e){let t=n.path.toArray(),i=e.path.toArray(),r=0;for(let s=0;s<t.length-2&&s<i.length-2;++s)if(r=Be(t[s],i[s]),r)return r;return r=Be(t.length,i.length),r||(r=Be(t[t.length-2],i[i.length-2]),r||Be(t[t.length-1],i[i.length-1]))}var OI=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var iy=class{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(i!==null&&Uf(i.mutation,r,Yi.empty(),Zt.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,He()).next(()=>i))}getLocalViewOfDocuments(e,t,i=He()){let r=Ns();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(s=>{let o=Ff();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){let i=Ns();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,He()))}populateOverlays(e,t,i){let r=[];return i.forEach(s=>{t.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,i,r){let s=Ni(),o=Bf(),a=function(){return Bf()}();return t.forEach((l,c)=>{let d=i.get(c.key);r.has(c.key)&&(d===void 0||d.mutation instanceof Jr)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),Uf(d.mutation,c,d.mutation.getFieldMask(),Zt.now())):o.set(c.key,Yi.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,d)=>o.set(c,d)),t.forEach((c,d)=>{var h;return a.set(c,new OI(d,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,t){let i=Bf(),r=new Ft((o,a)=>o-a),s=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(let a of o)a.keys().forEach(l=>{let c=t.get(l);if(c===null)return;let d=i.get(l)||Yi.empty();d=a.applyToLocalView(c,d),i.set(l,d);let h=(r.get(a.batchId)||He()).add(l);r=r.insert(a.batchId,h)})}).next(()=>{let o=[],a=r.getReverseIterator();for(;a.hasNext();){let l=a.getNext(),c=l.key,d=l.value,h=I2();d.forEach(m=>{if(!s.has(m)){let v=R2(t.get(m),i.get(m));v!==null&&h.set(m,v),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return $.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,r){return function(o){return pe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):BT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r)}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(s=>{let o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-s.size):$.resolve(Ns()),a=-1,l=s;return o.next(c=>$.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(d)?$.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{l=l.insert(d,m)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,He())).next(d=>({batchId:a,changes:E2(d)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new pe(t)).next(i=>{let r=Ff();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){let s=t.collectionGroup,o=Ff();return this.indexManager.getCollectionParents(e,s).next(a=>$.forEach(a,l=>{let c=function(h,m){return new Yr(m,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(t,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,i,r).next(d=>{d.forEach((h,m)=>{o=o.insert(h,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,s,r))).next(o=>{s.forEach((l,c)=>{let d=c.getKey();o.get(d)===null&&(o=o.insert(d,vn.newInvalidDocument(d)))});let a=Ff();return o.forEach((l,c)=>{let d=s.get(l);d!==void 0&&Uf(d.mutation,c,Yi.empty(),Zt.now()),gp(t,c)&&(a=a.insert(l,c))}),a})}};var NI=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return $.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(r){return{id:r.id,version:r.version,createTime:on(r.createTime)}}(t)),$.resolve()}getNamedQuery(e,t){return $.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(r){return{name:r.name,query:$T(r.bundledQuery),readTime:on(r.readTime)}}(t)),$.resolve()}};var PI=class{constructor(){this.overlays=new Ft(pe.comparator),this.Ir=new Map}getOverlay(e,t){return $.resolve(this.overlays.get(t))}getOverlays(e,t){let i=Ns();return $.forEach(t,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.ht(e,t,s)}),$.resolve()}removeOverlaysForBatchId(e,t,i){let r=this.Ir.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(i)),$.resolve()}getOverlaysForCollection(e,t,i){let r=Ns(),s=t.length+1,o=new pe(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let l=a.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return $.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new Ft((c,d)=>c-d),o=this.overlays.getIterator();for(;o.hasNext();){let c=o.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>i){let d=s.get(c.largestBatchId);d===null&&(d=Ns(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}let a=Ns(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=r)););return $.resolve(a)}ht(e,t,i){let r=this.overlays.get(i.key);if(r!==null){let o=this.Ir.get(r.largestBatchId).delete(i.key);this.Ir.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new Yf(t,i));let s=this.Ir.get(t);s===void 0&&(s=He(),this.Ir.set(t,s)),this.Ir.set(t,s.add(i.key))}};var kI=class{constructor(){this.sessionToken=an.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,$.resolve()}};var ip=class{constructor(){this.Tr=new At(mn.Er),this.dr=new At(mn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let i=new mn(e,t);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Vr(new mn(e,t))}mr(e,t){e.forEach(i=>this.removeReference(i,t))}gr(e){let t=new pe(new at([])),i=new mn(t,e),r=new mn(t,e+1),s=[];return this.dr.forEachInRange([i,r],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new pe(new at([])),i=new mn(t,e),r=new mn(t,e+1),s=He();return this.dr.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){let t=new mn(e,0),i=this.Tr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}},mn=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return pe.comparator(e.key,t.key)||Be(e.wr,t.wr)}static Ar(e,t){return Be(e.wr,t.wr)||pe.comparator(e.key,t.key)}};var FI=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new At(mn.Er)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,r){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new Zf(s,t,i,r);this.mutationQueue.push(o);for(let a of r)this.br=this.br.add(new mn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $.resolve(o)}lookupMutationBatch(e,t){return $.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let i=t+1,r=this.vr(i),s=r<0?0:r;return $.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let i=new mn(t,0),r=new mn(t,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([i,r],o=>{let a=this.Dr(o.wr);s.push(a)}),$.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new At(Be);return t.forEach(r=>{let s=new mn(r,0),o=new mn(r,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{i=i.add(a.wr)})}),$.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,t){let i=t.path,r=i.length+1,s=i;pe.isDocumentKey(s)||(s=s.child(""));let o=new mn(new pe(s),0),a=new At(Be);return this.br.forEachWhile(l=>{let c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.wr)),!0)},o),$.resolve(this.Cr(a))}Cr(e){let t=[];return e.forEach(i=>{let r=this.Dr(i);r!==null&&t.push(r)}),t}removeMutationBatch(e,t){Ie(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return $.forEach(t.mutations,r=>{let s=new mn(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.br=i})}On(e){}containsKey(e,t){let i=new mn(t,0),r=this.br.firstAfterOrEqual(i);return $.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var LI=class{constructor(e){this.Mr=e,this.docs=function(){return new Ft(pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let i=t.key,r=this.docs.get(i),s=r?r.size:0,o=this.Mr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let i=this.docs.get(t);return $.resolve(i?i.document.mutableCopy():vn.newInvalidDocument(t))}getEntries(e,t){let i=Ni();return t.forEach(r=>{let s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():vn.newInvalidDocument(r))}),$.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let s=Ni(),o=t.path,a=new pe(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){let{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||PT(e2(d),i)<=0||(r.has(d.key)||gp(t,d))&&(s=s.insert(d.key,d.mutableCopy()))}return $.resolve(s)}getAllFromCollectionGroup(e,t,i,r){ye()}Or(e,t){return $.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new VI(this)}getSize(e){return $.resolve(this.size)}},VI=class extends ny{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.cr.addEntry(e,r)):this.cr.removeEntry(i)}),$.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var BI=class{constructor(e){this.persistence=e,this.Nr=new Bs(t=>hc(t),fp),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.Lr=0,this.Br=new ip,this.targetCount=0,this.kr=Ed.Bn()}forEachTarget(e,t){return this.Nr.forEach((i,r)=>t(r)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Lr&&(this.Lr=t),$.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new Ed(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,$.resolve()}updateTargetData(e,t){return this.Kn(t),$.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,t,i){let r=0,s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=t&&i.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),$.waitFor(s).next(()=>r)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,t){let i=this.Nr.get(t)||null;return $.resolve(i)}addMatchingKeys(e,t,i){return this.Br.Rr(t,i),$.resolve()}removeMatchingKeys(e,t,i){this.Br.mr(t,i);let r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),$.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),$.resolve()}getMatchingKeysForTargetId(e,t){let i=this.Br.yr(t);return $.resolve(i)}containsKey(e,t){return $.resolve(this.Br.containsKey(t))}};var ry=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new Zi(0),this.Kr=!1,this.Kr=!0,this.$r=new kI,this.referenceDelegate=e(this),this.Ur=new BI(this),this.indexManager=new EI,this.remoteDocumentCache=function(r){return new LI(r)}(i=>this.referenceDelegate.Wr(i)),this.serializer=new Q_(t),this.Gr=new NI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new PI,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.qr[e.toKey()];return i||(i=new FI(t,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,i){ne("MemoryPersistence","Starting transaction:",e);let r=new UI(this.Qr.next());return this.referenceDelegate.zr(),i(r).next(s=>this.referenceDelegate.jr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Hr(e,t){return $.or(Object.values(this.qr).map(i=>()=>i.containsKey(e,t)))}},UI=class extends L_{constructor(e){super(),this.currentSequenceNumber=e}},sy=class n{constructor(e){this.persistence=e,this.Jr=new ip,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw ye()}addReference(e,t,i){return this.Jr.addReference(i,t),this.Xr.delete(i.toString()),$.resolve()}removeReference(e,t,i){return this.Jr.removeReference(i,t),this.Xr.add(i.toString()),$.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),$.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(r=>this.Xr.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.Xr.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.Xr,i=>{let r=pe.fromPath(i);return this.ei(e,r).next(s=>{s||t.removeEntry(r,Me.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(i=>{i?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return $.or([()=>$.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var jI=class{constructor(e){this.serializer=e}O(e,t,i,r){let s=new V_("createOrUpgrade",t);i<1&&r>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",YP,{unique:!0}),l.createObjectStore("documentMutations")}(e),Fk(e),function(l){l.createObjectStore("remoteDocuments")}(e));let o=$.resolve();return i<3&&r>=3&&(i!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),Fk(e)),o=o.next(()=>function(l){let c=l.store("targetGlobal"),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Me.min().toTimestamp(),targetCount:0};return c.put("targetGlobalKey",d)}(s))),i<4&&r>=4&&(i!==0&&(o=o.next(()=>function(l,c){return c.store("mutations").U().next(d=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",YP,{unique:!0});let h=c.store("mutations"),m=d.map(v=>h.put(v));return $.waitFor(m)})}(e,s))),o=o.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),i<5&&r>=5&&(o=o.next(()=>this.ni(s))),i<6&&r>=6&&(o=o.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.ri(s)))),i<7&&r>=7&&(o=o.next(()=>this.ii(s))),i<8&&r>=8&&(o=o.next(()=>this.si(e,s))),i<9&&r>=9&&(o=o.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),i<10&&r>=10&&(o=o.next(()=>this.oi(s))),i<11&&r>=11&&(o=o.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(o=o.next(()=>{(function(l){let c=l.createObjectStore("documentOverlays",{keyPath:n7});c.createIndex("collectionPathOverlayIndex",i7,{unique:!1}),c.createIndex("collectionGroupOverlayIndex",r7,{unique:!1})})(e)})),i<13&&r>=13&&(o=o.next(()=>function(l){let c=l.createObjectStore("remoteDocumentsV14",{keyPath:GG});c.createIndex("documentKeyIndex",qG),c.createIndex("collectionGroupIndex",WG)}(e)).next(()=>this._i(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(o=o.next(()=>this.ai(e,s))),i<15&&r>=15&&(o=o.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:JG}).createIndex("sequenceNumberIndex",XG,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:e7}).createIndex("documentKeyIndex",t7,{unique:!1})}(e))),i<16&&r>=16&&(o=o.next(()=>{t.objectStore("indexState").clear()}).next(()=>{t.objectStore("indexEntries").clear()})),i<17&&r>=17&&(o=o.next(()=>{(function(l){l.createObjectStore("globals",{keyPath:"name"})})(e)})),o}ri(e){let t=0;return e.store("remoteDocuments").J((i,r)=>{t+=ey(r)}).next(()=>{let i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}ni(e){let t=e.store("mutationQueues"),i=e.store("mutations");return t.U().next(r=>$.forEach(r,s=>{let o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.U("userMutationsIndex",o).next(a=>$.forEach(a,l=>{Ie(l.userId===s.userId);let c=rc(this.serializer,l);return Y2(e,s.userId,c).next(()=>{})}))}))}ii(e){let t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{let s=[];return i.J((o,a)=>{let l=new at(o),c=function(h){return[0,wi(h)]}(l);s.push(t.get(c).next(d=>d?$.resolve():(h=>t.put({targetId:0,path:wi(h),sequenceNumber:r.highestListenSequenceNumber}))(l)))}).next(()=>$.waitFor(s))})}si(e,t){e.createObjectStore("collectionParents",{keyPath:YG});let i=t.store("collectionParents"),r=new np,s=o=>{if(r.add(o)){let a=o.lastSegment(),l=o.popLast();return i.put({collectionId:a,parent:wi(l)})}};return t.store("remoteDocuments").J({H:!0},(o,a)=>{let l=new at(o);return s(l.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([o,a,l],c)=>{let d=Os(a);return s(d.popLast())}))}oi(e){let t=e.store("targets");return t.J((i,r)=>{let s=Lf(r),o=K2(this.serializer,s);return t.put(o)})}_i(e,t){let i=t.store("remoteDocuments"),r=[];return i.J((s,o)=>{let a=t.store("remoteDocumentsV14"),l=function(h){return h.document?new pe(at.fromString(h.document.name).popFirst(5)):h.noDocument?pe.fromSegments(h.noDocument.path):h.unknownDocument?pe.fromSegments(h.unknownDocument.path):ye()}(o).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};r.push(a.put(c))}).next(()=>$.waitFor(r))}ai(e,t){let i=t.store("mutations"),r=eF(this.serializer),s=new ry(sy.Zr,this.serializer.ct);return i.U().next(o=>{let a=new Map;return o.forEach(l=>{var c;let d=(c=a.get(l.userId))!==null&&c!==void 0?c:He();rc(this.serializer,l).keys().forEach(h=>d=d.add(h)),a.set(l.userId,d)}),$.forEach(a,(l,c)=>{let d=new _n(c),h=Y_.lt(this.serializer,d),m=s.getIndexManager(d),v=ty.lt(d,this.serializer,m,s.referenceDelegate);return new iy(r,v,h,m).recalculateAndSaveOverlaysForDocumentKeys(new Gf(t,Zi.oe),l).next()})})}};function Fk(n){n.createObjectStore("targetDocuments",{keyPath:QG}).createIndex("documentTargetsIndex",ZG,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",KG,{unique:!0}),n.createObjectStore("targetGlobal")}var xE="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",zI=class n{constructor(e,t,i,r,s,o,a,l,c,d,h=17){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.ui=s,this.window=o,this.document=a,this.ci=c,this.li=d,this.hi=h,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=m=>Promise.resolve(),!n.D())throw new X(q.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new AI(this,r),this.Ai=t+"main",this.serializer=new Q_(l),this.Ri=new Ua(this.Ai,this.hi,new jI(this.serializer)),this.$r=new mI,this.Ur=new TI(this.referenceDelegate,this.serializer),this.remoteDocumentCache=eF(this.serializer),this.Gr=new gI,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,d===!1&&rn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new X(q.FAILED_PRECONDITION,xE);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new Zi(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){return this.di=t=>F(this,null,function*(){if(this.started)return e(t)}),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(t=>F(this,null,function*(){t.newVersion===null&&(yield e())}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget(()=>F(this,null,function*(){this.started&&(yield this.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>D_(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(t=>{t||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(t=>this.isPrimary&&!t?this.bi(e).next(()=>!1):!!t&&this.Di(e).next(()=>!0))).catch(e=>{if(Za(e))return ne("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ne("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return kf(e).get("owner").next(t=>$.resolve(this.vi(t)))}Ci(e){return D_(e).delete(this.clientId)}Fi(){return F(this,null,function*(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();let e=yield this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{let i=Mn(t,"clientMetadata");return i.U().next(r=>{let s=this.xi(r,18e5),o=r.filter(a=>s.indexOf(a)===-1);return $.forEach(o,a=>i.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.Vi)for(let t of e)this.Vi.removeItem(this.Oi(t.clientId))}})}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?$.resolve(!0):kf(e).get("owner").next(t=>{if(t!==null&&this.Mi(t.leaseTimestampMs,5e3)&&!this.Ni(t.ownerId)){if(this.vi(t)&&this.networkEnabled)return!0;if(!this.vi(t)){if(!t.allowTabSynchronization)throw new X(q.FAILED_PRECONDITION,xE);return!1}}return!(!this.networkEnabled||!this.inForeground)||D_(e).U().next(i=>this.xi(i,5e3).find(r=>{if(this.clientId!==r.clientId){let s=!this.networkEnabled&&r.networkEnabled,o=!this.inForeground&&r.inForeground,a=this.networkEnabled===r.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(t=>(this.isPrimary!==t&&ne("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){return F(this,null,function*(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),yield this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{let t=new Gf(e,Zi.oe);return this.bi(t).next(()=>this.Ci(t))}),this.Ri.close(),this.qi()})}xi(e,t){return e.filter(i=>this.Mi(i.updateTimeMs,t)&&!this.Ni(i.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>D_(e).U().next(t=>this.xi(t,18e5).map(i=>i.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,t){return ty.lt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new II(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Y_.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,t,i){ne("IndexedDbPersistence","Starting transaction:",e);let r=t==="readonly"?"readonly":"readwrite",s=function(l){return l===17?a7:l===16?o7:l===15?FT:l===14?a2:l===13?o2:l===12?s7:l===11?s2:void ye()}(this.hi),o;return this.Ri.runTransaction(e,r,s,a=>(o=new Gf(a,this.Qr?this.Qr.next():Zi.oe),t==="readwrite-primary"?this.wi(o).next(l=>!!l||this.Si(o)).next(l=>{if(!l)throw rn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new X(q.FAILED_PRECONDITION,t2);return i(o)}).next(l=>this.Di(o).next(()=>l)):this.Ki(o).next(()=>i(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}Ki(e){return kf(e).get("owner").next(t=>{if(t!==null&&this.Mi(t.leaseTimestampMs,5e3)&&!this.Ni(t.ownerId)&&!this.vi(t)&&!(this.li||this.allowTabSynchronization&&t.allowTabSynchronization))throw new X(q.FAILED_PRECONDITION,xE)})}Di(e){let t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return kf(e).put("owner",t)}static D(){return Ua.D()}bi(e){let t=kf(e);return t.get("owner").next(i=>this.vi(i)?(ne("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):$.resolve())}Mi(e,t){let i=Date.now();return!(e<i-t)&&(!(e>i)||(rn(`Detected an update time that is in the future: ${e} > ${i}`),!1))}fi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground=this.document.visibilityState==="visible")}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Pi=()=>{this.Li();let t=/(?:Version|Mobile)\/1[456]/;Lw()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var t;try{let i=((t=this.Vi)===null||t===void 0?void 0:t.getItem(this.Oi(e)))!==null;return ne("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return rn("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){rn("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}};function kf(n){return Mn(n,"owner")}function D_(n){return Mn(n,"clientMetadata")}function GT(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}var $I=class n{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.$i=i,this.Ui=r}static Wi(e,t){let i=He(),r=He();for(let s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new n(e,t.fromCache,i,r)}};var HI=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var oy=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Lw()?8:n2(Gh())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,i,r){let s={result:null};return this.Yi(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,t,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new HI;return this.Xi(e,t,o).next(a=>{if(s.result=a,this.zi)return this.es(e,t,o,a.size)})}).next(()=>s.result)}es(e,t,i,r){return i.documentReadCount<this.ji?(od()<=gs.DEBUG&&ne("QueryEngine","SDK will not create cache indexes for query:",ad(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),$.resolve()):(od()<=gs.DEBUG&&ne("QueryEngine","Query:",ad(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Hi*r?(od()<=gs.DEBUG&&ne("QueryEngine","The SDK decides to create cache indexes for query:",ad(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bi(t))):$.resolve())}Yi(e,t){if(ck(t))return $.resolve(null);let i=bi(t);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(t.limit!==null&&r===1&&(t=G_(t,null,"F"),i=bi(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{let o=He(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,i).next(l=>{let c=this.ts(t,a);return this.ns(t,c,o,l.readTime)?this.Yi(e,G_(t,null,"F")):this.rs(e,c,t,l)}))})))}Zi(e,t,i,r){return ck(t)||r.isEqual(Me.min())?$.resolve(null):this.Ji.getDocuments(e,i).next(s=>{let o=this.ts(t,s);return this.ns(t,o,i,r)?$.resolve(null):(od()<=gs.DEBUG&&ne("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ad(t)),this.rs(e,o,t,Xk(r,-1)).next(a=>a))})}ts(e,t){let i=new At(b2(e));return t.forEach((r,s)=>{gp(e,s)&&(i=i.add(s))}),i}ns(e,t,i,r){if(e.limit===null)return!1;if(i.size!==t.size)return!0;let s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Xi(e,t,i){return od()<=gs.DEBUG&&ne("QueryEngine","Using full collection scan to execute query:",ad(t)),this.Ji.getDocumentsMatchingQuery(e,t,br.min(),i)}rs(e,t,i,r){return this.Ji.getDocumentsMatchingQuery(e,i,r).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}};var GI=class{constructor(e,t,i,r){this.persistence=e,this.ss=t,this.serializer=r,this.os=new Ft(Be),this._s=new Bs(s=>hc(s),fp),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new iy(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function tF(n,e,t,i){return new GI(n,e,t,i)}function nF(n,e){return F(this,null,function*(){let t=fe(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,t.ls(e),t.mutationQueue.getAllMutationBatches(i))).next(s=>{let o=[],a=[],l=He();for(let c of r){o.push(c.batchId);for(let d of c.mutations)l=l.add(d.key)}for(let c of s){a.push(c.batchId);for(let d of c.mutations)l=l.add(d.key)}return t.localDocuments.getDocuments(i,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})})}function U7(n,e){let t=fe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let r=e.batch.keys(),s=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){let h=c.batch,m=h.keys(),v=$.resolve();return m.forEach(b=>{v=v.next(()=>d.getEntry(l,b)).next(A=>{let S=c.docVersions.get(b);Ie(S!==null),A.version.compareTo(S)<0&&(h.applyToRemoteDocument(A,c),A.isValidDocument()&&(A.setReadTime(c.commitVersion),d.addEntry(A)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=He();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function iF(n){let e=fe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function j7(n,e){let t=fe(n),i=e.snapshotVersion,r=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=t.cs.newChangeBuffer({trackRemovals:!0});r=t.os;let a=[];e.targetChanges.forEach((d,h)=>{let m=r.get(h);if(!m)return;a.push(t.Ur.removeMatchingKeys(s,d.removedDocuments,h).next(()=>t.Ur.addMatchingKeys(s,d.addedDocuments,h)));let v=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?v=v.withResumeToken(an.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):d.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(d.resumeToken,i)),r=r.insert(h,v),function(A,S,j){return A.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=3e8?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(m,v,d)&&a.push(t.Ur.updateTargetData(s,v))});let l=Ni(),c=He();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(rF(s,o,e.documentUpdates).next(d=>{l=d.Ps,c=d.Is})),!i.isEqual(Me.min())){let d=t.Ur.getLastRemoteSnapshotVersion(s).next(h=>t.Ur.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(d)}return $.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(t.os=r,s))}function rF(n,e,t){let i=He(),r=He();return t.forEach(s=>i=i.add(s)),e.getEntries(n,i).next(s=>{let o=Ni();return t.forEach((a,l)=>{let c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(Me.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ne("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:r}})}function z7(n,e){let t=fe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Id(n,e){let t=fe(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Ur.getTargetData(i,e).next(s=>s?(r=s,$.resolve(r)):t.Ur.allocateTargetId(i).next(o=>(r=new Cd(e,o,"TargetPurposeListen",i.currentSequenceNumber),t.Ur.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=t.os.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.os=t.os.insert(i.targetId,i),t._s.set(e,i.targetId)),i})}function Td(n,e,t){return F(this,null,function*(){let i=fe(n),r=i.os.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!Za(o))throw o;ne("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}i.os=i.os.remove(e),i._s.delete(r.target)})}function ay(n,e,t){let i=fe(n),r=Me.min(),s=He();return i.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){let h=fe(l),m=h._s.get(d);return m!==void 0?$.resolve(h.os.get(m)):h.Ur.getTargetData(c,d)}(i,o,bi(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>i.ss.getDocumentsMatchingQuery(o,e,t?r:Me.min(),t?s:He())).next(a=>(aF(i,w2(e),a),{documents:a,Ts:s})))}function sF(n,e){let t=fe(n),i=fe(t.Ur),r=t.os.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",s=>i.ot(s,e).next(o=>o?o.target:null))}function oF(n,e){let t=fe(n),i=t.us.get(e)||Me.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.cs.getAllFromCollectionGroup(r,e,Xk(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(aF(t,e,r),r))}function aF(n,e,t){let i=n.us.get(e)||Me.min();t.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.us.set(e,i)}function $7(n,e,t,i){return F(this,null,function*(){let r=fe(n),s=He(),o=Ni();for(let c of t){let d=e.Es(c.metadata.name);c.document&&(s=s.add(d));let h=e.ds(c);h.setReadTime(e.As(c.metadata.readTime)),o=o.insert(d,h)}let a=r.cs.newChangeBuffer({trackRemovals:!0}),l=yield Id(r,function(d){return bi(Nd(at.fromString(`__bundle__/docs/${d}`)))}(i));return r.persistence.runTransaction("Apply bundle documents","readwrite",c=>rF(c,a,o).next(d=>(a.apply(c),d)).next(d=>r.Ur.removeMatchingKeysForTargetId(c,l.targetId).next(()=>r.Ur.addMatchingKeys(c,s,l.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(c,d.Ps,d.Is)).next(()=>d.Ps)))})}function H7(i,r){return F(this,arguments,function*(n,e,t=He()){let s=yield Id(n,bi($T(e.bundledQuery))),o=fe(n);return o.persistence.runTransaction("Save named query","readwrite",a=>{let l=on(e.readTime);if(s.snapshotVersion.compareTo(l)>=0)return o.Gr.saveNamedQuery(a,e);let c=s.withResumeToken(an.EMPTY_BYTE_STRING,l);return o.os=o.os.insert(c.targetId,c),o.Ur.updateTargetData(a,c).next(()=>o.Ur.removeMatchingKeysForTargetId(a,s.targetId)).next(()=>o.Ur.addMatchingKeys(a,t,s.targetId)).next(()=>o.Gr.saveNamedQuery(a,e))})})}function Lk(n,e){return`firestore_clients_${n}_${e}`}function Vk(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function RE(n,e){return`firestore_targets_${n}_${e}`}var ly=class n{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Rs(e,t,i){let r=JSON.parse(i),s,o=typeof r=="object"&&["pending","acknowledged","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return o&&r.error&&(o=typeof r.error.message=="string"&&typeof r.error.code=="string",o&&(s=new X(r.error.code,r.error.message))),o?new n(e,t,r.state,s):(rn("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}Vs(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},jf=class n{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Rs(e,t){let i=JSON.parse(t),r,s=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return s&&i.error&&(s=typeof i.error.message=="string"&&typeof i.error.code=="string",s&&(r=new X(i.error.code,i.error.message))),s?new n(e,i.state,r):(rn("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Vs(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},cy=class n{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Rs(e,t){let i=JSON.parse(t),r=typeof i=="object"&&i.activeTargetIds instanceof Array,s=UT();for(let o=0;r&&o<i.activeTargetIds.length;++o)r=i2(i.activeTargetIds[o]),s=s.add(i.activeTargetIds[o]);return r?new n(e,s):(rn("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}},qI=class n{constructor(e,t){this.clientId=e,this.onlineState=t}static Rs(e){let t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new n(t.clientId,t.onlineState):(rn("SharedClientState",`Failed to parse online state: ${e}`),null)}},rp=class{constructor(){this.activeTargetIds=UT()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}},zf=class{constructor(e,t,i,r,s){this.window=e,this.ui=t,this.persistenceKey=i,this.ps=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new Ft(Be),this.started=!1,this.bs=[];let o=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Ds=Lk(this.persistenceKey,this.ps),this.vs=function(l){return`firestore_sequence_number_${l}`}(this.persistenceKey),this.Ss=this.Ss.insert(this.ps,new rp),this.Cs=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.xs=function(l){return`firestore_online_state_${l}`}(this.persistenceKey),this.Os=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}start(){return F(this,null,function*(){let e=yield this.syncEngine.Qi();for(let i of e){if(i===this.ps)continue;let r=this.getItem(Lk(this.persistenceKey,i));if(r){let s=cy.Rs(i,r);s&&(this.Ss=this.Ss.insert(s.clientId,s))}}this.Ns();let t=this.storage.getItem(this.xs);if(t){let i=this.Ls(t);i&&this.Bs(i)}for(let i of this.bs)this.ws(i);this.bs=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0})}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let t=!1;return this.Ss.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,t,i){this.qs(e,t,i),this.Qs(e)}addLocalQueryTarget(e,t=!0){let i="not-current";if(this.isActiveQueryTarget(e)){let r=this.storage.getItem(RE(this.persistenceKey,e));if(r){let s=jf.Rs(e,r);s&&(i=s.state)}}return t&&this.Ks.fs(e),this.Ns(),i}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(RE(this.persistenceKey,e))}updateQueryState(e,t,i){this.$s(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Qs(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){let t=this.storage.getItem(e);return ne("SharedClientState","READ",e,t),t}setItem(e,t){ne("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){ne("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){let t=e;if(t.storageArea===this.storage){if(ne("SharedClientState","EVENT",t.key,t.newValue),t.key===this.Ds)return void rn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable(()=>F(this,null,function*(){if(this.started){if(t.key!==null){if(this.Cs.test(t.key)){if(t.newValue==null){let i=this.Gs(t.key);return this.zs(i,null)}{let i=this.js(t.key,t.newValue);if(i)return this.zs(i.clientId,i)}}else if(this.Fs.test(t.key)){if(t.newValue!==null){let i=this.Hs(t.key,t.newValue);if(i)return this.Js(i)}}else if(this.Ms.test(t.key)){if(t.newValue!==null){let i=this.Ys(t.key,t.newValue);if(i)return this.Zs(i)}}else if(t.key===this.xs){if(t.newValue!==null){let i=this.Ls(t.newValue);if(i)return this.Bs(i)}}else if(t.key===this.vs){let i=function(s){let o=Zi.oe;if(s!=null)try{let a=JSON.parse(s);Ie(typeof a=="number"),o=a}catch(a){rn("SharedClientState","Failed to read sequence number from WebStorage",a)}return o}(t.newValue);i!==Zi.oe&&this.sequenceNumberHandler(i)}else if(t.key===this.Os){let i=this.Xs(t.newValue);yield Promise.all(i.map(r=>this.syncEngine.eo(r)))}}}else this.bs.push(t)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,t,i){let r=new ly(this.currentUser,e,t,i),s=Vk(this.persistenceKey,this.currentUser,e);this.setItem(s,r.Vs())}Qs(e){let t=Vk(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Us(e){let t={clientId:this.ps,onlineState:e};this.storage.setItem(this.xs,JSON.stringify(t))}$s(e,t,i){let r=RE(this.persistenceKey,e),s=new jf(e,t,i);this.setItem(r,s.Vs())}Ws(e){let t=JSON.stringify(Array.from(e));this.setItem(this.Os,t)}Gs(e){let t=this.Cs.exec(e);return t?t[1]:null}js(e,t){let i=this.Gs(e);return cy.Rs(i,t)}Hs(e,t){let i=this.Fs.exec(e),r=Number(i[1]),s=i[2]!==void 0?i[2]:null;return ly.Rs(new _n(s),r,t)}Ys(e,t){let i=this.Ms.exec(e),r=Number(i[1]);return jf.Rs(r,t)}Ls(e){return qI.Rs(e)}Xs(e){return JSON.parse(e)}Js(e){return F(this,null,function*(){if(e.user.uid===this.currentUser.uid)return this.syncEngine.no(e.batchId,e.state,e.error);ne("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,t){let i=t?this.Ss.insert(e,t):this.Ss.remove(e),r=this.ks(this.Ss),s=this.ks(i),o=[],a=[];return s.forEach(l=>{r.has(l)||o.push(l)}),r.forEach(l=>{s.has(l)||a.push(l)}),this.syncEngine.io(o,a).then(()=>{this.Ss=i})}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let t=UT();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}},uy=class{constructor(){this.so=new rp,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,i){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new rp,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var WI=class{_o(e){}shutdown(){}};var dy=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var S_=null;function OE(){return S_===null?S_=function(){return 268435456+Math.round(2147483648*Math.random())}():S_++,"0x"+S_.toString(16)}var G7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var KI=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var si="WebChannelConnection",QI=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+t.host,this.vo=`projects/${r}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get Fo(){return!1}Mo(t,i,r,s,o){let a=OE(),l=this.xo(t,i.toUriEncodedString());ne("RestConnection",`Sending RPC '${t}' ${a}:`,l,r);let c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,o),this.No(t,l,c,r).then(d=>(ne("RestConnection",`Received RPC '${t}' ${a}: `,d),d),d=>{throw wr("RestConnection",`RPC '${t}' ${a} failed with error: `,d,"url: ",l,"request:",r),d})}Lo(t,i,r,s,o,a){return this.Mo(t,i,r,s,o)}Oo(t,i,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Od}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>t[o]=s),r&&r.headers.forEach((s,o)=>t[o]=s)}xo(t,i){let r=G7[t];return`${this.Do}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,i,r){let s=OE();return new Promise((o,a)=>{let l=new EE;l.setWithCredentials(!0),l.listenOnce(TE.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Rf.NO_ERROR:let d=l.getResponseJson();ne(si,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case Rf.TIMEOUT:ne(si,`RPC '${e}' ${s} timed out`),a(new X(q.DEADLINE_EXCEEDED,"Request time out"));break;case Rf.HTTP_ERROR:let h=l.getStatus();if(ne(si,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);let v=m?.error;if(v&&v.status&&v.message){let b=function(S){let j=S.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(j)>=0?j:q.UNKNOWN}(v.status);a(new X(b,v.message))}else a(new X(q.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new X(q.UNAVAILABLE,"Connection failed."));break;default:ye()}}finally{ne(si,`RPC '${e}' ${s} completed.`)}});let c=JSON.stringify(r);ne(si,`RPC '${e}' ${s} sending request:`,r),l.send(t,"POST",c,i,15)})}Bo(e,t,i){let r=OE(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=ME(),a=SE(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new IE({})),this.Oo(l.initMessageHeaders,t,i),l.encodeInitMessageHeaders=!0;let d=s.join("");ne(si,`Creating RPC '${e}' stream ${r}: ${d}`,l);let h=o.createWebChannel(d,l),m=!1,v=!1,b=new KI({Io:S=>{v?ne(si,`Not sending because RPC '${e}' stream ${r} is closed:`,S):(m||(ne(si,`Opening RPC '${e}' stream ${r} transport.`),h.open(),m=!0),ne(si,`RPC '${e}' stream ${r} sending:`,S),h.send(S))},To:()=>h.close()}),A=(S,j,Z)=>{S.listen(j,W=>{try{Z(W)}catch(Y){setTimeout(()=>{throw Y},0)}})};return A(h,td.EventType.OPEN,()=>{v||(ne(si,`RPC '${e}' stream ${r} transport opened.`),b.yo())}),A(h,td.EventType.CLOSE,()=>{v||(v=!0,ne(si,`RPC '${e}' stream ${r} transport closed`),b.So())}),A(h,td.EventType.ERROR,S=>{v||(v=!0,wr(si,`RPC '${e}' stream ${r} transport errored:`,S),b.So(new X(q.UNAVAILABLE,"The operation could not be completed")))}),A(h,td.EventType.MESSAGE,S=>{var j;if(!v){let Z=S.data[0];Ie(!!Z);let W=Z,Y=W.error||((j=W[0])===null||j===void 0?void 0:j.error);if(Y){ne(si,`RPC '${e}' stream ${r} received error:`,Y);let ge=Y.status,ae=function(M){let N=gn[M];if(N!==void 0)return P2(N)}(ge),R=Y.message;ae===void 0&&(ae=q.INTERNAL,R="Unknown error status: "+ge+" with message "+Y.message),v=!0,b.So(new X(ae,R)),h.close()}else ne(si,`RPC '${e}' stream ${r} received:`,Z),b.bo(Z)}}),A(a,DE.STAT_EVENT,S=>{S.stat===E_.PROXY?ne(si,`RPC '${e}' stream ${r} detected buffering proxy`):S.stat===E_.NOPROXY&&ne(si,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{b.wo()},0),b}};function lF(){return typeof window<"u"?window:null}function O_(){return typeof document<"u"?document:null}function mp(n){return new uI(n,!0)}var sp=class{constructor(e,t,i=1e3,r=1.5,s=6e4){this.ui=e,this.timerId=t,this.ko=i,this.qo=r,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),r=Math.max(0,t-i);r>0&&ne("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var hy=class{constructor(e,t,i,r,s,o,a,l){this.ui=e,this.Ho=i,this.Jo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new sp(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return F(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return F(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return F(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===q.RESOURCE_EXHAUSTED?(rn(t.toString()),rn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Yo===t&&this.P_(i,r)},i=>{e(()=>{let r=new X(q.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(r)})})}P_(e,t){let i=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(r=>{i(()=>this.I_(r))}),this.stream.onMessage(r=>{i(()=>++this.e_==1?this.E_(r):this.onNext(r))})}i_(){this.state=5,this.t_.Go(()=>F(this,null,function*(){this.state=0,this.start()}))}I_(e){return ne("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},ZI=class extends hy{constructor(e,t,i,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,o),this.serializer=s}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=A7(this.serializer,e),i=function(s){if(!("targetChange"in s))return Me.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?Me.min():o.readTime?on(o.readTime):Me.min()}(e);return this.listener.d_(t,i)}A_(e){let t={};t.database=fI(this.serializer),t.addTarget=function(s,o){let a,l=o.target;if(a=$_(l)?{documents:z2(s,l)}:{query:$2(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=F2(s,o.resumeToken);let c=dI(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Me.min())>0){a.readTime=bd(s,o.snapshotVersion.toTimestamp());let c=dI(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);let i=R7(this.serializer,e);i&&(t.labels=i),this.a_(t)}R_(e){let t={};t.database=fI(this.serializer),t.removeTarget=e,this.a_(t)}},YI=class extends hy{constructor(e,t,i,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Ie(!!e.streamToken),this.lastStreamToken=e.streamToken,Ie(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ie(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=x7(e.writeResults,e.commitTime),i=on(e.commitTime);return this.listener.g_(i,t)}p_(){let e={};e.database=fI(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(i=>tp(this.serializer,i))};this.a_(t)}};var JI=class extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new X(q.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,i,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,hI(t,i),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new X(q.UNKNOWN,s.toString())})}Lo(e,t,i,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,hI(t,i),r,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new X(q.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},XI=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(rn(t),this.D_=!1):ne("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var eT=class{constructor(e,t,i,r,s){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{i.enqueueAndForget(()=>F(this,null,function*(){Ya(this)&&(ne("RemoteStore","Restarting streams for network reachability change."),yield function(l){return F(this,null,function*(){let c=fe(l);c.L_.add(4),yield Pd(c),c.q_.set("Unknown"),c.L_.delete(4),yield _p(c)})}(this))}))}),this.q_=new XI(i,r)}};function _p(n){return F(this,null,function*(){if(Ya(n))for(let e of n.B_)yield e(!0)})}function Pd(n){return F(this,null,function*(){for(let e of n.B_)yield e(!1)})}function Oy(n,e){let t=fe(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),KT(t)?WT(t):Fd(t).r_()&&qT(t,e))}function Dd(n,e){let t=fe(n),i=Fd(t);t.N_.delete(e),i.r_()&&cF(t,e),t.N_.size===0&&(i.r_()?i.o_():Ya(t)&&t.q_.set("Unknown"))}function qT(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Fd(n).A_(e)}function cF(n,e){n.Q_.xe(e),Fd(n).R_(e)}function WT(n){n.Q_=new cI({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),Fd(n).start(),n.q_.v_()}function KT(n){return Ya(n)&&!Fd(n).n_()&&n.N_.size>0}function Ya(n){return fe(n).L_.size===0}function uF(n){n.Q_=void 0}function q7(n){return F(this,null,function*(){n.q_.set("Online")})}function W7(n){return F(this,null,function*(){n.N_.forEach((e,t)=>{qT(n,e)})})}function K7(n,e){return F(this,null,function*(){uF(n),KT(n)?(n.q_.M_(e),WT(n)):n.q_.set("Unknown")})}function Q7(n,e,t){return F(this,null,function*(){if(n.q_.set("Online"),e instanceof W_&&e.state===2&&e.cause)try{yield function(r,s){return F(this,null,function*(){let o=s.cause;for(let a of s.targetIds)r.N_.has(a)&&(yield r.remoteSyncer.rejectListen(a,o),r.N_.delete(a),r.Q_.removeTarget(a))})}(n,e)}catch(i){ne("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield fy(n,i)}else if(e instanceof pd?n.Q_.Ke(e):e instanceof q_?n.Q_.He(e):n.Q_.We(e),!t.isEqual(Me.min()))try{let i=yield iF(n.localStore);t.compareTo(i)>=0&&(yield function(s,o){let a=s.Q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){let d=s.N_.get(c);d&&s.N_.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{let d=s.N_.get(l);if(!d)return;s.N_.set(l,d.withResumeToken(an.EMPTY_BYTE_STRING,d.snapshotVersion)),cF(s,l);let h=new Cd(d.target,l,c,d.sequenceNumber);qT(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(i){ne("RemoteStore","Failed to raise snapshot:",i),yield fy(n,i)}})}function fy(n,e,t){return F(this,null,function*(){if(!Za(e))throw e;n.L_.add(1),yield Pd(n),n.q_.set("Offline"),t||(t=()=>iF(n.localStore)),n.asyncQueue.enqueueRetryable(()=>F(this,null,function*(){ne("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield _p(n)}))})}function dF(n,e){return e().catch(t=>fy(n,t,e))}function kd(n){return F(this,null,function*(){let e=fe(n),t=Ka(e),i=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Z7(e);)try{let r=yield z7(e.localStore,i);if(r===null){e.O_.length===0&&t.o_();break}i=r.batchId,Y7(e,r)}catch(r){yield fy(e,r)}hF(e)&&fF(e)})}function Z7(n){return Ya(n)&&n.O_.length<10}function Y7(n,e){n.O_.push(e);let t=Ka(n);t.r_()&&t.V_&&t.m_(e.mutations)}function hF(n){return Ya(n)&&!Ka(n).n_()&&n.O_.length>0}function fF(n){Ka(n).start()}function J7(n){return F(this,null,function*(){Ka(n).p_()})}function X7(n){return F(this,null,function*(){let e=Ka(n);for(let t of n.O_)e.m_(t.mutations)})}function eq(n,e,t){return F(this,null,function*(){let i=n.O_.shift(),r=oI.from(i,e,t);yield dF(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield kd(n)})}function tq(n,e){return F(this,null,function*(){e&&Ka(n).V_&&(yield function(i,r){return F(this,null,function*(){if(function(o){return N2(o)&&o!==q.ABORTED}(r.code)){let s=i.O_.shift();Ka(i).s_(),yield dF(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),yield kd(i)}})}(n,e)),hF(n)&&fF(n)})}function Bk(n,e){return F(this,null,function*(){let t=fe(n);t.asyncQueue.verifyOperationInProgress(),ne("RemoteStore","RemoteStore received new credentials");let i=Ya(t);t.L_.add(3),yield Pd(t),i&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield _p(t)})}function tT(n,e){return F(this,null,function*(){let t=fe(n);e?(t.L_.delete(2),yield _p(t)):e||(t.L_.add(2),yield Pd(t),t.q_.set("Unknown"))})}function Fd(n){return n.K_||(n.K_=function(t,i,r){let s=fe(t);return s.w_(),new ZI(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{Eo:q7.bind(null,n),Ro:W7.bind(null,n),mo:K7.bind(null,n),d_:Q7.bind(null,n)}),n.B_.push(e=>F(this,null,function*(){e?(n.K_.s_(),KT(n)?WT(n):n.q_.set("Unknown")):(yield n.K_.stop(),uF(n))}))),n.K_}function Ka(n){return n.U_||(n.U_=function(t,i,r){let s=fe(t);return s.w_(),new YI(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:J7.bind(null,n),mo:tq.bind(null,n),f_:X7.bind(null,n),g_:eq.bind(null,n)}),n.B_.push(e=>F(this,null,function*(){e?(n.U_.s_(),yield kd(n)):(yield n.U_.stop(),n.O_.length>0&&(ne("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}var nT=class n{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new yn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,s){let o=Date.now()+i,a=new n(e,t,o,r,s);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Ld(n,e){if(rn("AsyncQueue",`${e}: ${n}`),Za(n))return new X(q.UNAVAILABLE,`${e}: ${n}`);throw n}var py=class n{constructor(e){this.comparator=e?(t,i)=>e(t,i)||pe.comparator(t.key,i.key):(t,i)=>pe.comparator(t.key,i.key),this.keyedMap=Ff(),this.sortedSet=new Ft(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){let r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let i=new n;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}};var gy=class{constructor(){this.W_=new Ft(pe.comparator)}track(e){let t=e.doc.key,i=this.W_.get(t);i?e.type!==0&&i.type===3?this.W_=this.W_.insert(t,e):e.type===3&&i.type!==1?this.W_=this.W_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.W_=this.W_.remove(t):e.type===1&&i.type===2?this.W_=this.W_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):ye():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,i)=>{e.push(i)}),e}},Sd=class n{constructor(e,t,i,r,s,o,a,l,c){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,i,r,s){let o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new n(e,t,py.emptySet(t),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}};var iT=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},rT=class{constructor(){this.queries=Uk(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,i){let r=fe(t),s=r.queries;r.queries=Uk(),s.forEach((o,a)=>{for(let l of a.j_)l.onError(i)})})(this,new X(q.ABORTED,"Firestore shutting down"))}};function Uk(){return new Bs(n=>v2(n),pp)}function QT(n,e){return F(this,null,function*(){let t=fe(n),i=3,r=e.query,s=t.queries.get(r);s?!s.H_()&&e.J_()&&(i=2):(s=new iT,i=e.J_()?0:1);try{switch(i){case 0:s.z_=yield t.onListen(r,!0);break;case 1:s.z_=yield t.onListen(r,!1);break;case 2:yield t.onFirstRemoteStoreListen(r)}}catch(o){let a=Ld(o,`Initialization of query '${ad(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.j_.push(e),e.Z_(t.onlineState),s.z_&&e.X_(s.z_)&&YT(t)})}function ZT(n,e){return F(this,null,function*(){let t=fe(n),i=e.query,r=3,s=t.queries.get(i);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?r=e.J_()?0:1:!s.H_()&&e.J_()&&(r=2))}switch(r){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}})}function nq(n,e){let t=fe(n),i=!1;for(let r of e){let s=r.query,o=t.queries.get(s);if(o){for(let a of o.j_)a.X_(r)&&(i=!0);o.z_=r}}i&&YT(t)}function iq(n,e,t){let i=fe(n),r=i.queries.get(e);if(r)for(let s of r.j_)s.onError(t);i.queries.delete(e)}function YT(n){n.Y_.forEach(e=>{e.next()})}var sT,jk;(jk=sT||(sT={})).ea="default",jk.Cache="cache";var op=class{constructor(e,t,i){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){let i=[];for(let r of e.docChanges)r.type!==3&&i.push(r);e=new Sd(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let i=t!=="Offline";return(!this.options._a||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=Sd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==sT.Cache}};var oT=class{constructor(e,t){this.aa=e,this.byteLength=t}ua(){return"metadata"in this.aa}};var my=class{constructor(e){this.serializer=e}Es(e){return ks(this.serializer,e)}ds(e){return e.metadata.exists?j2(this.serializer,e.document,!1):vn.newNoDocument(this.Es(e.metadata.name),this.As(e.metadata.readTime))}As(e){return on(e)}},aT=class{constructor(e,t,i){this.ca=e,this.localStore=t,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=pF(e)}la(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.aa.namedQuery)this.queries.push(e.aa.namedQuery);else if(e.aa.documentMetadata){this.documents.push({metadata:e.aa.documentMetadata}),e.aa.documentMetadata.exists||++t;let i=at.fromString(e.aa.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.aa.document&&(this.documents[this.documents.length-1].document=e.aa.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ha(e){let t=new Map,i=new my(this.serializer);for(let r of e)if(r.metadata.queries){let s=i.Es(r.metadata.name);for(let o of r.metadata.queries){let a=(t.get(o)||He()).add(s);t.set(o,a)}}return t}complete(){return F(this,null,function*(){let e=yield $7(this.localStore,new my(this.serializer),this.documents,this.ca.id),t=this.ha(this.documents);for(let i of this.queries)yield H7(this.localStore,i,t.get(i.name));return this.progress.taskState="Success",{progress:this.progress,Pa:this.collectionGroups,Ia:e}})}};function pF(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}var _y=class{constructor(e){this.key=e}},yy=class{constructor(e){this.key=e}},vy=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=He(),this.mutatedKeys=He(),this.Aa=b2(e),this.Ra=new py(this.Aa)}get Va(){return this.Ta}ma(e,t){let i=t?t.fa:new gy,r=t?t.Ra:this.Ra,s=t?t.mutatedKeys:this.mutatedKeys,o=r,a=!1,l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((d,h)=>{let m=r.get(d),v=gp(this.query,h)?h:null,b=!!m&&this.mutatedKeys.has(m.key),A=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations),S=!1;m&&v?m.data.isEqual(v.data)?b!==A&&(i.track({type:3,doc:v}),S=!0):this.ga(m,v)||(i.track({type:2,doc:v}),S=!0,(l&&this.Aa(v,l)>0||c&&this.Aa(v,c)<0)&&(a=!0)):!m&&v?(i.track({type:0,doc:v}),S=!0):m&&!v&&(i.track({type:1,doc:m}),S=!0,(l||c)&&(a=!0)),S&&(v?(o=o.add(v),s=A?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),i.track({type:1,doc:d})}return{Ra:o,fa:i,ns:a,mutatedKeys:s}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((d,h)=>function(v,b){let A=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye()}};return A(v)-A(b)}(d.type,h.type)||this.Aa(d.doc,h.doc)),this.pa(i),r=r!=null&&r;let a=t&&!r?this.ya():[],l=this.da.size===0&&this.current&&!r?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new Sd(this.query,e.Ra,s,o,e.mutatedKeys,l===0,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new gy,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=He(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});let t=[];return e.forEach(i=>{this.da.has(i)||t.push(new yy(i))}),this.da.forEach(i=>{e.has(i)||t.push(new _y(i))}),t}ba(e){this.Ta=e.Ts,this.da=He();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Sd.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},lT=class{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}},cT=class{constructor(e){this.key=e,this.va=!1}},uT=class{constructor(e,t,i,r,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Bs(a=>v2(a),pp),this.Ma=new Map,this.xa=new Set,this.Oa=new Ft(pe.comparator),this.Na=new Map,this.La=new ip,this.Ba={},this.ka=new Map,this.qa=Ed.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function rq(n,e,t=!0){return F(this,null,function*(){let i=Ny(n),r,s=i.Fa.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.Da()):r=yield gF(i,e,t,!0),r})}function sq(n,e){return F(this,null,function*(){let t=Ny(n);yield gF(t,e,!0,!1)})}function gF(n,e,t,i){return F(this,null,function*(){let r=yield Id(n.localStore,bi(e)),s=r.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t),a;return i&&(a=yield JT(n,e,s,o==="current",r.resumeToken)),n.isPrimaryClient&&t&&Oy(n.remoteStore,r),a})}function JT(n,e,t,i,r){return F(this,null,function*(){n.Ka=(h,m,v)=>function(A,S,j,Z){return F(this,null,function*(){let W=S.view.ma(j);W.ns&&(W=yield ay(A.localStore,S.query,!1).then(({documents:R})=>S.view.ma(R,W)));let Y=Z&&Z.targetChanges.get(S.targetId),ge=Z&&Z.targetMismatches.get(S.targetId)!=null,ae=S.view.applyChanges(W,A.isPrimaryClient,Y,ge);return dT(A,S.targetId,ae.wa),ae.snapshot})}(n,h,m,v);let s=yield ay(n.localStore,e,!0),o=new vy(e,s.Ts),a=o.ma(s.documents),l=Xf.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",r),c=o.applyChanges(a,n.isPrimaryClient,l);dT(n,t,c.wa);let d=new lT(e,t,o);return n.Fa.set(e,d),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),c.snapshot})}function oq(n,e,t){return F(this,null,function*(){let i=fe(n),r=i.Fa.get(e),s=i.Ma.get(r.targetId);if(s.length>1)return i.Ma.set(r.targetId,s.filter(o=>!pp(o,e))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Td(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),t&&Dd(i.remoteStore,r.targetId),Md(i,r.targetId)}).catch(Qa))):(Md(i,r.targetId),yield Td(i.localStore,r.targetId,!0))})}function aq(n,e){return F(this,null,function*(){let t=fe(n),i=t.Fa.get(e),r=t.Ma.get(i.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Dd(t.remoteStore,i.targetId))})}function lq(n,e,t){return F(this,null,function*(){let i=nD(n);try{let r=yield function(o,a){let l=fe(o),c=Zt.now(),d=a.reduce((v,b)=>v.add(b.key),He()),h,m;return l.persistence.runTransaction("Locally write mutations","readwrite",v=>{let b=Ni(),A=He();return l.cs.getEntries(v,d).next(S=>{b=S,b.forEach((j,Z)=>{Z.isValidDocument()||(A=A.add(j))})}).next(()=>l.localDocuments.getOverlayedDocuments(v,b)).next(S=>{h=S;let j=[];for(let Z of a){let W=C7(Z,h.get(Z.key).overlayedDocument);W!=null&&j.push(new Jr(Z.key,W,h2(W.value.mapValue),en.exists(!0)))}return l.mutationQueue.addMutationBatch(v,c,j,a)}).next(S=>{m=S;let j=S.applyToLocalDocumentSet(h,A);return l.documentOverlayCache.saveOverlays(v,S.batchId,j)})}).then(()=>({batchId:m.batchId,changes:E2(h)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new Ft(Be)),c=c.insert(a,l),o.Ba[o.currentUser.toKey()]=c}(i,r.batchId,t),yield ko(i,r.changes),yield kd(i.remoteStore)}catch(r){let s=Ld(r,"Failed to persist write");t.reject(s)}})}function mF(n,e){return F(this,null,function*(){let t=fe(n);try{let i=yield j7(t.localStore,e);e.targetChanges.forEach((r,s)=>{let o=t.Na.get(s);o&&(Ie(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.va=!0:r.modifiedDocuments.size>0?Ie(o.va):r.removedDocuments.size>0&&(Ie(o.va),o.va=!1))}),yield ko(t,i,e)}catch(i){yield Qa(i)}})}function zk(n,e,t){let i=fe(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){let r=[];i.Fa.forEach((s,o)=>{let a=o.view.Z_(e);a.snapshot&&r.push(a.snapshot)}),function(o,a){let l=fe(o);l.onlineState=a;let c=!1;l.queries.forEach((d,h)=>{for(let m of h.j_)m.Z_(a)&&(c=!0)}),c&&YT(l)}(i.eventManager,e),r.length&&i.Ca.d_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function cq(n,e,t){return F(this,null,function*(){let i=fe(n);i.sharedClientState.updateQueryState(e,"rejected",t);let r=i.Na.get(e),s=r&&r.key;if(s){let o=new Ft(pe.comparator);o=o.insert(s,vn.newNoDocument(s,Me.min()));let a=He().add(s),l=new Jf(Me.min(),new Map,new Ft(Be),o,a);yield mF(i,l),i.Oa=i.Oa.remove(s),i.Na.delete(e),tD(i)}else yield Td(i.localStore,e,!1).then(()=>Md(i,e,t)).catch(Qa)})}function uq(n,e){return F(this,null,function*(){let t=fe(n),i=e.batch.batchId;try{let r=yield U7(t.localStore,e);eD(t,i,null),XT(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield ko(t,r)}catch(r){yield Qa(r)}})}function dq(n,e,t){return F(this,null,function*(){let i=fe(n);try{let r=yield function(o,a){let l=fe(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(Ie(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(i.localStore,e);eD(i,e,t),XT(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield ko(i,r)}catch(r){yield Qa(r)}})}function hq(n,e){return F(this,null,function*(){let t=fe(n);Ya(t.remoteStore)||ne("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{let i=yield function(o){let a=fe(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(t.localStore);if(i===-1)return void e.resolve();let r=t.ka.get(i)||[];r.push(e),t.ka.set(i,r)}catch(i){let r=Ld(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}})}function XT(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function eD(n,e,t){let i=fe(n),r=i.Ba[i.currentUser.toKey()];if(r){let s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.Ba[i.currentUser.toKey()]=r}}function Md(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let i of n.Ma.get(e))n.Fa.delete(i),t&&n.Ca.$a(i,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(i=>{n.La.containsKey(i)||_F(n,i)})}function _F(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(Dd(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),tD(n))}function dT(n,e,t){for(let i of t)i instanceof _y?(n.La.addReference(i.key,e),fq(n,i)):i instanceof yy?(ne("SyncEngine","Document no longer in limbo: "+i.key),n.La.removeReference(i.key,e),n.La.containsKey(i.key)||_F(n,i.key)):ye()}function fq(n,e){let t=e.key,i=t.path.canonicalString();n.Oa.get(t)||n.xa.has(i)||(ne("SyncEngine","New document in limbo: "+t),n.xa.add(i),tD(n))}function tD(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new pe(at.fromString(e)),i=n.qa.next();n.Na.set(i,new cT(t)),n.Oa=n.Oa.insert(t,i),Oy(n.remoteStore,new Cd(bi(Nd(t.path)),i,"TargetPurposeLimboResolution",Zi.oe))}}function ko(n,e,t){return F(this,null,function*(){let i=fe(n),r=[],s=[],o=[];i.Fa.isEmpty()||(i.Fa.forEach((a,l)=>{o.push(i.Ka(l,e,t).then(c=>{var d;if((c||t)&&i.isPrimaryClient){let h=c?!c.fromCache:(d=t?.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;i.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){r.push(c);let h=$I.Wi(l.targetId,c);s.push(h)}}))}),yield Promise.all(o),i.Ca.d_(r),yield function(l,c){return F(this,null,function*(){let d=fe(l);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>$.forEach(c,m=>$.forEach(m.$i,v=>d.persistence.referenceDelegate.addReference(h,m.targetId,v)).next(()=>$.forEach(m.Ui,v=>d.persistence.referenceDelegate.removeReference(h,m.targetId,v)))))}catch(h){if(!Za(h))throw h;ne("LocalStore","Failed to update sequence numbers: "+h)}for(let h of c){let m=h.targetId;if(!h.fromCache){let v=d.os.get(m),b=v.snapshotVersion,A=v.withLastLimboFreeSnapshotVersion(b);d.os=d.os.insert(m,A)}}})}(i.localStore,s))})}function pq(n,e){return F(this,null,function*(){let t=fe(n);if(!t.currentUser.isEqual(e)){ne("SyncEngine","User change. New user:",e.toKey());let i=yield nF(t.localStore,e);t.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new X(q.CANCELLED,o))})}),s.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield ko(t,i.hs)}})}function gq(n,e){let t=fe(n),i=t.Na.get(e);if(i&&i.va)return He().add(i.key);{let r=He(),s=t.Ma.get(e);if(!s)return r;for(let o of s){let a=t.Fa.get(o);r=r.unionWith(a.view.Va)}return r}}function mq(n,e){return F(this,null,function*(){let t=fe(n),i=yield ay(t.localStore,e.query,!0),r=e.view.ba(i);return t.isPrimaryClient&&dT(t,e.targetId,r.wa),r})}function _q(n,e){return F(this,null,function*(){let t=fe(n);return oF(t.localStore,e).then(i=>ko(t,i))})}function yq(n,e,t,i){return F(this,null,function*(){let r=fe(n),s=yield function(a,l){let c=fe(a),d=fe(c.mutationQueue);return c.persistence.runTransaction("Lookup mutation documents","readonly",h=>d.Mn(h,l).next(m=>m?c.localDocuments.getDocuments(h,m):$.resolve(null)))}(r.localStore,e);s!==null?(t==="pending"?yield kd(r.remoteStore):t==="acknowledged"||t==="rejected"?(eD(r,e,i||null),XT(r,e),function(a,l){fe(fe(a).mutationQueue).On(l)}(r.localStore,e)):ye(),yield ko(r,s)):ne("SyncEngine","Cannot apply mutation batch with id: "+e)})}function vq(n,e){return F(this,null,function*(){let t=fe(n);if(Ny(t),nD(t),e===!0&&t.Qa!==!0){let i=t.sharedClientState.getAllActiveQueryTargets(),r=yield $k(t,i.toArray());t.Qa=!0,yield tT(t.remoteStore,!0);for(let s of r)Oy(t.remoteStore,s)}else if(e===!1&&t.Qa!==!1){let i=[],r=Promise.resolve();t.Ma.forEach((s,o)=>{t.sharedClientState.isLocalQueryTarget(o)?i.push(o):r=r.then(()=>(Md(t,o),Td(t.localStore,o,!0))),Dd(t.remoteStore,o)}),yield r,yield $k(t,i),function(o){let a=fe(o);a.Na.forEach((l,c)=>{Dd(a.remoteStore,c)}),a.La.pr(),a.Na=new Map,a.Oa=new Ft(pe.comparator)}(t),t.Qa=!1,yield tT(t.remoteStore,!1)}})}function $k(n,e,t){return F(this,null,function*(){let i=fe(n),r=[],s=[];for(let o of e){let a,l=i.Ma.get(o);if(l&&l.length!==0){a=yield Id(i.localStore,bi(l[0]));for(let c of l){let d=i.Fa.get(c),h=yield mq(i,d);h.snapshot&&s.push(h.snapshot)}}else{let c=yield sF(i.localStore,o);a=yield Id(i.localStore,c),yield JT(i,yF(c),o,!1,a.resumeToken)}r.push(a)}return i.Ca.d_(s),r})}function yF(n){return y2(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function wq(n){return function(t){return fe(fe(t).persistence).Qi()}(fe(n).localStore)}function bq(n,e,t,i){return F(this,null,function*(){let r=fe(n);if(r.Qa)return void ne("SyncEngine","Ignoring unexpected query state notification.");let s=r.Ma.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{let o=yield oF(r.localStore,w2(s[0])),a=Jf.createSynthesizedRemoteEventForCurrentChange(e,t==="current",an.EMPTY_BYTE_STRING);yield ko(r,o,a);break}case"rejected":yield Td(r.localStore,e,!0),Md(r,e,i);break;default:ye()}})}function Cq(n,e,t){return F(this,null,function*(){let i=Ny(n);if(i.Qa){for(let r of e){if(i.Ma.has(r)&&i.sharedClientState.isActiveQueryTarget(r)){ne("SyncEngine","Adding an already active target "+r);continue}let s=yield sF(i.localStore,r),o=yield Id(i.localStore,s);yield JT(i,yF(s),o.targetId,!1,o.resumeToken),Oy(i.remoteStore,o)}for(let r of t)i.Ma.has(r)&&(yield Td(i.localStore,r,!1).then(()=>{Dd(i.remoteStore,r),Md(i,r)}).catch(Qa))}})}function Ny(n){let e=fe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=mF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cq.bind(null,e),e.Ca.d_=nq.bind(null,e.eventManager),e.Ca.$a=iq.bind(null,e.eventManager),e}function nD(n){let e=fe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dq.bind(null,e),e}function Eq(n,e,t){let i=fe(n);(function(s,o,a){return F(this,null,function*(){try{let l=yield o.getMetadata();if(yield function(v,b){let A=fe(v),S=on(b.createTime);return A.persistence.runTransaction("hasNewerBundle","readonly",j=>A.Gr.getBundleMetadata(j,b.id)).then(j=>!!j&&j.createTime.compareTo(S)>=0)}(s.localStore,l))return yield o.close(),a._completeWith(function(v){return{taskState:"Success",documentsLoaded:v.totalDocuments,bytesLoaded:v.totalBytes,totalDocuments:v.totalDocuments,totalBytes:v.totalBytes}}(l)),Promise.resolve(new Set);a._updateProgress(pF(l));let c=new aT(l,s.localStore,o.serializer),d=yield o.Ua();for(;d;){let m=yield c.la(d);m&&a._updateProgress(m),d=yield o.Ua()}let h=yield c.complete();return yield ko(s,h.Ia,void 0),yield function(v,b){let A=fe(v);return A.persistence.runTransaction("Save bundle","readwrite",S=>A.Gr.saveBundleMetadata(S,b))}(s.localStore,l),a._completeWith(h.progress),Promise.resolve(h.Pa)}catch(l){return wr("SyncEngine",`Loading bundle failed with ${l}`),a._failWith(l),Promise.resolve(new Set)}})})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}var ap=class{constructor(){this.synchronizeTabs=!1}initialize(e){return F(this,null,function*(){this.serializer=mp(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return tF(this.persistence,new oy,e.initialUser,this.serializer)}createPersistence(e){return new ry(sy.Zr,this.serializer)}createSharedClientState(e){return new uy}terminate(){return F(this,null,function*(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var wy=class n extends ap{constructor(e,t,i){super(),this.Wa=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){return F(this,null,function*(){yield kw(n.prototype,this,"initialize").call(this,e),yield this.Wa.initialize(this,e),yield nD(this.Wa.syncEngine),yield kd(this.Wa.remoteStore),yield this.persistence.yi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))})}createLocalStore(e){return tF(this.persistence,new oy,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){let i=this.persistence.referenceDelegate.garbageCollector;return new SI(i,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){let i=new HE(t,this.persistence);return new $E(e.asyncQueue,i)}createPersistence(e){let t=GT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?vr.withCacheSize(this.cacheSizeBytes):vr.DEFAULT;return new zI(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,lF(),O_(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new uy}},hT=class n extends wy{constructor(e,t){super(e,t,!1),this.Wa=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){return F(this,null,function*(){yield kw(n.prototype,this,"initialize").call(this,e);let t=this.Wa.syncEngine;this.sharedClientState instanceof zf&&(this.sharedClientState.syncEngine={no:yq.bind(null,t),ro:bq.bind(null,t),io:Cq.bind(null,t),Qi:wq.bind(null,t),eo:_q.bind(null,t)},yield this.sharedClientState.start()),yield this.persistence.yi(i=>F(this,null,function*(){yield vq(this.Wa.syncEngine,i),this.gcScheduler&&(i&&!this.gcScheduler.started?this.gcScheduler.start():i||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(i&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():i||this.indexBackfillerScheduler.stop())}))})}createSharedClientState(e){let t=lF();if(!zf.D(t))throw new X(q.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");let i=GT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new zf(t,e.asyncQueue,i,e.clientId,e.initialUser)}},lp=class{initialize(e,t){return F(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>zk(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=pq.bind(null,this.syncEngine),yield tT(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new rT}()}createDatastore(e){let t=mp(e.databaseInfo.databaseId),i=function(s){return new QI(s)}(e.databaseInfo);return function(s,o,a,l){return new JI(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,r,s,o,a){return new eT(i,r,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,t=>zk(this.syncEngine,t,0),function(){return dy.D()?new dy:new WI}())}createSyncEngine(e,t){return function(r,s,o,a,l,c,d){let h=new uT(r,s,o,a,l,c);return d&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return F(this,null,function*(){var e,t;yield function(r){return F(this,null,function*(){let s=fe(r);ne("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield Pd(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()})}};function Hk(n,e=10240){let t=0;return{read(){return F(this,null,function*(){if(t<n.byteLength){let r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})},cancel(){return F(this,null,function*(){})},releaseLock(){},closed:Promise.resolve()}}var Ad=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):rn("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}};var fT=class{constructor(e,t){this.ja=e,this.serializer=t,this.metadata=new yn,this.buffer=new Uint8Array,this.Ha=function(){return new TextDecoder("utf-8")}(),this.Ja().then(i=>{i&&i.ua()?this.metadata.resolve(i.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(i?.aa)}`))},i=>this.metadata.reject(i))}close(){return this.ja.cancel()}getMetadata(){return F(this,null,function*(){return this.metadata.promise})}Ua(){return F(this,null,function*(){return yield this.getMetadata(),this.Ja()})}Ja(){return F(this,null,function*(){let e=yield this.Ya();if(e===null)return null;let t=this.Ha.decode(e),i=Number(t);isNaN(i)&&this.Za(`length string (${t}) is not valid number`);let r=yield this.Xa(i);return new oT(JSON.parse(r),e.length+i)})}eu(){return this.buffer.findIndex(e=>e===123)}Ya(){return F(this,null,function*(){for(;this.eu()<0&&!(yield this.tu()););if(this.buffer.length===0)return null;let e=this.eu();e<0&&this.Za("Reached the end of bundle when a length string is expected.");let t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t})}Xa(e){return F(this,null,function*(){for(;this.buffer.length<e;)(yield this.tu())&&this.Za("Reached the end of bundle when more is expected.");let t=this.Ha.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t})}Za(e){throw this.ja.cancel(),new Error(`Invalid bundle format: ${e}`)}tu(){return F(this,null,function*(){let e=yield this.ja.read();if(!e.done){let t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done})}};var pT=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){return F(this,null,function*(){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new X(q.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;let t=yield function(r,s){return F(this,null,function*(){let o=fe(r),a={documents:s.map(h=>ep(o.serializer,h))},l=yield o.Lo("BatchGetDocuments",o.serializer.databaseId,at.emptyPath(),a,s.length),c=new Map;l.forEach(h=>{let m=M7(o.serializer,h);c.set(m.key.toString(),m)});let d=[];return s.forEach(h=>{let m=c.get(h.toString());Ie(!!m),d.push(m)}),d})}(this.datastore,e);return t.forEach(i=>this.recordVersion(i)),t})}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastTransactionError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new Wa(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){return F(this,null,function*(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;let e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,i)=>{let r=pe.fromPath(i);this.mutations.push(new Qf(r,this.precondition(r)))}),yield function(i,r){return F(this,null,function*(){let s=fe(i),o={writes:r.map(a=>tp(s.serializer,a))};yield s.Mo("Commit",s.serializer.databaseId,at.emptyPath(),o)})}(this.datastore,this.mutations),this.committed=!0})}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ye();t=Me.min()}let i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new X(q.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){let t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Me.min())?en.exists(!1):en.updateTime(t):en.none()}preconditionForUpdate(e){let t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Me.min()))throw new X(q.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return en.updateTime(t)}return en.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};var gT=class{constructor(e,t,i,r,s){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=s,this.nu=i.maxAttempts,this.t_=new sp(this.asyncQueue,"transaction_retry")}ru(){this.nu-=1,this.iu()}iu(){this.t_.Go(()=>F(this,null,function*(){let e=new pT(this.datastore),t=this.su(e);t&&t.then(i=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(i)}).catch(r=>{this.ou(r)}))}).catch(i=>{this.ou(i)})}))}su(e){try{let t=this.updateFunction(e);return!hp(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}ou(e){this.nu>0&&this._u(e)?(this.nu-=1,this.asyncQueue.enqueueAndForget(()=>(this.iu(),Promise.resolve()))):this.deferred.reject(e)}_u(e){if(e.name==="FirebaseError"){let t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!N2(t)}return!1}};var mT=class{constructor(e,t,i,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=_n.UNAUTHENTICATED,this.clientId=k_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,s=>F(this,null,function*(){ne("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(i,s=>(ne("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new X(q.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new yn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>F(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let i=Ld(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}};function N_(n,e){return F(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),ne("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(r=>F(this,null,function*(){i.isEqual(r)||(yield nF(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function _T(n,e){return F(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield iD(n);ne("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>Bk(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>Bk(e.remoteStore,r)),n._onlineComponents=e})}function vF(n){return n.name==="FirebaseError"?n.code===q.FAILED_PRECONDITION||n.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||n.code===22||n.code===20||n.code===11}function iD(n){return F(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ne("FirestoreClient","Using user provided OfflineComponentProvider");try{yield N_(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!vF(t))throw t;wr("Error using user provided cache. Falling back to memory cache: "+t),yield N_(n,new ap)}}else ne("FirestoreClient","Using default OfflineComponentProvider"),yield N_(n,new ap);return n._offlineComponents})}function Py(n){return F(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(ne("FirestoreClient","Using user provided OnlineComponentProvider"),yield _T(n,n._uninitializedComponentsProvider._online)):(ne("FirestoreClient","Using default OnlineComponentProvider"),yield _T(n,new lp))),n._onlineComponents})}function wF(n){return iD(n).then(e=>e.persistence)}function rD(n){return iD(n).then(e=>e.localStore)}function bF(n){return Py(n).then(e=>e.remoteStore)}function sD(n){return Py(n).then(e=>e.syncEngine)}function Iq(n){return Py(n).then(e=>e.datastore)}function xd(n){return F(this,null,function*(){let e=yield Py(n),t=e.eventManager;return t.onListen=rq.bind(null,e.syncEngine),t.onUnlisten=oq.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=sq.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=aq.bind(null,e.syncEngine),t})}function Tq(n){return n.asyncQueue.enqueue(()=>F(this,null,function*(){let e=yield wF(n),t=yield bF(n);return e.setNetworkEnabled(!0),function(r){let s=fe(r);return s.L_.delete(0),_p(s)}(t)}))}function Dq(n){return n.asyncQueue.enqueue(()=>F(this,null,function*(){let e=yield wF(n),t=yield bF(n);return e.setNetworkEnabled(!1),function(r){return F(this,null,function*(){let s=fe(r);s.L_.add(0),yield Pd(s),s.q_.set("Offline")})}(t)}))}function Sq(n,e){let t=new yn;return n.asyncQueue.enqueueAndForget(()=>F(this,null,function*(){return function(r,s,o){return F(this,null,function*(){try{let a=yield function(c,d){let h=fe(c);return h.persistence.runTransaction("read document","readonly",m=>h.localDocuments.getDocument(m,d))}(r,s);a.isFoundDocument()?o.resolve(a):a.isNoDocument()?o.resolve(null):o.reject(new X(q.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){let l=Ld(a,`Failed to get document '${s} from cache`);o.reject(l)}})}(yield rD(n),e,t)})),t.promise}function CF(n,e,t={}){let i=new yn;return n.asyncQueue.enqueueAndForget(()=>F(this,null,function*(){return function(s,o,a,l,c){let d=new Ad({next:m=>{o.enqueueAndForget(()=>ZT(s,h));let v=m.docs.has(a);!v&&m.fromCache?c.reject(new X(q.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&m.fromCache&&l&&l.source==="server"?c.reject(new X(q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(m)},error:m=>c.reject(m)}),h=new op(Nd(a.path),d,{includeMetadataChanges:!0,_a:!0});return QT(s,h)}(yield xd(n),n.asyncQueue,e,t,i)})),i.promise}function Mq(n,e){let t=new yn;return n.asyncQueue.enqueueAndForget(()=>F(this,null,function*(){return function(r,s,o){return F(this,null,function*(){try{let a=yield ay(r,s,!0),l=new vy(s,a.Ts),c=l.ma(a.documents),d=l.applyChanges(c,!1);o.resolve(d.snapshot)}catch(a){let l=Ld(a,`Failed to execute query '${s} against cache`);o.reject(l)}})}(yield rD(n),e,t)})),t.promise}function EF(n,e,t={}){let i=new yn;return n.asyncQueue.enqueueAndForget(()=>F(this,null,function*(){return function(s,o,a,l,c){let d=new Ad({next:m=>{o.enqueueAndForget(()=>ZT(s,h)),m.fromCache&&l.source==="server"?c.reject(new X(q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(m)},error:m=>c.reject(m)}),h=new op(a,d,{includeMetadataChanges:!0,_a:!0});return QT(s,h)}(yield xd(n),n.asyncQueue,e,t,i)})),i.promise}function Aq(n,e){let t=new Ad(e);return n.asyncQueue.enqueueAndForget(()=>F(this,null,function*(){return function(r,s){fe(r).Y_.add(s),s.next()}(yield xd(n),t)})),()=>{t.za(),n.asyncQueue.enqueueAndForget(()=>F(this,null,function*(){return function(r,s){fe(r).Y_.delete(s)}(yield xd(n),t)}))}}function xq(n,e,t,i){let r=function(o,a){let l;return l=typeof o=="string"?k2().encode(o):o,function(d,h){return new fT(d,h)}(function(d,h){if(d instanceof Uint8Array)return Hk(d,h);if(d instanceof ArrayBuffer)return Hk(new Uint8Array(d),h);if(d instanceof ReadableStream)return d.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),a)}(t,mp(e));n.asyncQueue.enqueueAndForget(()=>F(this,null,function*(){Eq(yield sD(n),r,i)}))}function Rq(n,e){return n.asyncQueue.enqueue(()=>F(this,null,function*(){return function(i,r){let s=fe(i);return s.persistence.runTransaction("Get named query","readonly",o=>s.Gr.getNamedQuery(o,r))}(yield rD(n),e)}))}function IF(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var Gk=new Map;function oD(n,e,t){if(!t)throw new X(q.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function aD(n,e,t,i){if(e===!0&&i===!0)throw new X(q.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function qk(n){if(!pe.isDocumentKey(n))throw new X(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Wk(n){if(pe.isDocumentKey(n))throw new X(q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ky(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ye()}function lt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new X(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=ky(n);throw new X(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function TF(n,e){if(e<=0)throw new X(q.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}var by=class{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new X(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new X(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}aD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=IF((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new X(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new X(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new X(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},mc=class{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new by({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new X(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new X(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new by(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new NE;switch(i.type){case"firstParty":return new LE(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new X(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let i=Gk.get(t);i&&(ne("ComponentProvider","Removing Datastore"),Gk.delete(t),i.terminate())}(this),Promise.resolve()}};function DF(n,e,t,i={}){var r;let s=(n=lt(n,mc))._getSettings(),o=`${e}:${t}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&wr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let a,l;if(typeof i.mockUserToken=="string")a=i.mockUserToken,l=_n.MOCK_USER;else{a=Wg(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);let c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new X(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new _n(c)}n._authCredentials=new PE(new P_(a,l))}}var Wn=class n{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Ot=class n{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},Fs=class n extends Wn{constructor(e,t,i){super(e,t,Nd(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Ot(this.firestore,null,new pe(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function lD(n,e,...t){if(n=tt(n),oD("collection","path",e),n instanceof mc){let i=at.fromString(e,...t);return Wk(i),new Fs(n,null,i)}{if(!(n instanceof Ot||n instanceof Fs))throw new X(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=n._path.child(at.fromString(e,...t));return Wk(i),new Fs(n.firestore,null,i)}}function SF(n,e){if(n=lt(n,mc),oD("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new X(q.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Wn(n,null,function(i){return new Yr(at.emptyPath(),i)}(e))}function yp(n,e,...t){if(n=tt(n),arguments.length===1&&(e=k_.newId()),oD("doc","path",e),n instanceof mc){let i=at.fromString(e,...t);return qk(i),new Ot(n,null,new pe(i))}{if(!(n instanceof Ot||n instanceof Fs))throw new X(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=n._path.child(at.fromString(e,...t));return qk(i),new Ot(n.firestore,n instanceof Fs?n.converter:null,new pe(i))}}function cD(n,e){return n=tt(n),e=tt(e),(n instanceof Ot||n instanceof Fs)&&(e instanceof Ot||e instanceof Fs)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function uD(n,e){return n=tt(n),e=tt(e),n instanceof Wn&&e instanceof Wn&&n.firestore===e.firestore&&pp(n._query,e._query)&&n.converter===e.converter}var yT=class{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new sp(this,"async_queue_retry"),this.Eu=()=>{let t=O_();t&&ne("AsyncQueue","Visibility state changed to "+t.visibilityState),this.t_.jo()};let e=O_();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;let t=O_();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});let t=new yn;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){return F(this,null,function*(){if(this.uu.length!==0){try{yield this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!Za(e))throw e;ne("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}})}Au(e){let t=this.au.then(()=>(this.Pu=!0,e().catch(i=>{this.hu=i,this.Pu=!1;let r=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i);throw rn("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.Pu=!1,i))));return this.au=t,t}enqueueAfterDelay(e,t,i){this.du(),this.Tu.indexOf(e)>-1&&(t=0);let r=nT.createAndSchedule(this,e,t,i,s=>this.Vu(s));return this.lu.push(r),r}du(){this.hu&&ye()}verifyOperationInProgress(){}mu(){return F(this,null,function*(){let e;do e=this.au,yield e;while(e!==this.au)})}fu(e){for(let t of this.lu)if(t.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(let t of this.lu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){let t=this.lu.indexOf(e);this.lu.splice(t,1)}};function vT(n){return function(t,i){if(typeof t!="object"||t===null)return!1;let r=t;for(let s of i)if(s in r&&typeof r[s]=="function")return!0;return!1}(n,["next","error","complete"])}var wT=class{constructor(){this._progressObserver={},this._taskCompletionResolver=new yn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}};var MF=-1,$t=class extends mc{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=function(){return new yT}(),this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||AF(this),this._firestoreClient.terminate()}};function An(n){return n._firestoreClient||AF(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function AF(n){var e,t,i;let r=n._freezeSettings(),s=function(a,l,c,d){return new GE(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,IF(d.experimentalLongPollingOptions),d.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,r);n._firestoreClient=new mT(n._authCredentials,n._appCheckCredentials,n._queue,s),!((t=r.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}function xF(n,e){BF(n=lt(n,$t));let t=An(n);if(t._uninitializedComponentsProvider)throw new X(q.FAILED_PRECONDITION,"SDK cache is already specified.");wr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let i=n._freezeSettings(),r=new lp;return OF(t,r,new wy(r,i.cacheSizeBytes,e?.forceOwnership))}function RF(n){BF(n=lt(n,$t));let e=An(n);if(e._uninitializedComponentsProvider)throw new X(q.FAILED_PRECONDITION,"SDK cache is already specified.");wr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let t=n._freezeSettings(),i=new lp;return OF(e,i,new hT(i,t.cacheSizeBytes))}function OF(n,e,t){let i=new yn;return n.asyncQueue.enqueue(()=>F(this,null,function*(){try{yield N_(n,t),yield _T(n,e),i.resolve()}catch(r){let s=r;if(!vF(s))throw s;wr("Error enabling indexeddb cache. Falling back to memory cache: "+s),i.reject(s)}})).then(()=>i.promise)}function NF(n){if(n._initialized&&!n._terminated)throw new X(q.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");let e=new yn;return n._queue.enqueueAndForgetEvenWhileRestricted(()=>F(this,null,function*(){try{yield function(i){return F(this,null,function*(){if(!Ua.D())return Promise.resolve();let r=i+"main";yield Ua.delete(r)})}(GT(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}})),e.promise}function PF(n){return function(t){let i=new yn;return t.asyncQueue.enqueueAndForget(()=>F(this,null,function*(){return hq(yield sD(t),i)})),i.promise}(An(n=lt(n,$t)))}function kF(n){return Tq(An(n=lt(n,$t)))}function FF(n){return Dq(An(n=lt(n,$t)))}function LF(n,e){let t=An(n=lt(n,$t)),i=new wT;return xq(t,n._databaseId,e,i),i}function VF(n,e){return Rq(An(n=lt(n,$t)),e).then(t=>t?new Wn(n,null,t.query):null)}function BF(n){if(n._initialized||n._terminated)throw new X(q.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Us=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(an.fromBase64String(e))}catch(t){throw new X(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(an.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Xr=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new X(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var No=class{constructor(e){this._methodName=e}};var _c=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new X(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new X(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}};var cp=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,e._values)}};var Oq=/^__.*__$/,bT=class{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Jr(e,this.data,this.fieldMask,t,this.fieldTransforms):new qa(e,this.data,t,this.fieldTransforms)}},Cy=class{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Jr(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function UF(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye()}}var Ey=class n{constructor(e,t,i,r,s,o){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.yu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var t;let i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.Su({path:i,Du:!1});return r.vu(e),r}Cu(e){var t;let i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.Su({path:i,Du:!1});return r.yu(),r}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return Iy(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(UF(this.wu)&&Oq.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}},CT=class{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||mp(e)}Nu(e,t,i,r=!1){return new Ey({wu:e,methodName:t,Ou:i,path:sn.emptyPath(),Du:!1,xu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function bc(n){let e=n._freezeSettings(),t=mp(n._databaseId);return new CT(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Fy(n,e,t,i,r,s={}){let o=n.Nu(s.merge||s.mergeFields?2:0,e,t,r);fD("Data must be an object, but it was:",o,i);let a=$F(i,o),l,c;if(s.merge)l=new Yi(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){let d=[];for(let h of s.mergeFields){let m=ST(e,h,t);if(!o.contains(m))throw new X(q.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);GF(d,m)||d.push(m)}l=new Yi(d),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new bT(new oi(a),l,c)}var up=class n extends No{_toFieldTransform(e){if(e.wu!==2)throw e.wu===1?e.Mu(`${this._methodName}() can only appear at the top level of your update data`):e.Mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function jF(n,e,t){return new Ey({wu:3,Ou:e.settings.Ou,methodName:n._methodName,Du:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}var ET=class n extends No{_toFieldTransform(e){return new fc(e.path,new Ha)}isEqual(e){return e instanceof n}},IT=class n extends No{constructor(e,t){super(e),this.Lu=t}_toFieldTransform(e){let t=jF(this,e,!0),i=this.Lu.map(s=>Cc(s,t)),r=new Ro(i);return new fc(e.path,r)}isEqual(e){return e instanceof n&&qh(this.Lu,e.Lu)}},TT=class n extends No{constructor(e,t){super(e),this.Lu=t}_toFieldTransform(e){let t=jF(this,e,!0),i=this.Lu.map(s=>Cc(s,t)),r=new Oo(i);return new fc(e.path,r)}isEqual(e){return e instanceof n&&qh(this.Lu,e.Lu)}},DT=class n extends No{constructor(e,t){super(e),this.Bu=t}_toFieldTransform(e){let t=new Ga(e.serializer,D2(e.serializer,this.Bu));return new fc(e.path,t)}isEqual(e){return e instanceof n&&this.Bu===e.Bu}};function dD(n,e,t,i){let r=n.Nu(1,e,t);fD("Data must be an object, but it was:",r,i);let s=[],o=oi.empty();wc(i,(l,c)=>{let d=pD(e,l,t);c=tt(c);let h=r.Cu(d);if(c instanceof up)s.push(d);else{let m=Cc(c,h);m!=null&&(s.push(d),o.set(d,m))}});let a=new Yi(s);return new Cy(o,a,r.fieldTransforms)}function hD(n,e,t,i,r,s){let o=n.Nu(1,e,t),a=[ST(e,i,t)],l=[r];if(s.length%2!=0)throw new X(q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)a.push(ST(e,s[m])),l.push(s[m+1]);let c=[],d=oi.empty();for(let m=a.length-1;m>=0;--m)if(!GF(c,a[m])){let v=a[m],b=l[m];b=tt(b);let A=o.Cu(v);if(b instanceof up)c.push(v);else{let S=Cc(b,A);S!=null&&(c.push(v),d.set(v,S))}}let h=new Yi(c);return new Cy(d,h,o.fieldTransforms)}function zF(n,e,t,i=!1){return Cc(t,n.Nu(i?4:3,e))}function Cc(n,e){if(HF(n=tt(n)))return fD("Unsupported field value:",e,n),$F(n,e);if(n instanceof No)return function(i,r){if(!UF(r.wu))throw r.Mu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Mu(`${i._methodName}() is not currently supported inside arrays`);let s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(i,r){let s=[],o=0;for(let a of i){let l=Cc(a,r.Fu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(n,e)}return function(i,r){if((i=tt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return D2(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let s=Zt.fromDate(i);return{timestampValue:bd(r.serializer,s)}}if(i instanceof Zt){let s=new Zt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:bd(r.serializer,s)}}if(i instanceof _c)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Us)return{bytesValue:F2(r.serializer,i._byteString)};if(i instanceof Ot){let s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:zT(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof cp)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Mu("VectorValues must only contain numeric values.");return jT(a.serializer,l)})}}}}}}(i,r);throw r.Mu(`Unsupported field value: ${ky(i)}`)}(n,e)}function $F(n,e){let t={};return l2(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wc(n,(i,r)=>{let s=Cc(r,e.bu(i));s!=null&&(t[i]=s)}),{mapValue:{fields:t}}}function HF(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Zt||n instanceof _c||n instanceof Us||n instanceof Ot||n instanceof No||n instanceof cp)}function fD(n,e,t){if(!HF(t)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(t)){let i=ky(t);throw i==="an object"?e.Mu(n+" a custom object"):e.Mu(n+" "+i)}}function ST(n,e,t){if((e=tt(e))instanceof Xr)return e._internalPath;if(typeof e=="string")return pD(n,e);throw Iy("Field path arguments must be of type string or ",n,!1,void 0,t)}var Nq=new RegExp("[~\\*/\\[\\]]");function pD(n,e,t){if(e.search(Nq)>=0)throw Iy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Xr(...e.split("."))._internalPath}catch{throw Iy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Iy(n,e,t,i,r){let s=i&&!i.isEmpty(),o=r!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new X(q.INVALID_ARGUMENT,a+n+l)}function GF(n,e){return n.some(t=>t.isEqual(e))}var yc=class{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new MT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(Ly("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},MT=class extends yc{data(){return super.data()}};function Ly(n,e){return typeof e=="string"?pD(n,e):e instanceof Xr?e._internalPath:e._delegate._internalPath}function qF(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new X(q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var dp=class{},vc=class extends dp{};function Fo(n,e,...t){let i=[];e instanceof dp&&i.push(e),i=i.concat(t),function(s){let o=s.filter(l=>l instanceof AT).length,a=s.filter(l=>l instanceof Ty).length;if(o>1||o>0&&a>0)throw new X(q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(let r of i)n=r._apply(n);return n}var Ty=class n extends vc{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new n(e,t,i)}_apply(e){let t=this._parse(e);return nL(e._query,t),new Wn(e.firestore,e.converter,rI(e._query,t))}_parse(e){let t=bc(e.firestore);return function(s,o,a,l,c,d,h){let m;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new X(q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){Qk(h,d);let v=[];for(let b of h)v.push(Kk(l,s,b));m={arrayValue:{values:v}}}else m=Kk(l,s,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||Qk(h,d),m=zF(a,o,h,d==="in"||d==="not-in");return et.create(c,d,m)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function WF(n,e,t){let i=e,r=Ly("where",n);return Ty._create(r,i,t)}var AT=class n extends dp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:bt.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(r,s){let o=r,a=s.getFlattenedFilters();for(let l of a)nL(o,l),o=rI(o,l)}(e._query,t),new Wn(e.firestore,e.converter,rI(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var xT=class n extends vc{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n(e,t)}_apply(e){let t=function(r,s,o){if(r.startAt!==null)throw new X(q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new X(q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new dc(s,o)}(e._query,this._field,this._direction);return new Wn(e.firestore,e.converter,function(r,s){let o=r.explicitOrderBy.concat([s]);return new Yr(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}};function KF(n,e="asc"){let t=e,i=Ly("orderBy",n);return xT._create(i,t)}var Dy=class n extends vc{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new n(e,t,i)}_apply(e){return new Wn(e.firestore,e.converter,G_(e._query,this._limit,this._limitType))}};function QF(n){return TF("limit",n),Dy._create("limit",n,"F")}function ZF(n){return TF("limitToLast",n),Dy._create("limitToLast",n,"L")}var Sy=class n extends vc{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new n(e,t,i)}_apply(e){let t=tL(e,this.type,this._docOrFields,this._inclusive);return new Wn(e.firestore,e.converter,function(r,s){return new Yr(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,s,r.endAt)}(e._query,t))}};function YF(...n){return Sy._create("startAt",n,!0)}function JF(...n){return Sy._create("startAfter",n,!1)}var My=class n extends vc{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new n(e,t,i)}_apply(e){let t=tL(e,this.type,this._docOrFields,this._inclusive);return new Wn(e.firestore,e.converter,function(r,s){return new Yr(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,s)}(e._query,t))}};function XF(...n){return My._create("endBefore",n,!1)}function eL(...n){return My._create("endAt",n,!0)}function tL(n,e,t,i){if(t[0]=tt(t[0]),t[0]instanceof yc)return function(s,o,a,l,c){if(!l)throw new X(q.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);let d=[];for(let h of fd(s))if(h.field.isKeyField())d.push(uc(o,l.key));else{let m=l.data.field(h.field);if(xy(m))throw new X(q.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+h.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(m===null){let v=h.field.canonicalString();throw new X(q.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${v}' (used as the orderBy) does not exist.`)}d.push(m)}return new Vs(d,c)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{let r=bc(n.firestore);return function(o,a,l,c,d,h){let m=o.explicitOrderBy;if(d.length>m.length)throw new X(q.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);let v=[];for(let b=0;b<d.length;b++){let A=d[b];if(m[b].field.isKeyField()){if(typeof A!="string")throw new X(q.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof A}`);if(!BT(o)&&A.indexOf("/")!==-1)throw new X(q.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${A}' contains a slash.`);let S=o.path.child(at.fromString(A));if(!pe.isDocumentKey(S))throw new X(q.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${S}' is not because it contains an odd number of segments.`);let j=new pe(S);v.push(uc(a,j))}else{let S=zF(l,c,A);v.push(S)}}return new Vs(v,h)}(n._query,n.firestore._databaseId,r,e,t,i)}}function Kk(n,e,t){if(typeof(t=tt(t))=="string"){if(t==="")throw new X(q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!BT(e)&&t.indexOf("/")!==-1)throw new X(q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let i=e.path.child(at.fromString(t));if(!pe.isDocumentKey(i))throw new X(q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return uc(n,new pe(i))}if(t instanceof Ot)return uc(n,t._key);throw new X(q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ky(t)}.`)}function Qk(n,e){if(!Array.isArray(n)||n.length===0)throw new X(q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function nL(n,e){let t=function(r,s){for(let o of r)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new X(q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new X(q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var Rd=class{convertValue(e,t="none"){switch(cc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return zt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ja(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ye()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let i={};return wc(e,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertVectorValue(e){var t,i,r;let s=(r=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(o=>zt(o.doubleValue));return new cp(s)}convertGeoPoint(e){return new _c(zt(e.latitude),zt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":let i=LT(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(qf(e));default:return null}}convertTimestamp(e){let t=xo(e);return new Zt(t.seconds,t.nanos)}convertDocumentKey(e,t){let i=at.fromString(e);Ie(W2(i));let r=new za(i.get(1),i.get(3)),s=new pe(i.popFirst(5));return r.isEqual(t)||rn(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}};function Vy(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}var RT=class extends Rd{constructor(e){super(),this.firestore=e}convertBytes(e){return new Us(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ot(this.firestore,null,t)}};var Ao=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Cr=class extends yc{constructor(e,t,i,r,s,o){super(e,t,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Va(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let i=this._document.data.field(Ly("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}},Va=class extends Cr{data(e={}){return super.data(e)}},es=class{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Ao(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Va(this._firestore,this._userDataWriter,i.key,i,new Ao(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new X(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>{let l=new Va(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Ao(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let l=new Va(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Ao(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:Pq(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function Pq(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye()}}function gD(n,e){return n instanceof Cr&&e instanceof Cr?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(n._document===null?e._document===null:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof es&&e instanceof es&&n._firestore===e._firestore&&uD(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function iL(n){n=lt(n,Ot);let e=lt(n.firestore,$t);return CF(An(e),n._key).then(t=>vD(e,n,t))}var Po=class extends Rd{constructor(e){super(),this.firestore=e}convertBytes(e){return new Us(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ot(this.firestore,null,t)}};function rL(n){n=lt(n,Ot);let e=lt(n.firestore,$t),t=An(e),i=new Po(e);return Sq(t,n._key).then(r=>new Cr(e,i,n._key,r,new Ao(r!==null&&r.hasLocalMutations,!0),n.converter))}function sL(n){n=lt(n,Ot);let e=lt(n.firestore,$t);return CF(An(e),n._key,{source:"server"}).then(t=>vD(e,n,t))}function oL(n){n=lt(n,Wn);let e=lt(n.firestore,$t),t=An(e),i=new Po(e);return qF(n._query),EF(t,n._query).then(r=>new es(e,i,n,r))}function aL(n){n=lt(n,Wn);let e=lt(n.firestore,$t),t=An(e),i=new Po(e);return Mq(t,n._query).then(r=>new es(e,i,n,r))}function lL(n){n=lt(n,Wn);let e=lt(n.firestore,$t),t=An(e),i=new Po(e);return EF(t,n._query,{source:"server"}).then(r=>new es(e,i,n,r))}function mD(n,e,t){n=lt(n,Ot);let i=lt(n.firestore,$t),r=Vy(n.converter,e,t);return Vd(i,[Fy(bc(i),"setDoc",n._key,r,n.converter!==null,t).toMutation(n._key,en.none())])}function _D(n,e,t,...i){n=lt(n,Ot);let r=lt(n.firestore,$t),s=bc(r),o;return o=typeof(e=tt(e))=="string"||e instanceof Xr?hD(s,"updateDoc",n._key,e,t,i):dD(s,"updateDoc",n._key,e),Vd(r,[o.toMutation(n._key,en.exists(!0))])}function cL(n){return Vd(lt(n.firestore,$t),[new Wa(n._key,en.none())])}function uL(n,e){let t=lt(n.firestore,$t),i=yp(n),r=Vy(n.converter,e);return Vd(t,[Fy(bc(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,en.exists(!1))]).then(()=>i)}function yD(n,...e){var t,i,r;n=tt(n);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||vT(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(vT(e[o])){let h=e[o];e[o]=(t=h.next)===null||t===void 0?void 0:t.bind(h),e[o+1]=(i=h.error)===null||i===void 0?void 0:i.bind(h),e[o+2]=(r=h.complete)===null||r===void 0?void 0:r.bind(h)}let l,c,d;if(n instanceof Ot)c=lt(n.firestore,$t),d=Nd(n._key.path),l={next:h=>{e[o]&&e[o](vD(c,n,h))},error:e[o+1],complete:e[o+2]};else{let h=lt(n,Wn);c=lt(h.firestore,$t),d=h._query;let m=new Po(c);l={next:v=>{e[o]&&e[o](new es(c,m,h,v))},error:e[o+1],complete:e[o+2]},qF(n._query)}return function(m,v,b,A){let S=new Ad(A),j=new op(v,S,b);return m.asyncQueue.enqueueAndForget(()=>F(this,null,function*(){return QT(yield xd(m),j)})),()=>{S.za(),m.asyncQueue.enqueueAndForget(()=>F(this,null,function*(){return ZT(yield xd(m),j)}))}}(An(c),d,a,l)}function dL(n,e){return Aq(An(n=lt(n,$t)),vT(e)?e:{next:e})}function Vd(n,e){return function(i,r){let s=new yn;return i.asyncQueue.enqueueAndForget(()=>F(this,null,function*(){return lq(yield sD(i),r,s)})),s.promise}(An(n),e)}function vD(n,e,t){let i=t.docs.get(e._key),r=new Po(n);return new Cr(n,r,e._key,i,new Ao(t.hasPendingWrites,t.fromCache),e.converter)}var kq={maxAttempts:5};var Ay=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=bc(e)}set(e,t,i){this._verifyNotCommitted();let r=Fa(e,this._firestore),s=Vy(r.converter,t,i),o=Fy(this._dataReader,"WriteBatch.set",r._key,s,r.converter!==null,i);return this._mutations.push(o.toMutation(r._key,en.none())),this}update(e,t,i,...r){this._verifyNotCommitted();let s=Fa(e,this._firestore),o;return o=typeof(t=tt(t))=="string"||t instanceof Xr?hD(this._dataReader,"WriteBatch.update",s._key,t,i,r):dD(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(o.toMutation(s._key,en.exists(!0))),this}delete(e){this._verifyNotCommitted();let t=Fa(e,this._firestore);return this._mutations=this._mutations.concat(new Wa(t._key,en.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new X(q.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Fa(n,e){if((n=tt(n)).firestore!==e)throw new X(q.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}var OT=class extends class{constructor(t,i){this._firestore=t,this._transaction=i,this._dataReader=bc(t)}get(t){let i=Fa(t,this._firestore),r=new RT(this._firestore);return this._transaction.lookup([i._key]).then(s=>{if(!s||s.length!==1)return ye();let o=s[0];if(o.isFoundDocument())return new yc(this._firestore,r,o.key,o,i.converter);if(o.isNoDocument())return new yc(this._firestore,r,i._key,null,i.converter);throw ye()})}set(t,i,r){let s=Fa(t,this._firestore),o=Vy(s.converter,i,r),a=Fy(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,r);return this._transaction.set(s._key,a),this}update(t,i,r,...s){let o=Fa(t,this._firestore),a;return a=typeof(i=tt(i))=="string"||i instanceof Xr?hD(this._dataReader,"Transaction.update",o._key,i,r,s):dD(this._dataReader,"Transaction.update",o._key,i),this._transaction.update(o._key,a),this}delete(t){let i=Fa(t,this._firestore);return this._transaction.delete(i._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){let t=Fa(e,this._firestore),i=new Po(this._firestore);return super.get(e).then(r=>new Cr(this._firestore,i,t._key,r._document,new Ao(!1,!1),t.converter))}};function hL(n,e,t){n=lt(n,$t);let i=Object.assign(Object.assign({},kq),t);return function(s){if(s.maxAttempts<1)throw new X(q.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(s,o,a){let l=new yn;return s.asyncQueue.enqueueAndForget(()=>F(this,null,function*(){let c=yield Iq(s);new gT(s.asyncQueue,c,a,o,l).ru()})),l.promise}(An(n),r=>e(new OT(n,r)),i)}function fL(){return new up("deleteField")}function pL(){return new ET("serverTimestamp")}function gL(...n){return new IT("arrayUnion",n)}function mL(...n){return new TT("arrayRemove",n)}function _L(n){return new DT("increment",n)}(function(e,t=!0){(function(r){Od=r})(Qg),zi(new Vn("firestore",(i,{instanceIdentifier:r,options:s})=>{let o=i.getProvider("app").getImmediate(),a=new $t(new kE(i.getProvider("auth-internal")),new BE(i.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new X(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new za(c.options.projectId,d)}(o,r),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Bn(KP,"4.7.2",e),Bn(KP,"4.7.2","esm2017")})();var Fq="@firebase/firestore-compat",Lq="0.3.37";function TD(n,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new X("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function yL(){if(typeof Uint8Array>"u")throw new X("unimplemented","Uint8Arrays are not available in this environment.")}function vL(){if(!c2())throw new X("unimplemented","Blobs are unavailable in Firestore in this environment.")}var By=class n{constructor(e){this._delegate=e}static fromBase64String(e){return vL(),new n(Us.fromBase64String(e))}static fromUint8Array(e){return yL(),new n(Us.fromUint8Array(e))}toBase64(){return vL(),this._delegate.toBase64()}toUint8Array(){return yL(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};function wD(n){return Vq(n,["next","error","complete"])}function Vq(n,e){if(typeof n!="object"||n===null)return!1;let t=n;for(let i of e)if(i in t&&typeof t[i]=="function")return!0;return!1}var bD=class{enableIndexedDbPersistence(e,t){return xF(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return RF(e._delegate)}clearIndexedDbPersistence(e){return NF(e._delegate)}},Uy=class{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof za||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){let t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&wr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},t),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,t,i={}){DF(this._delegate,e,t,i)}enableNetwork(){return kF(this._delegate)}disableNetwork(){return FF(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,aD("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return PF(this._delegate)}onSnapshotsInSync(e){return dL(this._delegate,e)}get app(){if(!this._appCompat)throw new X("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new jd(this,lD(this._delegate,e))}catch(t){throw Ci(t,"collection()","Firestore.collection()")}}doc(e){try{return new js(this,yp(this._delegate,e))}catch(t){throw Ci(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Dc(this,SF(this._delegate,e))}catch(t){throw Ci(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return hL(this._delegate,t=>e(new jy(this,t)))}batch(){return An(this._delegate),new zy(new Ay(this._delegate,e=>Vd(this._delegate,e)))}loadBundle(e){return LF(this._delegate,e)}namedQuery(e){return VF(this._delegate,e).then(t=>t?new Dc(this,t):null)}},Bd=class extends Rd{constructor(e){super(),this.firestore=e}convertBytes(e){return new By(new Us(e))}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return js.forKey(t,this.firestore,null)}};function Bq(n){Zk(n)}var jy=class{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Bd(e)}get(e){let t=Ec(e);return this._delegate.get(t).then(i=>new Ic(this._firestore,new Cr(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){let r=Ec(e);return i?(TD("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){let s=Ec(e);return arguments.length===2?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){let t=Ec(e);return this._delegate.delete(t),this}},zy=class{constructor(e){this._delegate=e}set(e,t,i){let r=Ec(e);return i?(TD("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){let s=Ec(e);return arguments.length===2?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){let t=Ec(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}},Ud=class n{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){let i=new Va(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Tc(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){let i=n.INSTANCES,r=i.get(e);r||(r=new WeakMap,i.set(e,r));let s=r.get(t);return s||(s=new n(e,new Bd(e),t),r.set(t,s)),s}};Ud.INSTANCES=new WeakMap;var js=class n{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Bd(e)}static forPath(e,t,i){if(e.length%2!==0)throw new X("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new n(t,new Ot(t._delegate,i,new pe(e)))}static forKey(e,t,i){return new n(t,new Ot(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new jd(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new jd(this.firestore,lD(this._delegate,e))}catch(t){throw Ci(t,"collection()","DocumentReference.collection()")}}isEqual(e){return e=tt(e),e instanceof Ot?cD(this._delegate,e):!1}set(e,t){t=TD("DocumentReference.set",t);try{return t?mD(this._delegate,e,t):mD(this._delegate,e)}catch(i){throw Ci(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return arguments.length===1?_D(this._delegate,e):_D(this._delegate,e,t,...i)}catch(r){throw Ci(r,"updateDoc()","DocumentReference.update()")}}delete(){return cL(this._delegate)}onSnapshot(...e){let t=wL(e),i=bL(e,r=>new Ic(this.firestore,new Cr(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return yD(this._delegate,t,i)}get(e){let t;return e?.source==="cache"?t=rL(this._delegate):e?.source==="server"?t=sL(this._delegate):t=iL(this._delegate),t.then(i=>new Ic(this.firestore,new Cr(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new n(this.firestore,e?this._delegate.withConverter(Ud.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function Ci(n,e,t){return n.message=n.message.replace(e,t),n}function wL(n){for(let e of n)if(typeof e=="object"&&!wD(e))return e;return{}}function bL(n,e){var t,i;let r;return wD(n[0])?r=n[0]:wD(n[1])?r=n[1]:typeof n[0]=="function"?r={next:n[0],error:n[1],complete:n[2]}:r={next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(e(s))},error:(t=r.error)===null||t===void 0?void 0:t.bind(r),complete:(i=r.complete)===null||i===void 0?void 0:i.bind(r)}}var Ic=class{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new js(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return gD(this._delegate,e._delegate)}},Tc=class extends Ic{data(e){let t=this._delegate.data(e);return this._delegate._converter||Yk(t!==void 0,"Document in a QueryDocumentSnapshot should exist"),t}},Dc=class n{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Bd(e)}where(e,t,i){try{return new n(this.firestore,Fo(this._delegate,WF(e,t,i)))}catch(r){throw Ci(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new n(this.firestore,Fo(this._delegate,KF(e,t)))}catch(i){throw Ci(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new n(this.firestore,Fo(this._delegate,QF(e)))}catch(t){throw Ci(t,"limit()","Query.limit()")}}limitToLast(e){try{return new n(this.firestore,Fo(this._delegate,ZF(e)))}catch(t){throw Ci(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new n(this.firestore,Fo(this._delegate,YF(...e)))}catch(t){throw Ci(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new n(this.firestore,Fo(this._delegate,JF(...e)))}catch(t){throw Ci(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new n(this.firestore,Fo(this._delegate,XF(...e)))}catch(t){throw Ci(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new n(this.firestore,Fo(this._delegate,eL(...e)))}catch(t){throw Ci(t,"endAt()","Query.endAt()")}}isEqual(e){return uD(this._delegate,e._delegate)}get(e){let t;return e?.source==="cache"?t=aL(this._delegate):e?.source==="server"?t=lL(this._delegate):t=oL(this._delegate),t.then(i=>new vp(this.firestore,new es(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){let t=wL(e),i=bL(e,r=>new vp(this.firestore,new es(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return yD(this._delegate,t,i)}withConverter(e){return new n(this.firestore,e?this._delegate.withConverter(Ud.getInstance(this.firestore,e)):this._delegate.withConverter(null))}},CD=class{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Tc(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}},vp=class{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Dc(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Tc(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new CD(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new Tc(this._firestore,i))})}isEqual(e){return gD(this._delegate,e._delegate)}},jd=class n extends Dc{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){let e=this._delegate.parent;return e?new js(this.firestore,e):null}doc(e){try{return e===void 0?new js(this.firestore,yp(this._delegate)):new js(this.firestore,yp(this._delegate,e))}catch(t){throw Ci(t,"doc()","CollectionReference.doc()")}}add(e){return uL(this._delegate,e).then(t=>new js(this.firestore,t))}isEqual(e){return cD(this._delegate,e._delegate)}withConverter(e){return new n(this.firestore,e?this._delegate.withConverter(Ud.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function Ec(n){return lt(n,Ot)}var ED=class n{constructor(...e){this._delegate=new Xr(...e)}static documentId(){return new n(sn.keyField().canonicalString())}isEqual(e){return e=tt(e),e instanceof Xr?this._delegate._internalPath.isEqual(e._internalPath):!1}};var ID=class n{constructor(e){this._delegate=e}static serverTimestamp(){let e=pL();return e._methodName="FieldValue.serverTimestamp",new n(e)}static delete(){let e=fL();return e._methodName="FieldValue.delete",new n(e)}static arrayUnion(...e){let t=gL(...e);return t._methodName="FieldValue.arrayUnion",new n(t)}static arrayRemove(...e){let t=mL(...e);return t._methodName="FieldValue.arrayRemove",new n(t)}static increment(e){let t=_L(e);return t._methodName="FieldValue.increment",new n(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}};var Uq={Firestore:Uy,GeoPoint:_c,Timestamp:Zt,Blob:By,Transaction:jy,WriteBatch:zy,DocumentReference:js,DocumentSnapshot:Ic,Query:Dc,QueryDocumentSnapshot:Tc,QuerySnapshot:vp,CollectionReference:jd,FieldPath:ED,FieldValue:ID,setLogLevel:Bq,CACHE_SIZE_UNLIMITED:MF};function jq(n,e){n.INTERNAL.registerComponent(new Vn("firestore-compat",t=>{let i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},Uq)))}function zq(n){jq(n,(e,t)=>new Uy(e,t,new bD)),n.registerVersion(Fq,Lq)}zq(vt);function $q(n,e=sa){return new Se(t=>{let i;return e!=null?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}function CL(n,e){return $q(n,e)}function Hq(n,e){return CL(n,e).pipe(Nr(void 0),Jh(),se(t=>{let[i,r]=t;return r.exists?i?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}}))}function MD(n,e){return CL(n,e).pipe(se(t=>({payload:t,type:"query"})))}var $y=class{ref;afs;constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){let i=this.ref.collection(e),{ref:r,query:s}=SL(i,t);return new Gy(r,s,this.afs)}snapshotChanges(){return Hq(this.ref,this.afs.schedulers.outsideAngular).pipe(qn)}valueChanges(e={}){return this.snapshotChanges().pipe(se(({payload:t})=>e.idField?Ee(Q({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return Ge(this.ref.get(e)).pipe(qn)}};function Hy(n,e){return MD(n,e).pipe(Nr(void 0),Jh(),se(t=>{let[i,r]=t,s=r.payload.docChanges(),o=s.map(a=>({type:a.type,payload:a}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((a,l)=>{let c=s.find(h=>h.doc.ref.isEqual(a.ref)),d=i?.payload.docs.find(h=>h.ref.isEqual(a.ref));c&&JSON.stringify(c.doc.metadata)===JSON.stringify(a.metadata)||!c&&d&&JSON.stringify(d.metadata)===JSON.stringify(a.metadata)||o.push({type:"modified",payload:{oldIndex:l,newIndex:l,type:"modified",doc:a}})}),o}))}function EL(n,e,t){return Hy(n,t).pipe(Ol((i,r)=>Gq(i,r.map(s=>s.payload),e),[]),Dm(),se(i=>i.map(r=>({type:r.type,payload:r}))))}function Gq(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=qq(n,i))}),n}function DD(n,e,t,...i){let r=n.slice();return r.splice(e,t,...i),r}function qq(n,e){switch(e.type){case"added":if(!(n[e.newIndex]&&n[e.newIndex].doc.ref.isEqual(e.doc.ref)))return DD(n,e.newIndex,0,e);break;case"modified":if(n[e.oldIndex]==null||n[e.oldIndex].doc.ref.isEqual(e.doc.ref))if(e.oldIndex!==e.newIndex){let t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}else return DD(n,e.newIndex,1,e);break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return DD(n,e.oldIndex,1);break}return n}function IL(n){return(!n||n.length===0)&&(n=["added","removed","modified"]),n}var Gy=class{ref;query;afs;constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=Hy(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe(se(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(Nr(void 0),Jh(),Ut(([i,r])=>r.length>0||!i),se(([,i])=>i),qn)}auditTrail(e){return this.stateChanges(e).pipe(Ol((t,i)=>[...t,...i],[]))}snapshotChanges(e){let t=IL(e);return EL(this.query,t,this.afs.schedulers.outsideAngular).pipe(qn)}valueChanges(e={}){return MD(this.query,this.afs.schedulers.outsideAngular).pipe(se(t=>t.payload.docs.map(i=>e.idField?Ee(Q({},i.data()),{[e.idField]:i.id}):i.data())),qn)}get(e){return Ge(this.query.get(e)).pipe(qn)}add(e){return this.ref.add(e)}doc(e){return new $y(this.ref.doc(e),this.afs)}},SD=class{query;afs;constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return!e||e.length===0?Hy(this.query,this.afs.schedulers.outsideAngular).pipe(qn):Hy(this.query,this.afs.schedulers.outsideAngular).pipe(se(t=>t.filter(i=>e.indexOf(i.type)>-1)),Ut(t=>t.length>0),qn)}auditTrail(e){return this.stateChanges(e).pipe(Ol((t,i)=>[...t,...i],[]))}snapshotChanges(e){let t=IL(e);return EL(this.query,t,this.afs.schedulers.outsideAngular).pipe(qn)}valueChanges(e={}){return MD(this.query,this.afs.schedulers.outsideAngular).pipe(se(i=>i.payload.docs.map(r=>e.idField?Q({[e.idField]:r.id},r.data()):r.data())),qn)}get(e){return Ge(this.query.get(e)).pipe(qn)}},TL=new oe("angularfire2.enableFirestorePersistence"),DL=new oe("angularfire2.firestore.persistenceSettings"),Wq=new oe("angularfire2.firestore.settings"),Kq=new oe("angularfire2.firestore.use-emulator");function SL(n,e=t=>t){return{query:e(n),ref:n}}var ln=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(t,i,r,s,o,a,l,c,d,h,m,v,b,A,S,j,Z){this.schedulers=l;let W=ec(t,a,i),Y=d;h&&bE(W,a,m,b,A,S,v,j),[this.firestore,this.persistenceEnabled$]=ed(`${W.name}.firestore`,"AngularFirestore",W.name,()=>{let ge=a.runOutsideAngular(()=>W.firestore());if(s&&ge.settings(s),Y&&ge.useEmulator(...Y),r&&!Ta(o)){let ae=()=>{try{return Ge(ge.enablePersistence(c||void 0).then(()=>!0,()=>!1))}catch(R){return typeof console<"u"&&console.warn(R),le(!1)}};return[ge,a.runOutsideAngular(ae)]}else return[ge,le(!1)]},[s,Y,r])}collection(t,i){let r;typeof t=="string"?r=this.firestore.collection(t):r=t;let{ref:s,query:o}=SL(r,i),a=this.schedulers.ngZone.run(()=>s);return new Gy(a,o,this)}collectionGroup(t,i){let r=i||(o=>o),s=this.firestore.collectionGroup(t);return new SD(r(s),this)}doc(t){let i;typeof t=="string"?i=this.firestore.doc(t):i=t;let r=this.schedulers.ngZone.run(()=>i);return new $y(r,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(i){return new(i||n)(G(Aa),G(xa,8),G(TL,8),G(Wq,8),G(wt),G(De),G(Xu),G(DL,8),G(Kq,8),G(Zr,8),G(gE,8),G(mE,8),G(_E,8),G(yE,8),G(vE,8),G(wE,8),G(To,8))};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),ML=(()=>{class n{constructor(){vt.registerVersion("angularfire",Do.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:TL,useValue:!0},{provide:DL,useValue:t}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=we({type:n});static \u0275inj=ve({providers:[ln]})}return n})();var LL="firebasestorage.googleapis.com",VL="storageBucket",Qq=2*60*1e3,Zq=10*60*1e3,Yq=1e3;var Yt=class n extends ra{constructor(e,t,i=0){super(AD(e),`Firebase Storage: ${t} (${AD(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,n.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return AD(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},Ht=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(Ht||{});function AD(n){return"storage/"+n}function LD(){let n="An unknown error occurred, please check the error payload for server response.";return new Yt(Ht.UNKNOWN,n)}function Jq(n){return new Yt(Ht.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function Xq(n){return new Yt(Ht.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function eW(){let n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Yt(Ht.UNAUTHENTICATED,n)}function tW(){return new Yt(Ht.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function nW(n){return new Yt(Ht.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function BL(){return new Yt(Ht.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function UL(){return new Yt(Ht.CANCELED,"User canceled the upload/download.")}function iW(n){return new Yt(Ht.INVALID_URL,"Invalid URL '"+n+"'.")}function rW(n){return new Yt(Ht.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function sW(){return new Yt(Ht.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+VL+"' property when initializing the app?")}function jL(){return new Yt(Ht.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function oW(){return new Yt(Ht.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function aW(){return new Yt(Ht.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function lW(n){return new Yt(Ht.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Sc(n){return new Yt(Ht.INVALID_ARGUMENT,n)}function zL(){return new Yt(Ht.APP_DELETED,"The Firebase app was deleted.")}function VD(n){return new Yt(Ht.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function bp(n,e){return new Yt(Ht.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function wp(n){throw new Yt(Ht.INTERNAL_ERROR,"Internal error: "+n)}var Ei=class n{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=n.makeFromUrl(e,t)}catch{return new n(e,"")}if(i.path==="")return i;throw rW(e)}static makeFromUrl(e,t){let i=null,r="([A-Za-z0-9.\\-_]+)";function s(Y){Y.path.charAt(Y.path.length-1)==="/"&&(Y.path_=Y.path_.slice(0,-1))}let o="(/(.*))?$",a=new RegExp("^gs://"+r+o,"i"),l={bucket:1,path:3};function c(Y){Y.path_=decodeURIComponent(Y.path)}let d="v[A-Za-z0-9_]+",h=t.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",v=new RegExp(`^https?://${h}/${d}/b/${r}/o${m}`,"i"),b={bucket:1,path:3},A=t===LL?"(?:storage.googleapis.com|storage.cloud.google.com)":t,S="([^?#]*)",j=new RegExp(`^https?://${A}/${r}/${S}`,"i"),W=[{regex:a,indices:l,postModify:s},{regex:v,indices:b,postModify:c},{regex:j,indices:{bucket:1,path:2},postModify:c}];for(let Y=0;Y<W.length;Y++){let ge=W[Y],ae=ge.regex.exec(e);if(ae){let R=ae[ge.indices.bucket],T=ae[ge.indices.path];T||(T=""),i=new n(R,T),ge.postModify(i);break}}if(i==null)throw iW(e);return i}},RD=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function cW(n,e,t){let i=1,r=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function d(...S){c||(c=!0,e.apply(null,S))}function h(S){r=setTimeout(()=>{r=null,n(v,l())},S)}function m(){s&&clearTimeout(s)}function v(S,...j){if(c){m();return}if(S){m(),d.call(null,S,...j);return}if(l()||o){m(),d.call(null,S,...j);return}i<64&&(i*=2);let W;a===1?(a=2,W=0):W=(i+Math.random())*1e3,h(W)}let b=!1;function A(S){b||(b=!0,m(),!c&&(r!==null?(S||(a=2),clearTimeout(r),h(0)):S||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,A(!0)},t),A}function uW(n){n(!1)}function dW(n){return n!==void 0}function hW(n){return typeof n=="function"}function fW(n){return typeof n=="object"&&!Array.isArray(n)}function Ky(n){return typeof n=="string"||n instanceof String}function AL(n){return BD()&&n instanceof Blob}function BD(){return typeof Blob<"u"}function OD(n,e,t,i){if(i<e)throw Sc(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw Sc(`Invalid value for '${n}'. Expected ${t} or less.`)}function Ja(n,e,t){let i=e;return t==null&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function $L(n){let e=encodeURIComponent,t="?";for(let i in n)if(n.hasOwnProperty(i)){let r=e(i)+"="+e(n[i]);t=t+r+"&"}return t=t.slice(0,-1),t}var Hd=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(Hd||{});function HL(n,e){let t=n>=500&&n<600,r=[408,429].indexOf(n)!==-1,s=e.indexOf(n)!==-1;return t||r||s}var ND=class{constructor(e,t,i,r,s,o,a,l,c,d,h,m=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=h,this.retry=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,b)=>{this.resolve_=v,this.reject_=b,this.start_()})}start_(){let e=(i,r)=>{if(r){i(!1,new $d(!1,null,!0));return}let s=this.connectionFactory_();this.pendingConnection_=s;let o=a=>{let l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;let a=s.getErrorCode()===Hd.NO_ERROR,l=s.getStatus();if(!a||HL(l,this.additionalRetryCodes_)&&this.retry){let d=s.getErrorCode()===Hd.ABORT;i(!1,new $d(!1,null,d));return}let c=this.successCodes_.indexOf(l)!==-1;i(!0,new $d(c,s))})},t=(i,r)=>{let s=this.resolve_,o=this.reject_,a=r.connection;if(r.wasSuccessCode)try{let l=this.callback_(a,a.getResponse());dW(l)?s(l):s()}catch(l){o(l)}else if(a!==null){let l=LD();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(r.canceled){let l=this.appDelete_?zL():UL();o(l)}else{let l=BL();o(l)}};this.canceled_?t(!1,new $d(!1,null,!0)):this.backoffId_=cW(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&uW(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},$d=class{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}};function pW(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function gW(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function mW(n,e){e&&(n["X-Firebase-GMPID"]=e)}function _W(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function yW(n,e,t,i,r,s,o=!0){let a=$L(n.urlParams),l=n.url+a,c=Object.assign({},n.headers);return mW(c,e),pW(c,t),gW(c,s),_W(c,i),new ND(l,n.method,c,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,o)}function vW(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function wW(...n){let e=vW();if(e!==void 0){let t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}else{if(BD())return new Blob(n);throw new Yt(Ht.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function bW(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}function CW(n){if(typeof atob>"u")throw lW("base-64");return atob(n)}var Ji={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Cp=class{constructor(e,t){this.data=e,this.contentType=t||null}};function UD(n,e){switch(n){case Ji.RAW:return new Cp(GL(e));case Ji.BASE64:case Ji.BASE64URL:return new Cp(qL(n,e));case Ji.DATA_URL:return new Cp(IW(e),TW(e))}throw LD()}function GL(n){let e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{let s=i,o=n.charCodeAt(++t);i=65536|(s&1023)<<10|o&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function EW(n){let e;try{e=decodeURIComponent(n)}catch{throw bp(Ji.DATA_URL,"Malformed data URL.")}return GL(e)}function qL(n,e){switch(n){case Ji.BASE64:{let r=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(r||s)throw bp(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Ji.BASE64URL:{let r=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(r||s)throw bp(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=CW(e)}catch(r){throw r.message.includes("polyfill")?r:bp(n,"Invalid character found")}let i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}var Wy=class{constructor(e){this.base64=!1,this.contentType=null;let t=e.match(/^data:([^,]+)?,/);if(t===null)throw bp(Ji.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let i=t[1]||null;i!=null&&(this.base64=DW(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}};function IW(n){let e=new Wy(n);return e.base64?qL(Ji.BASE64,e.rest):EW(e.rest)}function TW(n){return new Wy(n).contentType}function DW(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}var Gd=class n{constructor(e,t){let i=0,r="";AL(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(AL(this.data_)){let i=this.data_,r=bW(i,e,t);return r===null?null:new n(r)}else{let i=new Uint8Array(this.data_.buffer,e,t-e);return new n(i,!0)}}static getBlob(...e){if(BD()){let t=e.map(i=>i instanceof n?i.data_:i);return new n(wW.apply(null,t))}else{let t=e.map(o=>Ky(o)?UD(Ji.RAW,o).data:o.data_),i=0;t.forEach(o=>{i+=o.byteLength});let r=new Uint8Array(i),s=0;return t.forEach(o=>{for(let a=0;a<o.length;a++)r[s++]=o[a]}),new n(r,!0)}}uploadData(){return this.data_}};function jD(n){let e;try{e=JSON.parse(n)}catch{return null}return fW(e)?e:null}function SW(n){if(n.length===0)return null;let e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function MW(n,e){let t=e.split("/").filter(i=>i.length>0).join("/");return n.length===0?t:n+"/"+t}function WL(n){let e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}function AW(n,e){return e}var Kn=class{constructor(e,t,i,r){this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||AW}},qy=null;function xW(n){return!Ky(n)||n.length<2?n:WL(n)}function Qy(){if(qy)return qy;let n=[];n.push(new Kn("bucket")),n.push(new Kn("generation")),n.push(new Kn("metageneration")),n.push(new Kn("name","fullPath",!0));function e(s,o){return xW(o)}let t=new Kn("name");t.xform=e,n.push(t);function i(s,o){return o!==void 0?Number(o):o}let r=new Kn("size");return r.xform=i,n.push(r),n.push(new Kn("timeCreated")),n.push(new Kn("updated")),n.push(new Kn("md5Hash",null,!0)),n.push(new Kn("cacheControl",null,!0)),n.push(new Kn("contentDisposition",null,!0)),n.push(new Kn("contentEncoding",null,!0)),n.push(new Kn("contentLanguage",null,!0)),n.push(new Kn("contentType",null,!0)),n.push(new Kn("metadata","customMetadata",!0)),qy=n,qy}function RW(n,e){function t(){let i=n.bucket,r=n.fullPath,s=new Ei(i,r);return e._makeStorageReference(s)}Object.defineProperty(n,"ref",{get:t})}function OW(n,e,t){let i={};i.type="file";let r=t.length;for(let s=0;s<r;s++){let o=t[s];i[o.local]=o.xform(i,e[o.server])}return RW(i,n),i}function KL(n,e,t){let i=jD(e);return i===null?null:OW(n,i,t)}function NW(n,e,t,i){let r=jD(e);if(r===null||!Ky(r.downloadTokens))return null;let s=r.downloadTokens;if(s.length===0)return null;let o=encodeURIComponent;return s.split(",").map(c=>{let d=n.bucket,h=n.fullPath,m="/b/"+o(d)+"/o/"+o(h),v=Ja(m,t,i),b=$L({alt:"media",token:c});return v+b})[0]}function zD(n,e){let t={},i=e.length;for(let r=0;r<i;r++){let s=e[r];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}var xL="prefixes",RL="items";function PW(n,e,t){let i={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[xL])for(let r of t[xL]){let s=r.replace(/\/$/,""),o=n._makeStorageReference(new Ei(e,s));i.prefixes.push(o)}if(t[RL])for(let r of t[RL]){let s=n._makeStorageReference(new Ei(e,r.name));i.items.push(s)}return i}function kW(n,e,t){let i=jD(t);return i===null?null:PW(n,e,i)}var ts=class{constructor(e,t,i,r){this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function Hs(n){if(!n)throw LD()}function Zy(n,e){function t(i,r){let s=KL(n,r,e);return Hs(s!==null),s}return t}function FW(n,e){function t(i,r){let s=kW(n,e,r);return Hs(s!==null),s}return t}function LW(n,e){function t(i,r){let s=KL(n,r,e);return Hs(s!==null),NW(s,r,n.host,n._protocol)}return t}function Kd(n){function e(t,i){let r;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?r=tW():r=eW():t.getStatus()===402?r=Xq(n.bucket):t.getStatus()===403?r=nW(n.path):r=i,r.status=t.getStatus(),r.serverResponse=i.serverResponse,r}return e}function Yy(n){let e=Kd(n);function t(i,r){let s=e(i,r);return i.getStatus()===404&&(s=Jq(n.path)),s.serverResponse=r.serverResponse,s}return t}function QL(n,e,t){let i=e.fullServerUrl(),r=Ja(i,n.host,n._protocol),s="GET",o=n.maxOperationRetryTime,a=new ts(r,s,Zy(n,t),o);return a.errorHandler=Yy(e),a}function VW(n,e,t,i,r){let s={};e.isRoot?s.prefix="":s.prefix=e.path+"/",t&&t.length>0&&(s.delimiter=t),i&&(s.pageToken=i),r&&(s.maxResults=r);let o=e.bucketOnlyServerUrl(),a=Ja(o,n.host,n._protocol),l="GET",c=n.maxOperationRetryTime,d=new ts(a,l,FW(n,e.bucket),c);return d.urlParams=s,d.errorHandler=Kd(e),d}function BW(n,e,t){let i=e.fullServerUrl(),r=Ja(i,n.host,n._protocol),s="GET",o=n.maxOperationRetryTime,a=new ts(r,s,LW(n,t),o);return a.errorHandler=Yy(e),a}function UW(n,e,t,i){let r=e.fullServerUrl(),s=Ja(r,n.host,n._protocol),o="PATCH",a=zD(t,i),l={"Content-Type":"application/json; charset=utf-8"},c=n.maxOperationRetryTime,d=new ts(s,o,Zy(n,i),c);return d.headers=l,d.body=a,d.errorHandler=Yy(e),d}function jW(n,e){let t=e.fullServerUrl(),i=Ja(t,n.host,n._protocol),r="DELETE",s=n.maxOperationRetryTime;function o(l,c){}let a=new ts(i,r,o,s);return a.successCodes=[200,204],a.errorHandler=Yy(e),a}function zW(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function ZL(n,e,t){let i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=zW(null,e)),i}function $W(n,e,t,i,r){let s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let W="";for(let Y=0;Y<2;Y++)W=W+Math.random().toString().slice(2);return W}let l=a();o["Content-Type"]="multipart/related; boundary="+l;let c=ZL(e,i,r),d=zD(c,t),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,m=`\r
--`+l+"--",v=Gd.getBlob(h,i,m);if(v===null)throw jL();let b={name:c.fullPath},A=Ja(s,n.host,n._protocol),S="POST",j=n.maxUploadRetryTime,Z=new ts(A,S,Zy(n,t),j);return Z.urlParams=b,Z.headers=o,Z.body=v.uploadData(),Z.errorHandler=Kd(e),Z}var qd=class{constructor(e,t,i,r){this.current=e,this.total=t,this.finalized=!!i,this.metadata=r||null}};function $D(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{Hs(!1)}return Hs(!!t&&(e||["active"]).indexOf(t)!==-1),t}function HW(n,e,t,i,r){let s=e.bucketOnlyServerUrl(),o=ZL(e,i,r),a={name:o.fullPath},l=Ja(s,n.host,n._protocol),c="POST",d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},h=zD(o,t),m=n.maxUploadRetryTime;function v(A){$D(A);let S;try{S=A.getResponseHeader("X-Goog-Upload-URL")}catch{Hs(!1)}return Hs(Ky(S)),S}let b=new ts(l,c,v,m);return b.urlParams=a,b.headers=d,b.body=h,b.errorHandler=Kd(e),b}function GW(n,e,t,i){let r={"X-Goog-Upload-Command":"query"};function s(c){let d=$D(c,["active","final"]),h=null;try{h=c.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Hs(!1)}h||Hs(!1);let m=Number(h);return Hs(!isNaN(m)),new qd(m,i.size(),d==="final")}let o="POST",a=n.maxUploadRetryTime,l=new ts(t,o,s,a);return l.headers=r,l.errorHandler=Kd(e),l}var OL=256*1024;function qW(n,e,t,i,r,s,o,a){let l=new qd(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=i.size()),i.size()!==l.total)throw oW();let c=l.total-l.current,d=c;r>0&&(d=Math.min(d,r));let h=l.current,m=h+d,v="";d===0?v="finalize":c===d?v="upload, finalize":v="upload";let b={"X-Goog-Upload-Command":v,"X-Goog-Upload-Offset":`${l.current}`},A=i.slice(h,m);if(A===null)throw jL();function S(Y,ge){let ae=$D(Y,["active","final"]),R=l.current+d,T=i.size(),M;return ae==="final"?M=Zy(e,s)(Y,ge):M=null,new qd(R,T,ae==="final",M)}let j="POST",Z=e.maxUploadRetryTime,W=new ts(t,j,S,Z);return W.headers=b,W.body=A.uploadData(),W.progressCallback=a||null,W.errorHandler=Kd(n),W}var YL={STATE_CHANGED:"state_changed"},ai={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function xD(n){switch(n){case"running":case"pausing":case"canceling":return ai.RUNNING;case"paused":return ai.PAUSED;case"success":return ai.SUCCESS;case"canceled":return ai.CANCELED;case"error":return ai.ERROR;default:return ai.ERROR}}var PD=class{constructor(e,t,i){if(hW(e)||t!=null||i!=null)this.next=e,this.error=t??void 0,this.complete=i??void 0;else{let s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}};function zd(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}var NL=null,kD=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Hd.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Hd.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Hd.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,r){if(this.sent_)throw wp("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),r!==void 0)for(let s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw wp("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw wp("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw wp("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw wp("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},FD=class extends kD{initXhr(){this.xhr_.responseType="text"}};function $s(){return NL?NL():new FD}var Ep=class{constructor(e,t,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=i,this._mappings=Qy(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals(Ht.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{let s=this.isExponentialBackoffExpired();if(HL(r.status,[]))if(s)r=BL();else{this.sleepTime=Math.max(this.sleepTime*2,Yq),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals(Ht.CANCELED)?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){let e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,i])=>{switch(this._state){case"running":e(t,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,t)=>{let i=HW(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,$s,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){let e=this._uploadUrl;this._resolveToken((t,i)=>{let r=GW(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(r,$s,t,i);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){let e=OL*this._chunkMultiplier,t=new qd(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,s)=>{let o;try{o=qW(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}let a=this._ref.storage._makeRequest(o,$s,r,s,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){OL*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{let i=QL(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,$s,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{let i=$W(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,$s,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){let t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":let t=this._state==="paused";this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=UL(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){let e=xD(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,i,r){let s=new PD(t||void 0,i||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){let t=this._observers.indexOf(e);t!==-1&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(xD(this._state)){case ai.SUCCESS:zd(this._resolve.bind(null,this.snapshot))();break;case ai.CANCELED:case ai.ERROR:let t=this._reject;zd(t.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(xD(this._state)){case ai.RUNNING:case ai.PAUSED:e.next&&zd(e.next.bind(e,this.snapshot))();break;case ai.SUCCESS:e.complete&&zd(e.complete.bind(e))();break;case ai.CANCELED:case ai.ERROR:e.error&&zd(e.error.bind(e,this._error))();break;default:e.error&&zd(e.error.bind(e,this._error))()}}resume(){let e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){let e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){let e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}};var Wd=class n{constructor(e,t){this._service=e,t instanceof Ei?this._location=t:this._location=Ei.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new n(e,t)}get root(){let e=new Ei(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return WL(this._location.path)}get storage(){return this._service}get parent(){let e=SW(this._location.path);if(e===null)return null;let t=new Ei(this._location.bucket,e);return new n(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw VD(e)}};function WW(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new Ep(n,new Gd(e),t)}function KW(n){let e={prefixes:[],items:[]};return JL(n,e).then(()=>e)}function JL(n,e,t){return F(this,null,function*(){let r=yield XL(n,{pageToken:t});e.prefixes.push(...r.prefixes),e.items.push(...r.items),r.nextPageToken!=null&&(yield JL(n,e,r.nextPageToken))})}function XL(n,e){e!=null&&typeof e.maxResults=="number"&&OD("options.maxResults",1,1e3,e.maxResults);let t=e||{},i=VW(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(i,$s)}function QW(n){n._throwIfRoot("getMetadata");let e=QL(n.storage,n._location,Qy());return n.storage.makeRequestWithTokens(e,$s)}function ZW(n,e){n._throwIfRoot("updateMetadata");let t=UW(n.storage,n._location,e,Qy());return n.storage.makeRequestWithTokens(t,$s)}function YW(n){n._throwIfRoot("getDownloadURL");let e=BW(n.storage,n._location,Qy());return n.storage.makeRequestWithTokens(e,$s).then(t=>{if(t===null)throw aW();return t})}function JW(n){n._throwIfRoot("deleteObject");let e=jW(n.storage,n._location);return n.storage.makeRequestWithTokens(e,$s)}function eV(n,e){let t=MW(n._location.path,e),i=new Ei(n._location.bucket,t);return new Wd(n.storage,i)}function XW(n){return/^[A-Za-z]+:\/\//.test(n)}function eK(n,e){return new Wd(n,e)}function tV(n,e){if(n instanceof Ip){let t=n;if(t._bucket==null)throw sW();let i=new Wd(t,t._bucket);return e!=null?tV(i,e):i}else return e!==void 0?eV(n,e):n}function tK(n,e){if(e&&XW(e)){if(n instanceof Ip)return eK(n,e);throw Sc("To use ref(service, url), the first argument must be a Storage instance.")}else return tV(n,e)}function PL(n,e){let t=e?.[VL];return t==null?null:Ei.makeFromBucketSpec(t,n)}function nK(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";let{mockUserToken:r}=i;r&&(n._overrideAuthToken=typeof r=="string"?r:Wg(r,n.app.options.projectId))}var Ip=class{constructor(e,t,i,r,s){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=LL,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Qq,this._maxUploadRetryTime=Zq,this._requests=new Set,r!=null?this._bucket=Ei.makeFromBucketSpec(r,this._host):this._bucket=PL(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ei.makeFromBucketSpec(this._url,e):this._bucket=PL(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){OD("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){OD("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return F(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let t=yield e.getToken();if(t!==null)return t.accessToken}return null})}_getAppCheckToken(){return F(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Wd(this,e)}_makeRequest(e,t,i,r,s=!0){if(this._deleted)return new RD(zL());{let o=yW(e,this._appId,i,r,t,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,t){return F(this,null,function*(){let[i,r]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,r).getPromise()})}},kL="@firebase/storage",FL="0.13.2";var iK="storage";function nV(n,e,t){return n=tt(n),WW(n,e,t)}function iV(n){return n=tt(n),QW(n)}function rV(n,e){return n=tt(n),ZW(n,e)}function sV(n,e){return n=tt(n),XL(n,e)}function oV(n){return n=tt(n),KW(n)}function aV(n){return n=tt(n),YW(n)}function lV(n){return n=tt(n),JW(n)}function HD(n,e){return n=tt(n),tK(n,e)}function cV(n,e){return eV(n,e)}function uV(n,e,t,i={}){nK(n,e,t,i)}function rK(n,{instanceIdentifier:e}){let t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new Ip(t,i,r,e,Qg)}function sK(){zi(new Vn(iK,rK,"PUBLIC").setMultipleInstances(!0)),Bn(kL,FL,""),Bn(kL,FL,"esm2017")}sK();var Qd=class{constructor(e,t,i){this._delegate=e,this.task=t,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}};var Jy=class{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Qd(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(i=>{if(e)return e(new Qd(i,this,this._ref))},t)}on(e,t,i,r){let s;return t&&(typeof t=="function"?s=o=>t(new Qd(o,this,this._ref)):s={next:t.next?o=>t.next(new Qd(o,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,s,i||void 0,r||void 0)}},Xy=class{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new Mc(e,this._service))}get items(){return this._delegate.items.map(e=>new Mc(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}};var Mc=class n{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){let t=cV(this._delegate,e);return new n(t,this.storage)}get root(){return new n(this._delegate.root,this.storage)}get parent(){let e=this._delegate.parent;return e==null?null:new n(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new Jy(nV(this._delegate,e,t),this)}putString(e,t=Ji.RAW,i){this._throwIfRoot("putString");let r=UD(t,e),s=Object.assign({},i);return s.contentType==null&&r.contentType!=null&&(s.contentType=r.contentType),new Jy(new Ep(this._delegate,new Gd(r.data,!0),s),this)}listAll(){return oV(this._delegate).then(e=>new Xy(e,this.storage))}list(e){return sV(this._delegate,e||void 0).then(t=>new Xy(t,this.storage))}getMetadata(){return iV(this._delegate)}updateMetadata(e){return rV(this._delegate,e)}getDownloadURL(){return aV(this._delegate)}delete(){return this._throwIfRoot("delete"),lV(this._delegate)}_throwIfRoot(e){if(this._delegate._location.path==="")throw VD(e)}};var ev=class{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(dV(e))throw Sc("ref() expected a child path but got a URL, use refFromURL instead.");return new Mc(HD(this._delegate,e),this)}refFromURL(e){if(!dV(e))throw Sc("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ei.makeFromUrl(e,this._delegate.host)}catch{throw Sc("refFromUrl() expected a valid full URL but got an invalid one.")}return new Mc(HD(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,i={}){uV(this._delegate,e,t,i)}};function dV(n){return/^[A-Za-z]+:\/\//.test(n)}var oK="@firebase/storage-compat",aK="0.3.12";var lK="storage-compat";function cK(n,{instanceIdentifier:e}){let t=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:e});return new ev(t,i)}function uK(n){let e={TaskState:ai,TaskEvent:YL,StringFormat:Ji,Storage:ev,Reference:Mc};n.INTERNAL.registerComponent(new Vn(lK,cK,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion(oK,aK)}uK(vt);function dK(n){return new Se(e=>{let t=o=>e.next(o),i=o=>e.error(o),r=()=>e.complete();t(n.snapshot);let s=n.on("state_changed",t);return n.then(o=>{t(o),r()},o=>{t(n.snapshot),i(o)}),function(){s()}}).pipe(ab(0))}function hV(n){let e=dK(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(se(t=>t.bytesTransferred/t.totalBytes*100))}}function tv(n){return{getDownloadURL:()=>le(void 0).pipe(oE,Le(()=>n.getDownloadURL()),qn),getMetadata:()=>le(void 0).pipe(oE,Le(()=>n.getMetadata()),qn),delete:()=>Ge(n.delete()),child:e=>tv(n.child(e)),updateMetadata:e=>Ge(n.updateMetadata(e)),put:(e,t)=>{let i=n.put(e,t);return hV(i)},putString:(e,t,i)=>{let r=n.putString(e,t,i);return hV(r)},list:e=>Ge(n.list(e)),listAll:()=>Ge(n.listAll())}}var hK=new oe("angularfire2.storageBucket"),fK=new oe("angularfire2.storage.maxUploadRetryTime"),pK=new oe("angularfire2.storage.maxOperationRetryTime"),gK=new oe("angularfire2.storage.use-emulator"),Ac=(()=>{class n{storage;constructor(t,i,r,s,o,a,l,c,d,h){let m=ec(t,o,i);this.storage=ed(`${m.name}.storage.${r}`,"AngularFireStorage",m.name,()=>{let v=o.runOutsideAngular(()=>m.storage(r||void 0)),b=d;return b&&v.useEmulator(...b),l&&v.setMaxUploadRetryTime(l),c&&v.setMaxOperationRetryTime(c),v},[l,c])}ref(t){return tv(this.storage.ref(t))}refFromURL(t){return tv(this.storage.refFromURL(t))}upload(t,i,r){let s=this.storage.ref(t);return tv(s).put(i,r)}static \u0275fac=function(i){return new(i||n)(G(Aa),G(xa,8),G(hK,8),G(wt),G(De),G(Xu),G(fK,8),G(pK,8),G(gK,8),G(To,8))};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})();var mK=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=we({type:n});static \u0275inj=ve({})}return n})(),fV=(()=>{class n{constructor(){vt.registerVersion("angularfire",Do.full,"gcs-compat")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=we({type:n});static \u0275inj=ve({providers:[Ac],imports:[mK]})}return n})();var CV=(()=>{let e=class e{constructor(i,r){this._renderer=i,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(i,r){this._renderer.setProperty(this._elementRef.nativeElement,i,r)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}};e.\u0275fac=function(r){return new(r||e)(U(ti),U(nt))},e.\u0275dir=Qe({type:e});let n=e;return n})(),EV=(()=>{let e=class e extends CV{};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=gi(e)))(s||e)}})(),e.\u0275dir=Qe({type:e,features:[fn]});let n=e;return n})(),uv=new oe("");var _K={provide:uv,useExisting:Is(()=>Nn),multi:!0};function yK(){let n=As()?As().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var vK=new oe(""),Nn=(()=>{let e=class e extends CV{constructor(i,r,s){super(i,r),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!yK())}writeValue(i){let r=i??"";this.setProperty("value",r)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}};e.\u0275fac=function(r){return new(r||e)(U(ti),U(nt),U(vK,8))},e.\u0275dir=Qe({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,s){r&1&&te("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[ba([_K]),fn]});let n=e;return n})();function Xa(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function IV(n){return n!=null&&typeof n.length=="number"}var dv=new oe(""),hv=new oe(""),wK=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,xt=class{static min(e){return bK(e)}static max(e){return CK(e)}static required(e){return EK(e)}static requiredTrue(e){return IK(e)}static email(e){return TK(e)}static minLength(e){return DK(e)}static maxLength(e){return SK(e)}static pattern(e){return MK(e)}static nullValidator(e){return TV(e)}static compose(e){return RV(e)}static composeAsync(e){return OV(e)}};function bK(n){return e=>{if(Xa(e.value)||Xa(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function CK(n){return e=>{if(Xa(e.value)||Xa(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function EK(n){return Xa(n.value)?{required:!0}:null}function IK(n){return n.value===!0?null:{required:!0}}function TK(n){return Xa(n.value)||wK.test(n.value)?null:{email:!0}}function DK(n){return e=>Xa(e.value)||!IV(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function SK(n){return e=>IV(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function MK(n){if(!n)return TV;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(Xa(i.value))return null;let r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}function TV(n){return null}function DV(n){return n!=null}function SV(n){return Ca(n)?Ge(n):n}function MV(n){let e={};return n.forEach(t=>{e=t!=null?Q(Q({},e),t):e}),Object.keys(e).length===0?null:e}function AV(n,e){return e.map(t=>t(n))}function AK(n){return!n.validate}function xV(n){return n.map(e=>AK(e)?e:t=>e.validate(t))}function RV(n){if(!n)return null;let e=n.filter(DV);return e.length==0?null:function(t){return MV(AV(t,e))}}function YD(n){return n!=null?RV(xV(n)):null}function OV(n){if(!n)return null;let e=n.filter(DV);return e.length==0?null:function(t){let i=AV(t,e).map(SV);return rb(i).pipe(se(MV))}}function JD(n){return n!=null?OV(xV(n)):null}function pV(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function NV(n){return n._rawValidators}function PV(n){return n._rawAsyncValidators}function qD(n){return n?Array.isArray(n)?n:[n]:[]}function iv(n,e){return Array.isArray(n)?n.includes(e):n===e}function gV(n,e){let t=qD(e);return qD(n).forEach(r=>{iv(t,r)||t.push(r)}),t}function mV(n,e){return qD(e).filter(t=>!iv(n,t))}var rv=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=YD(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=JD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Lo=class extends rv{get formDirective(){return null}get path(){return null}},Rc=class extends rv{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},sv=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},xK={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Upe=Ee(Q({},xK),{"[class.ng-submitted]":"isSubmitted"}),li=(()=>{let e=class e extends sv{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(U(Rc,2))},e.\u0275dir=Qe({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,s){r&2&&Ur("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[fn]});let n=e;return n})(),Pi=(()=>{let e=class e extends sv{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(U(Lo,10))},e.\u0275dir=Qe({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,s){r&2&&Ur("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[fn]});let n=e;return n})();var Tp="VALID",nv="INVALID",Zd="PENDING",Dp="DISABLED",el=class{},ov=class extends el{constructor(e,t){super(),this.value=e,this.source=t}},Mp=class extends el{constructor(e,t){super(),this.pristine=e,this.source=t}},Ap=class extends el{constructor(e,t){super(),this.touched=e,this.source=t}},Yd=class extends el{constructor(e,t){super(),this.status=e,this.source=t}},WD=class extends el{constructor(e){super(),this.source=e}},KD=class extends el{constructor(e){super(),this.source=e}};function XD(n){return(fv(n)?n.validators:n)||null}function RK(n){return Array.isArray(n)?YD(n):n||null}function eS(n,e){return(fv(e)?e.asyncValidators:n)||null}function OK(n){return Array.isArray(n)?JD(n):n||null}function fv(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function kV(n,e,t){let i=n.controls;if(!(e?Object.keys(i):i).length)throw new re(1e3,"");if(!i[t])throw new re(1001,"")}function FV(n,e,t){n._forEachChild((i,r)=>{if(t[r]===void 0)throw new re(1002,"")})}var Jd=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Qu(()=>this.statusReactive()),this.statusReactive=xi(void 0),this._pristine=Qu(()=>this.pristineReactive()),this.pristineReactive=xi(!0),this._touched=Qu(()=>this.touchedReactive()),this.touchedReactive=xi(!1),this._events=new Pe,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return mr(this.statusReactive)}set status(e){mr(()=>this.statusReactive.set(e))}get valid(){return this.status===Tp}get invalid(){return this.status===nv}get pending(){return this.status==Zd}get disabled(){return this.status===Dp}get enabled(){return this.status!==Dp}get pristine(){return mr(this.pristineReactive)}set pristine(e){mr(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return mr(this.touchedReactive)}set touched(e){mr(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(gV(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(gV(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(mV(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(mV(e,this._rawAsyncValidators))}hasValidator(e){return iv(this._rawValidators,e)}hasAsyncValidator(e){return iv(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(Ee(Q({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new Ap(!0,i))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:i})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i),t&&e.emitEvent!==!1&&this._events.next(new Ap(!1,i))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(Ee(Q({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new Mp(!1,i))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),t&&e.emitEvent!==!1&&this._events.next(new Mp(!0,i))}markAsPending(e={}){this.status=Zd;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Yd(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(Ee(Q({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Dp,this.errors=null,this._forEachChild(r=>{r.disable(Ee(Q({},e),{onlySelf:!0}))}),this._updateValue();let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ov(this.value,i)),this._events.next(new Yd(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Ee(Q({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Tp,this._forEachChild(i=>{i.enable(Ee(Q({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Ee(Q({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Tp||this.status===Zd)&&this._runAsyncValidator(i,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ov(this.value,t)),this._events.next(new Yd(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(Ee(Q({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Dp:Tp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Zd,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let i=SV(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,i){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||i)&&this._events.next(new Yd(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,i)}_initObservables(){this.valueChanges=new xe,this.statusChanges=new xe}_calculateStatus(){return this._allControlsDisabled()?Dp:this.errors?nv:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Zd)?Zd:this._anyControlsHaveStatus(nv)?nv:Tp}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),r&&this._events.next(new Mp(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Ap(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){fv(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=RK(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=OK(this._rawAsyncValidators)}},Xd=class extends Jd{constructor(e,t,i){super(XD(t),eS(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){FV(this,!0,e),Object.keys(e).forEach(i=>{kV(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>i._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var QD=class extends Xd{};var xp=new oe("CallSetDisabledState",{providedIn:"root",factory:()=>pv}),pv="always";function LV(n,e){return[...e.path,n]}function av(n,e,t=pv){tS(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),PK(n,e),FK(n,e),kK(n,e),NK(n,e)}function _V(n,e,t=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),cv(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function lv(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function NK(n,e){if(e.valueAccessor.setDisabledState){let t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function tS(n,e){let t=NV(n);e.validator!==null?n.setValidators(pV(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let i=PV(n);e.asyncValidator!==null?n.setAsyncValidators(pV(i,e.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();lv(e._rawValidators,r),lv(e._rawAsyncValidators,r)}function cv(n,e){let t=!1;if(n!==null){if(e.validator!==null){let r=NV(n);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==e.validator);s.length!==r.length&&(t=!0,n.setValidators(s))}}if(e.asyncValidator!==null){let r=PV(n);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==e.asyncValidator);s.length!==r.length&&(t=!0,n.setAsyncValidators(s))}}}let i=()=>{};return lv(e._rawValidators,i),lv(e._rawAsyncValidators,i),t}function PK(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&VV(n,e)})}function kK(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&VV(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function VV(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function FK(n,e){let t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function BV(n,e){n==null,tS(n,e)}function LK(n,e){return cv(n,e)}function UV(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function VK(n){return Object.getPrototypeOf(n.constructor)===EV}function jV(n,e){n._syncPendingControls(),e.forEach(t=>{let i=t.control;i.updateOn==="submit"&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function zV(n,e){if(!e)return null;Array.isArray(e);let t,i,r;return e.forEach(s=>{s.constructor===Nn?t=s:VK(s)?i=s:r=s}),r||i||t||null}function BK(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var UK={provide:Lo,useExisting:Is(()=>Oc)},Sp=Promise.resolve(),Oc=(()=>{let e=class e extends Lo{get submitted(){return mr(this.submittedReactive)}constructor(i,r,s){super(),this.callSetDisabledState=s,this._submitted=Qu(()=>this.submittedReactive()),this.submittedReactive=xi(!1),this._directives=new Set,this.ngSubmit=new xe,this.form=new Xd({},YD(i),JD(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(i){Sp.then(()=>{let r=this._findContainer(i.path);i.control=r.registerControl(i.name,i.control),av(i.control,i,this.callSetDisabledState),i.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(i)})}getControl(i){return this.form.get(i.path)}removeControl(i){Sp.then(()=>{let r=this._findContainer(i.path);r&&r.removeControl(i.name),this._directives.delete(i)})}addFormGroup(i){Sp.then(()=>{let r=this._findContainer(i.path),s=new Xd({});BV(s,i),r.registerControl(i.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(i){Sp.then(()=>{let r=this._findContainer(i.path);r&&r.removeControl(i.name)})}getFormGroup(i){return this.form.get(i.path)}updateModel(i,r){Sp.then(()=>{this.form.get(i.path).setValue(r)})}setValue(i){this.control.setValue(i)}onSubmit(i){return this.submittedReactive.set(!0),jV(this.form,this._directives),this.ngSubmit.emit(i),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(i){return i.pop(),i.length?this.form.get(i):this.form}};e.\u0275fac=function(r){return new(r||e)(U(dv,10),U(hv,10),U(xp,8))},e.\u0275dir=Qe({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,s){r&1&&te("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ba([UK]),fn]});let n=e;return n})();function yV(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function vV(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var xc=class extends Jd{constructor(e=null,t,i){super(XD(t),eS(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),fv(t)&&(t.nonNullable||t.initialValueIsDefault)&&(vV(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){yV(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){yV(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){vV(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var jK=n=>n instanceof xc;var zK={provide:Rc,useExisting:Is(()=>Vo)},wV=Promise.resolve(),Vo=(()=>{let e=class e extends Rc{constructor(i,r,s,o,a,l){super(),this._changeDetectorRef=a,this.callSetDisabledState=l,this.control=new xc,this._registered=!1,this.name="",this.update=new xe,this._parent=i,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=zV(this,o)}ngOnChanges(i){if(this._checkForErrors(),!this._registered||"name"in i){if(this._registered&&(this._checkName(),this.formDirective)){let r=i.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in i&&this._updateDisabled(i),UV(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){av(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(i){wV.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(i){let r=i.isDisabled.currentValue,s=r!==0&&je(r);wV.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(i){return this._parent?LV(i,this._parent):[i]}};e.\u0275fac=function(r){return new(r||e)(U(Lo,9),U(dv,10),U(hv,10),U(uv,10),U(Ri,8),U(xp,8))},e.\u0275dir=Qe({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ba([zK]),fn,Tn]});let n=e;return n})(),ki=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Qe({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let n=e;return n})(),$K={provide:uv,useExisting:Is(()=>nS),multi:!0},nS=(()=>{let e=class e extends EV{writeValue(i){let r=i??"";this.setProperty("value",r)}registerOnChange(i){this.onChange=r=>{i(r==""?null:parseFloat(r))}}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=gi(e)))(s||e)}})(),e.\u0275dir=Qe({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,s){r&1&&te("input",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},features:[ba([$K]),fn]});let n=e;return n})();var $V=new oe("");var HK={provide:Lo,useExisting:Is(()=>Bo)},Bo=(()=>{let e=class e extends Lo{get submitted(){return mr(this._submittedReactive)}set submitted(i){this._submittedReactive.set(i)}constructor(i,r,s){super(),this.callSetDisabledState=s,this._submitted=Qu(()=>this._submittedReactive()),this._submittedReactive=xi(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new xe,this._setValidators(i),this._setAsyncValidators(r)}ngOnChanges(i){this._checkFormPresent(),i.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(cv(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(i){let r=this.form.get(i.path);return av(r,i,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(i),r}getControl(i){return this.form.get(i.path)}removeControl(i){_V(i.control||null,i,!1),BK(this.directives,i)}addFormGroup(i){this._setUpFormContainer(i)}removeFormGroup(i){this._cleanUpFormContainer(i)}getFormGroup(i){return this.form.get(i.path)}addFormArray(i){this._setUpFormContainer(i)}removeFormArray(i){this._cleanUpFormContainer(i)}getFormArray(i){return this.form.get(i.path)}updateModel(i,r){this.form.get(i.path).setValue(r)}onSubmit(i){return this._submittedReactive.set(!0),jV(this.form,this.directives),this.ngSubmit.emit(i),this.form._events.next(new WD(this.control)),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this._submittedReactive.set(!1),this.form._events.next(new KD(this.form))}_updateDomValue(){this.directives.forEach(i=>{let r=i.control,s=this.form.get(i.path);r!==s&&(_V(r||null,i),jK(s)&&(av(s,i,this.callSetDisabledState),i.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(i){let r=this.form.get(i.path);BV(r,i),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(i){if(this.form){let r=this.form.get(i.path);r&&LK(r,i)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){tS(this.form,this),this._oldForm&&cv(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(r){return new(r||e)(U(dv,10),U(hv,10),U(xp,8))},e.\u0275dir=Qe({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,s){r&1&&te("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ba([HK]),fn,Tn]});let n=e;return n})();var GK={provide:Rc,useExisting:Is(()=>Uo)},Uo=(()=>{let e=class e extends Rc{set isDisabled(i){}constructor(i,r,s,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new xe,this._ngModelWarningSent=!1,this._parent=i,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=zV(this,o)}ngOnChanges(i){this._added||this._setUpControl(),UV(i,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}get path(){return LV(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(r){return new(r||e)(U(Lo,13),U(dv,10),U(hv,10),U(uv,10),U($V,8))},e.\u0275dir=Qe({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[ba([GK]),fn,Tn]});let n=e;return n})();var HV=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({});let n=e;return n})(),ZD=class extends Jd{constructor(e,t,i){super(XD(t),eS(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){FV(this,!1,e),e.forEach((i,r)=>{kV(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>i._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function bV(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var tl=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let i=new e;return i.useNonNullable=!0,i}group(i,r=null){let s=this._reduceControls(i),o={};return bV(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Xd(s,o)}record(i,r=null){let s=this._reduceControls(i);return new QD(s,r)}control(i,r,s){let o={};return this.useNonNullable?(bV(r)?o=r:(o.validators=r,o.asyncValidators=s),new xc(i,Ee(Q({},o),{nonNullable:!0}))):new xc(i,r,s)}array(i,r,s){let o=i.map(a=>this._createControl(a));return new ZD(o,r,s)}_reduceControls(i){let r={};return Object.keys(i).forEach(s=>{r[s]=this._createControl(i[s])}),r}_createControl(i){if(i instanceof xc)return i;if(i instanceof Jd)return i;if(Array.isArray(i)){let r=i[0],s=i.length>1?i[1]:null,o=i.length>2?i[2]:null;return this.control(r,s,o)}else return this.control(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var GV=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:xp,useValue:i.callSetDisabledState??pv}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({imports:[HV]});let n=e;return n})(),qV=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:$V,useValue:i.warnOnNgModelWithFormControl??"always"},{provide:xp,useValue:i.callSetDisabledState??pv}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({imports:[HV]});let n=e;return n})();var qK=["*"],Op=class{_clearListeners(){for(let e of this._listeners)e.remove();this._listeners=[]}constructor(e){this._ngZone=e,this._pending=[],this._listeners=[],this._targetStream=new Nt(void 0)}getLazyEmitter(e){return this._targetStream.pipe(Le(t=>{let i=new Se(r=>{if(!t){this._pending.push({observable:i,observer:r});return}let s=t.addListener(e,o=>{this._ngZone.run(()=>r.next(o))});if(!s){r.complete();return}return this._listeners.push(s),()=>s.remove()});return i}))}setTarget(e){let t=this._targetStream.value;e!==t&&(t&&(this._clearListeners(),this._pending=[]),this._targetStream.next(e),this._pending.forEach(i=>i.observable.subscribe(i.observer)),this._pending=[])}destroy(){this._clearListeners(),this._pending=[],this._targetStream.complete()}},Rp={center:{lat:37.421995,lng:-122.084092},zoom:17,mapTypeId:"roadmap"},WV="500px",KV="500px",gv=(()=>{let e=class e{set center(i){this._center=i}set zoom(i){this._zoom=i}set options(i){this._options=i||Rp}constructor(i,r,s){if(this._elementRef=i,this._ngZone=r,this._eventManager=new Op(K(De)),this.height=WV,this.width=KV,this._options=Rp,this.mapInitialized=new xe,this.authFailure=new xe,this.boundsChanged=this._eventManager.getLazyEmitter("bounds_changed"),this.centerChanged=this._eventManager.getLazyEmitter("center_changed"),this.mapClick=this._eventManager.getLazyEmitter("click"),this.mapDblclick=this._eventManager.getLazyEmitter("dblclick"),this.mapDrag=this._eventManager.getLazyEmitter("drag"),this.mapDragend=this._eventManager.getLazyEmitter("dragend"),this.mapDragstart=this._eventManager.getLazyEmitter("dragstart"),this.headingChanged=this._eventManager.getLazyEmitter("heading_changed"),this.idle=this._eventManager.getLazyEmitter("idle"),this.maptypeidChanged=this._eventManager.getLazyEmitter("maptypeid_changed"),this.mapMousemove=this._eventManager.getLazyEmitter("mousemove"),this.mapMouseout=this._eventManager.getLazyEmitter("mouseout"),this.mapMouseover=this._eventManager.getLazyEmitter("mouseover"),this.projectionChanged=this._eventManager.getLazyEmitter("projection_changed"),this.mapRightclick=this._eventManager.getLazyEmitter("rightclick"),this.tilesloaded=this._eventManager.getLazyEmitter("tilesloaded"),this.tiltChanged=this._eventManager.getLazyEmitter("tilt_changed"),this.zoomChanged=this._eventManager.getLazyEmitter("zoom_changed"),this._isBrowser=Qi(s),this._isBrowser){let o=window;o.google,this._existingAuthFailureCallback=o.gm_authFailure,o.gm_authFailure=()=>{this._existingAuthFailureCallback&&this._existingAuthFailureCallback(),this.authFailure.emit()}}}ngOnChanges(i){(i.height||i.width)&&this._setSize();let r=this.googleMap;r&&(i.options&&r.setOptions(this._combineOptions()),i.center&&this._center&&r.setCenter(this._center),i.zoom&&this._zoom!=null&&r.setZoom(this._zoom),i.mapTypeId&&this.mapTypeId&&r.setMapTypeId(this.mapTypeId))}ngOnInit(){this._isBrowser&&(this._mapEl=this._elementRef.nativeElement.querySelector(".map-container"),this._setSize(),google.maps.Map?this._initialize(google.maps.Map):this._ngZone.runOutsideAngular(()=>{google.maps.importLibrary("maps").then(i=>this._initialize(i.Map))}))}_initialize(i){this._ngZone.runOutsideAngular(()=>{this.googleMap=new i(this._mapEl,this._combineOptions()),this._eventManager.setTarget(this.googleMap),this.mapInitialized.emit(this.googleMap)})}ngOnDestroy(){if(this.mapInitialized.complete(),this._eventManager.destroy(),this._isBrowser){let i=window;i.gm_authFailure=this._existingAuthFailureCallback}}fitBounds(i,r){this._assertInitialized(),this.googleMap.fitBounds(i,r)}panBy(i,r){this._assertInitialized(),this.googleMap.panBy(i,r)}panTo(i){this._assertInitialized(),this.googleMap.panTo(i)}panToBounds(i,r){this._assertInitialized(),this.googleMap.panToBounds(i,r)}getBounds(){return this._assertInitialized(),this.googleMap.getBounds()||null}getCenter(){return this._assertInitialized(),this.googleMap.getCenter()}getClickableIcons(){return this._assertInitialized(),this.googleMap.getClickableIcons()}getHeading(){return this._assertInitialized(),this.googleMap.getHeading()}getMapTypeId(){return this._assertInitialized(),this.googleMap.getMapTypeId()}getProjection(){return this._assertInitialized(),this.googleMap.getProjection()||null}getStreetView(){return this._assertInitialized(),this.googleMap.getStreetView()}getTilt(){return this._assertInitialized(),this.googleMap.getTilt()}getZoom(){return this._assertInitialized(),this.googleMap.getZoom()}get controls(){return this._assertInitialized(),this.googleMap.controls}get data(){return this._assertInitialized(),this.googleMap.data}get mapTypes(){return this._assertInitialized(),this.googleMap.mapTypes}get overlayMapTypes(){return this._assertInitialized(),this.googleMap.overlayMapTypes}_resolveMap(){return this.googleMap?Promise.resolve(this.googleMap):this.mapInitialized.pipe(In(1)).toPromise()}_setSize(){if(this._mapEl){let i=this._mapEl.style;i.height=this.height===null?"":QV(this.height)||WV,i.width=this.width===null?"":QV(this.width)||KV}}_combineOptions(){let i=this._options||{};return Ee(Q({},i),{center:this._center||i.center||Rp.center,zoom:this._zoom??i.zoom??Rp.zoom,mapTypeId:this.mapTypeId||i.mapTypeId||Rp.mapTypeId,mapId:this.mapId||i.mapId})}_assertInitialized(){this.googleMap}};e.\u0275fac=function(r){return new(r||e)(U(nt),U(De),U(wt))},e.\u0275cmp=Oe({type:e,selectors:[["google-map"]],inputs:{height:"height",width:"width",mapId:"mapId",mapTypeId:"mapTypeId",center:"center",zoom:"zoom",options:"options"},outputs:{mapInitialized:"mapInitialized",authFailure:"authFailure",boundsChanged:"boundsChanged",centerChanged:"centerChanged",mapClick:"mapClick",mapDblclick:"mapDblclick",mapDrag:"mapDrag",mapDragend:"mapDragend",mapDragstart:"mapDragstart",headingChanged:"headingChanged",idle:"idle",maptypeidChanged:"maptypeidChanged",mapMousemove:"mapMousemove",mapMouseout:"mapMouseout",mapMouseover:"mapMouseover",projectionChanged:"projectionChanged",mapRightclick:"mapRightclick",tilesloaded:"tilesloaded",tiltChanged:"tiltChanged",zoomChanged:"zoomChanged"},exportAs:["googleMap"],standalone:!0,features:[Tn,Pt],ngContentSelectors:qK,decls:2,vars:0,consts:[[1,"map-container"]],template:function(r,s){r&1&&(Wi(),ie(0,"div",0),_i(1))},encapsulation:2,changeDetection:0});let n=e;return n})(),WK=/([A-Za-z%]+)$/;function QV(n){return n==null?"":WK.test(n)?n:`${n}px`}var ZV=(()=>{let e=class e{set options(i){this._options.next(i||{})}set center(i){this._center.next(i)}set radius(i){this._radius.next(i)}constructor(i,r){this._map=i,this._ngZone=r,this._eventManager=new Op(K(De)),this._options=new Nt({}),this._center=new Nt(void 0),this._radius=new Nt(void 0),this._destroyed=new Pe,this.centerChanged=this._eventManager.getLazyEmitter("center_changed"),this.circleClick=this._eventManager.getLazyEmitter("click"),this.circleDblclick=this._eventManager.getLazyEmitter("dblclick"),this.circleDrag=this._eventManager.getLazyEmitter("drag"),this.circleDragend=this._eventManager.getLazyEmitter("dragend"),this.circleDragstart=this._eventManager.getLazyEmitter("dragstart"),this.circleMousedown=this._eventManager.getLazyEmitter("mousedown"),this.circleMousemove=this._eventManager.getLazyEmitter("mousemove"),this.circleMouseout=this._eventManager.getLazyEmitter("mouseout"),this.circleMouseover=this._eventManager.getLazyEmitter("mouseover"),this.circleMouseup=this._eventManager.getLazyEmitter("mouseup"),this.radiusChanged=this._eventManager.getLazyEmitter("radius_changed"),this.circleRightclick=this._eventManager.getLazyEmitter("rightclick"),this.circleInitialized=new xe}ngOnInit(){this._map._isBrowser&&this._combineOptions().pipe(In(1)).subscribe(i=>{google.maps.Circle&&this._map.googleMap?this._initialize(this._map.googleMap,google.maps.Circle,i):this._ngZone.runOutsideAngular(()=>{Promise.all([this._map._resolveMap(),google.maps.importLibrary("maps")]).then(([r,s])=>{this._initialize(r,s.Circle,i)})})})}_initialize(i,r,s){this._ngZone.runOutsideAngular(()=>{this.circle=new r(s),this._assertInitialized(),this.circle.setMap(i),this._eventManager.setTarget(this.circle),this.circleInitialized.emit(this.circle),this._watchForOptionsChanges(),this._watchForCenterChanges(),this._watchForRadiusChanges()})}ngOnDestroy(){this._eventManager.destroy(),this._destroyed.next(),this._destroyed.complete(),this.circle?.setMap(null)}getBounds(){return this._assertInitialized(),this.circle.getBounds()}getCenter(){return this._assertInitialized(),this.circle.getCenter()}getDraggable(){return this._assertInitialized(),this.circle.getDraggable()}getEditable(){return this._assertInitialized(),this.circle.getEditable()}getRadius(){return this._assertInitialized(),this.circle.getRadius()}getVisible(){return this._assertInitialized(),this.circle.getVisible()}_combineOptions(){return sr([this._options,this._center,this._radius]).pipe(se(([i,r,s])=>Ee(Q({},i),{center:r||i.center,radius:s!==void 0?s:i.radius})))}_watchForOptionsChanges(){this._options.pipe(hn(this._destroyed)).subscribe(i=>{this._assertInitialized(),this.circle.setOptions(i)})}_watchForCenterChanges(){this._center.pipe(hn(this._destroyed)).subscribe(i=>{i&&(this._assertInitialized(),this.circle.setCenter(i))})}_watchForRadiusChanges(){this._radius.pipe(hn(this._destroyed)).subscribe(i=>{i!==void 0&&(this._assertInitialized(),this.circle.setRadius(i))})}_assertInitialized(){}};e.\u0275fac=function(r){return new(r||e)(U(gv),U(De))},e.\u0275dir=Qe({type:e,selectors:[["map-circle"]],inputs:{options:"options",center:"center",radius:"radius"},outputs:{centerChanged:"centerChanged",circleClick:"circleClick",circleDblclick:"circleDblclick",circleDrag:"circleDrag",circleDragend:"circleDragend",circleDragstart:"circleDragstart",circleMousedown:"circleMousedown",circleMousemove:"circleMousemove",circleMouseout:"circleMouseout",circleMouseover:"circleMouseover",circleMouseup:"circleMouseup",radiusChanged:"radiusChanged",circleRightclick:"circleRightclick",circleInitialized:"circleInitialized"},exportAs:["mapCircle"],standalone:!0});let n=e;return n})();var KK={position:{lat:37.421995,lng:-122.084092}},YV=(()=>{let e=class e{set title(i){this._title=i}set position(i){this._position=i}set label(i){this._label=i}set clickable(i){this._clickable=i}set options(i){this._options=i}set icon(i){this._icon=i}set visible(i){this._visible=i}constructor(i,r){this._googleMap=i,this._ngZone=r,this._eventManager=new Op(K(De)),this.animationChanged=this._eventManager.getLazyEmitter("animation_changed"),this.mapClick=this._eventManager.getLazyEmitter("click"),this.clickableChanged=this._eventManager.getLazyEmitter("clickable_changed"),this.cursorChanged=this._eventManager.getLazyEmitter("cursor_changed"),this.mapDblclick=this._eventManager.getLazyEmitter("dblclick"),this.mapDrag=this._eventManager.getLazyEmitter("drag"),this.mapDragend=this._eventManager.getLazyEmitter("dragend"),this.draggableChanged=this._eventManager.getLazyEmitter("draggable_changed"),this.mapDragstart=this._eventManager.getLazyEmitter("dragstart"),this.flatChanged=this._eventManager.getLazyEmitter("flat_changed"),this.iconChanged=this._eventManager.getLazyEmitter("icon_changed"),this.mapMousedown=this._eventManager.getLazyEmitter("mousedown"),this.mapMouseout=this._eventManager.getLazyEmitter("mouseout"),this.mapMouseover=this._eventManager.getLazyEmitter("mouseover"),this.mapMouseup=this._eventManager.getLazyEmitter("mouseup"),this.positionChanged=this._eventManager.getLazyEmitter("position_changed"),this.mapRightclick=this._eventManager.getLazyEmitter("rightclick"),this.shapeChanged=this._eventManager.getLazyEmitter("shape_changed"),this.titleChanged=this._eventManager.getLazyEmitter("title_changed"),this.visibleChanged=this._eventManager.getLazyEmitter("visible_changed"),this.zindexChanged=this._eventManager.getLazyEmitter("zindex_changed"),this.markerInitialized=new xe}ngOnInit(){this._googleMap._isBrowser&&(google.maps.Marker&&this._googleMap.googleMap?this._initialize(this._googleMap.googleMap,google.maps.Marker):this._ngZone.runOutsideAngular(()=>{Promise.all([this._googleMap._resolveMap(),google.maps.importLibrary("marker")]).then(([i,r])=>{this._initialize(i,r.Marker)})}))}_initialize(i,r){this._ngZone.runOutsideAngular(()=>{this.marker=new r(this._combineOptions()),this._assertInitialized(),this.marker.setMap(i),this._eventManager.setTarget(this.marker),this.markerInitialized.next(this.marker)})}ngOnChanges(i){let{marker:r,_title:s,_position:o,_label:a,_clickable:l,_icon:c,_visible:d}=this;r&&(i.options&&r.setOptions(this._combineOptions()),i.title&&s!==void 0&&r.setTitle(s),i.position&&o&&r.setPosition(o),i.label&&a!==void 0&&r.setLabel(a),i.clickable&&l!==void 0&&r.setClickable(l),i.icon&&c&&r.setIcon(c),i.visible&&d!==void 0&&r.setVisible(d))}ngOnDestroy(){this.markerInitialized.complete(),this._eventManager.destroy(),this.marker?.setMap(null)}getAnimation(){return this._assertInitialized(),this.marker.getAnimation()||null}getClickable(){return this._assertInitialized(),this.marker.getClickable()}getCursor(){return this._assertInitialized(),this.marker.getCursor()||null}getDraggable(){return this._assertInitialized(),!!this.marker.getDraggable()}getIcon(){return this._assertInitialized(),this.marker.getIcon()||null}getLabel(){return this._assertInitialized(),this.marker.getLabel()||null}getOpacity(){return this._assertInitialized(),this.marker.getOpacity()||null}getPosition(){return this._assertInitialized(),this.marker.getPosition()||null}getShape(){return this._assertInitialized(),this.marker.getShape()||null}getTitle(){return this._assertInitialized(),this.marker.getTitle()||null}getVisible(){return this._assertInitialized(),this.marker.getVisible()}getZIndex(){return this._assertInitialized(),this.marker.getZIndex()||null}getAnchor(){return this._assertInitialized(),this.marker}_resolveMarker(){return this.marker?Promise.resolve(this.marker):this.markerInitialized.pipe(In(1)).toPromise()}_combineOptions(){let i=this._options||KK;return Ee(Q({},i),{title:this._title||i.title,position:this._position||i.position,label:this._label||i.label,clickable:this._clickable??i.clickable,map:this._googleMap.googleMap,icon:this._icon||i.icon,visible:this._visible??i.visible})}_assertInitialized(){}};e.\u0275fac=function(r){return new(r||e)(U(gv),U(De))},e.\u0275dir=Qe({type:e,selectors:[["map-marker"]],inputs:{title:"title",position:"position",label:"label",clickable:"clickable",options:"options",icon:"icon",visible:"visible"},outputs:{animationChanged:"animationChanged",mapClick:"mapClick",clickableChanged:"clickableChanged",cursorChanged:"cursorChanged",mapDblclick:"mapDblclick",mapDrag:"mapDrag",mapDragend:"mapDragend",draggableChanged:"draggableChanged",mapDragstart:"mapDragstart",flatChanged:"flatChanged",iconChanged:"iconChanged",mapMousedown:"mapMousedown",mapMouseout:"mapMouseout",mapMouseover:"mapMouseover",mapMouseup:"mapMouseup",positionChanged:"positionChanged",mapRightclick:"mapRightclick",shapeChanged:"shapeChanged",titleChanged:"titleChanged",visibleChanged:"visibleChanged",zindexChanged:"zindexChanged",markerInitialized:"markerInitialized"},exportAs:["mapMarker"],standalone:!0,features:[Tn]});let n=e;return n})();var JV=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({});let n=e;return n})();var Ue=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(Ue||{}),Gs="*";function mv(n,e){return{type:Ue.Trigger,name:n,definitions:e,options:{}}}function eh(n,e=null){return{type:Ue.Animate,styles:e,timings:n}}function XV(n,e=null){return{type:Ue.Sequence,steps:n,options:e}}function qs(n){return{type:Ue.Style,styles:n,offset:null}}function _v(n,e,t){return{type:Ue.State,name:n,styles:e,options:t}}function th(n,e,t=null){return{type:Ue.Transition,expr:n,animation:e,options:t}}function iS(n,e=null){return{type:Ue.Reference,animation:n,options:e}}function rS(n,e=null){return{type:Ue.AnimateRef,animation:n,options:e}}var il=class{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}},Np=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++i==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(i=>{let r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){let e=this.players.reduce((t,i)=>t===null||i.totalTime>t.totalTime?i:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}},yv="!";function e3(n){return new re(3e3,!1)}function ZK(){return new re(3100,!1)}function YK(){return new re(3101,!1)}function JK(n){return new re(3001,!1)}function XK(n){return new re(3003,!1)}function eQ(n){return new re(3004,!1)}function tQ(n,e){return new re(3005,!1)}function nQ(){return new re(3006,!1)}function iQ(){return new re(3007,!1)}function rQ(n,e){return new re(3008,!1)}function sQ(n){return new re(3002,!1)}function oQ(n,e,t,i,r){return new re(3010,!1)}function aQ(){return new re(3011,!1)}function lQ(){return new re(3012,!1)}function cQ(){return new re(3200,!1)}function uQ(){return new re(3202,!1)}function dQ(){return new re(3013,!1)}function hQ(n){return new re(3014,!1)}function fQ(n){return new re(3015,!1)}function pQ(n){return new re(3016,!1)}function gQ(n,e){return new re(3404,!1)}function mQ(n){return new re(3502,!1)}function _Q(n){return new re(3503,!1)}function yQ(){return new re(3300,!1)}function vQ(n){return new re(3504,!1)}function wQ(n){return new re(3301,!1)}function bQ(n,e){return new re(3302,!1)}function CQ(n){return new re(3303,!1)}function EQ(n,e){return new re(3400,!1)}function IQ(n){return new re(3401,!1)}function TQ(n){return new re(3402,!1)}function DQ(n,e){return new re(3505,!1)}function rl(n){switch(n.length){case 0:return new il;case 1:return n[0];default:return new Np(n)}}function p3(n,e,t=new Map,i=new Map){let r=[],s=[],o=-1,a=null;if(e.forEach(l=>{let c=l.get("offset"),d=c==o,h=d&&a||new Map;l.forEach((m,v)=>{let b=v,A=m;if(v!=="offset")switch(b=n.normalizePropertyName(b,r),A){case yv:A=t.get(v);break;case Gs:A=i.get(v);break;default:A=n.normalizeStyleValue(v,b,A,r);break}h.set(b,A)}),d||s.push(h),a=h,o=c}),r.length)throw mQ(r);return s}function SS(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&sS(t,"start",n)));break;case"done":n.onDone(()=>i(t&&sS(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&sS(t,"destroy",n)));break}}function sS(n,e,t){let i=t.totalTime,r=!!t.disabled,s=MS(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,i??n.totalTime,r),o=n._data;return o!=null&&(s._data=o),s}function MS(n,e,t,i,r="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function er(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function t3(n){let e=n.indexOf(":"),t=n.substring(1,e),i=n.slice(e+1);return[t,i]}var SQ=typeof document>"u"?null:document.documentElement;function AS(n){let e=n.parentNode||n.host||null;return e===SQ?null:e}function MQ(n){return n.substring(1,6)=="ebkit"}var Nc=null,n3=!1;function AQ(n){Nc||(Nc=xQ()||{},n3=Nc.style?"WebkitAppearance"in Nc.style:!1);let e=!0;return Nc.style&&!MQ(n)&&(e=n in Nc.style,!e&&n3&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Nc.style)),e}function xQ(){return typeof document<"u"?document.body:null}function g3(n,e){for(;e;){if(e===n)return!0;e=AS(e)}return!1}function m3(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let i=n.querySelector(e);return i?[i]:[]}var xS=(()=>{let e=class e{validateStyleProperty(i){return AQ(i)}containsElement(i,r){return g3(i,r)}getParentElement(i){return AS(i)}query(i,r,s){return m3(i,r,s)}computeStyle(i,r,s){return s||""}animate(i,r,s,o,a,l=[],c){return new il(s,o)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac});let n=e;return n})(),PS=class PS{};PS.NOOP=new xS;var Fc=PS,Lc=class{};var RQ=1e3,_3="{{",OQ="}}",y3="ng-enter",dS="ng-leave",vv="ng-trigger",Iv=".ng-trigger",i3="ng-animating",hS=".ng-animating";function jo(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:fS(parseFloat(e[1]),e[2])}function fS(n,e){switch(e){case"s":return n*RQ;default:return n}}function Tv(n,e,t){return n.hasOwnProperty("duration")?n:NQ(n,e,t)}function NQ(n,e,t){let i=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,s=0,o="";if(typeof n=="string"){let a=n.match(i);if(a===null)return e.push(e3(n)),{duration:0,delay:0,easing:""};r=fS(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(s=fS(parseFloat(l),a[4]));let c=a[5];c&&(o=c)}else r=n;if(!t){let a=!1,l=e.length;r<0&&(e.push(ZK()),a=!0),s<0&&(e.push(YK()),a=!0),a&&e.splice(l,0,e3(n))}return{duration:r,delay:s,easing:o}}function PQ(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function Ws(n,e,t){e.forEach((i,r)=>{let s=RS(r);t&&!t.has(r)&&t.set(r,n.style[s]),n.style[s]=i})}function kc(n,e){e.forEach((t,i)=>{let r=RS(i);n.style[r]=""})}function Pp(n){return Array.isArray(n)?n.length==1?n[0]:XV(n):n}function kQ(n,e,t){let i=e.params||{},r=v3(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push(JK(s))})}var pS=new RegExp(`${_3}\\s*(.+?)\\s*${OQ}`,"g");function v3(n){let e=[];if(typeof n=="string"){let t;for(;t=pS.exec(n);)e.push(t[1]);pS.lastIndex=0}return e}function Fp(n,e,t){let i=`${n}`,r=i.replace(pS,(s,o)=>{let a=e[o];return a==null&&(t.push(XK(o)),a=""),a.toString()});return r==i?n:r}var FQ=/-+([a-z0-9])/g;function RS(n){return n.replace(FQ,(...e)=>e[1].toUpperCase())}function LQ(n,e){return n===0||e===0}function VQ(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((s,o)=>{i.has(o)||r.push(o),i.set(o,s)}),r.length)for(let s=1;s<e.length;s++){let o=e[s];r.forEach(a=>o.set(a,OS(n,a)))}}return e}function Xi(n,e,t){switch(e.type){case Ue.Trigger:return n.visitTrigger(e,t);case Ue.State:return n.visitState(e,t);case Ue.Transition:return n.visitTransition(e,t);case Ue.Sequence:return n.visitSequence(e,t);case Ue.Group:return n.visitGroup(e,t);case Ue.Animate:return n.visitAnimate(e,t);case Ue.Keyframes:return n.visitKeyframes(e,t);case Ue.Style:return n.visitStyle(e,t);case Ue.Reference:return n.visitReference(e,t);case Ue.AnimateChild:return n.visitAnimateChild(e,t);case Ue.AnimateRef:return n.visitAnimateRef(e,t);case Ue.Query:return n.visitQuery(e,t);case Ue.Stagger:return n.visitStagger(e,t);default:throw eQ(e.type)}}function OS(n,e){return window.getComputedStyle(n)[e]}var BQ=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Dv=class extends Lc{normalizePropertyName(e,t){return RS(e)}normalizeStyleValue(e,t,i,r){let s="",o=i.toString().trim();if(BQ.has(t)&&i!==0&&i!=="0")if(typeof i=="number")s="px";else{let a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&r.push(tQ(e,i))}return o+s}};var Sv="*";function UQ(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(i=>jQ(i,t,e)):t.push(n),t}function jQ(n,e,t){if(n[0]==":"){let l=zQ(n,t);if(typeof l=="function"){e.push(l);return}n=l}let i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return t.push(fQ(n)),e;let r=i[1],s=i[2],o=i[3];e.push(r3(r,o));let a=r==Sv&&o==Sv;s[0]=="<"&&!a&&e.push(r3(o,r))}function zQ(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(pQ(n)),"* => *"}}var wv=new Set(["true","1"]),bv=new Set(["false","0"]);function r3(n,e){let t=wv.has(n)||bv.has(n),i=wv.has(e)||bv.has(e);return(r,s)=>{let o=n==Sv||n==r,a=e==Sv||e==s;return!o&&t&&typeof r=="boolean"&&(o=r?wv.has(n):bv.has(n)),!a&&i&&typeof s=="boolean"&&(a=s?wv.has(e):bv.has(e)),o&&a}}var w3=":self",$Q=new RegExp(`s*${w3}s*,?`,"g");function b3(n,e,t,i){return new gS(n).build(e,t,i)}var s3="",gS=class{constructor(e){this._driver=e}build(e,t,i){let r=new mS(t);return this._resetContextStyleTimingState(r),Xi(this,Pp(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector=s3,e.collectedStyles=new Map,e.collectedStyles.set(s3,new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0,s=[],o=[];return e.name.charAt(0)=="@"&&t.errors.push(nQ()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==Ue.State){let l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(d=>{l.name=d,s.push(this.visitState(l,t))}),l.name=c}else if(a.type==Ue.Transition){let l=this.visitTransition(a,t);i+=l.queryCount,r+=l.depCount,o.push(l)}else t.errors.push(iQ())}),{type:Ue.Trigger,name:e.name,states:s,transitions:o,queryCount:i,depCount:r,options:null}}visitState(e,t){let i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){let s=new Set,o=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{v3(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&t.errors.push(rQ(e.name,[...s.values()]))}return{type:Ue.State,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let i=Xi(this,Pp(e.animation),t),r=UQ(e.expr,t.errors);return{type:Ue.Transition,matchers:r,animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Pc(e.options)}}visitSequence(e,t){return{type:Ue.Sequence,steps:e.steps.map(i=>Xi(this,i,t)),options:Pc(e.options)}}visitGroup(e,t){let i=t.currentTime,r=0,s=e.steps.map(o=>{t.currentTime=i;let a=Xi(this,o,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:Ue.Group,steps:s,options:Pc(e.options)}}visitAnimate(e,t){let i=WQ(e.timings,t.errors);t.currentAnimateTimings=i;let r,s=e.styles?e.styles:qs({});if(s.type==Ue.Keyframes)r=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;let c={};i.easing&&(c.easing=i.easing),o=qs(c)}t.currentTime+=i.duration+i.delay;let l=this.visitStyle(o,t);l.isEmptyStep=a,r=l}return t.currentAnimateTimings=null,{type:Ue.Animate,timings:i,style:r,options:null}}visitStyle(e,t){let i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){let i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)typeof a=="string"?a===Gs?i.push(a):t.errors.push(sQ(a)):i.push(new Map(Object.entries(a)));let s=!1,o=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s)){for(let l of a.values())if(l.toString().indexOf(_3)>=0){s=!0;break}}}),{type:Ue.Style,styles:i,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){let i=t.currentAnimateTimings,r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,l)=>{let c=t.collectedStyles.get(t.currentQuerySelector),d=c.get(l),h=!0;d&&(s!=r&&s>=d.startTime&&r<=d.endTime&&(t.errors.push(oQ(l,d.startTime,d.endTime,s,r)),h=!1),s=d.startTime),h&&c.set(l,{startTime:s,endTime:r}),t.options&&kQ(a,t.options,t.errors)})})}visitKeyframes(e,t){let i={type:Ue.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(aQ()),i;let r=1,s=0,o=[],a=!1,l=!1,c=0,d=e.steps.map(j=>{let Z=this._makeStyleAst(j,t),W=Z.offset!=null?Z.offset:qQ(Z.styles),Y=0;return W!=null&&(s++,Y=Z.offset=W),l=l||Y<0||Y>1,a=a||Y<c,c=Y,o.push(Y),Z});l&&t.errors.push(lQ()),a&&t.errors.push(cQ());let h=e.steps.length,m=0;s>0&&s<h?t.errors.push(uQ()):s==0&&(m=r/(h-1));let v=h-1,b=t.currentTime,A=t.currentAnimateTimings,S=A.duration;return d.forEach((j,Z)=>{let W=m>0?Z==v?1:m*Z:o[Z],Y=W*S;t.currentTime=b+A.delay+Y,A.duration=Y,this._validateStyleAst(j,t),j.offset=W,i.styles.push(j)}),i}visitReference(e,t){return{type:Ue.Reference,animation:Xi(this,Pp(e.animation),t),options:Pc(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:Ue.AnimateChild,options:Pc(e.options)}}visitAnimateRef(e,t){return{type:Ue.AnimateRef,animation:this.visitReference(e.animation,t),options:Pc(e.options)}}visitQuery(e,t){let i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;let[s,o]=HQ(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,er(t.collectedStyles,t.currentQuerySelector,new Map);let a=Xi(this,Pp(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:Ue.Query,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:Pc(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(dQ());let i=e.timings==="full"?{duration:0,delay:0,easing:"full"}:Tv(e.timings,t.errors,!0);return{type:Ue.Stagger,animation:Xi(this,Pp(e.animation),t),timings:i,options:null}}};function HQ(n){let e=!!n.split(/\s*,\s*/).find(t=>t==w3);return e&&(n=n.replace($Q,"")),n=n.replace(/@\*/g,Iv).replace(/@\w+/g,t=>Iv+"-"+t.slice(1)).replace(/:animating/g,hS),[n,e]}function GQ(n){return n?Q({},n):null}var mS=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function qQ(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function WQ(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let s=Tv(n,e).duration;return oS(s,0,"")}let t=n;if(t.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=oS(0,0,"");return s.dynamic=!0,s.strValue=t,s}let r=Tv(t,e);return oS(r.duration,r.delay,r.easing)}function Pc(n){return n?(n=Q({},n),n.params&&(n.params=GQ(n.params))):n={},n}function oS(n,e,t){return{duration:n,delay:e,easing:t}}function NS(n,e,t,i,r,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}var Lp=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},KQ=1,QQ=":enter",ZQ=new RegExp(QQ,"g"),YQ=":leave",JQ=new RegExp(YQ,"g");function C3(n,e,t,i,r,s=new Map,o=new Map,a,l,c=[]){return new _S().buildKeyframes(n,e,t,i,r,s,o,a,l,c)}var _S=class{buildKeyframes(e,t,i,r,s,o,a,l,c,d=[]){c=c||new Lp;let h=new yS(e,t,c,r,s,d,[]);h.options=l;let m=l.delay?jo(l.delay):0;h.currentTimeline.delayNextStep(m),h.currentTimeline.setStyles([o],null,h.errors,l),Xi(this,i,h);let v=h.timelines.filter(b=>b.containsAnimation());if(v.length&&a.size){let b;for(let A=v.length-1;A>=0;A--){let S=v[A];if(S.element===t){b=S;break}}b&&!b.allowOnlyTimelineStyles()&&b.setStyles([a],null,h.errors,l)}return v.length?v.map(b=>b.buildKeyframes()):[NS(t,[],[],[],0,m,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let i=t.subInstructions.get(t.element);if(i){let r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(i,r,r.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){let i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(let r of e){let s=r?.delay;if(s){let o=typeof s=="number"?s:jo(Fp(s,r?.params??{},t.errors));i.delayNextStep(o)}}}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime,o=i.duration!=null?jo(i.duration):null,a=i.delay!=null?jo(i.delay):null;return o!==0&&e.forEach(l=>{let c=t.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Xi(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let i=t.subContextCount,r=t,s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),s.delay!=null)){r.previousNode.type==Ue.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Mv);let o=jo(s.delay);r.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>Xi(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let i=[],r=t.currentTimeline.currentTime,s=e.options&&e.options.delay?jo(e.options.delay):0;e.steps.forEach(o=>{let a=t.createSubContext(e.options);s&&a.delayNextStep(s),Xi(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let i=e.strValue,r=t.params?Fp(i,t.params,t.errors):i;return Tv(r,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());let s=e.style;s.type==Ue.Keyframes?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();let s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(l=>{let c=l.offset||0;a.forwardTime(c*s),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){let i=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?jo(r.delay):0;s&&(t.previousNode.type===Ue.Style||i==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Mv);let o=i,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,d)=>{t.currentQueryIndex=d;let h=t.createSubContext(e.options,c);s&&h.delayNextStep(s),c===t.element&&(l=h.currentTimeline),Xi(this,e.animation,h),h.currentTimeline.applyStylesToKeyframe();let m=h.currentTimeline.currentTime;o=Math.max(o,m)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let i=t.parentContext,r=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1),l=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime;break}let d=t.currentTimeline;l&&d.delayNextStep(l);let h=d.currentTime;Xi(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-h+(r.startTime-i.currentTimeline.startTime)}},Mv={},yS=class n{constructor(e,t,i,r,s,o,a,l){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Mv,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Av(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let i=e,r=this.options;i.duration!=null&&(r.duration=jo(i.duration)),i.delay!=null&&(r.delay=jo(i.delay));let s=i.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=Fp(s[a],o,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){let r=t||this.element,s=new n(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Mv,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){let r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},s=new vS(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,s,o){let a=[];if(r&&a.push(this.element),e.length>0){e=e.replace(ZQ,"."+this._enterClassName),e=e.replace(JQ,"."+this._leaveClassName);let l=i!=1,c=this._driver.query(this.element,e,l);i!==0&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!s&&a.length==0&&o.push(hQ(t)),a}},Av=class n{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=KQ,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Gs),this._currentKeyframe.set(t,Gs);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);let s=r&&r.params||{},o=XQ(e,this._globalTimelineStyles);for(let[a,l]of o){let c=Fp(l,s,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Gs),this._updateStyle(a,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{let r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,i=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((a,l)=>{let c=new Map([...this._backFill,...a]);c.forEach((d,h)=>{d===yv?e.add(h):d===Gs&&t.add(h)}),i||c.set("offset",l/this.duration),r.push(c)});let s=[...e.values()],o=[...t.values()];if(i){let a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return NS(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}},vS=class extends Av{constructor(e,t,i,r,s,o,a=!1){super(e,t,o.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){let s=[],o=i+t,a=t/o,l=new Map(e[0]);l.set("offset",0),s.push(l);let c=new Map(e[0]);c.set("offset",o3(a)),s.push(c);let d=e.length-1;for(let h=1;h<=d;h++){let m=new Map(e[h]),v=m.get("offset"),b=t+v*i;m.set("offset",o3(b/o)),s.push(m)}i=o,t=0,r="",e=s}return NS(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}};function o3(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function XQ(n,e){let t=new Map,i;return n.forEach(r=>{if(r==="*"){i??=e.keys();for(let s of i)t.set(s,Gs)}else for(let[s,o]of r)t.set(s,o)}),t}function a3(n,e,t,i,r,s,o,a,l,c,d,h,m){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:d,totalTime:h,errors:m}}var aS={},xv=class{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return eZ(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return e!==void 0&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,s,o,a,l,c,d){let h=[],m=this.ast.options&&this.ast.options.params||aS,v=a&&a.params||aS,b=this.buildStyles(i,v,h),A=l&&l.params||aS,S=this.buildStyles(r,A,h),j=new Set,Z=new Map,W=new Map,Y=r==="void",ge={params:E3(A,m),delay:this.ast.options?.delay},ae=d?[]:C3(e,t,this.ast.animation,s,o,b,S,ge,c,h),R=0;return ae.forEach(T=>{R=Math.max(T.duration+T.delay,R)}),h.length?a3(t,this._triggerName,i,r,Y,b,S,[],[],Z,W,R,h):(ae.forEach(T=>{let M=T.element,N=er(Z,M,new Set);T.preStyleProps.forEach(P=>N.add(P));let k=er(W,M,new Set);T.postStyleProps.forEach(P=>k.add(P)),M!==t&&j.add(M)}),a3(t,this._triggerName,i,r,Y,b,S,ae,[...j.values()],Z,W,R))}};function eZ(n,e,t,i,r){return n.some(s=>s(e,t,i,r))}function E3(n,e){let t=Q({},e);return Object.entries(n).forEach(([i,r])=>{r!=null&&(t[i]=r)}),t}var wS=class{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){let i=new Map,r=E3(e,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((o,a)=>{o&&(o=Fp(o,r,t));let l=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,l,o,t),i.set(a,o)})}),i}};function tZ(n,e,t){return new bS(n,e,t)}var bS=class{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{let s=r.options&&r.options.params||{};this.states.set(r.name,new wS(r.style,s,i))}),l3(this.states,"true","1"),l3(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new xv(e,r,this.states))}),this.fallbackTransition=nZ(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(o=>o.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}};function nZ(n,e,t){let i=[(o,a)=>!0],r={type:Ue.Sequence,steps:[],options:null},s={type:Ue.Transition,animation:r,matchers:i,options:null,queryCount:0,depCount:0};return new xv(n,s,e)}function l3(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}var iZ=new Lp,CS=class{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){let i=[],r=[],s=b3(this._driver,t,i,r);if(i.length)throw _Q(i);r.length&&void 0,this._animations.set(e,s)}_buildPlayer(e,t,i){let r=e.element,s=p3(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){let r=[],s=this._animations.get(e),o,a=new Map;if(s?(o=C3(this._driver,t,s,y3,dS,new Map,new Map,i,iZ,r),o.forEach(d=>{let h=er(a,d.element,new Map);d.postStyleProps.forEach(m=>h.set(m,null))})):(r.push(yQ()),o=[]),r.length)throw vQ(r);a.forEach((d,h)=>{d.forEach((m,v)=>{d.set(v,this._driver.computeStyle(h,v,Gs))})});let l=o.map(d=>{let h=a.get(d.element);return this._buildPlayer(d,new Map,h)}),c=rl(l);return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw wQ(e);return t}listen(e,t,i,r){let s=MS(t,"","","");return SS(this._getPlayer(e),i,s,r),()=>{}}command(e,t,i,r){if(i=="register"){this.register(e,r[0]);return}if(i=="create"){let o=r[0]||{};this.create(e,t,o);return}let s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e);break}}},c3="ng-animate-queued",rZ=".ng-animate-queued",lS="ng-animate-disabled",sZ=".ng-animate-disabled",oZ="ng-star-inserted",aZ=".ng-star-inserted",lZ=[],I3={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},cZ={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ns="__ng_removed",Vp=class{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let i=e&&e.hasOwnProperty("value"),r=i?e.value:e;if(this.value=dZ(r),i){let s=e,{value:o}=s,a=Hh(s,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let i=this.options.params;Object.keys(t).forEach(r=>{i[r]==null&&(i[r]=t[r])})}}},kp="void",cS=new Vp(kp),ES=class{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Er(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw bQ(i,t);if(i==null||i.length==0)throw CQ(t);if(!hZ(i))throw EQ(i,t);let s=er(this._elementListeners,e,[]),o={name:t,phase:i,callback:r};s.push(o);let a=er(this._engine.statesByElement,e,new Map);return a.has(t)||(Er(e,vv),Er(e,vv+"-"+t),a.set(t,cS)),()=>{this._engine.afterFlush(()=>{let l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw IQ(e);return t}trigger(e,t,i,r=!0){let s=this._getTrigger(t),o=new Bp(this.id,t,e),a=this._engine.statesByElement.get(e);a||(Er(e,vv),Er(e,vv+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t),c=new Vp(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(t,c),l||(l=cS),!(c.value===kp)&&l.value===c.value){if(!gZ(l.params,c.params)){let A=[],S=s.matchStyles(l.value,l.params,A),j=s.matchStyles(c.value,c.params,A);A.length?this._engine.reportError(A):this._engine.afterFlush(()=>{kc(e,S),Ws(e,j)})}return}let m=er(this._engine.playersByElement,e,[]);m.forEach(A=>{A.namespaceId==this.id&&A.triggerName==t&&A.queued&&A.destroy()});let v=s.matchTransition(l.value,c.value,e,c.params),b=!1;if(!v){if(!r)return;v=s.fallbackTransition,b=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:v,fromState:l,toState:c,player:o,isFallbackTransition:b}),b||(Er(e,c3),o.onStart(()=>{nh(e,c3)})),o.onDone(()=>{let A=this.players.indexOf(o);A>=0&&this.players.splice(A,1);let S=this._engine.playersByElement.get(e);if(S){let j=S.indexOf(o);j>=0&&S.splice(j,1)}}),this.players.push(o),m.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let i=this._engine.driver.query(e,Iv,!0);i.forEach(r=>{if(r[ns])return;let s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){let s=this._engine.statesByElement.get(e),o=new Map;if(s){let a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){let d=this.trigger(e,c,kp,r);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),i&&rl(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){let r=new Set;t.forEach(s=>{let o=s.name;if(r.has(o))return;r.add(o);let l=this._triggers.get(o).fallbackTransition,c=i.get(o)||cS,d=new Vp(kp),h=new Bp(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:d,player:h,isFallbackTransition:!0})})}}removeNode(e,t){let i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){let s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let o=e;for(;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{let s=e[ns];(!s||s===I3)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Er(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(i=>{let r=i.player;if(r.destroyed)return;let s=i.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==i.triggerName){let l=MS(s,i.triggerName,i.fromState.value,i.toState.value);l._data=e,SS(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{let s=i.transition.ast.depCount,o=r.transition.ast.depCount;return s==0||o==0?s-o:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},IS=class{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){let i=new ES(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){let i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){let l=r.get(a);if(l){let c=i.indexOf(l);i.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);let r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,i=this.statesByElement.get(e);if(i){for(let r of i.values())if(r.namespaceId){let s=this._fetchNamespace(r.namespaceId);s&&t.add(s)}}return t}trigger(e,t,i,r){if(Cv(t)){let s=this._fetchNamespace(e);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!Cv(t))return;let s=t[ns];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){let o=this._fetchNamespace(e);o&&o.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Er(e,lS)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),nh(e,lS))}removeNode(e,t,i){if(Cv(t)){let r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);let s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,s){this.collectedLeaveElements.push(t),t[ns]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,i,r,s){return Cv(t)?this._fetchNamespace(e).listen(t,i,r,s):()=>{}}_buildInstruction(e,t,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,Iv,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,hS,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return rl(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[ns];if(t&&t.setForRemoval){if(e[ns]=I3,t.namespaceId){this.destroyInnerAnimations(e);let i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(lS)&&this.markElementAsDisabled(e,!1),this.driver.query(e,sZ,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let r=this.collectedEnterElements[i];Er(r,oZ)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let r=this.collectedLeaveElements[i];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],t.length?rl(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw TQ(e)}_flushAnimations(e,t){let i=new Lp,r=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,d=new Set;this.disabledNodes.forEach(me=>{d.add(me);let Ce=this.driver.query(me,rZ,!0);for(let Te=0;Te<Ce.length;Te++)d.add(Ce[Te])});let h=this.bodyNode,m=Array.from(this.statesByElement.keys()),v=h3(m,this.collectedEnterElements),b=new Map,A=0;v.forEach((me,Ce)=>{let Te=y3+A++;b.set(Ce,Te),me.forEach(ze=>Er(ze,Te))});let S=[],j=new Set,Z=new Set;for(let me=0;me<this.collectedLeaveElements.length;me++){let Ce=this.collectedLeaveElements[me],Te=Ce[ns];Te&&Te.setForRemoval&&(S.push(Ce),j.add(Ce),Te.hasAnimation?this.driver.query(Ce,aZ,!0).forEach(ze=>j.add(ze)):Z.add(Ce))}let W=new Map,Y=h3(m,Array.from(j));Y.forEach((me,Ce)=>{let Te=dS+A++;W.set(Ce,Te),me.forEach(ze=>Er(ze,Te))}),e.push(()=>{v.forEach((me,Ce)=>{let Te=b.get(Ce);me.forEach(ze=>nh(ze,Te))}),Y.forEach((me,Ce)=>{let Te=W.get(Ce);me.forEach(ze=>nh(ze,Te))}),S.forEach(me=>{this.processLeaveNode(me)})});let ge=[],ae=[];for(let me=this._namespaceList.length-1;me>=0;me--)this._namespaceList[me].drainQueuedTransitions(t).forEach(Te=>{let ze=Te.player,ut=Te.element;if(ge.push(ze),this.collectedEnterElements.length){let Dt=ut[ns];if(Dt&&Dt.setForMove){if(Dt.previousTriggersValues&&Dt.previousTriggersValues.has(Te.triggerName)){let Li=Dt.previousTriggersValues.get(Te.triggerName),Qn=this.statesByElement.get(Te.element);if(Qn&&Qn.has(Te.triggerName)){let Vi=Qn.get(Te.triggerName);Vi.value=Li,Qn.set(Te.triggerName,Vi)}}ze.destroy();return}}let wn=!h||!this.driver.containsElement(h,ut),gt=W.get(ut),Tt=b.get(ut),dt=this._buildInstruction(Te,i,Tt,gt,wn);if(dt.errors&&dt.errors.length){ae.push(dt);return}if(wn){ze.onStart(()=>kc(ut,dt.fromStyles)),ze.onDestroy(()=>Ws(ut,dt.toStyles)),r.push(ze);return}if(Te.isFallbackTransition){ze.onStart(()=>kc(ut,dt.fromStyles)),ze.onDestroy(()=>Ws(ut,dt.toStyles)),r.push(ze);return}let Ti=[];dt.timelines.forEach(Dt=>{Dt.stretchStartingKeyframe=!0,this.disabledNodes.has(Dt.element)||Ti.push(Dt)}),dt.timelines=Ti,i.append(ut,dt.timelines);let qc={instruction:dt,player:ze,element:ut};o.push(qc),dt.queriedElements.forEach(Dt=>er(a,Dt,[]).push(ze)),dt.preStyleProps.forEach((Dt,Li)=>{if(Dt.size){let Qn=l.get(Li);Qn||l.set(Li,Qn=new Set),Dt.forEach((Vi,rr)=>Qn.add(rr))}}),dt.postStyleProps.forEach((Dt,Li)=>{let Qn=c.get(Li);Qn||c.set(Li,Qn=new Set),Dt.forEach((Vi,rr)=>Qn.add(rr))})});if(ae.length){let me=[];ae.forEach(Ce=>{me.push(DQ(Ce.triggerName,Ce.errors))}),ge.forEach(Ce=>Ce.destroy()),this.reportError(me)}let R=new Map,T=new Map;o.forEach(me=>{let Ce=me.element;i.has(Ce)&&(T.set(Ce,Ce),this._beforeAnimationBuild(me.player.namespaceId,me.instruction,R))}),r.forEach(me=>{let Ce=me.element;this._getPreviousPlayers(Ce,!1,me.namespaceId,me.triggerName,null).forEach(ze=>{er(R,Ce,[]).push(ze),ze.destroy()})});let M=S.filter(me=>f3(me,l,c)),N=new Map;d3(N,this.driver,Z,c,Gs).forEach(me=>{f3(me,l,c)&&M.push(me)});let P=new Map;v.forEach((me,Ce)=>{d3(P,this.driver,new Set(me),l,yv)}),M.forEach(me=>{let Ce=N.get(me),Te=P.get(me);N.set(me,new Map([...Ce?.entries()??[],...Te?.entries()??[]]))});let O=[],Ii=[],Tr={};o.forEach(me=>{let{element:Ce,player:Te,instruction:ze}=me;if(i.has(Ce)){if(d.has(Ce)){Te.onDestroy(()=>Ws(Ce,ze.toStyles)),Te.disabled=!0,Te.overrideTotalTime(ze.totalTime),r.push(Te);return}let ut=Tr;if(T.size>1){let gt=Ce,Tt=[];for(;gt=gt.parentNode;){let dt=T.get(gt);if(dt){ut=dt;break}Tt.push(gt)}Tt.forEach(dt=>T.set(dt,ut))}let wn=this._buildAnimation(Te.namespaceId,ze,R,s,P,N);if(Te.setRealPlayer(wn),ut===Tr)O.push(Te);else{let gt=this.playersByElement.get(ut);gt&&gt.length&&(Te.parentPlayer=rl(gt)),r.push(Te)}}else kc(Ce,ze.fromStyles),Te.onDestroy(()=>Ws(Ce,ze.toStyles)),Ii.push(Te),d.has(Ce)&&r.push(Te)}),Ii.forEach(me=>{let Ce=s.get(me.element);if(Ce&&Ce.length){let Te=rl(Ce);me.setRealPlayer(Te)}}),r.forEach(me=>{me.parentPlayer?me.syncPlayerEvents(me.parentPlayer):me.destroy()});for(let me=0;me<S.length;me++){let Ce=S[me],Te=Ce[ns];if(nh(Ce,dS),Te&&Te.hasAnimation)continue;let ze=[];if(a.size){let wn=a.get(Ce);wn&&wn.length&&ze.push(...wn);let gt=this.driver.query(Ce,hS,!0);for(let Tt=0;Tt<gt.length;Tt++){let dt=a.get(gt[Tt]);dt&&dt.length&&ze.push(...dt)}}let ut=ze.filter(wn=>!wn.destroyed);ut.length?fZ(this,Ce,ut):this.processLeaveNode(Ce)}return S.length=0,O.forEach(me=>{this.players.push(me),me.onDone(()=>{me.destroy();let Ce=this.players.indexOf(me);this.players.splice(Ce,1)}),me.play()}),O}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,s){let o=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(o=a)}else{let a=this.playersByElement.get(e);if(a){let l=!s||s==kp;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||o.push(c)})}}return(i||r)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(e,t,i){let r=t.triggerName,s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:r;for(let l of t.timelines){let c=l.element,d=c!==s,h=er(i,c,[]);this._getPreviousPlayers(c,d,o,a,t.toState).forEach(v=>{let b=v.getRealPlayer();b.beforeDestroy&&b.beforeDestroy(),v.destroy(),h.push(v)})}kc(s,t.fromStyles)}_buildAnimation(e,t,i,r,s,o){let a=t.triggerName,l=t.element,c=[],d=new Set,h=new Set,m=t.timelines.map(b=>{let A=b.element;d.add(A);let S=A[ns];if(S&&S.removedBeforeQueried)return new il(b.duration,b.delay);let j=A!==l,Z=pZ((i.get(A)||lZ).map(R=>R.getRealPlayer())).filter(R=>{let T=R;return T.element?T.element===A:!1}),W=s.get(A),Y=o.get(A),ge=p3(this._normalizer,b.keyframes,W,Y),ae=this._buildPlayer(b,ge,Z);if(b.subTimeline&&r&&h.add(A),j){let R=new Bp(e,a,A);R.setRealPlayer(ae),c.push(R)}return ae});c.forEach(b=>{er(this.playersByQueriedElement,b.element,[]).push(b),b.onDone(()=>uZ(this.playersByQueriedElement,b.element,b))}),d.forEach(b=>Er(b,i3));let v=rl(m);return v.onDestroy(()=>{d.forEach(b=>nh(b,i3)),Ws(l,t.toStyles)}),h.forEach(b=>{er(r,b,[]).push(v)}),v}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new il(e.duration,e.delay)}},Bp=class{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new il,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>SS(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){er(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function uZ(n,e,t){let i=n.get(e);if(i){if(i.length){let r=i.indexOf(t);i.splice(r,1)}i.length==0&&n.delete(e)}return i}function dZ(n){return n??null}function Cv(n){return n&&n.nodeType===1}function hZ(n){return n=="start"||n=="done"}function u3(n,e){let t=n.style.display;return n.style.display=e??"none",t}function d3(n,e,t,i,r){let s=[];t.forEach(l=>s.push(u3(l)));let o=[];i.forEach((l,c)=>{let d=new Map;l.forEach(h=>{let m=e.computeStyle(c,h,r);d.set(h,m),(!m||m.length==0)&&(c[ns]=cZ,o.push(c))}),n.set(c,d)});let a=0;return t.forEach(l=>u3(l,s[a++])),o}function h3(n,e){let t=new Map;if(n.forEach(a=>t.set(a,[])),e.length==0)return t;let i=1,r=new Set(e),s=new Map;function o(a){if(!a)return i;let l=s.get(a);if(l)return l;let c=a.parentNode;return t.has(c)?l=c:r.has(c)?l=i:l=o(c),s.set(a,l),l}return e.forEach(a=>{let l=o(a);l!==i&&t.get(l).push(a)}),t}function Er(n,e){n.classList?.add(e)}function nh(n,e){n.classList?.remove(e)}function fZ(n,e,t){rl(t).onDone(()=>n.processLeaveNode(e))}function pZ(n){let e=[];return T3(n,e),e}function T3(n,e){for(let t=0;t<n.length;t++){let i=n[t];i instanceof Np?T3(i.players,e):e.push(i)}}function gZ(n,e){let t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){let s=t[r];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}function f3(n,e,t){let i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(s=>r.add(s)):e.set(n,i),t.delete(n),!0}var rh=class{constructor(e,t,i){this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new IS(e.body,t,i),this._timelineEngine=new CS(e.body,t,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,i,r,s){let o=e+"-"+r,a=this._triggerCache[o];if(!a){let l=[],c=[],d=b3(this._driver,s,l,c);if(l.length)throw gQ(r,l);c.length&&void 0,a=tZ(r,d,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if(i.charAt(0)=="@"){let[s,o]=t3(i),a=r;this._timelineEngine.command(s,t,o,a)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,s){if(i.charAt(0)=="@"){let[o,a]=t3(i);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function mZ(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=uS(e[0]),e.length>1&&(i=uS(e[e.length-1]))):e instanceof Map&&(t=uS(e)),t||i?new TS(n,t,i):null}var ih=class ih{constructor(e,t,i){this._element=e,this._startStyles=t,this._endStyles=i,this._state=0;let r=ih.initialStylesByElement.get(e);r||ih.initialStylesByElement.set(e,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&Ws(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ws(this._element,this._initialStyles),this._endStyles&&(Ws(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(ih.initialStylesByElement.delete(this._element),this._startStyles&&(kc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(kc(this._element,this._endStyles),this._endStyles=null),Ws(this._element,this._initialStyles),this._state=3)}};ih.initialStylesByElement=new WeakMap;var TS=ih;function uS(n){let e=null;return n.forEach((t,i)=>{_Z(i)&&(e=e||new Map,e.set(i,t))}),e}function _Z(n){return n==="display"||n==="position"}var Rv=class{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{r!=="offset"&&e.set(r,this._finished?i:OS(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}},Ov=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return g3(e,t)}getParentElement(e){return AS(e)}query(e,t,i){return m3(e,t,i)}computeStyle(e,t,i){return OS(e,t)}animate(e,t,i,r,s,o=[]){let a=r==0?"both":"forwards",l={duration:i,delay:r,fill:a};s&&(l.easing=s);let c=new Map,d=o.filter(v=>v instanceof Rv);LQ(i,r)&&d.forEach(v=>{v.currentSnapshot.forEach((b,A)=>c.set(A,b))});let h=PQ(t).map(v=>new Map(v));h=VQ(e,h,c);let m=mZ(e,h);return new Rv(e,h,l,m)}};var Ev="@",D3="@.disabled",Nv=class{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){t.charAt(0)==Ev&&t==D3?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},DS=class extends Nv{constructor(e,t,i,r,s){super(t,i,r,s),this.factory=e,this.namespaceId=t}setProperty(e,t,i){t.charAt(0)==Ev?t.charAt(1)=="."&&t==D3?(i=i===void 0?!0:!!i,this.disableAnimations(e,i)):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if(t.charAt(0)==Ev){let r=yZ(e),s=t.slice(1),o="";return s.charAt(0)!=Ev&&([s,o]=vZ(s)),this.engine.listen(this.namespaceId,r,s,o,a=>{let l=a._data||-1;this.factory.scheduleListenerCallback(l,i,a)})}return this.delegate.listen(e,t,i)}};function yZ(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function vZ(n){let e=n.indexOf("."),t=n.substring(0,e),i=n.slice(e+1);return[t,i]}var Pv=class{constructor(e,t,i){this.delegate=e,this.engine=t,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(r,s)=>{s?.removeChild(null,r)}}createRenderer(e,t){let i="",r=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let c=this._rendererCache,d=c.get(r);if(!d){let h=()=>c.delete(r);d=new Nv(i,r,this.engine,h),c.set(r,d)}return d}let s=t.id,o=t.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);let a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(s,o,e,c.name,c)};return t.data.animation.forEach(a),new DS(this,o,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,i){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(i));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(s=>{let[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),r.push([t,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var bZ=(()=>{let e=class e extends rh{constructor(i,r,s){super(i,r,s)}ngOnDestroy(){this.flush()}};e.\u0275fac=function(r){return new(r||e)(G(Ze),G(Fc),G(Lc))},e.\u0275prov=ee({token:e,factory:e.\u0275fac});let n=e;return n})();function CZ(){return new Dv}function EZ(n,e,t){return new Pv(n,e,t)}var M3=[{provide:Lc,useFactory:CZ},{provide:rh,useClass:bZ},{provide:ga,useFactory:EZ,deps:[m_,rh,De]}],S3=[{provide:Fc,useFactory:()=>new Ov},{provide:J1,useValue:"BrowserAnimations"},...M3],IZ=[{provide:Fc,useClass:xS},{provide:J1,useValue:"NoopAnimations"},...M3],A3=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:i.disableAnimations?IZ:S3}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({providers:S3,imports:[y_]});let n=e;return n})();var We="primary",Xp=Symbol("RouteTitle"),BS=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function uh(n){return new BS(n)}function TZ(n,e,t){let i=t.path.split("/");if(i.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||i.length<n.length))return null;let r={};for(let s=0;s<i.length;s++){let o=i[s],a=n[s];if(o[0]===":")r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function DZ(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ks(n[t],e[t]))return!1;return!0}function Ks(n,e){let t=n?US(n):void 0,i=e?US(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!U3(n[r],e[r]))return!1;return!0}function US(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function U3(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}else return n===e}function j3(n){return n.length>0?n[n.length-1]:null}function ol(n){return ib(n)?n:Ca(n)?Ge(Promise.resolve(n)):le(n)}var SZ={exact:$3,subset:H3},z3={exact:MZ,subset:AZ,ignored:()=>!0};function x3(n,e,t){return SZ[t.paths](n.root,e.root,t.matrixParams)&&z3[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function MZ(n,e){return Ks(n,e)}function $3(n,e,t){if(!Bc(n.segments,e.segments)||!Lv(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!n.children[i]||!$3(n.children[i],e.children[i],t))return!1;return!0}function AZ(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>U3(n[t],e[t]))}function H3(n,e,t){return G3(n,e,e.segments,t)}function G3(n,e,t,i){if(n.segments.length>t.length){let r=n.segments.slice(0,t.length);return!(!Bc(r,t)||e.hasChildren()||!Lv(r,t,i))}else if(n.segments.length===t.length){if(!Bc(n.segments,t)||!Lv(n.segments,t,i))return!1;for(let r in e.children)if(!n.children[r]||!H3(n.children[r],e.children[r],i))return!1;return!0}else{let r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!Bc(n.segments,r)||!Lv(n.segments,r,i)||!n.children[We]?!1:G3(n.children[We],e,s,i)}}function Lv(n,e,t){return e.every((i,r)=>z3[t](n[r].parameters,i.parameters))}var $o=class{constructor(e=new _t([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap??=uh(this.queryParams),this._queryParamMap}toString(){return OZ.serialize(this)}},_t=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Vv(this)}},Vc=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=uh(this.parameters),this._parameterMap}toString(){return W3(this)}};function xZ(n,e){return Bc(n,e)&&n.every((t,i)=>Ks(t.parameters,e[i].parameters))}function Bc(n,e){return n.length!==e.length?!1:n.every((t,i)=>t.path===e[i].path)}function RZ(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===We&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==We&&(t=t.concat(e(r,i)))}),t}var eg=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ee({token:e,factory:()=>new dh,providedIn:"root"});let n=e;return n})(),dh=class{parse(e){let t=new zS(e);return new $o(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Up(e.root,!0)}`,i=kZ(e.queryParams),r=typeof e.fragment=="string"?`#${NZ(e.fragment)}`:"";return`${t}${i}${r}`}},OZ=new dh;function Vv(n){return n.segments.map(e=>W3(e)).join("/")}function Up(n,e){if(!n.hasChildren())return Vv(n);if(e){let t=n.children[We]?Up(n.children[We],!1):"",i=[];return Object.entries(n.children).forEach(([r,s])=>{r!==We&&i.push(`${r}:${Up(s,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}else{let t=RZ(n,(i,r)=>r===We?[Up(n.children[We],!1)]:[`${r}:${Up(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[We]!=null?`${Vv(n)}/${t[0]}`:`${Vv(n)}/(${t.join("//")})`}}function q3(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function kv(n){return q3(n).replace(/%3B/gi,";")}function NZ(n){return encodeURI(n)}function jS(n){return q3(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Bv(n){return decodeURIComponent(n)}function R3(n){return Bv(n.replace(/\+/g,"%20"))}function W3(n){return`${jS(n.path)}${PZ(n.parameters)}`}function PZ(n){return Object.entries(n).map(([e,t])=>`;${jS(e)}=${jS(t)}`).join("")}function kZ(n){let e=Object.entries(n).map(([t,i])=>Array.isArray(i)?i.map(r=>`${kv(t)}=${kv(r)}`).join("&"):`${kv(t)}=${kv(i)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var FZ=/^[^\/()?;#]+/;function kS(n){let e=n.match(FZ);return e?e[0]:""}var LZ=/^[^\/()?;=#]+/;function VZ(n){let e=n.match(LZ);return e?e[0]:""}var BZ=/^[^=?&#]+/;function UZ(n){let e=n.match(BZ);return e?e[0]:""}var jZ=/^[^&#]+/;function zZ(n){let e=n.match(jZ);return e?e[0]:""}var zS=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new _t([],{}):new _t([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[We]=new _t(e,t)),i}parseSegment(){let e=kS(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new re(4009,!1);return this.capture(e),new Vc(Bv(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=VZ(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let r=kS(this.remaining);r&&(i=r,this.capture(i))}e[Bv(t)]=Bv(i)}parseQueryParam(e){let t=UZ(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let o=zZ(this.remaining);o&&(i=o,this.capture(i))}let r=R3(t),s=R3(i);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=kS(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new re(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=We);let o=this.parseChildren();t[s]=Object.keys(o).length===1?o[We]:new _t([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new re(4011,!1)}};function K3(n){return n.segments.length>0?new _t([],{[We]:n}):n}function Q3(n){let e={};for(let[i,r]of Object.entries(n.children)){let s=Q3(r);if(i===We&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[i]=s)}let t=new _t(n.segments,e);return $Z(t)}function $Z(n){if(n.numberOfChildren===1&&n.children[We]){let e=n.children[We];return new _t(n.segments.concat(e.segments),e.children)}return n}function Uc(n){return n instanceof $o}function HZ(n,e,t=null,i=null){let r=Z3(n);return Y3(r,e,t,i)}function Z3(n){let e;function t(s){let o={};for(let l of s.children){let c=t(l);o[l.outlet]=c}let a=new _t(s.url,o);return s===n&&(e=a),a}let i=t(n.root),r=K3(i);return e??r}function Y3(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(e.length===0)return FS(r,r,r,t,i);let s=GZ(e);if(s.toRoot())return FS(r,r,new _t([],{}),t,i);let o=qZ(s,r,n),a=o.processChildren?$p(o.segmentGroup,o.index,s.commands):X3(o.segmentGroup,o.index,s.commands);return FS(r,o.segmentGroup,a,t,i)}function Uv(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function qp(n){return typeof n=="object"&&n!=null&&n.outlets}function FS(n,e,t,i,r){let s={};i&&Object.entries(i).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`});let o;n===e?o=t:o=J3(n,e,t);let a=K3(Q3(o));return new $o(a,s,r)}function J3(n,e,t){let i={};return Object.entries(n.children).forEach(([r,s])=>{s===e?i[r]=t:i[r]=J3(s,e,t)}),new _t(n.segments,i)}var jv=class{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Uv(i[0]))throw new re(4003,!1);let r=i.find(qp);if(r&&r!==j3(i))throw new re(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function GZ(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new jv(!0,0,n);let e=0,t=!1,i=n.reduce((r,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return typeof s!="string"?[...r,s]:o===0?(s.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,s]},[]);return new jv(t,e,i)}var ah=class{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}};function qZ(n,e,t){if(n.isAbsolute)return new ah(e,!0,0);if(!t)return new ah(e,!1,NaN);if(t.parent===null)return new ah(t,!0,0);let i=Uv(n.commands[0])?0:1,r=t.segments.length-1+i;return WZ(t,r,n.numberOfDoubleDots)}function WZ(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new re(4005,!1);r=i.segments.length}return new ah(i,!1,r-s)}function KZ(n){return qp(n[0])?n[0].outlets:{[We]:n}}function X3(n,e,t){if(n??=new _t([],{}),n.segments.length===0&&n.hasChildren())return $p(n,e,t);let i=QZ(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let s=new _t(n.segments.slice(0,i.pathIndex),{});return s.children[We]=new _t(n.segments.slice(i.pathIndex),n.children),$p(s,0,r)}else return i.match&&r.length===0?new _t(n.segments,{}):i.match&&!n.hasChildren()?$S(n,e,t):i.match?$p(n,0,r):$S(n,e,t)}function $p(n,e,t){if(t.length===0)return new _t(n.segments,{});{let i=KZ(t),r={};if(Object.keys(i).some(s=>s!==We)&&n.children[We]&&n.numberOfChildren===1&&n.children[We].segments.length===0){let s=$p(n.children[We],e,t);return new _t(n.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(r[s]=X3(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{i[s]===void 0&&(r[s]=o)}),new _t(n.segments,r)}}function QZ(n,e,t){let i=0,r=e,s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;let o=n.segments[r],a=t[i];if(qp(a))break;let l=`${a}`,c=i<t.length-1?t[i+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!N3(l,c,o))return s;i+=2}else{if(!N3(l,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function $S(n,e,t){let i=n.segments.slice(0,e),r=0;for(;r<t.length;){let s=t[r];if(qp(s)){let l=ZZ(s.outlets);return new _t(i,l)}if(r===0&&Uv(t[0])){let l=n.segments[e];i.push(new Vc(l.path,O3(t[0]))),r++;continue}let o=qp(s)?s.outlets[We]:`${s}`,a=r<t.length-1?t[r+1]:null;o&&a&&Uv(a)?(i.push(new Vc(o,O3(a))),r+=2):(i.push(new Vc(o,{})),r++)}return new _t(i,{})}function ZZ(n){let e={};return Object.entries(n).forEach(([t,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[t]=$S(new _t([],{}),0,i))}),e}function O3(n){let e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function N3(n,e,t){return n==t.path&&Ks(e,t.parameters)}var Hp="imperative",Pn=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Pn||{}),Ir=class{constructor(e,t){this.id=e,this.url=t}},hh=class extends Ir{constructor(e,t,i="imperative",r=null){super(e,t),this.type=Pn.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},rs=class extends Ir{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=Pn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},nr=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(nr||{}),zv=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(zv||{}),zo=class extends Ir{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=Pn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},sl=class extends Ir{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=Pn.NavigationSkipped}},Wp=class extends Ir{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=Pn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},$v=class extends Ir{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=Pn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},HS=class extends Ir{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=Pn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},GS=class extends Ir{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=Pn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},qS=class extends Ir{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=Pn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},WS=class extends Ir{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=Pn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},KS=class{constructor(e){this.route=e,this.type=Pn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},QS=class{constructor(e){this.route=e,this.type=Pn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},ZS=class{constructor(e){this.snapshot=e,this.type=Pn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},YS=class{constructor(e){this.snapshot=e,this.type=Pn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},JS=class{constructor(e){this.snapshot=e,this.type=Pn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},XS=class{constructor(e){this.snapshot=e,this.type=Pn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Hv=class{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=Pn.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Kp=class{},fh=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function YZ(n,e){return n.providers&&!n._injector&&(n._injector=$0(n.providers,e,`Route: ${n.path}`)),n._injector??e}function is(n){return n.outlet||We}function JZ(n,e){let t=n.filter(i=>is(i)===e);return t.push(...n.filter(i=>is(i)!==e)),t}function tg(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var eM=class{get injector(){return tg(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new ng(this.rootInjector),this.attachRef=null}},ng=(()=>{let e=class e{constructor(i){this.rootInjector=i,this.contexts=new Map}onChildOutletCreated(i,r){let s=this.getOrCreateContext(i);s.outlet=r,this.contexts.set(i,s)}onChildOutletDestroyed(i){let r=this.getContext(i);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let r=this.getContext(i);return r||(r=new eM(this.rootInjector),this.contexts.set(i,r)),r}getContext(i){return this.contexts.get(i)||null}};e.\u0275fac=function(r){return new(r||e)(G(On))},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),Gv=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=tM(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){let t=tM(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=nM(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return nM(e,this._root).map(t=>t.value)}};function tM(n,e){if(n===e.value)return e;for(let t of e.children){let i=tM(n,t);if(i)return i}return null}function nM(n,e){if(n===e.value)return[e];for(let t of e.children){let i=nM(n,t);if(i.length)return i.unshift(e),i}return[]}var tr=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function oh(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var qv=class extends Gv{constructor(e,t){super(e),this.snapshot=t,dM(this,e)}toString(){return this.snapshot.toString()}};function eB(n){let e=XZ(n),t=new Nt([new Vc("",{})]),i=new Nt({}),r=new Nt({}),s=new Nt({}),o=new Nt(""),a=new ss(t,i,s,o,r,We,n,e.root);return a.snapshot=e.root,new qv(new tr(a,[]),e)}function XZ(n){let e={},t={},i={},r="",s=new lh([],e,i,r,t,We,n,null,{});return new Kv("",new tr(s,[]))}var ss=class{constructor(e,t,i,r,s,o,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(se(c=>c[Xp]))??le(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(se(e=>uh(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(se(e=>uh(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Wv(n,e,t="emptyOnly"){let i,{routeConfig:r}=n;return e!==null&&(t==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:Q(Q({},e.params),n.params),data:Q(Q({},e.data),n.data),resolve:Q(Q(Q(Q({},n.data),e.data),r?.data),n._resolvedData)}:i={params:Q({},n.params),data:Q({},n.data),resolve:Q(Q({},n.data),n._resolvedData??{})},r&&nB(r)&&(i.resolve[Xp]=r.title),i}var lh=class{get title(){return this.data?.[Xp]}constructor(e,t,i,r,s,o,a,l,c){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=uh(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=uh(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Kv=class extends Gv{constructor(e,t){super(t),this.url=e,dM(this,t)}toString(){return tB(this._root)}};function dM(n,e){e.value._routerState=n,e.children.forEach(t=>dM(n,t))}function tB(n){let e=n.children.length>0?` { ${n.children.map(tB).join(", ")} } `:"";return`${n.value}${e}`}function LS(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ks(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Ks(e.params,t.params)||n.paramsSubject.next(t.params),DZ(e.url,t.url)||n.urlSubject.next(t.url),Ks(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function iM(n,e){let t=Ks(n.params,e.params)&&xZ(n.url,e.url),i=!n.parent!=!e.parent;return t&&!i&&(!n.parent||iM(n.parent,e.parent))}function nB(n){return typeof n.title=="string"||n.title===null}var hM=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=We,this.activateEvents=new xe,this.deactivateEvents=new xe,this.attachEvents=new xe,this.detachEvents=new xe,this.parentContexts=K(ng),this.location=K(Ss),this.changeDetector=K(Ri),this.inputBinder=K(ew,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){let{firstChange:r,previousValue:s}=i.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new re(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new re(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new re(4012,!1);this.location.detach();let i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,r){this.activated=i,this._activatedRoute=r,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){let i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,r){if(this.isActivated)throw new re(4013,!1);this._activatedRoute=i;let s=this.location,a=i.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new rM(i,l,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Qe({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Tn]});let n=e;return n})(),rM=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===ss?this.route:e===ng?this.childContexts:this.parent.get(e,t)}},ew=new oe(""),P3=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(i){this.unsubscribeFromRouteData(i),this.subscribeToRouteData(i)}unsubscribeFromRouteData(i){this.outletDataSubscriptions.get(i)?.unsubscribe(),this.outletDataSubscriptions.delete(i)}subscribeToRouteData(i){let{activatedRoute:r}=i,s=sr([r.queryParams,r.params,r.data]).pipe(Le(([o,a,l],c)=>(l=Q(Q(Q({},o),a),l),c===0?le(l):Promise.resolve(l)))).subscribe(o=>{if(!i.isActivated||!i.activatedComponentRef||i.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(i);return}let a=HN(r.component);if(!a){this.unsubscribeFromRouteData(i);return}for(let{templateName:l}of a.inputs)i.activatedComponentRef.setInput(l,o[l])});this.outletDataSubscriptions.set(i,s)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac});let n=e;return n})();function eY(n,e,t){let i=Qp(n,e._root,t?t._root:void 0);return new qv(i,e)}function Qp(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let i=t.value;i._futureSnapshot=e.value;let r=tY(n,e,t);return new tr(i,r)}else{if(n.shouldAttach(e.value)){let s=n.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Qp(n,a)),o}}let i=nY(e.value),r=e.children.map(s=>Qp(n,s));return new tr(i,r)}}function tY(n,e,t){return e.children.map(i=>{for(let r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Qp(n,i,r);return Qp(n,i)})}function nY(n){return new ss(new Nt(n.url),new Nt(n.params),new Nt(n.queryParams),new Nt(n.fragment),new Nt(n.data),n.outlet,n.component,n)}var Zp=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},iB="ngNavigationCancelingError";function Qv(n,e){let{redirectTo:t,navigationBehaviorOptions:i}=Uc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=rB(!1,nr.Redirect);return r.url=t,r.navigationBehaviorOptions=i,r}function rB(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[iB]=!0,t.cancellationCode=e,t}function iY(n){return sB(n)&&Uc(n.url)}function sB(n){return!!n&&n[iB]}var rY=(n,e,t,i)=>se(r=>(new sM(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)),sM=class{constructor(e,t,i,r,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){let t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),LS(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){let r=oh(t);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){let r=e.value,s=t?t.value:null;if(r===s)if(r.component){let o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=oh(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);if(i&&i.outlet){let o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=oh(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){let r=oh(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new XS(s.value.snapshot))}),e.children.length&&this.forwardEvent(new YS(e.value.snapshot))}activateRoutes(e,t,i){let r=e.value,s=t?t.value:null;if(LS(r),r===s)if(r.component){let o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,i);else if(r.component){let o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),LS(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=r,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,i)}},Zv=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ch=class{constructor(e,t){this.component=e,this.route=t}};function sY(n,e,t){let i=n._root,r=e?e._root:null;return jp(i,r,t,[i.value])}function oY(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function gh(n,e){let t=Symbol(),i=e.get(n,t);return i===t?typeof n=="function"&&!Qx(n)?n:e.get(n):i}function jp(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=oh(e);return n.children.forEach(o=>{aY(o,s[o.value.outlet],t,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Gp(a,t.getContext(o),r)),r}function aY(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let l=lY(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new Zv(i)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?jp(n,e,a?a.children:null,i,r):jp(n,e,t,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new ch(a.outlet.component,o))}else o&&Gp(e,a,r),r.canActivateChecks.push(new Zv(i)),s.component?jp(n,null,a?a.children:null,i,r):jp(n,null,t,i,r);return r}function lY(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Bc(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Bc(n.url,e.url)||!Ks(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!iM(n,e)||!Ks(n.queryParams,e.queryParams);case"paramsChange":default:return!iM(n,e)}}function Gp(n,e,t){let i=oh(n),r=n.value;Object.entries(i).forEach(([s,o])=>{r.component?e?Gp(o,e.children.getContext(s),t):Gp(o,null,t):Gp(o,e,t)}),r.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new ch(e.outlet.component,r)):t.canDeactivateChecks.push(new ch(null,r)):t.canDeactivateChecks.push(new ch(null,r))}function ig(n){return typeof n=="function"}function cY(n){return typeof n=="boolean"}function uY(n){return n&&ig(n.canLoad)}function dY(n){return n&&ig(n.canActivate)}function hY(n){return n&&ig(n.canActivateChild)}function fY(n){return n&&ig(n.canDeactivate)}function pY(n){return n&&ig(n.canMatch)}function oB(n){return n instanceof oo||n?.name==="EmptyError"}var Fv=Symbol("INITIAL_VALUE");function ph(){return Le(n=>sr(n.map(e=>e.pipe(In(1),Nr(Fv)))).pipe(se(e=>{for(let t of e)if(t!==!0){if(t===Fv)return Fv;if(t===!1||gY(t))return t}return!0}),Ut(e=>e!==Fv),In(1)))}function gY(n){return Uc(n)||n instanceof Zp}function mY(n,e){return qt(t=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return o.length===0&&s.length===0?le(Ee(Q({},t),{guardsResult:!0})):_Y(o,i,r,n).pipe(qt(a=>a&&cY(a)?yY(i,s,n,e):le(a)),se(a=>Ee(Q({},t),{guardsResult:a})))})}function _Y(n,e,t,i){return Ge(n).pipe(qt(r=>EY(r.component,r.route,t,e,i)),ar(r=>r!==!0,!0))}function yY(n,e,t,i){return Ge(e).pipe(ao(r=>aa(wY(r.route.parent,i),vY(r.route,i),CY(n,r.path,t),bY(n,r.route,t))),ar(r=>r!==!0,!0))}function vY(n,e){return n!==null&&e&&e(new JS(n)),le(!0)}function wY(n,e){return n!==null&&e&&e(new ZS(n)),le(!0)}function bY(n,e,t){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return le(!0);let r=i.map(s=>Em(()=>{let o=tg(e)??t,a=gh(s,o),l=dY(a)?a.canActivate(e,n):ur(o,()=>a(e,n));return ol(l).pipe(ar())}));return le(r).pipe(ph())}function CY(n,e,t){let i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>oY(o)).filter(o=>o!==null).map(o=>Em(()=>{let a=o.guards.map(l=>{let c=tg(o.node)??t,d=gh(l,c),h=hY(d)?d.canActivateChild(i,n):ur(c,()=>d(i,n));return ol(h).pipe(ar())});return le(a).pipe(ph())}));return le(s).pipe(ph())}function EY(n,e,t,i,r){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return le(!0);let o=s.map(a=>{let l=tg(e)??r,c=gh(a,l),d=fY(c)?c.canDeactivate(n,e,t,i):ur(l,()=>c(n,e,t,i));return ol(d).pipe(ar())});return le(o).pipe(ph())}function IY(n,e,t,i){let r=e.canLoad;if(r===void 0||r.length===0)return le(!0);let s=r.map(o=>{let a=gh(o,n),l=uY(a)?a.canLoad(e,t):ur(n,()=>a(e,t));return ol(l)});return le(s).pipe(ph(),aB(i))}function aB(n){return Zw(Wt(e=>{if(typeof e!="boolean")throw Qv(n,e)}),se(e=>e===!0))}function TY(n,e,t,i){let r=e.canMatch;if(!r||r.length===0)return le(!0);let s=r.map(o=>{let a=gh(o,n),l=pY(a)?a.canMatch(e,t):ur(n,()=>a(e,t));return ol(l)});return le(s).pipe(ph(),aB(i))}var Yp=class{constructor(e){this.segmentGroup=e||null}},Jp=class extends Error{constructor(e){super(),this.urlTree=e}};function sh(n){return Mu(new Yp(n))}function DY(n){return Mu(new re(4e3,!1))}function SY(n){return Mu(rB(!1,nr.GuardRejected))}var oM=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return le(i);if(r.numberOfChildren>1||!r.children[We])return DY(`${e.redirectTo}`);r=r.children[We]}}applyRedirectCommands(e,t,i,r,s){if(typeof t!="string"){let a=t,{queryParams:l,fragment:c,routeConfig:d,url:h,outlet:m,params:v,data:b,title:A}=r,S=ur(s,()=>a({params:v,data:b,queryParams:l,fragment:c,routeConfig:d,url:h,outlet:m,title:A}));if(S instanceof $o)throw new Jp(S);t=S}let o=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i);if(t[0]==="/")throw new Jp(o);return o}applyRedirectCreateUrlTree(e,t,i,r){let s=this.createSegmentGroup(e,t.root,i,r);return new $o(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let i={};return Object.entries(e).forEach(([r,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);i[r]=t[a]}else i[r]=s}),i}createSegmentGroup(e,t,i,r){let s=this.createSegments(e,t.segments,i,r),o={};return Object.entries(t.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,i,r)}),new _t(s,o)}createSegments(e,t,i,r){return t.map(s=>s.path[0]===":"?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){let r=i[t.path.substring(1)];if(!r)throw new re(4001,!1);return r}findOrReturn(e,t){let i=0;for(let r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}},aM={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function MY(n,e,t,i,r){let s=lB(n,e,t);return s.matched?(i=YZ(e,i),TY(i,e,t,r).pipe(se(o=>o===!0?s:Q({},aM)))):le(s)}function lB(n,e,t){if(e.path==="**")return AY(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?Q({},aM):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let r=(e.matcher||TZ)(t,n,e);if(!r)return Q({},aM);let s={};Object.entries(r.posParams??{}).forEach(([a,l])=>{s[a]=l.path});let o=r.consumed.length>0?Q(Q({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function AY(n){return{matched:!0,parameters:n.length>0?j3(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function k3(n,e,t,i){return t.length>0&&OY(n,t,i)?{segmentGroup:new _t(e,RY(i,new _t(t,n.children))),slicedSegments:[]}:t.length===0&&NY(n,t,i)?{segmentGroup:new _t(n.segments,xY(n,t,i,n.children)),slicedSegments:t}:{segmentGroup:new _t(n.segments,n.children),slicedSegments:t}}function xY(n,e,t,i){let r={};for(let s of t)if(tw(n,e,s)&&!i[is(s)]){let o=new _t([],{});r[is(s)]=o}return Q(Q({},i),r)}function RY(n,e){let t={};t[We]=e;for(let i of n)if(i.path===""&&is(i)!==We){let r=new _t([],{});t[is(i)]=r}return t}function OY(n,e,t){return t.some(i=>tw(n,e,i)&&is(i)!==We)}function NY(n,e,t){return t.some(i=>tw(n,e,i))}function tw(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function PY(n,e,t){return e.length===0&&!n.children[t]}var lM=class{};function kY(n,e,t,i,r,s,o="emptyOnly"){return new cM(n,e,t,i,r,o,s).recognize()}var FY=31,cM=class{constructor(e,t,i,r,s,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new oM(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new re(4002,`'${e.segmentGroup}'`)}recognize(){let e=k3(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(se(({children:t,rootSnapshot:i})=>{let r=new tr(i,t),s=new Kv("",r),o=HZ(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let t=new lh([],Object.freeze({}),Object.freeze(Q({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),We,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,We,t).pipe(se(i=>({children:i,rootSnapshot:t})),Xn(i=>{if(i instanceof Jp)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Yp?this.noMatchError(i):i}))}processSegmentGroup(e,t,i,r,s){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,t,i,s):this.processSegment(e,t,i,i.segments,r,!0,s).pipe(se(o=>o instanceof tr?[o]:[]))}processChildren(e,t,i,r){let s=[];for(let o of Object.keys(i.children))o==="primary"?s.unshift(o):s.push(o);return Ge(s).pipe(ao(o=>{let a=i.children[o],l=JZ(t,o);return this.processSegmentGroup(e,l,a,o,r)}),Ol((o,a)=>(o.push(...a),o)),la(null),ub(),qt(o=>{if(o===null)return sh(i);let a=cB(o);return LY(a),le(a)}))}processSegment(e,t,i,r,s,o,a){return Ge(t).pipe(ao(l=>this.processSegmentAgainstRoute(l._injector??e,t,l,i,r,s,o,a).pipe(Xn(c=>{if(c instanceof Yp)return le(null);throw c}))),ar(l=>!!l),Xn(l=>{if(oB(l))return PY(i,r,s)?le(new lM):sh(i);throw l}))}processSegmentAgainstRoute(e,t,i,r,s,o,a,l){return is(i)!==o&&(o===We||!tw(r,s,i))?sh(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,s,o,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,s,o,l):sh(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o,a){let{matched:l,parameters:c,consumedSegments:d,positionalParamSegments:h,remainingSegments:m}=lB(t,r,s);if(!l)return sh(t);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>FY&&(this.allowRedirects=!1));let v=new lh(s,c,Object.freeze(Q({},this.urlTree.queryParams)),this.urlTree.fragment,F3(r),is(r),r.component??r._loadedComponent??null,r,L3(r)),b=Wv(v,a,this.paramsInheritanceStrategy);v.params=Object.freeze(b.params),v.data=Object.freeze(b.data);let A=this.applyRedirects.applyRedirectCommands(d,r.redirectTo,h,v,e);return this.applyRedirects.lineralizeSegments(r,A).pipe(qt(S=>this.processSegment(e,i,t,S.concat(m),o,!1,a)))}matchSegmentAgainstRoute(e,t,i,r,s,o){let a=MY(t,i,r,e,this.urlSerializer);return i.path==="**"&&(t.children={}),a.pipe(Le(l=>l.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(Le(({routes:c})=>{let d=i._loadedInjector??e,{parameters:h,consumedSegments:m,remainingSegments:v}=l,b=new lh(m,h,Object.freeze(Q({},this.urlTree.queryParams)),this.urlTree.fragment,F3(i),is(i),i.component??i._loadedComponent??null,i,L3(i)),A=Wv(b,o,this.paramsInheritanceStrategy);b.params=Object.freeze(A.params),b.data=Object.freeze(A.data);let{segmentGroup:S,slicedSegments:j}=k3(t,m,v,c);if(j.length===0&&S.hasChildren())return this.processChildren(d,c,S,b).pipe(se(W=>new tr(b,W)));if(c.length===0&&j.length===0)return le(new tr(b,[]));let Z=is(i)===s;return this.processSegment(d,c,S,j,Z?We:s,!0,b).pipe(se(W=>new tr(b,W instanceof tr?[W]:[])))}))):sh(t)))}getChildConfig(e,t,i){return t.children?le({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?le({routes:t._loadedRoutes,injector:t._loadedInjector}):IY(e,t,i,this.urlSerializer).pipe(qt(r=>r?this.configLoader.loadChildren(e,t).pipe(Wt(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):SY(t))):le({routes:[],injector:e})}};function LY(n){n.sort((e,t)=>e.value.outlet===We?-1:t.value.outlet===We?1:e.value.outlet.localeCompare(t.value.outlet))}function VY(n){let e=n.value.routeConfig;return e&&e.path===""}function cB(n){let e=[],t=new Set;for(let i of n){if(!VY(i)){e.push(i);continue}let r=e.find(s=>i.value.routeConfig===s.value.routeConfig);r!==void 0?(r.children.push(...i.children),t.add(r)):e.push(i)}for(let i of t){let r=cB(i.children);e.push(new tr(i.value,r))}return e.filter(i=>!t.has(i))}function F3(n){return n.data||{}}function L3(n){return n.resolve||{}}function BY(n,e,t,i,r,s){return qt(o=>kY(n,e,t,i,o.extractedUrl,r,s).pipe(se(({state:a,tree:l})=>Ee(Q({},o),{targetSnapshot:a,urlAfterRedirects:l}))))}function UY(n,e){return qt(t=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return le(t);let s=new Set(r.map(l=>l.route)),o=new Set;for(let l of s)if(!o.has(l))for(let c of uB(l))o.add(c);let a=0;return Ge(o).pipe(ao(l=>s.has(l)?jY(l,i,n,e):(l.data=Wv(l,l.parent,n).resolve,le(void 0))),Wt(()=>a++),xu(1),qt(l=>a===o.size?le(t):En))})}function uB(n){let e=n.children.map(t=>uB(t)).flat();return[n,...e]}function jY(n,e,t,i){let r=n.routeConfig,s=n._resolve;return r?.title!==void 0&&!nB(r)&&(s[Xp]=r.title),zY(s,n,e,i).pipe(se(o=>(n._resolvedData=o,n.data=Wv(n,n.parent,t).resolve,null)))}function zY(n,e,t,i){let r=US(n);if(r.length===0)return le({});let s={};return Ge(r).pipe(qt(o=>$Y(n[o],e,t,i).pipe(ar(),Wt(a=>{if(a instanceof Zp)throw Qv(new dh,a);s[o]=a}))),xu(1),lb(s),Xn(o=>oB(o)?En:Mu(o)))}function $Y(n,e,t,i){let r=tg(e)??i,s=gh(n,r),o=s.resolve?s.resolve(e,t):ur(r,()=>s(e,t));return ol(o)}function VS(n){return Le(e=>{let t=n(e);return t?Ge(t).pipe(se(()=>e)):le(e)})}var dB=(()=>{let e=class e{buildTitle(i){let r,s=i.root;for(;s!==void 0;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(o=>o.outlet===We);return r}getResolvedTitleForRoute(i){return i.data[Xp]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ee({token:e,factory:()=>K(HY),providedIn:"root"});let n=e;return n})(),HY=(()=>{let e=class e extends dB{constructor(i){super(),this.title=i}updateTitle(i){let r=this.buildTitle(i);r!==void 0&&this.title.setTitle(r)}};e.\u0275fac=function(r){return new(r||e)(G(AP))},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),rg=new oe("",{providedIn:"root",factory:()=>({})}),GY=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Oe({type:e,selectors:[["ng-component"]],standalone:!0,features:[Pt],decls:1,vars:0,template:function(r,s){r&1&&ie(0,"router-outlet")},dependencies:[hM],encapsulation:2});let n=e;return n})();function fM(n){let e=n.children&&n.children.map(fM),t=e?Ee(Q({},n),{children:e}):Q({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==We&&(t.component=GY),t}var Yv=new oe(""),pM=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=K(Z0)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return le(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=ol(i.loadComponent()).pipe(se(hB),Wt(o=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=o}),jn(()=>{this.componentLoaders.delete(i)})),s=new Eu(r,()=>new Pe).pipe(Cu());return this.componentLoaders.set(i,s),s}loadChildren(i,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return le({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=qY(r,this.compiler,i,this.onLoadEndListener).pipe(jn(()=>{this.childrenLoaders.delete(r)})),a=new Eu(o,()=>new Pe).pipe(Cu());return this.childrenLoaders.set(r,a),a}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function qY(n,e,t,i){return ol(n.loadChildren()).pipe(se(hB),qt(r=>r instanceof lf||Array.isArray(r)?le(r):Ge(e.compileModuleAsync(r))),se(r=>{i&&i(n);let s,o,a=!1;return Array.isArray(r)?(o=r,a=!0):(s=r.create(t).injector,o=s.get(Yv,[],{optional:!0,self:!0}).flat()),{routes:o.map(fM),injector:s}}))}function WY(n){return n&&typeof n=="object"&&"default"in n}function hB(n){return WY(n)?n.default:n}var gM=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ee({token:e,factory:()=>K(KY),providedIn:"root"});let n=e;return n})(),KY=(()=>{let e=class e{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,r){return i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),fB=new oe(""),pB=new oe("");function QY(n,e,t){let i=n.get(pB),r=n.get(Ze);return n.get(De).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(c=>setTimeout(c));let s,o=new Promise(c=>{s=c}),a=r.startViewTransition(()=>(s(),ZY(n))),{onViewTransitionCreated:l}=i;return l&&ur(n,()=>l({transition:a,from:e,to:t})),o})}function ZY(n){return new Promise(e=>{Ku({read:()=>setTimeout(e)},{injector:n})})}var YY=new oe(""),mM=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Pe,this.transitionAbortSubject=new Pe,this.configLoader=K(pM),this.environmentInjector=K(On),this.urlSerializer=K(eg),this.rootContexts=K(ng),this.location=K(Yu),this.inputBindingEnabled=K(ew,{optional:!0})!==null,this.titleStrategy=K(dB),this.options=K(rg,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=K(gM),this.createViewTransition=K(fB,{optional:!0}),this.navigationErrorHandler=K(YY,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>le(void 0),this.rootComponentType=null;let i=s=>this.events.next(new KS(s)),r=s=>this.events.next(new QS(s));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=i}complete(){this.transitions?.complete()}handleNavigationRequest(i){let r=++this.navigationId;this.transitions?.next(Ee(Q(Q({},this.transitions.value),i),{id:r}))}setupNavigations(i,r,s){return this.transitions=new Nt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Hp,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ut(o=>o.id!==0),se(o=>Ee(Q({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Le(o=>{let a=!1,l=!1;return le(o).pipe(Le(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",nr.SupersededByNewNavigation),En;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?Ee(Q({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!i.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=c.extras.onSameUrlNavigation??i.onSameUrlNavigation;if(!d&&h!=="reload"){let m="";return this.events.next(new sl(c.id,this.urlSerializer.serialize(c.rawUrl),m,zv.IgnoredSameUrlNavigation)),c.resolve(!1),En}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return le(c).pipe(Le(m=>{let v=this.transitions?.getValue();return this.events.next(new hh(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),v!==this.transitions?.getValue()?En:Promise.resolve(m)}),BY(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,this.paramsInheritanceStrategy),Wt(m=>{o.targetSnapshot=m.targetSnapshot,o.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=Ee(Q({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let v=new $v(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(v)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:m,extractedUrl:v,source:b,restoredState:A,extras:S}=c,j=new hh(m,this.urlSerializer.serialize(v),b,A);this.events.next(j);let Z=eB(this.rootComponentType).snapshot;return this.currentTransition=o=Ee(Q({},c),{targetSnapshot:Z,urlAfterRedirects:v,extras:Ee(Q({},S),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=v,le(o)}else{let m="";return this.events.next(new sl(c.id,this.urlSerializer.serialize(c.extractedUrl),m,zv.IgnoredByUrlHandlingStrategy)),c.resolve(!1),En}}),Wt(c=>{let d=new HS(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),se(c=>(this.currentTransition=o=Ee(Q({},c),{guards:sY(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),mY(this.environmentInjector,c=>this.events.next(c)),Wt(c=>{if(o.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw Qv(this.urlSerializer,c.guardsResult);let d=new GS(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(d)}),Ut(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",nr.GuardRejected),!1)),VS(c=>{if(c.guards.canActivateChecks.length)return le(c).pipe(Wt(d=>{let h=new qS(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}),Le(d=>{let h=!1;return le(d).pipe(UY(this.paramsInheritanceStrategy,this.environmentInjector),Wt({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(d,"",nr.NoDataFromResolver)}}))}),Wt(d=>{let h=new WS(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}))}),VS(c=>{let d=h=>{let m=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(h.routeConfig).pipe(Wt(v=>{h.component=v}),se(()=>{})));for(let v of h.children)m.push(...d(v));return m};return sr(d(c.targetSnapshot.root)).pipe(la(null),In(1))}),VS(()=>this.afterPreactivation()),Le(()=>{let{currentSnapshot:c,targetSnapshot:d}=o,h=this.createViewTransition?.(this.environmentInjector,c.root,d.root);return h?Ge(h).pipe(se(()=>o)):le(o)}),se(c=>{let d=eY(i.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=Ee(Q({},c),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,o}),Wt(()=>{this.events.next(new Kp)}),rY(this.rootContexts,i.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),In(1),Wt({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new rs(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),hn(this.transitionAbortSubject.pipe(Wt(c=>{throw c}))),jn(()=>{!a&&!l&&this.cancelNavigationTransition(o,"",nr.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Xn(c=>{if(l=!0,sB(c))this.events.next(new zo(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),iY(c)?this.events.next(new fh(c.url,c.navigationBehaviorOptions)):o.resolve(!1);else{let d=new Wp(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0);try{let h=ur(this.environmentInjector,()=>this.navigationErrorHandler?.(d));if(h instanceof Zp){let{message:m,cancellationCode:v}=Qv(this.urlSerializer,h);this.events.next(new zo(o.id,this.urlSerializer.serialize(o.extractedUrl),m,v)),this.events.next(new fh(h.redirectTo,h.navigationBehaviorOptions))}else{this.events.next(d);let m=i.errorHandler(c);o.resolve(!!m)}}catch(h){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(h)}}return En}))}))}cancelNavigationTransition(i,r,s){let o=new zo(i.id,this.urlSerializer.serialize(i.extractedUrl),r,s);this.events.next(o),i.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let i=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return i.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function JY(n){return n!==Hp}var XY=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ee({token:e,factory:()=>K(eJ),providedIn:"root"});let n=e;return n})(),uM=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},eJ=(()=>{let e=class e extends uM{};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=gi(e)))(s||e)}})(),e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),gB=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ee({token:e,factory:()=>K(tJ),providedIn:"root"});let n=e;return n})(),tJ=(()=>{let e=class e extends gB{constructor(){super(...arguments),this.location=K(Yu),this.urlSerializer=K(eg),this.options=K(rg,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=K(gM),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new $o,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=eB(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(r=>{r.type==="popstate"&&i(r.url,r.state)})}handleRouterEvent(i,r){if(i instanceof hh)this.stateMemento=this.createStateMemento();else if(i instanceof sl)this.rawUrlTree=r.initialUrl;else if(i instanceof $v){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??s,r)}}else i instanceof Kp?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):i instanceof zo&&(i.code===nr.GuardRejected||i.code===nr.NoDataFromResolver)?this.restoreHistory(r):i instanceof Wp?this.restoreHistory(r,!0):i instanceof rs&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,r){let s=i instanceof $o?this.urlSerializer.serialize(i):i;if(this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl){let o=this.browserPageId,a=Q(Q({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(s,"",a)}else{let o=Q(Q({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(i,r=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===i.finalUrl&&o===0&&(this.resetState(i),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,r){return this.canceledNavigationResolution==="computed"?{navigationId:i,\u0275routerPageId:r}:{navigationId:i}}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=gi(e)))(s||e)}})(),e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),zp=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(zp||{});function mB(n,e){n.events.pipe(Ut(t=>t instanceof rs||t instanceof zo||t instanceof Wp||t instanceof sl),se(t=>t instanceof rs||t instanceof sl?zp.COMPLETE:(t instanceof zo?t.code===nr.Redirect||t.code===nr.SupersededByNewNavigation:!1)?zp.REDIRECTING:zp.FAILED),Ut(t=>t!==zp.REDIRECTING),In(1)).subscribe(()=>{e()})}function nJ(n){throw n}var iJ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},rJ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Lt=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=K(G0),this.stateManager=K(gB),this.options=K(rg,{optional:!0})||{},this.pendingTasks=K(_o),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=K(mM),this.urlSerializer=K(eg),this.location=K(Yu),this.urlHandlingStrategy=K(gM),this._events=new Pe,this.errorHandler=this.options.errorHandler||nJ,this.navigated=!1,this.routeReuseStrategy=K(XY),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=K(Yv,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!K(ew,{optional:!0}),this.eventsSubscription=new Xt,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:i=>{this.console.warn(i)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let i=this.navigationTransitions.events.subscribe(r=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof zo&&r.code!==nr.Redirect&&r.code!==nr.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof rs)this.navigated=!0;else if(r instanceof fh){let a=r.navigationBehaviorOptions,l=this.urlHandlingStrategy.merge(r.url,s.currentRawUrl),c=Q({browserUrl:s.extras.browserUrl,info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||JY(s.source)},a);this.scheduleNavigation(l,Hp,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}oJ(r)&&this._events.next(r)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Hp,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",r)},0)})}navigateToSyncWithBrowser(i,r,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let c=Q({},s);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let l=this.parseUrl(i);this.scheduleNavigation(l,r,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(fM),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,r={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:l,preserveFragment:c}=r,d=c?this.currentUrlTree.fragment:a,h=null;switch(l??this.options.defaultQueryParamsHandling){case"merge":h=Q(Q({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let m;try{let v=s?s.snapshot:this.routerState.snapshot.root;m=Z3(v)}catch{(typeof i[0]!="string"||i[0][0]!=="/")&&(i=[]),m=this.currentUrlTree.root}return Y3(m,i,h,d??null)}navigateByUrl(i,r={skipLocationChange:!1}){let s=Uc(i)?i:this.parseUrl(i),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Hp,null,r)}navigate(i,r={skipLocationChange:!1}){return sJ(i),this.navigateByUrl(this.createUrlTree(i,r),r)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){try{return this.urlSerializer.parse(i)}catch{return this.urlSerializer.parse("/")}}isActive(i,r){let s;if(r===!0?s=Q({},iJ):r===!1?s=Q({},rJ):s=r,Uc(i))return x3(this.currentUrlTree,i,s);let o=this.parseUrl(i);return x3(this.currentUrlTree,o,s)}removeEmptyProps(i){return Object.entries(i).reduce((r,[s,o])=>(o!=null&&(r[s]=o),r),{})}scheduleNavigation(i,r,s,o,a){if(this.disposed)return Promise.resolve(!1);let l,c,d;a?(l=a.resolve,c=a.reject,d=a.promise):d=new Promise((m,v)=>{l=m,c=v});let h=this.pendingTasks.add();return mB(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:o,resolve:l,reject:c,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(m=>Promise.reject(m))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function sJ(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new re(4008,!1)}function oJ(n){return!(n instanceof Kp)&&!(n instanceof fh)}var Jv=(()=>{let e=class e{constructor(i,r,s,o,a,l){this.router=i,this.route=r,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=l,this.href=null,this.onChanges=new Pe,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let c=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=i.events.subscribe(d=>{d instanceof rs&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(i){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",i)}ngOnChanges(i){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(i){i==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Uc(i)?this.routerLinkInput=i:this.routerLinkInput=Array.isArray(i)?i:[i],this.setTabIndexIfNotOnNativeEl("0"))}onClick(i,r,s,o,a){let l=this.urlTree;if(l===null||this.isAnchorElement&&(i!==0||r||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(l,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let i=this.urlTree;this.href=i!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(i)):null;let r=this.href===null?null:IO(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(i,r){let s=this.renderer,o=this.el.nativeElement;r!==null?s.setAttribute(o,i,r):s.removeAttribute(o,i)}get urlTree(){return this.routerLinkInput===null?null:Uc(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(r){return new(r||e)(U(Lt),U(ss),O0("tabindex"),U(ti),U(nt),U(Eo))},e.\u0275dir=Qe({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,s){r&1&&te("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),r&2&&Je("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",je],skipLocationChange:[2,"skipLocationChange","skipLocationChange",je],replaceUrl:[2,"replaceUrl","replaceUrl",je],routerLink:"routerLink"},standalone:!0,features:[mi,Tn]});let n=e;return n})(),_B=(()=>{let e=class e{get isActive(){return this._isActive}constructor(i,r,s,o,a){this.router=i,this.element=r,this.renderer=s,this.cdr=o,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new xe,this.routerEventsSubscription=i.events.subscribe(l=>{l instanceof rs&&this.update()})}ngAfterContentInit(){le(this.links.changes,le(null)).pipe(_s()).subscribe(i=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let i=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Ge(i).pipe(_s()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(i){let r=Array.isArray(i)?i:i.split(" ");this.classes=r.filter(s=>!!s)}ngOnChanges(i){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let i=this.hasActiveLinks();this.classes.forEach(r=>{i?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),i&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==i&&(this._isActive=i,this.cdr.markForCheck(),this.isActiveChange.emit(i))})}isLinkActive(i){let r=aJ(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>{let o=s.urlTree;return o?i.isActive(o,r):!1}}hasActiveLinks(){let i=this.isLinkActive(this.router);return this.link&&i(this.link)||this.links.some(i)}};e.\u0275fac=function(r){return new(r||e)(U(Lt),U(nt),U(ti),U(Ri),U(Jv,8))},e.\u0275dir=Qe({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(r,s,o){if(r&1&&Ms(o,Jv,5),r&2){let a;Dn(a=Sn())&&(s.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Tn]});let n=e;return n})();function aJ(n){return!!n.paths}var Xv=class{};var lJ=(()=>{let e=class e{constructor(i,r,s,o,a){this.router=i,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Ut(i=>i instanceof rs),ao(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,r){let s=[];for(let o of r){o.providers&&!o._injector&&(o._injector=$0(o.providers,i,`Route: ${o.path}`));let a=o._injector??i,l=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(l,o.children??o._loadedRoutes))}return Ge(s).pipe(_s())}preloadConfig(i,r){return this.preloadingStrategy.preload(r,()=>{let s;r.loadChildren&&r.canLoad===void 0?s=this.loader.loadChildren(i,r):s=le(null);let o=s.pipe(qt(a=>a===null?le(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??i,a.routes))));if(r.loadComponent&&!r._loadedComponent){let a=this.loader.loadComponent(r);return Ge([o,a]).pipe(_s())}else return o})}};e.\u0275fac=function(r){return new(r||e)(G(Lt),G(Z0),G(On),G(Xv),G(pM))},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),yB=new oe(""),cJ=(()=>{let e=class e{constructor(i,r,s,o,a={}){this.urlSerializer=i,this.transitions=r,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof hh?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof rs?(this.lastId=i.id,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.urlAfterRedirects).fragment)):i instanceof sl&&i.code===zv.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof Hv&&(i.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(i.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Hv(i,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(r){UO()},e.\u0275prov=ee({token:e,factory:e.\u0275fac});let n=e;return n})();function uJ(n){return n.routerState.root}function sg(n,e){return{\u0275kind:n,\u0275providers:e}}function dJ(){let n=K(Kt);return e=>{let t=n.get(yi);if(e!==t.components[0])return;let i=n.get(Lt),r=n.get(vB);n.get(_M)===1&&i.initialNavigation(),n.get(wB,null,Ke.Optional)?.setUpPreloading(),n.get(yB,null,Ke.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var vB=new oe("",{factory:()=>new Pe}),_M=new oe("",{providedIn:"root",factory:()=>1});function hJ(){return sg(2,[{provide:_M,useValue:0},{provide:K0,multi:!0,deps:[Kt],useFactory:e=>{let t=e.get(XN,Promise.resolve());return()=>t.then(()=>new Promise(i=>{let r=e.get(Lt),s=e.get(vB);mB(r,()=>{i(!0)}),e.get(mM).afterPreactivation=()=>(i(!0),s.closed?le(void 0):s),r.initialNavigation()}))}}])}function fJ(){return sg(3,[{provide:K0,multi:!0,useFactory:()=>{let e=K(Lt);return()=>{e.setUpLocationChangeListener()}}},{provide:_M,useValue:2}])}var wB=new oe("");function pJ(n){return sg(0,[{provide:wB,useExisting:lJ},{provide:Xv,useExisting:n}])}function gJ(){return sg(8,[P3,{provide:ew,useExisting:P3}])}function mJ(n){let e=[{provide:fB,useValue:QY},{provide:pB,useValue:Q({skipNextTransition:!!n?.skipInitialTransition},n)}];return sg(9,e)}var V3=new oe("ROUTER_FORROOT_GUARD"),_J=[Yu,{provide:eg,useClass:dh},Lt,ng,{provide:ss,useFactory:uJ,deps:[Lt]},pM,[]],bB=(()=>{let e=class e{constructor(i){}static forRoot(i,r){return{ngModule:e,providers:[_J,[],{provide:Yv,multi:!0,useValue:i},{provide:V3,useFactory:bJ,deps:[[Lt,new Kl,new w0]]},{provide:rg,useValue:r||{}},r?.useHash?vJ():wJ(),yJ(),r?.preloadingStrategy?pJ(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?CJ(r):[],r?.bindToComponentInputs?gJ().\u0275providers:[],r?.enableViewTransitions?mJ().\u0275providers:[],EJ()]}}static forChild(i){return{ngModule:e,providers:[{provide:Yv,multi:!0,useValue:i}]}}};e.\u0275fac=function(r){return new(r||e)(G(V3,8))},e.\u0275mod=we({type:e}),e.\u0275inj=ve({});let n=e;return n})();function yJ(){return{provide:yB,useFactory:()=>{let n=K(aP),e=K(De),t=K(rg),i=K(mM),r=K(eg);return t.scrollOffset&&n.setOffset(t.scrollOffset),new cJ(r,i,n,e,t)}}}function vJ(){return{provide:Eo,useClass:tP}}function wJ(){return{provide:Eo,useClass:UC}}function bJ(n){return"guarded"}function CJ(n){return[n.initialNavigation==="disabled"?fJ().\u0275providers:[],n.initialNavigation==="enabledBlocking"?hJ().\u0275providers:[]]}var B3=new oe("");function EJ(){return[{provide:B3,useFactory:dJ},{provide:Q0,multi:!0,useExisting:B3}]}var IJ=["*"];var TJ=["dialog"];var CB={animation:!0,transitionTimerDelayMs:5},DJ=(()=>{let e=class e{constructor(){this.animation=CB.animation}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function SJ(n){let{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n),i=parseFloat(e),r=parseFloat(t);return(i+r)*1e3}function EB(n){return typeof n=="string"}function yM(n){return n!=null}function MJ(n){return n&&n.then}function IB(n){return(n||document.body).getBoundingClientRect()}function AJ(n){return e=>new Se(t=>{let i=o=>n.run(()=>t.next(o)),r=o=>n.run(()=>t.error(o)),s=()=>n.run(()=>t.complete());return e.subscribe({next:i,error:r,complete:s})})}var xJ=()=>{},{transitionTimerDelayMs:RJ}=CB,nw=new Map,jc=(n,e,t,i)=>{let r=i.context||{},s=nw.get(e);if(s)switch(i.runningTransition){case"continue":return En;case"stop":n.run(()=>s.transition$.complete()),r=Object.assign(s.context,r),nw.delete(e)}let o=t(e,i.animation,r)||xJ;if(!i.animation||window.getComputedStyle(e).transitionProperty==="none")return n.run(()=>o()),le(void 0).pipe(AJ(n));let a=new Pe,l=new Pe,c=a.pipe(cb(!0));nw.set(e,{transition$:a,complete:()=>{l.next(),l.complete()},context:r});let d=SJ(e);return n.runOutsideAngular(()=>{let h=or(e,"transitionend").pipe(hn(c),Ut(({target:v})=>v===e)),m=sb(d+RJ).pipe(hn(c));ob(m,h,l).pipe(hn(c)).subscribe(()=>{nw.delete(e),n.run(()=>{o(),a.next(),a.complete()})})}),a.asObservable()};var TB=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({});let n=e;return n})();var DB=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({});let n=e;return n})();var SB=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({});let n=e;return n})(),MB=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({});let n=e;return n})();var pme=(()=>{let n=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,e=()=>/Android/.test(navigator.userAgent);return typeof navigator<"u"?!!navigator.userAgent&&(n()||e()):!1})();var OJ=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function AB(n){let e=Array.from(n.querySelectorAll(OJ)).filter(t=>t.tabIndex!==-1);return[e[0],e[e.length-1]]}var NJ=(n,e,t,i=!1)=>{n.runOutsideAngular(()=>{let r=or(e,"focusin").pipe(hn(t),se(s=>s.target));or(e,"keydown").pipe(hn(t),Ut(s=>s.key==="Tab"),xm(r)).subscribe(([s,o])=>{let[a,l]=AB(e);(o===a||o===e)&&s.shiftKey&&(l.focus(),s.preventDefault()),o===l&&!s.shiftKey&&(a.focus(),s.preventDefault())}),i&&or(e,"click").pipe(hn(t),xm(r),se(s=>s[1])).subscribe(s=>s.focus())})};var gme=new Date(1882,10,12),mme=new Date(2174,10,25);var _me=1e3*60*60*24;var bM=1080,PJ=24*bM,kJ=12*bM+793,yme=29*PJ+kJ,vme=11*bM+204;var xB=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({});let n=e;return n})();var RB=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({});let n=e;return n})(),FJ=(()=>{let e=class e{constructor(){this._ngbConfig=K(DJ),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(i){this._animation=i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),mh=class{constructor(e,t,i){this.nodes=e,this.viewRef=t,this.componentRef=i}};var LJ=(()=>{let e=class e{constructor(){this._document=K(Ze)}hide(){let i=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,s=r.style,{overflow:o,paddingRight:a}=s;if(i>0){let l=parseFloat(window.getComputedStyle(r).paddingRight);s.paddingRight=`${l+i}px`}return s.overflow="hidden",()=>{i>0&&(s.paddingRight=a),s.overflow=o}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),VJ=(()=>{let e=class e{constructor(){this._nativeElement=K(nt).nativeElement,this._zone=K(De),this._injector=K(Kt)}ngOnInit(){Ku(()=>jc(this._zone,this._nativeElement,(i,r)=>{r&&IB(i),i.classList.add("show")},{animation:this.animation,runningTransition:"continue"}),{injector:this._injector,phase:lo.MixedReadWrite})}hide(){return jc(this._zone,this._nativeElement,({classList:i})=>i.remove("show"),{animation:this.animation,runningTransition:"stop"})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Oe({type:e,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(r,s){r&2&&(It("modal-backdrop"+(s.backdropClass?" "+s.backdropClass:"")),Ur("show",!s.animation)("fade",s.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[Pt],decls:0,vars:0,template:function(r,s){},encapsulation:2});let n=e;return n})(),Qs=class{update(e){}close(e){}dismiss(e){}},BJ=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],UJ=["animation","backdropClass"],vM=class{_applyWindowOptions(e,t){BJ.forEach(i=>{yM(t[i])&&(e[i]=t[i])})}_applyBackdropOptions(e,t){UJ.forEach(i=>{yM(t[i])&&(e[i]=t[i])})}update(e){this._applyWindowOptions(this._windowCmptRef.instance,e),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,e)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(hn(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(hn(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(e,t,i,r){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new Pe,this._dismissed=new Pe,this._hidden=new Pe,e.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,o)=>{this._resolve=s,this._reject=o}),this.result.then(null,()=>{})}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(!this._beforeDismiss)this._dismiss(e);else{let t=this._beforeDismiss();MJ(t)?t.then(i=>{i!==!1&&this._dismiss(e)},()=>{}):t!==!1&&this._dismiss(e)}}_removeModalElements(){let e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():le(void 0);e.subscribe(()=>{let{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef?.viewRef?.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){let{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Yh(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}},wM=function(n){return n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",n}(wM||{}),jJ=(()=>{let e=class e{constructor(){this._document=K(Ze),this._elRef=K(nt),this._zone=K(De),this._injector=K(Kt),this._closed$=new Pe,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new xe,this.shown=new Pe,this.hidden=new Pe}get fullscreenClass(){return this.fullscreen===!0?" modal-fullscreen":EB(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(i){this.dismissEvent.emit(i)}ngOnInit(){this._elWithFocus=this._document.activeElement,Ku(()=>this._show(),{injector:this._injector,phase:lo.MixedReadWrite})}ngOnDestroy(){this._disableEventHandling()}hide(){let{nativeElement:i}=this._elRef,r={animation:this.animation,runningTransition:"stop"},s=jc(this._zone,i,()=>i.classList.remove("show"),r),o=jc(this._zone,this._dialogEl.nativeElement,()=>{},r),a=Yh(s,o);return a.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),a}_show(){let i={animation:this.animation,runningTransition:"continue"},r=jc(this._zone,this._elRef.nativeElement,(o,a)=>{a&&IB(o),o.classList.add("show")},i),s=jc(this._zone,this._dialogEl.nativeElement,()=>{},i);Yh(r,s).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){let{nativeElement:i}=this._elRef;this._zone.runOutsideAngular(()=>{or(i,"keydown").pipe(hn(this._closed$),Ut(s=>s.key==="Escape")).subscribe(s=>{this.keyboard?requestAnimationFrame(()=>{s.defaultPrevented||this._zone.run(()=>this.dismiss(wM.ESC))}):this.backdrop==="static"&&this._bumpBackdrop()});let r=!1;or(this._dialogEl.nativeElement,"mousedown").pipe(hn(this._closed$),Wt(()=>r=!1),Le(()=>or(i,"mouseup").pipe(hn(this._closed$),In(1))),Ut(({target:s})=>i===s)).subscribe(()=>{r=!0}),or(i,"click").pipe(hn(this._closed$)).subscribe(({target:s})=>{i===s&&(this.backdrop==="static"?this._bumpBackdrop():this.backdrop===!0&&!r&&this._zone.run(()=>this.dismiss(wM.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){let{nativeElement:i}=this._elRef;if(!i.contains(document.activeElement)){let r=i.querySelector("[ngbAutofocus]"),s=AB(i)[0];(r||s||i).focus()}}_restoreFocus(){let i=this._document.body,r=this._elWithFocus,s;r&&r.focus&&i.contains(r)?s=r:s=i,this._zone.runOutsideAngular(()=>{setTimeout(()=>s.focus()),this._elWithFocus=null})}_bumpBackdrop(){this.backdrop==="static"&&jc(this._zone,this._elRef.nativeElement,({classList:i})=>(i.add("modal-static"),()=>i.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Oe({type:e,selectors:[["ngb-modal-window"]],viewQuery:function(r,s){if(r&1&&jr(TJ,7),r&2){let o;Dn(o=Sn())&&(s._dialogEl=o.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(r,s){r&2&&(Je("aria-modal",!0)("aria-labelledby",s.ariaLabelledBy)("aria-describedby",s.ariaDescribedBy),It("modal d-block"+(s.windowClass?" "+s.windowClass:"")),Ur("fade",s.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[Pt],ngContentSelectors:IJ,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(r,s){r&1&&(Wi(),E(0,"div",1,0)(2,"div",2),_i(3),C()()),r&2&&It("modal-dialog"+(s.size?" modal-"+s.size:"")+(s.centered?" modal-dialog-centered":"")+s.fullscreenClass+(s.scrollable?" modal-dialog-scrollable":"")+(s.modalDialogClass?" "+s.modalDialogClass:""))},styles:[`ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}
`],encapsulation:2});let n=e;return n})(),zJ=(()=>{let e=class e{constructor(){this._applicationRef=K(yi),this._injector=K(Kt),this._environmentInjector=K(On),this._document=K(Ze),this._scrollBar=K(LJ),this._activeWindowCmptHasChanged=new Pe,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new xe;let i=K(De);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){let r=this._windowCmpts[this._windowCmpts.length-1];NJ(i,r.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(r.location.nativeElement)}})}_restoreScrollBar(){let i=this._scrollBarRestoreFn;i&&(this._scrollBarRestoreFn=null,i())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(i,r,s){let o=s.container instanceof HTMLElement?s.container:yM(s.container)?this._document.querySelector(s.container):this._document.body;if(!o)throw new Error(`The specified modal container "${s.container||"body"}" was not found in the DOM.`);this._hideScrollBar();let a=new Qs;i=s.injector||i;let l=i.get(On,null)||this._environmentInjector,c=this._getContentRef(i,l,r,a,s),d=s.backdrop!==!1?this._attachBackdrop(o):void 0,h=this._attachWindowComponent(o,c.nodes),m=new vM(h,c,d,s.beforeDismiss);return this._registerModalRef(m),this._registerWindowCmpt(h),m.hidden.pipe(In(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),a.close=v=>{m.close(v)},a.dismiss=v=>{m.dismiss(v)},a.update=v=>{m.update(v)},m.update(s),this._modalRefs.length===1&&this._document.body.classList.add("modal-open"),d&&d.instance&&d.changeDetectorRef.detectChanges(),h.changeDetectorRef.detectChanges(),m}get activeInstances(){return this._activeInstances}dismissAll(i){this._modalRefs.forEach(r=>r.dismiss(i))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(i){let r=Y0(VJ,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),i.appendChild(r.location.nativeElement),r}_attachWindowComponent(i,r){let s=Y0(jJ,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(s.hostView),i.appendChild(s.location.nativeElement),s}_getContentRef(i,r,s,o,a){return s?s instanceof Vr?this._createFromTemplateRef(s,o):EB(s)?this._createFromString(s):this._createFromComponent(i,r,s,o,a):new mh([])}_createFromTemplateRef(i,r){let s={$implicit:r,close(a){r.close(a)},dismiss(a){r.dismiss(a)}},o=i.createEmbeddedView(s);return this._applicationRef.attachView(o),new mh([o.rootNodes],o)}_createFromString(i){let r=this._document.createTextNode(`${i}`);return new mh([[r]])}_createFromComponent(i,r,s,o,a){let l=Kt.create({providers:[{provide:Qs,useValue:o}],parent:i}),c=Y0(s,{environmentInjector:r,elementInjector:l}),d=c.location.nativeElement;return a.scrollable&&d.classList.add("component-host-scrollable"),this._applicationRef.attachView(c.hostView),new mh([[d]],c.hostView,c)}_setAriaHidden(i){let r=i.parentElement;r&&i!==this._document.body&&(Array.from(r.children).forEach(s=>{s!==i&&s.nodeName!=="SCRIPT"&&(this._ariaHiddenValues.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((i,r)=>{i?r.setAttribute("aria-hidden",i):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(i){let r=()=>{let s=this._modalRefs.indexOf(i);s>-1&&(this._modalRefs.splice(s,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(i),this._activeInstances.emit(this._modalRefs),i.result.then(r,r)}_registerWindowCmpt(i){this._windowCmpts.push(i),this._activeWindowCmptHasChanged.next(),i.onDestroy(()=>{let r=this._windowCmpts.indexOf(i);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),CM=(()=>{let e=class e{constructor(){this._injector=K(Kt),this._modalStack=K(zJ),this._config=K(FJ)}open(i,r={}){let s=Q(Ee(Q({},this._config),{animation:this._config.animation}),r);return this._modalStack.open(this._injector,i,s)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(i){this._modalStack.dismissAll(i)}hasOpenModals(){return this._modalStack.hasOpenModals()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),OB=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({providers:[CM]});let n=e;return n})();var NB=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({});let n=e;return n})();var PB=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({});let n=e;return n})();var kB=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({});let n=e;return n})();var FB=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({});let n=e;return n})();var LB=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({});let n=e;return n})();var VB=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({});let n=e;return n})();var BB=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({});let n=e;return n})();var UB=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({});let n=e;return n})();var jB=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({});let n=e;return n})();var wme=new oe("live announcer delay",{providedIn:"root",factory:()=>100});var zB=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({});let n=e;return n})();var $B=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({});let n=e;return n})(),$J=[TB,DB,SB,MB,xB,RB,OB,NB,$B,PB,kB,FB,LB,VB,BB,UB,jB,zB],HB=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({imports:[$J,TB,DB,SB,MB,xB,RB,OB,NB,$B,PB,kB,FB,LB,VB,BB,UB,jB,zB]});let n=e;return n})();var GB=["toast-component",""];function HJ(n,e){if(n&1){let t=be();E(0,"button",5),te("click",function(){ue(t);let r=B();return de(r.remove())}),E(1,"span",6),L(2,"\xD7"),C()()}}function GJ(n,e){if(n&1&&(ni(0),L(1),ii()),n&2){let t=B(2);D(),st("[",t.duplicatesCount+1,"]")}}function qJ(n,e){if(n&1&&(E(0,"div"),L(1),J(2,GJ,2,1,"ng-container",4),C()),n&2){let t=B();It(t.options.titleClass),Je("aria-label",t.title),D(),st(" ",t.title," "),D(),x("ngIf",t.duplicatesCount)}}function WJ(n,e){if(n&1&&ie(0,"div",7),n&2){let t=B();It(t.options.messageClass),x("innerHTML",t.message,nC)}}function KJ(n,e){if(n&1&&(E(0,"div",8),L(1),C()),n&2){let t=B();It(t.options.messageClass),Je("aria-label",t.message),D(),st(" ",t.message," ")}}function QJ(n,e){if(n&1&&(E(0,"div"),ie(1,"div",9),C()),n&2){let t=B();D(),va("width",t.width()+"%")}}function ZJ(n,e){if(n&1){let t=be();E(0,"button",5),te("click",function(){ue(t);let r=B();return de(r.remove())}),E(1,"span",6),L(2,"\xD7"),C()()}}function YJ(n,e){if(n&1&&(ni(0),L(1),ii()),n&2){let t=B(2);D(),st("[",t.duplicatesCount+1,"]")}}function JJ(n,e){if(n&1&&(E(0,"div"),L(1),J(2,YJ,2,1,"ng-container",4),C()),n&2){let t=B();It(t.options.titleClass),Je("aria-label",t.title),D(),st(" ",t.title," "),D(),x("ngIf",t.duplicatesCount)}}function XJ(n,e){if(n&1&&ie(0,"div",7),n&2){let t=B();It(t.options.messageClass),x("innerHTML",t.message,nC)}}function eX(n,e){if(n&1&&(E(0,"div",8),L(1),C()),n&2){let t=B();It(t.options.messageClass),Je("aria-label",t.message),D(),st(" ",t.message," ")}}function tX(n,e){if(n&1&&(E(0,"div"),ie(1,"div",9),C()),n&2){let t=B();D(),va("width",t.width()+"%")}}var EM=class{_attachedHost;component;viewContainerRef;injector;constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){let e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},IM=class{_attachedPortal;_disposeFn;attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}},TM=class{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new Pe;_activate=new Pe;_manualClose=new Pe;_resetTimeout=new Pe;_countDuplicate=new Pe;constructor(e){this._overlayRef=e}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}},_h=class{toastId;config;message;title;toastType;toastRef;_onTap=new Pe;_onAction=new Pe;constructor(e,t,i,r,s,o){this.toastId=e,this.config=t,this.message=i,this.title=r,this.toastType=s,this.toastRef=o,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}},qB={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},WB=new oe("ToastConfig"),DM=class extends IM{_hostDomElement;_componentFactoryResolver;_appRef;constructor(e,t,i){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=i}attachComponentPortal(e,t){let i=this._componentFactoryResolver.resolveComponentFactory(e.component),r;return r=i.create(e.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(e){return e.hostView.rootNodes[0]}},nX=(()=>{class n{_document=K(Ze);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),SM=class{_portalHost;constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}},iX=(()=>{class n{_overlayContainer=K(nX);_componentFactoryResolver=K(pa);_appRef=K(yi);_document=K(Ze);_paneElements=new Map;create(t,i){return this._createOverlayRef(this.getPaneElement(t,i))}getPaneElement(t="",i){return this._paneElements.get(i)||this._paneElements.set(i,{}),this._paneElements.get(i)[t]||(this._paneElements.get(i)[t]=this._createPaneElement(t,i)),this._paneElements.get(i)[t]}_createPaneElement(t,i){let r=this._document.createElement("div");return r.id="toast-container",r.classList.add(t),r.classList.add("toast-container"),i?i.getContainerElement().appendChild(r):this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalHost(t){return new DM(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new SM(this._createPortalHost(t))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Zs=(()=>{class n{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(t,i,r,s,o){this.overlay=i,this._injector=r,this.sanitizer=s,this.ngZone=o,this.toastrConfig=Q(Q({},t.default),t.config),t.config.iconClasses&&(this.toastrConfig.iconClasses=Q(Q({},t.default.iconClasses),t.config.iconClasses))}show(t,i,r={},s=""){return this._preBuildNotification(s,t,i,this.applyConfig(r))}success(t,i,r={}){let s=this.toastrConfig.iconClasses.success||"";return this._preBuildNotification(s,t,i,this.applyConfig(r))}error(t,i,r={}){let s=this.toastrConfig.iconClasses.error||"";return this._preBuildNotification(s,t,i,this.applyConfig(r))}info(t,i,r={}){let s=this.toastrConfig.iconClasses.info||"";return this._preBuildNotification(s,t,i,this.applyConfig(r))}warning(t,i,r={}){let s=this.toastrConfig.iconClasses.warning||"";return this._preBuildNotification(s,t,i,this.applyConfig(r))}clear(t){for(let i of this.toasts)if(t!==void 0){if(i.toastId===t){i.toastRef.manualClose();return}}else i.toastRef.manualClose()}remove(t){let i=this._findToast(t);if(!i||(i.activeToast.toastRef.close(),this.toasts.splice(i.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){let r=this.toasts[this.currentlyActive].toastRef;r.isInactive()||(this.currentlyActive=this.currentlyActive+1,r.activate())}return!0}findDuplicate(t="",i="",r,s){let{includeTitleDuplicates:o}=this.toastrConfig;for(let a of this.toasts){let l=o&&a.title===t;if((!o||l)&&a.message===i)return a.toastRef.onDuplicate(r,s),a}return null}applyConfig(t={}){return Q(Q({},this.toastrConfig),t)}_findToast(t){for(let i=0;i<this.toasts.length;i++)if(this.toasts[i].toastId===t)return{index:i,activeToast:this.toasts[i]};return null}_preBuildNotification(t,i,r,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,i,r,s)):this._buildNotification(t,i,r,s)}_buildNotification(t,i,r,s){if(!s.toastComponent)throw new Error("toastComponent required");let o=this.findDuplicate(r,i,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&r||i)&&this.toastrConfig.preventDuplicates&&o!==null)return o;this.previousToastMessage=i;let a=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(a=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));let l=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let c=i;i&&s.enableHtml&&(c=this.sanitizer.sanitize(Gi.HTML,i));let d=new TM(l),h=new _h(this.index,s,c,r,t,d),m=[{provide:_h,useValue:h}],v=Kt.create({providers:m,parent:this._injector}),b=new EM(s.toastComponent,v),A=l.attach(b,s.newestOnTop);d.componentInstance=A.instance;let S={toastId:this.index,title:r||"",message:i||"",toastRef:d,onShown:d.afterActivate(),onHidden:d.afterClosed(),onTap:h.onTap(),onAction:h.onAction(),portal:A};return a||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{S.toastRef.activate()})),this.toasts.push(S),S}static \u0275fac=function(i){return new(i||n)(G(WB),G(iX),G(Kt),G(nE),G(De))};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),rX=(()=>{class n{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=xi(-1);toastClasses="";state;get _state(){return this.state()}get displayStyle(){if(this.state().value==="inactive")return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(t,i,r){this.toastrService=t,this.toastPackage=i,this.ngZone=r,this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s}),this.state=xi({value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.update(t=>Ee(Q({},t),{value:"active"})),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let t=new Date().getTime(),i=this.hideTime-t;this.width.set(i/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(r=>100-r),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.update(t=>Ee(Q({},t),{value:"active"})),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){this.state().value!=="removed"&&(clearTimeout(this.timeout),this.state.update(t=>Ee(Q({},t),{value:"removed"})),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){this.state().value!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state().value!=="removed"&&this.options.disableTimeOut!=="extendedTimeOut"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state().value==="removed"||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),i)):this.timeout=setTimeout(()=>t(),i)}outsideInterval(t,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),i)):this.intervalId=setInterval(()=>t(),i)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}static \u0275fac=function(i){return new(i||n)(U(Zs),U(_h),U(De))};static \u0275cmp=Oe({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(i,r){i&1&&te("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),i&2&&(_C("@flyInOut",r._state),It(r.toastClasses),va("display",r.displayStyle))},standalone:!0,features:[Pt],attrs:GB,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(i,r){i&1&&J(0,HJ,3,0,"button",0)(1,qJ,3,5,"div",1)(2,WJ,1,3,"div",2)(3,KJ,2,4,"div",3)(4,QJ,2,2,"div",4),i&2&&(x("ngIf",r.options.closeButton),D(),x("ngIf",r.title),D(),x("ngIf",r.message&&r.options.enableHtml),D(),x("ngIf",r.message&&!r.options.enableHtml),D(),x("ngIf",r.options.progressBar))},dependencies:[kt],encapsulation:2,data:{animation:[mv("flyInOut",[_v("inactive",qs({opacity:0})),_v("active",qs({opacity:1})),_v("removed",qs({opacity:0})),th("inactive => active",eh("{{ easeTime }}ms {{ easing }}")),th("active => removed",eh("{{ easeTime }}ms {{ easing }}"))])]},changeDetection:0})}return n})(),sX=Ee(Q({},qB),{toastComponent:rX}),oX=(n={})=>Hu([{provide:WB,useValue:{default:sX,config:n}}]),KB=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[oX(t)]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=we({type:n});static \u0275inj=ve({})}return n})();var aX=(()=>{class n{toastrService;toastPackage;appRef;message;title;options;duplicatesCount;originalTimeout;width=xi(-1);toastClasses="";get displayStyle(){return this.state()==="inactive"?"none":null}state=xi("inactive");timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(t,i,r){this.toastrService=t,this.toastPackage=i,this.appRef=r,this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.set("active"),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let t=new Date().getTime(),i=this.hideTime-t;this.width.set(i/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(r=>100-r),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.set("active"),this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=new Date().getTime()+(this.originalTimeout||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.state.set("removed"),this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){this.state()!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state()==="removed"||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}static \u0275fac=function(i){return new(i||n)(U(Zs),U(_h),U(yi))};static \u0275cmp=Oe({type:n,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(i,r){i&1&&te("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),i&2&&(It(r.toastClasses),va("display",r.displayStyle))},standalone:!0,features:[Pt],attrs:GB,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(i,r){i&1&&J(0,ZJ,3,0,"button",0)(1,JJ,3,5,"div",1)(2,XJ,1,3,"div",2)(3,eX,2,4,"div",3)(4,tX,2,2,"div",4),i&2&&(x("ngIf",r.options.closeButton),D(),x("ngIf",r.title),D(),x("ngIf",r.message&&r.options.enableHtml),D(),x("ngIf",r.message&&!r.options.enableHtml),D(),x("ngIf",r.options.progressBar))},dependencies:[kt],encapsulation:2,changeDetection:0})}return n})(),Pme=Ee(Q({},qB),{toastComponent:aX});var zc=class n{static isArray(e,t=!0){return Array.isArray(e)&&(t||e.length!==0)}static isObject(e,t=!0){return typeof e=="object"&&!Array.isArray(e)&&e!=null&&(t||Object.keys(e).length!==0)}static equals(e,t,i){return i?this.resolveFieldData(e,i)===this.resolveFieldData(t,i):this.equalsByValue(e,t)}static equalsByValue(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var i=Array.isArray(e),r=Array.isArray(t),s,o,a;if(i&&r){if(o=e.length,o!=t.length)return!1;for(s=o;s--!==0;)if(!this.equalsByValue(e[s],t[s]))return!1;return!0}if(i!=r)return!1;var l=this.isDate(e),c=this.isDate(t);if(l!=c)return!1;if(l&&c)return e.getTime()==t.getTime();var d=e instanceof RegExp,h=t instanceof RegExp;if(d!=h)return!1;if(d&&h)return e.toString()==t.toString();var m=Object.keys(e);if(o=m.length,o!==Object.keys(t).length)return!1;for(s=o;s--!==0;)if(!Object.prototype.hasOwnProperty.call(t,m[s]))return!1;for(s=o;s--!==0;)if(a=m[s],!this.equalsByValue(e[a],t[a]))return!1;return!0}return e!==e&&t!==t}static resolveFieldData(e,t){if(e&&t){if(this.isFunction(t))return t(e);if(t.indexOf(".")==-1)return e[t];{let i=t.split("."),r=e;for(let s=0,o=i.length;s<o;++s){if(r==null)return null;r=r[i[s]]}return r}}else return null}static isFunction(e){return!!(e&&e.constructor&&e.call&&e.apply)}static reorderArray(e,t,i){let r;e&&t!==i&&(i>=e.length&&(i%=e.length,t%=e.length),e.splice(i,0,e.splice(t,1)[0]))}static insertIntoOrderedArray(e,t,i,r){if(i.length>0){let s=!1;for(let o=0;o<i.length;o++)if(this.findIndexInList(i[o],r)>t){i.splice(o,0,e),s=!0;break}s||i.push(e)}else i.push(e)}static findIndexInList(e,t){let i=-1;if(t){for(let r=0;r<t.length;r++)if(t[r]==e){i=r;break}}return i}static contains(e,t){if(e!=null&&t&&t.length){for(let i of t)if(this.equals(e,i))return!0}return!1}static removeAccents(e){return e&&(e=e.normalize("NFKD").replace(new RegExp("\\p{Diacritic}","gu"),"")),e}static isDate(e){return Object.prototype.toString.call(e)==="[object Date]"}static isEmpty(e){return e==null||e===""||Array.isArray(e)&&e.length===0||!this.isDate(e)&&typeof e=="object"&&Object.keys(e).length===0}static isNotEmpty(e){return!this.isEmpty(e)}static compare(e,t,i,r=1){let s=-1,o=this.isEmpty(e),a=this.isEmpty(t);return o&&a?s=0:o?s=r:a?s=-r:typeof e=="string"&&typeof t=="string"?s=e.localeCompare(t,i,{numeric:!0}):s=e<t?-1:e>t?1:0,s}static sort(e,t,i=1,r,s=1){let o=n.compare(e,t,r,i),a=i;return(n.isEmpty(e)||n.isEmpty(t))&&(a=s===1?i:s),a*o}static merge(e,t){if(!(e==null&&t==null)){{if((e==null||typeof e=="object")&&(t==null||typeof t=="object"))return Q(Q({},e||{}),t||{});if((e==null||typeof e=="string")&&(t==null||typeof t=="string"))return[e||"",t||""].join(" ")}return t||e}}static isPrintableCharacter(e=""){return this.isNotEmpty(e)&&e.length===1&&e.match(/\S| /)}static getItemValue(e,...t){return this.isFunction(e)?e(...t):e}static findLastIndex(e,t){let i=-1;if(this.isNotEmpty(e))try{i=e.findLastIndex(t)}catch{i=e.lastIndexOf([...e].reverse().find(t))}return i}static findLast(e,t){let i;if(this.isNotEmpty(e))try{i=e.findLast(t)}catch{i=[...e].reverse().find(t)}return i}static deepEquals(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var i=Array.isArray(e),r=Array.isArray(t),s,o,a;if(i&&r){if(o=e.length,o!=t.length)return!1;for(s=o;s--!==0;)if(!this.deepEquals(e[s],t[s]))return!1;return!0}if(i!=r)return!1;var l=e instanceof Date,c=t instanceof Date;if(l!=c)return!1;if(l&&c)return e.getTime()==t.getTime();var d=e instanceof RegExp,h=t instanceof RegExp;if(d!=h)return!1;if(d&&h)return e.toString()==t.toString();var m=Object.keys(e);if(o=m.length,o!==Object.keys(t).length)return!1;for(s=o;s--!==0;)if(!Object.prototype.hasOwnProperty.call(t,m[s]))return!1;for(s=o;s--!==0;)if(a=m[s],!this.deepEquals(e[a],t[a]))return!1;return!0}return e!==e&&t!==t}},QB=0;function os(n="pn_id_"){return QB++,`${n}${QB}`}function lX(){let n=[],e=(s,o)=>{let a=n.length>0?n[n.length-1]:{key:s,value:o},l=a.value+(a.key===s?0:o)+2;return n.push({key:s,value:l}),l},t=s=>{n=n.filter(o=>o.value!==s)},i=()=>n.length>0?n[n.length-1].value:0,r=s=>s&&parseInt(s.style.zIndex,10)||0;return{get:r,set:(s,o,a)=>{o&&(o.style.zIndex=String(e(s,a)))},clear:s=>{s&&(t(r(s)),s.style.zIndex="")},getCurrent:()=>i()}}var MM=lX();var ZB=["*"];var ci=(()=>{class n{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static IN="in";static LESS_THAN="lt";static LESS_THAN_OR_EQUAL_TO="lte";static GREATER_THAN="gt";static GREATER_THAN_OR_EQUAL_TO="gte";static BETWEEN="between";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static DATE_IS="dateIs";static DATE_IS_NOT="dateIsNot";static DATE_BEFORE="dateBefore";static DATE_AFTER="dateAfter"}return n})();var sw=(()=>{class n{ripple=!1;inputStyle=xi("outlined");overlayOptions={};csp=xi({nonce:void 0});filterMatchModeOptions={text:[ci.STARTS_WITH,ci.CONTAINS,ci.NOT_CONTAINS,ci.ENDS_WITH,ci.EQUALS,ci.NOT_EQUALS],numeric:[ci.EQUALS,ci.NOT_EQUALS,ci.LESS_THAN,ci.LESS_THAN_OR_EQUAL_TO,ci.GREATER_THAN,ci.GREATER_THAN_OR_EQUAL_TO],date:[ci.DATE_IS,ci.DATE_IS_NOT,ci.DATE_BEFORE,ci.DATE_AFTER]};translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyFilterMessage:"No results found",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",previousPageLabel:"Previous Page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List",selectColor:"Select a color",removeLabel:"Remove",browseFiles:"Browse Files",maximizeLabel:"Maximize"}};zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100};translationSource=new Pe;translationObserver=this.translationSource.asObservable();getTranslation(t){return this.translation[t]}setTranslation(t){this.translation=Q(Q({},this.translation),t),this.translationSource.next(this.translation)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),YB=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Oe({type:n,selectors:[["p-header"]],standalone:!0,features:[Pt],ngContentSelectors:ZB,decls:1,vars:0,template:function(i,r){i&1&&(Wi(),_i(0))},encapsulation:2})}return n})(),JB=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Oe({type:n,selectors:[["p-footer"]],standalone:!0,features:[Pt],ngContentSelectors:ZB,decls:1,vars:0,template:function(i,r){i&1&&(Wi(),_i(0))},encapsulation:2})}return n})(),ow=(()=>{class n{template;type;name;constructor(t){this.template=t}getType(){return this.name}static \u0275fac=function(i){return new(i||n)(U(Vr))};static \u0275dir=Qe({type:n,selectors:[["","pTemplate",""]],inputs:{type:"type",name:[0,"pTemplate","name"]},standalone:!0})}return n})(),yh=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=we({type:n});static \u0275inj=ve({})}return n})(),XB=(()=>{class n{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static NO_FILTER="noFilter";static LT="lt";static LTE="lte";static GT="gt";static GTE="gte";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static CLEAR="clear";static APPLY="apply";static MATCH_ALL="matchAll";static MATCH_ANY="matchAny";static ADD_RULE="addRule";static REMOVE_RULE="removeRule";static ACCEPT="accept";static REJECT="reject";static CHOOSE="choose";static UPLOAD="upload";static CANCEL="cancel";static PENDING="pending";static FILE_SIZE_TYPES="fileSizeTypes";static DAY_NAMES="dayNames";static DAY_NAMES_SHORT="dayNamesShort";static DAY_NAMES_MIN="dayNamesMin";static MONTH_NAMES="monthNames";static MONTH_NAMES_SHORT="monthNamesShort";static FIRST_DAY_OF_WEEK="firstDayOfWeek";static TODAY="today";static WEEK_HEADER="weekHeader";static WEAK="weak";static MEDIUM="medium";static STRONG="strong";static PASSWORD_PROMPT="passwordPrompt";static EMPTY_MESSAGE="emptyMessage";static EMPTY_FILTER_MESSAGE="emptyFilterMessage";static SHOW_FILTER_MENU="showFilterMenu";static HIDE_FILTER_MENU="hideFilterMenu";static SELECTION_MESSAGE="selectionMessage";static ARIA="aria";static SELECT_COLOR="selectColor";static BROWSE_FILES="browseFiles"}return n})();var he=(()=>{class n{static zindex=1e3;static calculatedScrollbarWidth=null;static calculatedScrollbarHeight=null;static browser;static addClass(t,i){t&&i&&(t.classList?t.classList.add(i):t.className+=" "+i)}static addMultipleClasses(t,i){if(t&&i)if(t.classList){let r=i.trim().split(" ");for(let s=0;s<r.length;s++)t.classList.add(r[s])}else{let r=i.split(" ");for(let s=0;s<r.length;s++)t.className+=" "+r[s]}}static removeClass(t,i){t&&i&&(t.classList?t.classList.remove(i):t.className=t.className.replace(new RegExp("(^|\\b)"+i.split(" ").join("|")+"(\\b|$)","gi")," "))}static removeMultipleClasses(t,i){t&&i&&[i].flat().filter(Boolean).forEach(r=>r.split(" ").forEach(s=>this.removeClass(t,s)))}static hasClass(t,i){return t&&i?t.classList?t.classList.contains(i):new RegExp("(^| )"+i+"( |$)","gi").test(t.className):!1}static siblings(t){return Array.prototype.filter.call(t.parentNode.children,function(i){return i!==t})}static find(t,i){return Array.from(t.querySelectorAll(i))}static findSingle(t,i){return this.isElement(t)?t.querySelector(i):null}static index(t){let i=t.parentNode.childNodes,r=0;for(var s=0;s<i.length;s++){if(i[s]==t)return r;i[s].nodeType==1&&r++}return-1}static indexWithinGroup(t,i){let r=t.parentNode?t.parentNode.childNodes:[],s=0;for(var o=0;o<r.length;o++){if(r[o]==t)return s;r[o].attributes&&r[o].attributes[i]&&r[o].nodeType==1&&s++}return-1}static appendOverlay(t,i,r="self"){r!=="self"&&t&&i&&this.appendChild(t,i)}static alignOverlay(t,i,r="self",s=!0){t&&i&&(s&&(t.style.minWidth=`${n.getOuterWidth(i)}px`),r==="self"?this.relativePosition(t,i):this.absolutePosition(t,i))}static relativePosition(t,i,r=!0){let s=Z=>{if(Z)return getComputedStyle(Z).getPropertyValue("position")==="relative"?Z:s(Z.parentElement)},o=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),a=i.offsetHeight??i.getBoundingClientRect().height,l=i.getBoundingClientRect(),c=this.getWindowScrollTop(),d=this.getWindowScrollLeft(),h=this.getViewport(),v=s(t)?.getBoundingClientRect()||{top:-1*c,left:-1*d},b,A;l.top+a+o.height>h.height?(b=l.top-v.top-o.height,t.style.transformOrigin="bottom",l.top+b<0&&(b=-1*l.top)):(b=a+l.top-v.top,t.style.transformOrigin="top");let S=l.left+o.width-h.width,j=l.left-v.left;o.width>h.width?A=(l.left-v.left)*-1:S>0?A=j-S:A=l.left-v.left,t.style.top=b+"px",t.style.left=A+"px",r&&(t.style.marginTop=origin==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static absolutePosition(t,i,r=!0){let s=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),o=s.height,a=s.width,l=i.offsetHeight??i.getBoundingClientRect().height,c=i.offsetWidth??i.getBoundingClientRect().width,d=i.getBoundingClientRect(),h=this.getWindowScrollTop(),m=this.getWindowScrollLeft(),v=this.getViewport(),b,A;d.top+l+o>v.height?(b=d.top+h-o,t.style.transformOrigin="bottom",b<0&&(b=h)):(b=l+d.top+h,t.style.transformOrigin="top"),d.left+a>v.width?A=Math.max(0,d.left+m+c-a):A=d.left+m,t.style.top=b+"px",t.style.left=A+"px",r&&(t.style.marginTop=origin==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static getParents(t,i=[]){return t.parentNode===null?i:this.getParents(t.parentNode,i.concat([t.parentNode]))}static getScrollableParents(t){let i=[];if(t){let r=this.getParents(t),s=/(auto|scroll)/,o=a=>{let l=window.getComputedStyle(a,null);return s.test(l.getPropertyValue("overflow"))||s.test(l.getPropertyValue("overflowX"))||s.test(l.getPropertyValue("overflowY"))};for(let a of r){let l=a.nodeType===1&&a.dataset.scrollselectors;if(l){let c=l.split(",");for(let d of c){let h=this.findSingle(a,d);h&&o(h)&&i.push(h)}}a.nodeType!==9&&o(a)&&i.push(a)}}return i}static getHiddenElementOuterHeight(t){t.style.visibility="hidden",t.style.display="block";let i=t.offsetHeight;return t.style.display="none",t.style.visibility="visible",i}static getHiddenElementOuterWidth(t){t.style.visibility="hidden",t.style.display="block";let i=t.offsetWidth;return t.style.display="none",t.style.visibility="visible",i}static getHiddenElementDimensions(t){let i={};return t.style.visibility="hidden",t.style.display="block",i.width=t.offsetWidth,i.height=t.offsetHeight,t.style.display="none",t.style.visibility="visible",i}static scrollInView(t,i){let r=getComputedStyle(t).getPropertyValue("borderTopWidth"),s=r?parseFloat(r):0,o=getComputedStyle(t).getPropertyValue("paddingTop"),a=o?parseFloat(o):0,l=t.getBoundingClientRect(),d=i.getBoundingClientRect().top+document.body.scrollTop-(l.top+document.body.scrollTop)-s-a,h=t.scrollTop,m=t.clientHeight,v=this.getOuterHeight(i);d<0?t.scrollTop=h+d:d+v>m&&(t.scrollTop=h+d-m+v)}static fadeIn(t,i){t.style.opacity=0;let r=+new Date,s=0,o=function(){s=+t.style.opacity.replace(",",".")+(new Date().getTime()-r)/i,t.style.opacity=s,r=+new Date,+s<1&&(window.requestAnimationFrame&&requestAnimationFrame(o)||setTimeout(o,16))};o()}static fadeOut(t,i){var r=1,s=50,o=i,a=s/o;let l=setInterval(()=>{r=r-a,r<=0&&(r=0,clearInterval(l)),t.style.opacity=r},s)}static getWindowScrollTop(){let t=document.documentElement;return(window.pageYOffset||t.scrollTop)-(t.clientTop||0)}static getWindowScrollLeft(){let t=document.documentElement;return(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}static matches(t,i){var r=Element.prototype,s=r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||function(o){return[].indexOf.call(document.querySelectorAll(o),this)!==-1};return s.call(t,i)}static getOuterWidth(t,i){let r=t.offsetWidth;if(i){let s=getComputedStyle(t);r+=parseFloat(s.marginLeft)+parseFloat(s.marginRight)}return r}static getHorizontalPadding(t){let i=getComputedStyle(t);return parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)}static getHorizontalMargin(t){let i=getComputedStyle(t);return parseFloat(i.marginLeft)+parseFloat(i.marginRight)}static innerWidth(t){let i=t.offsetWidth,r=getComputedStyle(t);return i+=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static width(t){let i=t.offsetWidth,r=getComputedStyle(t);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static getInnerHeight(t){let i=t.offsetHeight,r=getComputedStyle(t);return i+=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom),i}static getOuterHeight(t,i){let r=t.offsetHeight;if(i){let s=getComputedStyle(t);r+=parseFloat(s.marginTop)+parseFloat(s.marginBottom)}return r}static getHeight(t){let i=t.offsetHeight,r=getComputedStyle(t);return i-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)+parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),i}static getWidth(t){let i=t.offsetWidth,r=getComputedStyle(t);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth),i}static getViewport(){let t=window,i=document,r=i.documentElement,s=i.getElementsByTagName("body")[0],o=t.innerWidth||r.clientWidth||s.clientWidth,a=t.innerHeight||r.clientHeight||s.clientHeight;return{width:o,height:a}}static getOffset(t){var i=t.getBoundingClientRect();return{top:i.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:i.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(t,i){let r=t.parentNode;if(!r)throw"Can't replace element";return r.replaceChild(i,t)}static getUserAgent(){if(navigator&&this.isClient())return navigator.userAgent}static isIE(){var t=window.navigator.userAgent,i=t.indexOf("MSIE ");if(i>0)return!0;var r=t.indexOf("Trident/");if(r>0){var s=t.indexOf("rv:");return!0}var o=t.indexOf("Edge/");return o>0}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(t,i){if(this.isElement(i))i.appendChild(t);else if(i&&i.el&&i.el.nativeElement)i.el.nativeElement.appendChild(t);else throw"Cannot append "+i+" to "+t}static removeChild(t,i){if(this.isElement(i))i.removeChild(t);else if(i.el&&i.el.nativeElement)i.el.nativeElement.removeChild(t);else throw"Cannot remove "+t+" from "+i}static removeElement(t){"remove"in Element.prototype?t.remove():t.parentNode.removeChild(t)}static isElement(t){return typeof HTMLElement=="object"?t instanceof HTMLElement:t&&typeof t=="object"&&t!==null&&t.nodeType===1&&typeof t.nodeName=="string"}static calculateScrollbarWidth(t){if(t){let i=getComputedStyle(t);return t.offsetWidth-t.clientWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.borderRightWidth)}else{if(this.calculatedScrollbarWidth!==null)return this.calculatedScrollbarWidth;let i=document.createElement("div");i.className="p-scrollbar-measure",document.body.appendChild(i);let r=i.offsetWidth-i.clientWidth;return document.body.removeChild(i),this.calculatedScrollbarWidth=r,r}}static calculateScrollbarHeight(){if(this.calculatedScrollbarHeight!==null)return this.calculatedScrollbarHeight;let t=document.createElement("div");t.className="p-scrollbar-measure",document.body.appendChild(t);let i=t.offsetHeight-t.clientHeight;return document.body.removeChild(t),this.calculatedScrollbarWidth=i,i}static invokeElementMethod(t,i,r){t[i].apply(t,r)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let t=this.resolveUserAgent();this.browser={},t.browser&&(this.browser[t.browser]=!0,this.browser.version=t.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let t=navigator.userAgent.toLowerCase(),i=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:i[1]||"",version:i[2]||"0"}}static isInteger(t){return Number.isInteger?Number.isInteger(t):typeof t=="number"&&isFinite(t)&&Math.floor(t)===t}static isHidden(t){return!t||t.offsetParent===null}static isVisible(t){return t&&t.offsetParent!=null}static isExist(t){return t!==null&&typeof t<"u"&&t.nodeName&&t.parentNode}static focus(t,i){t&&document.activeElement!==t&&t.focus(i)}static getFocusableSelectorString(t=""){return`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        .p-inputtext:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        .p-button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t}`}static getFocusableElements(t,i=""){let r=this.find(t,this.getFocusableSelectorString(i)),s=[];for(let o of r){let a=getComputedStyle(o);this.isVisible(o)&&a.display!="none"&&a.visibility!="hidden"&&s.push(o)}return s}static getFocusableElement(t,i=""){let r=this.findSingle(t,this.getFocusableSelectorString(i));if(r){let s=getComputedStyle(r);if(this.isVisible(r)&&s.display!="none"&&s.visibility!="hidden")return r}return null}static getFirstFocusableElement(t,i=""){let r=this.getFocusableElements(t,i);return r.length>0?r[0]:null}static getLastFocusableElement(t,i){let r=this.getFocusableElements(t,i);return r.length>0?r[r.length-1]:null}static getNextFocusableElement(t,i=!1){let r=n.getFocusableElements(t),s=0;if(r&&r.length>0){let o=r.indexOf(r[0].ownerDocument.activeElement);i?o==-1||o===0?s=r.length-1:s=o-1:o!=-1&&o!==r.length-1&&(s=o+1)}return r[s]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(t,i){if(!t)return null;switch(t){case"document":return document;case"window":return window;case"@next":return i?.nextElementSibling;case"@prev":return i?.previousElementSibling;case"@parent":return i?.parentElement;case"@grandparent":return i?.parentElement.parentElement;default:let r=typeof t;if(r==="string")return document.querySelector(t);if(r==="object"&&t.hasOwnProperty("nativeElement"))return this.isExist(t.nativeElement)?t.nativeElement:void 0;let o=(a=>!!(a&&a.constructor&&a.call&&a.apply))(t)?t():t;return o&&o.nodeType===9||this.isExist(o)?o:null}}static isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}static getAttribute(t,i){if(t){let r=t.getAttribute(i);return isNaN(r)?r==="true"||r==="false"?r==="true":r:+r}}static calculateBodyScrollbarWidth(){return window.innerWidth-document.documentElement.offsetWidth}static blockBodyScroll(t="p-overflow-hidden"){document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,t)}static unblockBodyScroll(t="p-overflow-hidden"){document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,t)}static createElement(t,i={},...r){if(t){let s=document.createElement(t);return this.setAttributes(s,i),s.append(...r),s}}static setAttribute(t,i="",r){this.isElement(t)&&r!==null&&r!==void 0&&t.setAttribute(i,r)}static setAttributes(t,i={}){if(this.isElement(t)){let r=(s,o)=>{let a=t?.$attrs?.[s]?[t?.$attrs?.[s]]:[];return[o].flat().reduce((l,c)=>{if(c!=null){let d=typeof c;if(d==="string"||d==="number")l.push(c);else if(d==="object"){let h=Array.isArray(c)?r(s,c):Object.entries(c).map(([m,v])=>s==="style"&&(v||v===0)?`${m.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${v}`:v?m:void 0);l=h.length?l.concat(h.filter(m=>!!m)):l}}return l},a)};Object.entries(i).forEach(([s,o])=>{if(o!=null){let a=s.match(/^on(.+)/);a?t.addEventListener(a[1].toLowerCase(),o):s==="pBind"?this.setAttributes(t,o):(o=s==="class"?[...new Set(r("class",o))].join(" ").trim():s==="style"?r("style",o).join(";").trim():o,(t.$attrs=t.$attrs||{})&&(t.$attrs[s]=o),t.setAttribute(s,o))}})}}static isFocusableElement(t,i=""){return this.isElement(t)?t.matches(`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i}`):!1}}return n})();var t5=(()=>{class n{document;el;renderer;disabled;badgeSize;set size(t){this._size=t,console.warn("size property is deprecated and will removed in v18, use badgeSize instead.")}get size(){return this._size}_size;severity;value;badgeStyle;badgeStyleClass;id;badgeEl;get activeElement(){return this.el.nativeElement.nodeName.indexOf("-")!=-1?this.el.nativeElement.firstChild:this.el.nativeElement}get canUpdateBadge(){return this.id&&!this.disabled}constructor(t,i,r){this.document=t,this.el=i,this.renderer=r}ngOnChanges({value:t,size:i,severity:r,disabled:s,badgeStyle:o,badgeStyleClass:a}){s&&this.toggleDisableState(),this.canUpdateBadge&&(r&&this.setSeverity(r.previousValue),i&&this.setSizeClasses(),t&&this.setValue(),(o||a)&&this.applyStyles())}ngAfterViewInit(){this.id=os()+"_badge",this.renderBadgeContent()}setValue(t){let i=t??this.document.getElementById(this.id);if(!i)return;this.value!=null?(he.hasClass(i,"p-badge-dot")&&he.removeClass(i,"p-badge-dot"),this.value&&String(this.value).length===1?he.addClass(i,"p-badge-no-gutter"):he.removeClass(i,"p-badge-no-gutter")):(he.hasClass(i,"p-badge-dot")||he.addClass(i,"p-badge-dot"),he.removeClass(i,"p-badge-no-gutter")),i.innerHTML="";let r=this.value!=null?String(this.value):"";this.renderer.appendChild(i,this.document.createTextNode(r))}setSizeClasses(t){let i=t??this.document.getElementById(this.id);i&&(this.badgeSize?(this.badgeSize==="large"&&(he.addClass(i,"p-badge-lg"),he.removeClass(i,"p-badge-xl")),this.badgeSize==="xlarge"&&(he.addClass(i,"p-badge-xl"),he.removeClass(i,"p-badge-lg"))):this.size&&!this.badgeSize?(this.size==="large"&&(he.addClass(i,"p-badge-lg"),he.removeClass(i,"p-badge-xl")),this.size==="xlarge"&&(he.addClass(i,"p-badge-xl"),he.removeClass(i,"p-badge-lg"))):(he.removeClass(i,"p-badge-lg"),he.removeClass(i,"p-badge-xl")))}renderBadgeContent(){if(this.disabled)return null;let t=this.activeElement,i=this.document.createElement("span");i.id=this.id,i.className="p-badge p-component",this.setSeverity(null,i),this.setSizeClasses(i),this.setValue(i),he.addClass(t,"p-overlay-badge"),this.renderer.appendChild(t,i),this.badgeEl=i,this.applyStyles()}applyStyles(){if(this.badgeEl&&this.badgeStyle&&typeof this.badgeStyle=="object")for(let[t,i]of Object.entries(this.badgeStyle))this.renderer.setStyle(this.badgeEl,t,i);this.badgeEl&&this.badgeStyleClass&&this.badgeEl.classList.add(...this.badgeStyleClass.split(" "))}setSeverity(t,i){let r=i??this.document.getElementById(this.id);r&&(this.severity&&he.addClass(r,`p-badge-${this.severity}`),t&&he.removeClass(r,`p-badge-${t}`))}toggleDisableState(){if(this.id)if(this.disabled){let t=this.activeElement?.querySelector(`#${this.id}`);t&&this.renderer.removeChild(this.activeElement,t)}else this.renderBadgeContent()}static \u0275fac=function(i){return new(i||n)(U(Ze),U(nt),U(ti))};static \u0275dir=Qe({type:n,selectors:[["","pBadge",""]],hostAttrs:[1,"p-element"],inputs:{disabled:[0,"badgeDisabled","disabled"],badgeSize:"badgeSize",size:"size",severity:"severity",value:"value",badgeStyle:"badgeStyle",badgeStyleClass:"badgeStyleClass"},features:[Tn]})}return n})();var n5=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=we({type:n});static \u0275inj=ve({imports:[Rs,yh]})}return n})();var i5=(()=>{class n{autofocus=!1;focused=!1;platformId=K(wt);document=K(Ze);host=K(nt);ngAfterContentChecked(){this.autofocus===!1?this.host.nativeElement.removeAttribute("autofocus"):this.host.nativeElement.setAttribute("autofocus",!0),this.focused||this.autoFocus()}ngAfterViewChecked(){this.focused||this.autoFocus()}autoFocus(){Qi(this.platformId)&&this.autofocus&&setTimeout(()=>{let t=he.getFocusableElements(this.host?.nativeElement);t.length===0&&this.host.nativeElement.focus(),t.length>0&&t[0].focus(),this.focused=!0})}static \u0275fac=function(i){return new(i||n)};static \u0275dir=Qe({type:n,selectors:[["","pAutoFocus",""]],hostAttrs:[1,"p-element"],inputs:{autofocus:[2,"autofocus","autofocus",je]},standalone:!0,features:[mi]})}return n})();var uX=["*"],al=(()=>{class n{label;spin=!1;styleClass;role;ariaLabel;ariaHidden;ngOnInit(){this.getAttributes()}getAttributes(){let t=zc.isEmpty(this.label);this.role=t?void 0:"img",this.ariaLabel=t?void 0:this.label,this.ariaHidden=t}getClassNames(){return`p-icon ${this.styleClass?this.styleClass+" ":""}${this.spin?"p-icon-spin":""}`}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Oe({type:n,selectors:[["ng-component"]],hostAttrs:[1,"p-element","p-icon-wrapper"],inputs:{label:"label",spin:[2,"spin","spin",je],styleClass:"styleClass"},standalone:!0,features:[mi,Pt],ngContentSelectors:uX,decls:1,vars:0,template:function(i,r){i&1&&(Wi(),_i(0))},encapsulation:2,changeDetection:0})}return n})();var r5=(()=>{class n extends al{pathId;ngOnInit(){this.pathId="url(#"+os()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=gi(n)))(r||n)}})();static \u0275cmp=Oe({type:n,selectors:[["SpinnerIcon"]],standalone:!0,features:[fn,Pt],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(Ds(),E(0,"svg",0)(1,"g"),ie(2,"path",1),C(),E(3,"defs")(4,"clipPath",2),ie(5,"rect",3),C()()()),i&2&&(It(r.getClassNames()),Je("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),D(),Je("clip-path",r.pathId),D(3),x("id",r.pathId))},encapsulation:2})}return n})();var aw=(()=>{class n{document;platformId;renderer;el;zone;config;constructor(t,i,r,s,o,a){this.document=t,this.platformId=i,this.renderer=r,this.el=s,this.zone=o,this.config=a}animationListener;mouseDownListener;timeout;ngAfterViewInit(){Qi(this.platformId)&&this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.onMouseDown.bind(this))})}onMouseDown(t){let i=this.getInk();if(!i||this.document.defaultView?.getComputedStyle(i,null).display==="none")return;if(he.removeClass(i,"p-ink-active"),!he.getHeight(i)&&!he.getWidth(i)){let a=Math.max(he.getOuterWidth(this.el.nativeElement),he.getOuterHeight(this.el.nativeElement));i.style.height=a+"px",i.style.width=a+"px"}let r=he.getOffset(this.el.nativeElement),s=t.pageX-r.left+this.document.body.scrollTop-he.getWidth(i)/2,o=t.pageY-r.top+this.document.body.scrollLeft-he.getHeight(i)/2;this.renderer.setStyle(i,"top",o+"px"),this.renderer.setStyle(i,"left",s+"px"),he.addClass(i,"p-ink-active"),this.timeout=setTimeout(()=>{let a=this.getInk();a&&he.removeClass(a,"p-ink-active")},401)}getInk(){let t=this.el.nativeElement.children;for(let i=0;i<t.length;i++)if(typeof t[i].className=="string"&&t[i].className.indexOf("p-ink")!==-1)return t[i];return null}resetInk(){let t=this.getInk();t&&he.removeClass(t,"p-ink-active")}onAnimationEnd(t){this.timeout&&clearTimeout(this.timeout),he.removeClass(t.currentTarget,"p-ink-active")}create(){let t=this.renderer.createElement("span");this.renderer.addClass(t,"p-ink"),this.renderer.appendChild(this.el.nativeElement,t),this.renderer.setAttribute(t,"aria-hidden","true"),this.renderer.setAttribute(t,"role","presentation"),this.animationListener||(this.animationListener=this.renderer.listen(t,"animationend",this.onAnimationEnd.bind(this)))}remove(){let t=this.getInk();t&&(this.mouseDownListener&&this.mouseDownListener(),this.animationListener&&this.animationListener(),this.mouseDownListener=null,this.animationListener=null,he.removeElement(t))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}static \u0275fac=function(i){return new(i||n)(U(Ze),U(wt),U(ti),U(nt),U(De),U(sw,8))};static \u0275dir=Qe({type:n,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"],standalone:!0})}return n})(),s5=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=we({type:n});static \u0275inj=ve({})}return n})();var hX=["*"],o5=n=>({class:n});function fX(n,e){n&1&&wa(0)}function pX(n,e){if(n&1&&ie(0,"span",8),n&2){let t=B(3);x("ngClass",t.iconClass()),Je("aria-hidden",!0)("data-pc-section","loadingicon")}}function gX(n,e){if(n&1&&ie(0,"SpinnerIcon",9),n&2){let t=B(3);x("styleClass",t.spinnerIconClass())("spin",!0),Je("aria-hidden",!0)("data-pc-section","loadingicon")}}function mX(n,e){if(n&1&&(ni(0),J(1,pX,1,3,"span",6)(2,gX,1,4,"SpinnerIcon",7),ii()),n&2){let t=B(2);D(),x("ngIf",t.loadingIcon),D(),x("ngIf",!t.loadingIcon)}}function _X(n,e){}function yX(n,e){if(n&1&&J(0,_X,0,0,"ng-template",10),n&2){let t=B(2);x("ngIf",t.loadingIconTemplate)}}function vX(n,e){if(n&1&&(ni(0),J(1,mX,3,2,"ng-container",2)(2,yX,1,1,null,5),ii()),n&2){let t=B();D(),x("ngIf",!t.loadingIconTemplate),D(),x("ngTemplateOutlet",t.loadingIconTemplate)("ngTemplateOutletContext",Gn(3,o5,t.iconClass()))}}function wX(n,e){if(n&1&&ie(0,"span",8),n&2){let t=B(2);x("ngClass",t.iconClass()),Je("data-pc-section","icon")}}function bX(n,e){}function CX(n,e){if(n&1&&J(0,bX,0,0,"ng-template",10),n&2){let t=B(2);x("ngIf",!t.icon&&t.iconTemplate)}}function EX(n,e){if(n&1&&(ni(0),J(1,wX,1,2,"span",6)(2,CX,1,1,null,5),ii()),n&2){let t=B();D(),x("ngIf",t.icon&&!t.iconTemplate),D(),x("ngTemplateOutlet",t.iconTemplate)("ngTemplateOutletContext",Gn(3,o5,t.iconClass()))}}function IX(n,e){if(n&1&&(E(0,"span",11),L(1),C()),n&2){let t=B();Je("aria-hidden",t.icon&&!t.label)("data-pc-section","label"),D(),ht(t.label)}}function TX(n,e){if(n&1&&(E(0,"span",8),L(1),C()),n&2){let t=B();It(t.badgeClass),x("ngClass",t.badgeStyleClass()),Je("data-pc-section","badge"),D(),ht(t.badge)}}var ll={button:"p-button",component:"p-component",iconOnly:"p-button-icon-only",disabled:"p-disabled",loading:"p-button-loading",labelOnly:"p-button-loading-label-only"},a5=(()=>{class n{el;document;iconPos="left";loadingIcon;get label(){return this._label}set label(t){this._label=t,this.initialized&&(this.updateLabel(),this.updateIcon(),this.setStyleClass())}get icon(){return this._icon}set icon(t){this._icon=t,this.initialized&&(this.updateIcon(),this.setStyleClass())}get loading(){return this._loading}set loading(t){this._loading=t,this.initialized&&(this.updateIcon(),this.setStyleClass())}severity;raised=!1;rounded=!1;text=!1;outlined=!1;size=null;plain=!1;_label;_icon;_loading=!1;initialized;get htmlElement(){return this.el.nativeElement}_internalClasses=Object.values(ll);constructor(t,i){this.el=t,this.document=i}ngAfterViewInit(){he.addMultipleClasses(this.htmlElement,this.getStyleClass().join(" ")),this.createIcon(),this.createLabel(),this.initialized=!0}getStyleClass(){let t=[ll.button,ll.component];return this.icon&&!this.label&&zc.isEmpty(this.htmlElement.textContent)&&t.push(ll.iconOnly),this.loading&&(t.push(ll.disabled,ll.loading),!this.icon&&this.label&&t.push(ll.labelOnly),this.icon&&!this.label&&!zc.isEmpty(this.htmlElement.textContent)&&t.push(ll.iconOnly)),this.text&&t.push("p-button-text"),this.severity&&t.push(`p-button-${this.severity}`),this.plain&&t.push("p-button-plain"),this.raised&&t.push("p-button-raised"),this.size&&t.push(`p-button-${this.size}`),this.outlined&&t.push("p-button-outlined"),this.rounded&&t.push("p-button-rounded"),this.size==="small"&&t.push("p-button-sm"),this.size==="large"&&t.push("p-button-lg"),t}setStyleClass(){let t=this.getStyleClass();this.htmlElement.classList.remove(...this._internalClasses),this.htmlElement.classList.add(...t)}createLabel(){if(!he.findSingle(this.htmlElement,".p-button-label")&&this.label){let i=this.document.createElement("span");this.icon&&!this.label&&i.setAttribute("aria-hidden","true"),i.className="p-button-label",i.appendChild(this.document.createTextNode(this.label)),this.htmlElement.appendChild(i)}}createIcon(){if(!he.findSingle(this.htmlElement,".p-button-icon")&&(this.icon||this.loading)){let i=this.document.createElement("span");i.className="p-button-icon",i.setAttribute("aria-hidden","true");let r=this.label?"p-button-icon-"+this.iconPos:null;r&&he.addClass(i,r);let s=this.getIconClass();s&&he.addMultipleClasses(i,s),this.htmlElement.insertBefore(i,this.htmlElement.firstChild)}}updateLabel(){let t=he.findSingle(this.htmlElement,".p-button-label");if(!this.label){t&&this.htmlElement.removeChild(t);return}t?t.textContent=this.label:this.createLabel()}updateIcon(){let t=he.findSingle(this.htmlElement,".p-button-icon"),i=he.findSingle(this.htmlElement,".p-button-label");t?this.iconPos?t.className="p-button-icon "+(i?"p-button-icon-"+this.iconPos:"")+" "+this.getIconClass():t.className="p-button-icon "+this.getIconClass():this.createIcon()}getIconClass(){return this.loading?"p-button-loading-icon pi-spin "+(this.loadingIcon??"pi pi-spinner"):this.icon||"p-hidden"}ngOnDestroy(){this.initialized=!1}static \u0275fac=function(i){return new(i||n)(U(nt),U(Ze))};static \u0275dir=Qe({type:n,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading",severity:"severity",raised:[2,"raised","raised",je],rounded:[2,"rounded","rounded",je],text:[2,"text","text",je],outlined:[2,"outlined","outlined",je],size:"size",plain:[2,"plain","plain",je]},standalone:!0,features:[mi]})}return n})(),DX=(()=>{class n{el;type="button";iconPos="left";icon;badge;label;disabled;loading=!1;loadingIcon;raised=!1;rounded=!1;text=!1;plain=!1;severity;outlined=!1;link=!1;tabindex;size;style;styleClass;badgeClass;ariaLabel;autofocus;onClick=new xe;onFocus=new xe;onBlur=new xe;contentTemplate;loadingIconTemplate;iconTemplate;templates;constructor(t){this.el=t}spinnerIconClass(){return Object.entries(this.iconClass()).filter(([,t])=>!!t).reduce((t,[i])=>t+` ${i}`,"p-button-loading-icon")}iconClass(){let t={"p-button-icon":!0,"p-button-icon-left":this.iconPos==="left"&&this.label,"p-button-icon-right":this.iconPos==="right"&&this.label,"p-button-icon-top":this.iconPos==="top"&&this.label,"p-button-icon-bottom":this.iconPos==="bottom"&&this.label};return this.loading?t[`p-button-loading-icon pi-spin ${this.loadingIcon??""}`]=!0:this.icon&&(t[this.icon]=!0),t}get buttonClass(){return{"p-button p-component":!0,"p-button-icon-only":(this.icon||this.iconTemplate||this.loadingIcon||this.loadingIconTemplate)&&!this.label,"p-button-vertical":(this.iconPos==="top"||this.iconPos==="bottom")&&this.label,"p-button-loading":this.loading,"p-button-loading-label-only":this.loading&&!this.icon&&this.label&&!this.loadingIcon&&this.iconPos==="left","p-button-link":this.link,[`p-button-${this.severity}`]:this.severity,"p-button-raised":this.raised,"p-button-rounded":this.rounded,"p-button-text":this.text,"p-button-outlined":this.outlined,"p-button-sm":this.size==="small","p-button-lg":this.size==="large","p-button-plain":this.plain,[`${this.styleClass}`]:this.styleClass}}ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"content":this.contentTemplate=t.template;break;case"icon":this.iconTemplate=t.template;break;case"loadingicon":this.loadingIconTemplate=t.template;break;default:this.contentTemplate=t.template;break}})}badgeStyleClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":this.badge&&String(this.badge).length===1}}focus(){this.el.nativeElement.firstChild.focus()}static \u0275fac=function(i){return new(i||n)(U(nt))};static \u0275cmp=Oe({type:n,selectors:[["p-button"]],contentQueries:function(i,r,s){if(i&1&&Ms(s,ow,4),i&2){let o;Dn(o=Sn())&&(r.templates=o)}},hostAttrs:[1,"p-element"],hostVars:2,hostBindings:function(i,r){i&2&&Ur("p-disabled",r.disabled)},inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:[2,"disabled","disabled",je],loading:[2,"loading","loading",je],loadingIcon:"loadingIcon",raised:[2,"raised","raised",je],rounded:[2,"rounded","rounded",je],text:[2,"text","text",je],plain:[2,"plain","plain",je],severity:"severity",outlined:[2,"outlined","outlined",je],link:[2,"link","link",je],tabindex:[2,"tabindex","tabindex",Xl],size:"size",style:"style",styleClass:"styleClass",badgeClass:"badgeClass",ariaLabel:"ariaLabel",autofocus:[2,"autofocus","autofocus",je]},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},standalone:!0,features:[mi,Pt],ngContentSelectors:hX,decls:7,vars:14,consts:[["pRipple","","pAutoFocus","",3,"click","focus","blur","ngStyle","disabled","ngClass","autofocus"],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-button-label",4,"ngIf"],[3,"ngClass","class",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass",4,"ngIf"],[3,"styleClass","spin",4,"ngIf"],[3,"ngClass"],[3,"styleClass","spin"],[3,"ngIf"],[1,"p-button-label"]],template:function(i,r){i&1&&(Wi(),E(0,"button",0),te("click",function(o){return r.onClick.emit(o)})("focus",function(o){return r.onFocus.emit(o)})("blur",function(o){return r.onBlur.emit(o)}),_i(1),J(2,fX,1,0,"ng-container",1)(3,vX,3,5,"ng-container",2)(4,EX,3,5,"ng-container",2)(5,IX,2,3,"span",3)(6,TX,2,5,"span",4),C()),i&2&&(x("ngStyle",r.style)("disabled",r.disabled||r.loading)("ngClass",r.buttonClass)("autofocus",r.autofocus),Je("type",r.type)("aria-label",r.ariaLabel)("data-pc-name","button")("data-pc-section","root")("tabindex",r.tabindex),D(2),x("ngTemplateOutlet",r.contentTemplate),D(),x("ngIf",r.loading),D(),x("ngIf",!r.loading),D(),x("ngIf",!r.contentTemplate&&r.label),D(),x("ngIf",!r.contentTemplate&&r.badge))},dependencies:[kt,wf,u_,Oi,aw,i5,r5],encapsulation:2,changeDetection:0})}return n})(),lw=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=we({type:n});static \u0275inj=ve({imports:[DX,yh]})}return n})();var l5=(()=>{class n{pFocusTrapDisabled=!1;platformId=K(wt);host=K(nt);document=K(Ze);firstHiddenFocusableElement;lastHiddenFocusableElement;ngOnInit(){Qi(this.platformId)&&!this.pFocusTrapDisabled&&!this.firstHiddenFocusableElement&&!this.lastHiddenFocusableElement&&this.createHiddenFocusableElements()}ngOnChanges(t){t.pFocusTrapDisabled&&Qi(this.platformId)&&(t.pFocusTrapDisabled.currentValue?this.removeHiddenFocusableElements():this.createHiddenFocusableElements())}removeHiddenFocusableElements(){this.firstHiddenFocusableElement&&this.firstHiddenFocusableElement.parentNode&&this.firstHiddenFocusableElement.parentNode.removeChild(this.firstHiddenFocusableElement),this.lastHiddenFocusableElement&&this.lastHiddenFocusableElement.parentNode&&this.lastHiddenFocusableElement.parentNode.removeChild(this.lastHiddenFocusableElement)}getComputedSelector(t){return`:not(.p-hidden-focusable):not([data-p-hidden-focusable="true"])${t??""}`}createHiddenFocusableElements(){let t="0",i=r=>he.createElement("span",{class:"p-hidden-accessible p-hidden-focusable",tabindex:t,role:"presentation","data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0,onFocus:r?.bind(this)});this.firstHiddenFocusableElement=i(this.onFirstHiddenElementFocus),this.lastHiddenFocusableElement=i(this.onLastHiddenElementFocus),this.firstHiddenFocusableElement.setAttribute("data-pc-section","firstfocusableelement"),this.lastHiddenFocusableElement.setAttribute("data-pc-section","lastfocusableelement"),this.host.nativeElement.prepend(this.firstHiddenFocusableElement),this.host.nativeElement.append(this.lastHiddenFocusableElement)}onFirstHiddenElementFocus(t){let{currentTarget:i,relatedTarget:r}=t,s=r===this.lastHiddenFocusableElement||!this.host.nativeElement?.contains(r)?he.getFirstFocusableElement(i.parentElement,":not(.p-hidden-focusable)"):this.lastHiddenFocusableElement;he.focus(s)}onLastHiddenElementFocus(t){let{currentTarget:i,relatedTarget:r}=t,s=r===this.firstHiddenFocusableElement||!this.host.nativeElement?.contains(r)?he.getLastFocusableElement(i.parentElement,":not(.p-hidden-focusable)"):this.firstHiddenFocusableElement;he.focus(s)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=Qe({type:n,selectors:[["","pFocusTrap",""]],hostAttrs:[1,"p-element"],inputs:{pFocusTrapDisabled:[2,"pFocusTrapDisabled","pFocusTrapDisabled",je]},features:[mi,Tn]})}return n})(),c5=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=we({type:n});static \u0275inj=ve({imports:[Rs]})}return n})();var AM=(()=>{class n extends al{static \u0275fac=(()=>{let t;return function(r){return(t||(t=gi(n)))(r||n)}})();static \u0275cmp=Oe({type:n,selectors:[["TimesIcon"]],standalone:!0,features:[fn,Pt],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z","fill","currentColor"]],template:function(i,r){i&1&&(Ds(),E(0,"svg",0),ie(1,"path",1),C()),i&2&&(It(r.getClassNames()),Je("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var xM=(()=>{class n extends al{pathId;ngOnInit(){this.pathId="url(#"+os()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=gi(n)))(r||n)}})();static \u0275cmp=Oe({type:n,selectors:[["WindowMaximizeIcon"]],standalone:!0,features:[fn,Pt],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M7 14H11.8C12.3835 14 12.9431 13.7682 13.3556 13.3556C13.7682 12.9431 14 12.3835 14 11.8V2.2C14 1.61652 13.7682 1.05694 13.3556 0.644365C12.9431 0.231785 12.3835 0 11.8 0H2.2C1.61652 0 1.05694 0.231785 0.644365 0.644365C0.231785 1.05694 0 1.61652 0 2.2V7C0 7.15913 0.063214 7.31174 0.175736 7.42426C0.288258 7.53679 0.44087 7.6 0.6 7.6C0.75913 7.6 0.911742 7.53679 1.02426 7.42426C1.13679 7.31174 1.2 7.15913 1.2 7V2.2C1.2 1.93478 1.30536 1.68043 1.49289 1.49289C1.68043 1.30536 1.93478 1.2 2.2 1.2H11.8C12.0652 1.2 12.3196 1.30536 12.5071 1.49289C12.6946 1.68043 12.8 1.93478 12.8 2.2V11.8C12.8 12.0652 12.6946 12.3196 12.5071 12.5071C12.3196 12.6946 12.0652 12.8 11.8 12.8H7C6.84087 12.8 6.68826 12.8632 6.57574 12.9757C6.46321 13.0883 6.4 13.2409 6.4 13.4C6.4 13.5591 6.46321 13.7117 6.57574 13.8243C6.68826 13.9368 6.84087 14 7 14ZM9.77805 7.42192C9.89013 7.534 10.0415 7.59788 10.2 7.59995C10.3585 7.59788 10.5099 7.534 10.622 7.42192C10.7341 7.30985 10.798 7.15844 10.8 6.99995V3.94242C10.8066 3.90505 10.8096 3.86689 10.8089 3.82843C10.8079 3.77159 10.7988 3.7157 10.7824 3.6623C10.756 3.55552 10.701 3.45698 10.622 3.37798C10.5099 3.2659 10.3585 3.20202 10.2 3.19995H7.00002C6.84089 3.19995 6.68828 3.26317 6.57576 3.37569C6.46324 3.48821 6.40002 3.64082 6.40002 3.79995C6.40002 3.95908 6.46324 4.11169 6.57576 4.22422C6.68828 4.33674 6.84089 4.39995 7.00002 4.39995H8.80006L6.19997 7.00005C6.10158 7.11005 6.04718 7.25246 6.04718 7.40005C6.04718 7.54763 6.10158 7.69004 6.19997 7.80005C6.30202 7.91645 6.44561 7.98824 6.59997 8.00005C6.75432 7.98824 6.89791 7.91645 6.99997 7.80005L9.60002 5.26841V6.99995C9.6021 7.15844 9.66598 7.30985 9.77805 7.42192ZM1.4 14H3.8C4.17066 13.9979 4.52553 13.8498 4.78763 13.5877C5.04973 13.3256 5.1979 12.9707 5.2 12.6V10.2C5.1979 9.82939 5.04973 9.47452 4.78763 9.21242C4.52553 8.95032 4.17066 8.80215 3.8 8.80005H1.4C1.02934 8.80215 0.674468 8.95032 0.412371 9.21242C0.150274 9.47452 0.00210008 9.82939 0 10.2V12.6C0.00210008 12.9707 0.150274 13.3256 0.412371 13.5877C0.674468 13.8498 1.02934 13.9979 1.4 14ZM1.25858 10.0586C1.29609 10.0211 1.34696 10 1.4 10H3.8C3.85304 10 3.90391 10.0211 3.94142 10.0586C3.97893 10.0961 4 10.147 4 10.2V12.6C4 12.6531 3.97893 12.704 3.94142 12.7415C3.90391 12.779 3.85304 12.8 3.8 12.8H1.4C1.34696 12.8 1.29609 12.779 1.25858 12.7415C1.22107 12.704 1.2 12.6531 1.2 12.6V10.2C1.2 10.147 1.22107 10.0961 1.25858 10.0586Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(Ds(),E(0,"svg",0)(1,"g"),ie(2,"path",1),C(),E(3,"defs")(4,"clipPath",2),ie(5,"rect",3),C()()()),i&2&&(It(r.getClassNames()),Je("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),D(),Je("clip-path",r.pathId),D(3),x("id",r.pathId))},encapsulation:2})}return n})();var RM=(()=>{class n extends al{pathId;ngOnInit(){this.pathId="url(#"+os()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=gi(n)))(r||n)}})();static \u0275cmp=Oe({type:n,selectors:[["WindowMinimizeIcon"]],standalone:!0,features:[fn,Pt],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M11.8 0H2.2C1.61652 0 1.05694 0.231785 0.644365 0.644365C0.231785 1.05694 0 1.61652 0 2.2V7C0 7.15913 0.063214 7.31174 0.175736 7.42426C0.288258 7.53679 0.44087 7.6 0.6 7.6C0.75913 7.6 0.911742 7.53679 1.02426 7.42426C1.13679 7.31174 1.2 7.15913 1.2 7V2.2C1.2 1.93478 1.30536 1.68043 1.49289 1.49289C1.68043 1.30536 1.93478 1.2 2.2 1.2H11.8C12.0652 1.2 12.3196 1.30536 12.5071 1.49289C12.6946 1.68043 12.8 1.93478 12.8 2.2V11.8C12.8 12.0652 12.6946 12.3196 12.5071 12.5071C12.3196 12.6946 12.0652 12.8 11.8 12.8H7C6.84087 12.8 6.68826 12.8632 6.57574 12.9757C6.46321 13.0883 6.4 13.2409 6.4 13.4C6.4 13.5591 6.46321 13.7117 6.57574 13.8243C6.68826 13.9368 6.84087 14 7 14H11.8C12.3835 14 12.9431 13.7682 13.3556 13.3556C13.7682 12.9431 14 12.3835 14 11.8V2.2C14 1.61652 13.7682 1.05694 13.3556 0.644365C12.9431 0.231785 12.3835 0 11.8 0ZM6.368 7.952C6.44137 7.98326 6.52025 7.99958 6.6 8H9.8C9.95913 8 10.1117 7.93678 10.2243 7.82426C10.3368 7.71174 10.4 7.55913 10.4 7.4C10.4 7.24087 10.3368 7.08826 10.2243 6.97574C10.1117 6.86321 9.95913 6.8 9.8 6.8H8.048L10.624 4.224C10.73 4.11026 10.7877 3.95982 10.7849 3.80438C10.7822 3.64894 10.7192 3.50063 10.6093 3.3907C10.4994 3.28077 10.3511 3.2178 10.1956 3.21506C10.0402 3.21232 9.88974 3.27002 9.776 3.376L7.2 5.952V4.2C7.2 4.04087 7.13679 3.88826 7.02426 3.77574C6.91174 3.66321 6.75913 3.6 6.6 3.6C6.44087 3.6 6.28826 3.66321 6.17574 3.77574C6.06321 3.88826 6 4.04087 6 4.2V7.4C6.00042 7.47975 6.01674 7.55862 6.048 7.632C6.07656 7.70442 6.11971 7.7702 6.17475 7.82524C6.2298 7.88029 6.29558 7.92344 6.368 7.952ZM1.4 8.80005H3.8C4.17066 8.80215 4.52553 8.95032 4.78763 9.21242C5.04973 9.47452 5.1979 9.82939 5.2 10.2V12.6C5.1979 12.9707 5.04973 13.3256 4.78763 13.5877C4.52553 13.8498 4.17066 13.9979 3.8 14H1.4C1.02934 13.9979 0.674468 13.8498 0.412371 13.5877C0.150274 13.3256 0.00210008 12.9707 0 12.6V10.2C0.00210008 9.82939 0.150274 9.47452 0.412371 9.21242C0.674468 8.95032 1.02934 8.80215 1.4 8.80005ZM3.94142 12.7415C3.97893 12.704 4 12.6531 4 12.6V10.2C4 10.147 3.97893 10.0961 3.94142 10.0586C3.90391 10.0211 3.85304 10 3.8 10H1.4C1.34696 10 1.29609 10.0211 1.25858 10.0586C1.22107 10.0961 1.2 10.147 1.2 10.2V12.6C1.2 12.6531 1.22107 12.704 1.25858 12.7415C1.29609 12.779 1.34696 12.8 1.4 12.8H3.8C3.85304 12.8 3.90391 12.779 3.94142 12.7415Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(Ds(),E(0,"svg",0)(1,"g"),ie(2,"path",1),C(),E(3,"defs")(4,"clipPath",2),ie(5,"rect",3),C()()()),i&2&&(It(r.getClassNames()),Je("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),D(),Je("clip-path",r.pathId),D(3),x("id",r.pathId))},encapsulation:2})}return n})();var AX=["titlebar"],xX=["content"],RX=["footer"],OX=["*",[["p-header"]],[["p-footer"]]],NX=["*","p-header","p-footer"],PX=(n,e,t,i,r,s,o,a,l,c)=>({"p-dialog-mask":!0,"p-component-overlay p-component-overlay-enter":n,"p-dialog-mask-scrollblocker":e,"p-dialog-left":t,"p-dialog-right":i,"p-dialog-top":r,"p-dialog-top-left":s,"p-dialog-top-right":o,"p-dialog-bottom":a,"p-dialog-bottom-left":l,"p-dialog-bottom-right":c}),kX=(n,e,t,i)=>({"p-dialog p-component":!0,"p-dialog-rtl":n,"p-dialog-draggable":e,"p-dialog-resizable":t,"p-dialog-maximized":i}),FX=(n,e)=>({transform:n,transition:e}),LX=n=>({value:"visible",params:n}),VX=()=>({"p-dialog-header-icon p-dialog-header-maximize p-link":!0}),BX=()=>({"p-dialog-header-icon p-dialog-header-close p-link":!0}),UX=()=>({"min-width":0});function jX(n,e){n&1&&wa(0)}function zX(n,e){if(n&1&&(ni(0),J(1,jX,1,0,"ng-container",10),ii()),n&2){let t=B(3);D(),x("ngTemplateOutlet",t.headlessTemplate)}}function $X(n,e){if(n&1){let t=be();E(0,"div",15),te("mousedown",function(r){ue(t);let s=B(4);return de(s.initResize(r))}),C()}}function HX(n,e){if(n&1&&(E(0,"span",21),L(1),C()),n&2){let t=B(5);x("id",t.ariaLabelledBy),D(),ht(t.header)}}function GX(n,e){if(n&1&&(E(0,"span",21),_i(1,1),C()),n&2){let t=B(5);x("id",t.ariaLabelledBy)}}function qX(n,e){n&1&&wa(0)}function WX(n,e){if(n&1&&ie(0,"span",25),n&2){let t=B(6);x("ngClass",t.maximized?t.minimizeIcon:t.maximizeIcon)}}function KX(n,e){n&1&&ie(0,"WindowMaximizeIcon",27),n&2&&x("styleClass","p-dialog-header-maximize-icon")}function QX(n,e){n&1&&ie(0,"WindowMinimizeIcon",27),n&2&&x("styleClass","p-dialog-header-maximize-icon")}function ZX(n,e){if(n&1&&(ni(0),J(1,KX,1,1,"WindowMaximizeIcon",26)(2,QX,1,1,"WindowMinimizeIcon",26),ii()),n&2){let t=B(6);D(),x("ngIf",!t.maximized&&!t.maximizeIconTemplate),D(),x("ngIf",t.maximized&&!t.minimizeIconTemplate)}}function YX(n,e){}function JX(n,e){n&1&&J(0,YX,0,0,"ng-template")}function XX(n,e){if(n&1&&(ni(0),J(1,JX,1,0,null,10),ii()),n&2){let t=B(6);D(),x("ngTemplateOutlet",t.maximizeIconTemplate)}}function eee(n,e){}function tee(n,e){n&1&&J(0,eee,0,0,"ng-template")}function nee(n,e){if(n&1&&(ni(0),J(1,tee,1,0,null,10),ii()),n&2){let t=B(6);D(),x("ngTemplateOutlet",t.minimizeIconTemplate)}}function iee(n,e){if(n&1){let t=be();E(0,"button",22),te("click",function(){ue(t);let r=B(5);return de(r.maximize())})("keydown.enter",function(){ue(t);let r=B(5);return de(r.maximize())}),J(1,WX,1,1,"span",23)(2,ZX,3,2,"ng-container",24)(3,XX,2,1,"ng-container",24)(4,nee,2,1,"ng-container",24),C()}if(n&2){let t=B(5);x("ngClass",Gr(7,VX)),Je("tabindex",t.maximizable?"0":"-1")("aria-label",t.maximizeLabel),D(),x("ngIf",t.maximizeIcon&&!t.maximizeIconTemplate&&!t.minimizeIconTemplate),D(),x("ngIf",!t.maximizeIcon),D(),x("ngIf",!t.maximized),D(),x("ngIf",t.maximized)}}function ree(n,e){if(n&1&&ie(0,"span",30),n&2){let t=B(7);x("ngClass",t.closeIcon)}}function see(n,e){n&1&&ie(0,"TimesIcon",27),n&2&&x("styleClass","p-dialog-header-close-icon")}function oee(n,e){if(n&1&&(ni(0),J(1,ree,1,1,"span",29)(2,see,1,1,"TimesIcon",26),ii()),n&2){let t=B(6);D(),x("ngIf",t.closeIcon),D(),x("ngIf",!t.closeIcon)}}function aee(n,e){}function lee(n,e){n&1&&J(0,aee,0,0,"ng-template")}function cee(n,e){if(n&1&&(E(0,"span"),J(1,lee,1,0,null,10),C()),n&2){let t=B(6);D(),x("ngTemplateOutlet",t.closeIconTemplate)}}function uee(n,e){if(n&1){let t=be();E(0,"button",28),te("click",function(r){ue(t);let s=B(5);return de(s.close(r))})("keydown.enter",function(r){ue(t);let s=B(5);return de(s.close(r))}),J(1,oee,3,2,"ng-container",24)(2,cee,2,1,"span",24),C()}if(n&2){let t=B(5);x("ngClass",Gr(6,BX))("ngStyle",Gr(7,UX)),Je("aria-label",t.closeAriaLabel)("tabindex",t.closeTabindex),D(),x("ngIf",!t.closeIconTemplate),D(),x("ngIf",t.closeIconTemplate)}}function dee(n,e){if(n&1){let t=be();E(0,"div",16,3),te("mousedown",function(r){ue(t);let s=B(4);return de(s.initDrag(r))}),J(2,HX,2,2,"span",17)(3,GX,2,1,"span",17)(4,qX,1,0,"ng-container",10),E(5,"div",18),J(6,iee,5,8,"button",19)(7,uee,3,8,"button",20),C()()}if(n&2){let t=B(4);D(2),x("ngIf",!t.headerFacet&&!t.headerTemplate),D(),x("ngIf",t.headerFacet),D(),x("ngTemplateOutlet",t.headerTemplate),D(2),x("ngIf",t.maximizable),D(),x("ngIf",t.closable)}}function hee(n,e){n&1&&wa(0)}function fee(n,e){n&1&&wa(0)}function pee(n,e){if(n&1&&(E(0,"div",31,4),_i(2,2),J(3,fee,1,0,"ng-container",10),C()),n&2){let t=B(4);D(3),x("ngTemplateOutlet",t.footerTemplate)}}function gee(n,e){if(n&1&&(J(0,$X,1,0,"div",11)(1,dee,8,5,"div",12),E(2,"div",13,2),_i(4),J(5,hee,1,0,"ng-container",10),C(),J(6,pee,4,1,"div",14)),n&2){let t=B(3);x("ngIf",t.resizable),D(),x("ngIf",t.showHeader),D(),It(t.contentStyleClass),x("ngClass","p-dialog-content")("ngStyle",t.contentStyle),D(3),x("ngTemplateOutlet",t.contentTemplate),D(),x("ngIf",t.footerFacet||t.footerTemplate)}}function mee(n,e){if(n&1){let t=be();E(0,"div",8,0),te("@animation.start",function(r){ue(t);let s=B(2);return de(s.onAnimationStart(r))})("@animation.done",function(r){ue(t);let s=B(2);return de(s.onAnimationEnd(r))}),J(2,zX,2,1,"ng-container",9)(3,gee,7,8,"ng-template",null,1,Wr),C()}if(n&2){let t=zr(4),i=B(2);It(i.styleClass),x("ngClass",AN(10,kX,i.rtl,i.draggable,i.resizable,i.maximized))("ngStyle",i.style)("pFocusTrapDisabled",i.focusTrap===!1)("@animation",Gn(18,LX,_f(15,FX,i.transformOptions,i.transitionOptions))),Je("aria-labelledby",i.ariaLabelledBy)("aria-modal",!0),D(2),x("ngIf",i.headlessTemplate)("ngIfElse",t)}}function _ee(n,e){if(n&1&&(E(0,"div",6),J(1,mee,5,20,"div",7),C()),n&2){let t=B();It(t.maskStyleClass),x("ngStyle",t.maskStyle)("ngClass",xN(5,PX,[t.modal,t.modal||t.blockScroll,t.position==="left",t.position==="right",t.position==="top",t.position==="topleft"||t.position==="top-left",t.position==="topright"||t.position==="top-right",t.position==="bottom",t.position==="bottomleft"||t.position==="bottom-left",t.position==="bottomright"||t.position==="bottom-right"])),D(),x("ngIf",t.visible)}}var yee=iS([qs({transform:"{{transform}}",opacity:0}),eh("{{transition}}")]),vee=iS([eh("{{transition}}",qs({transform:"{{transform}}",opacity:0}))]),u5=(()=>{class n{document;platformId;el;renderer;zone;cd;config;header;draggable=!0;resizable=!0;get positionLeft(){return 0}set positionLeft(t){console.log("positionLeft property is deprecated.")}get positionTop(){return 0}set positionTop(t){console.log("positionTop property is deprecated.")}contentStyle;contentStyleClass;modal=!1;closeOnEscape=!0;dismissableMask=!1;rtl=!1;closable=!0;get responsive(){return!1}set responsive(t){console.log("Responsive property is deprecated.")}appendTo;breakpoints;styleClass;maskStyleClass;maskStyle;showHeader=!0;get breakpoint(){return 649}set breakpoint(t){console.log("Breakpoint property is not utilized and deprecated, use breakpoints or CSS media queries instead.")}blockScroll=!1;autoZIndex=!0;baseZIndex=0;minX=0;minY=0;focusOnShow=!0;maximizable=!1;keepInViewport=!0;focusTrap=!0;transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)";closeIcon;closeAriaLabel;closeTabindex="0";minimizeIcon;maximizeIcon;get visible(){return this._visible}set visible(t){this._visible=t,this._visible&&!this.maskVisible&&(this.maskVisible=!0)}get style(){return this._style}set style(t){t&&(this._style=Q({},t),this.originalStyle=t)}get position(){return this._position}set position(t){switch(this._position=t,t){case"topleft":case"bottomleft":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"topright":case"bottomright":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)";break}}onShow=new xe;onHide=new xe;visibleChange=new xe;onResizeInit=new xe;onResizeEnd=new xe;onDragEnd=new xe;onMaximize=new xe;headerFacet;footerFacet;templates;headerViewChild;contentViewChild;footerViewChild;headerTemplate;contentTemplate;footerTemplate;maximizeIconTemplate;closeIconTemplate;minimizeIconTemplate;headlessTemplate;_visible=!1;maskVisible;container;wrapper;dragging;ariaLabelledBy=this.getAriaLabelledBy();documentDragListener;documentDragEndListener;resizing;documentResizeListener;documentResizeEndListener;documentEscapeListener;maskClickListener;lastPageX;lastPageY;preventVisibleChangePropagation;maximized;preMaximizeContentHeight;preMaximizeContainerWidth;preMaximizeContainerHeight;preMaximizePageX;preMaximizePageY;id=os();_style={};_position="center";originalStyle;transformOptions="scale(0.7)";styleElement;window;get maximizeLabel(){return this.config.getTranslation(XB.ARIA).maximizeLabel}constructor(t,i,r,s,o,a,l){this.document=t,this.platformId=i,this.el=r,this.renderer=s,this.zone=o,this.cd=a,this.config=l,this.window=this.document.defaultView}ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"header":this.headerTemplate=t.template;break;case"content":this.contentTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;case"closeicon":this.closeIconTemplate=t.template;break;case"maximizeicon":this.maximizeIconTemplate=t.template;break;case"minimizeicon":this.minimizeIconTemplate=t.template;break;case"headless":this.headlessTemplate=t.template;break;default:this.contentTemplate=t.template;break}})}ngOnInit(){this.breakpoints&&this.createStyle()}getAriaLabelledBy(){return this.header!==null?os()+"_header":null}parseDurationToMilliseconds(t){let i=/([\d\.]+)(ms|s)\b/g,r=0,s;for(;(s=i.exec(t))!==null;){let o=parseFloat(s[1]),a=s[2];a==="ms"?r+=o:a==="s"&&(r+=o*1e3)}if(r!==0)return r}focus(t=this.contentViewChild?.nativeElement){let i=this.parseDurationToMilliseconds(this.transitionOptions),r=he.getFocusableElement(t,"[autofocus]");if(r){this.zone.runOutsideAngular(()=>{setTimeout(()=>r.focus(),i||5)});return}let s=he.getFocusableElement(t);s?this.zone.runOutsideAngular(()=>{setTimeout(()=>s.focus(),i||5)}):this.footerViewChild&&t!==this.footerViewChild.nativeElement&&this.focus(this.footerViewChild.nativeElement)}close(t){this.visibleChange.emit(!1),t.preventDefault()}enableModality(){this.closable&&this.dismissableMask&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",t=>{this.wrapper&&this.wrapper.isSameNode(t.target)&&this.close(t)})),this.modal&&he.blockBodyScroll()}disableModality(){if(this.wrapper){this.dismissableMask&&this.unbindMaskClickListener();let t=document.querySelectorAll(".p-dialog-mask-scrollblocker");this.modal&&t&&t.length==1&&he.unblockBodyScroll(),this.cd.destroyed||this.cd.detectChanges()}}maximize(){this.maximized=!this.maximized,!this.modal&&!this.blockScroll&&(this.maximized?he.blockBodyScroll():he.unblockBodyScroll()),this.onMaximize.emit({maximized:this.maximized})}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}moveOnTop(){this.autoZIndex&&(MM.set("modal",this.container,this.baseZIndex+this.config.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}createStyle(){if(Qi(this.platformId)&&!this.styleElement){this.styleElement=this.renderer.createElement("style"),this.styleElement.type="text/css",he.setAttribute(this.styleElement,"nonce",this.config?.csp()?.nonce),this.renderer.appendChild(this.document.head,this.styleElement);let t="";for(let i in this.breakpoints)t+=`
                        @media screen and (max-width: ${i}) {
                            .p-dialog[${this.id}]:not(.p-dialog-maximized) {
                                width: ${this.breakpoints[i]} !important;
                            }
                        }
                    `;this.renderer.setProperty(this.styleElement,"innerHTML",t)}}initDrag(t){he.hasClass(t.target,"p-dialog-header-icon")||he.hasClass(t.target,"p-dialog-header-close-icon")||he.hasClass(t.target.parentElement,"p-dialog-header-icon")||this.draggable&&(this.dragging=!0,this.lastPageX=t.pageX,this.lastPageY=t.pageY,this.container.style.margin="0",he.addClass(this.document.body,"p-unselectable-text"))}onDrag(t){if(this.dragging){let i=he.getOuterWidth(this.container),r=he.getOuterHeight(this.container),s=t.pageX-this.lastPageX,o=t.pageY-this.lastPageY,a=this.container.getBoundingClientRect(),l=getComputedStyle(this.container),c=parseFloat(l.marginLeft),d=parseFloat(l.marginTop),h=a.left+s-c,m=a.top+o-d,v=he.getViewport();this.container.style.position="fixed",this.keepInViewport?(h>=this.minX&&h+i<v.width&&(this._style.left=`${h}px`,this.lastPageX=t.pageX,this.container.style.left=`${h}px`),m>=this.minY&&m+r<v.height&&(this._style.top=`${m}px`,this.lastPageY=t.pageY,this.container.style.top=`${m}px`)):(this.lastPageX=t.pageX,this.container.style.left=`${h}px`,this.lastPageY=t.pageY,this.container.style.top=`${m}px`)}}endDrag(t){this.dragging&&(this.dragging=!1,he.removeClass(this.document.body,"p-unselectable-text"),this.cd.detectChanges(),this.onDragEnd.emit(t))}resetPosition(){this.container.style.position="",this.container.style.left="",this.container.style.top="",this.container.style.margin=""}center(){this.resetPosition()}initResize(t){this.resizable&&(this.resizing=!0,this.lastPageX=t.pageX,this.lastPageY=t.pageY,he.addClass(this.document.body,"p-unselectable-text"),this.onResizeInit.emit(t))}onResize(t){if(this.resizing){let i=t.pageX-this.lastPageX,r=t.pageY-this.lastPageY,s=he.getOuterWidth(this.container),o=he.getOuterHeight(this.container),a=he.getOuterHeight(this.contentViewChild?.nativeElement),l=s+i,c=o+r,d=this.container.style.minWidth,h=this.container.style.minHeight,m=this.container.getBoundingClientRect(),v=he.getViewport();(!parseInt(this.container.style.top)||!parseInt(this.container.style.left))&&(l+=i,c+=r),(!d||l>parseInt(d))&&m.left+l<v.width&&(this._style.width=l+"px",this.container.style.width=this._style.width),(!h||c>parseInt(h))&&m.top+c<v.height&&(this.contentViewChild.nativeElement.style.height=a+c-o+"px",this._style.height&&(this._style.height=c+"px",this.container.style.height=this._style.height)),this.lastPageX=t.pageX,this.lastPageY=t.pageY}}resizeEnd(t){this.resizing&&(this.resizing=!1,he.removeClass(this.document.body,"p-unselectable-text"),this.onResizeEnd.emit(t))}bindGlobalListeners(){this.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener()),this.resizable&&this.bindDocumentResizeListeners(),this.closeOnEscape&&this.closable&&this.bindDocumentEscapeListener()}unbindGlobalListeners(){this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener(),this.unbindDocumentResizeListeners(),this.unbindDocumentEscapeListener()}bindDocumentDragListener(){this.documentDragListener||this.zone.runOutsideAngular(()=>{this.documentDragListener=this.renderer.listen(this.window,"mousemove",this.onDrag.bind(this))})}unbindDocumentDragListener(){this.documentDragListener&&(this.documentDragListener(),this.documentDragListener=null)}bindDocumentDragEndListener(){this.documentDragEndListener||this.zone.runOutsideAngular(()=>{this.documentDragEndListener=this.renderer.listen(this.window,"mouseup",this.endDrag.bind(this))})}unbindDocumentDragEndListener(){this.documentDragEndListener&&(this.documentDragEndListener(),this.documentDragEndListener=null)}bindDocumentResizeListeners(){!this.documentResizeListener&&!this.documentResizeEndListener&&this.zone.runOutsideAngular(()=>{this.documentResizeListener=this.renderer.listen(this.window,"mousemove",this.onResize.bind(this)),this.documentResizeEndListener=this.renderer.listen(this.window,"mouseup",this.resizeEnd.bind(this))})}unbindDocumentResizeListeners(){this.documentResizeListener&&this.documentResizeEndListener&&(this.documentResizeListener(),this.documentResizeEndListener(),this.documentResizeListener=null,this.documentResizeEndListener=null)}bindDocumentEscapeListener(){let t=this.el?this.el.nativeElement.ownerDocument:"document";this.documentEscapeListener=this.renderer.listen(t,"keydown",i=>{i.key=="Escape"&&this.close(i)})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}appendContainer(){this.appendTo&&(this.appendTo==="body"?this.renderer.appendChild(this.document.body,this.wrapper):he.appendChild(this.wrapper,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.renderer.appendChild(this.el.nativeElement,this.wrapper)}onAnimationStart(t){switch(t.toState){case"visible":this.container=t.element,this.wrapper=this.container?.parentElement,this.moveOnTop(),this.appendContainer(),this.bindGlobalListeners(),this.container?.setAttribute(this.id,""),this.modal&&this.enableModality(),!this.modal&&this.blockScroll&&he.addClass(this.document.body,"p-overflow-hidden"),this.focusOnShow&&this.focus();break;case"void":this.wrapper&&this.modal&&he.addClass(this.wrapper,"p-component-overlay-leave");break}}onAnimationEnd(t){switch(t.toState){case"void":this.onContainerDestroy(),this.onHide.emit({}),this.cd.markForCheck();break;case"visible":this.onShow.emit({});break}}onContainerDestroy(){this.unbindGlobalListeners(),this.dragging=!1,this.maskVisible=!1,this.maximized&&(he.removeClass(this.document.body,"p-overflow-hidden"),this.document.body.style.removeProperty("--scrollbar-width"),this.maximized=!1),this.modal&&this.disableModality(),this.blockScroll&&he.removeClass(this.document.body,"p-overflow-hidden"),this.container&&this.autoZIndex&&MM.clear(this.container),this.container=null,this.wrapper=null,this._style=this.originalStyle?Q({},this.originalStyle):{}}destroyStyle(){this.styleElement&&(this.renderer.removeChild(this.document.head,this.styleElement),this.styleElement=null)}ngOnDestroy(){this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.destroyStyle()}static \u0275fac=function(i){return new(i||n)(U(Ze),U(wt),U(nt),U(ti),U(De),U(Ri),U(sw))};static \u0275cmp=Oe({type:n,selectors:[["p-dialog"]],contentQueries:function(i,r,s){if(i&1&&(Ms(s,YB,5),Ms(s,JB,5),Ms(s,ow,4)),i&2){let o;Dn(o=Sn())&&(r.headerFacet=o.first),Dn(o=Sn())&&(r.footerFacet=o.first),Dn(o=Sn())&&(r.templates=o)}},viewQuery:function(i,r){if(i&1&&(jr(AX,5),jr(xX,5),jr(RX,5)),i&2){let s;Dn(s=Sn())&&(r.headerViewChild=s.first),Dn(s=Sn())&&(r.contentViewChild=s.first),Dn(s=Sn())&&(r.footerViewChild=s.first)}},hostAttrs:[1,"p-element"],inputs:{header:"header",draggable:[2,"draggable","draggable",je],resizable:[2,"resizable","resizable",je],positionLeft:"positionLeft",positionTop:"positionTop",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",modal:[2,"modal","modal",je],closeOnEscape:[2,"closeOnEscape","closeOnEscape",je],dismissableMask:[2,"dismissableMask","dismissableMask",je],rtl:[2,"rtl","rtl",je],closable:[2,"closable","closable",je],responsive:"responsive",appendTo:"appendTo",breakpoints:"breakpoints",styleClass:"styleClass",maskStyleClass:"maskStyleClass",maskStyle:"maskStyle",showHeader:[2,"showHeader","showHeader",je],breakpoint:"breakpoint",blockScroll:[2,"blockScroll","blockScroll",je],autoZIndex:[2,"autoZIndex","autoZIndex",je],baseZIndex:[2,"baseZIndex","baseZIndex",Xl],minX:[2,"minX","minX",Xl],minY:[2,"minY","minY",Xl],focusOnShow:[2,"focusOnShow","focusOnShow",je],maximizable:[2,"maximizable","maximizable",je],keepInViewport:[2,"keepInViewport","keepInViewport",je],focusTrap:[2,"focusTrap","focusTrap",je],transitionOptions:"transitionOptions",closeIcon:"closeIcon",closeAriaLabel:"closeAriaLabel",closeTabindex:"closeTabindex",minimizeIcon:"minimizeIcon",maximizeIcon:"maximizeIcon",visible:"visible",style:"style",position:"position"},outputs:{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange",onResizeInit:"onResizeInit",onResizeEnd:"onResizeEnd",onDragEnd:"onDragEnd",onMaximize:"onMaximize"},features:[mi],ngContentSelectors:NX,decls:1,vars:1,consts:[["container",""],["notHeadless",""],["content",""],["titlebar",""],["footer",""],[3,"class","ngStyle","ngClass",4,"ngIf"],[3,"ngStyle","ngClass"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","class","pFocusTrapDisabled",4,"ngIf"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","pFocusTrapDisabled"],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet"],["class","p-resizable-handle",3,"mousedown",4,"ngIf"],["class","p-dialog-header",3,"mousedown",4,"ngIf"],[3,"ngClass","ngStyle"],["class","p-dialog-footer",4,"ngIf"],[1,"p-resizable-handle",3,"mousedown"],[1,"p-dialog-header",3,"mousedown"],["class","p-dialog-title",3,"id",4,"ngIf"],[1,"p-dialog-header-icons"],["role","button","type","button","pRipple","","pButton","",3,"ngClass","click","keydown.enter",4,"ngIf"],["type","button","pRipple","","pButton","",3,"ngClass","ngStyle","click","keydown.enter",4,"ngIf"],[1,"p-dialog-title",3,"id"],["role","button","type","button","pRipple","","pButton","",3,"click","keydown.enter","ngClass"],["class","p-dialog-header-maximize-icon",3,"ngClass",4,"ngIf"],[4,"ngIf"],[1,"p-dialog-header-maximize-icon",3,"ngClass"],[3,"styleClass",4,"ngIf"],[3,"styleClass"],["type","button","pRipple","","pButton","",3,"click","keydown.enter","ngClass","ngStyle"],["class","p-dialog-header-close-icon",3,"ngClass",4,"ngIf"],[1,"p-dialog-header-close-icon",3,"ngClass"],[1,"p-dialog-footer"]],template:function(i,r){i&1&&(Wi(OX),J(0,_ee,2,16,"div",5)),i&2&&x("ngIf",r.maskVisible)},dependencies:()=>[Oi,kt,wf,u_,l5,a5,aw,AM,xM,RM],styles:[`@layer primeng{.p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;pointer-events:auto;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-draggable .p-dialog-header{cursor:move}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-top .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog{margin:.75rem;transform:translateZ(0)}.p-dialog-maximized{-webkit-transition:none;transition:none;transform:none;width:100vw!important;height:100vh!important;top:0!important;left:0!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start;align-items:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}}
`],encapsulation:2,data:{animation:[mv("animation",[th("void => visible",[rS(yee)]),th("visible => void",[rS(vee)])])]},changeDetection:0})}return n})(),d5=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=we({type:n});static \u0275inj=ve({imports:[Rs,c5,lw,s5,AM,xM,RM,yh]})}return n})();var p5="@firebase/installations",kM="0.6.9";var g5=1e4,m5=`w:${kM}`,_5="FIS_v2",bee="https://firebaseinstallations.googleapis.com/v1",Cee=60*60*1e3,Eee="installations",Iee="Installations";var Tee={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Hc=new gu(Eee,Iee,Tee);function y5(n){return n instanceof ra&&n.code.includes("request-failed")}function v5({projectId:n}){return`${bee}/projects/${n}/installations`}function w5(n){return{token:n.token,requestStatus:2,expiresIn:See(n.expiresIn),creationTime:Date.now()}}function b5(n,e){return F(this,null,function*(){let i=(yield e.json()).error;return Hc.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})})}function C5({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function Dee(n,{refreshToken:e}){let t=C5(n);return t.append("Authorization",Mee(e)),t}function E5(n){return F(this,null,function*(){let e=yield n();return e.status>=500&&e.status<600?n():e})}function See(n){return Number(n.replace("s","000"))}function Mee(n){return`${_5} ${n}`}function Aee(i,r){return F(this,arguments,function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){let s=v5(n),o=C5(n),a=e.getImmediate({optional:!0});if(a){let h=yield a.getHeartbeatsHeader();h&&o.append("x-firebase-client",h)}let l={fid:t,authVersion:_5,appId:n.appId,sdkVersion:m5},c={method:"POST",headers:o,body:JSON.stringify(l)},d=yield E5(()=>fetch(s,c));if(d.ok){let h=yield d.json();return{fid:h.fid||t,registrationStatus:2,refreshToken:h.refreshToken,authToken:w5(h.authToken)}}else throw yield b5("Create Installation",d)})}function I5(n){return new Promise(e=>{setTimeout(e,n)})}function xee(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}var Ree=/^[cdef][\w-]{21}$/,PM="";function Oee(){try{let n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;let t=Nee(n);return Ree.test(t)?t:PM}catch{return PM}}function Nee(n){return xee(n).substr(0,22)}function uw(n){return`${n.appName}!${n.appId}`}var T5=new Map;function D5(n,e){let t=uw(n);S5(t,e),Pee(t,e)}function S5(n,e){let t=T5.get(n);if(t)for(let i of t)i(e)}function Pee(n,e){let t=kee();t&&t.postMessage({key:n,fid:e}),Fee()}var $c=null;function kee(){return!$c&&"BroadcastChannel"in self&&($c=new BroadcastChannel("[Firebase] FID Change"),$c.onmessage=n=>{S5(n.data.key,n.data.fid)}),$c}function Fee(){T5.size===0&&$c&&($c.close(),$c=null)}var Lee="firebase-installations-database",Vee=1,Gc="firebase-installations-store",OM=null;function FM(){return OM||(OM=yA(Lee,Vee,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Gc)}}})),OM}function cw(n,e){return F(this,null,function*(){let t=uw(n),r=(yield FM()).transaction(Gc,"readwrite"),s=r.objectStore(Gc),o=yield s.get(t);return yield s.put(e,t),yield r.done,(!o||o.fid!==e.fid)&&D5(n,e.fid),e})}function M5(n){return F(this,null,function*(){let e=uw(n),i=(yield FM()).transaction(Gc,"readwrite");yield i.objectStore(Gc).delete(e),yield i.done})}function dw(n,e){return F(this,null,function*(){let t=uw(n),r=(yield FM()).transaction(Gc,"readwrite"),s=r.objectStore(Gc),o=yield s.get(t),a=e(o);return a===void 0?yield s.delete(t):yield s.put(a,t),yield r.done,a&&(!o||o.fid!==a.fid)&&D5(n,a.fid),a})}function LM(n){return F(this,null,function*(){let e,t=yield dw(n.appConfig,i=>{let r=Bee(i),s=Uee(n,r);return e=s.registrationPromise,s.installationEntry});return t.fid===PM?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})}function Bee(n){let e=n||{fid:Oee(),registrationStatus:0};return A5(e)}function Uee(n,e){if(e.registrationStatus===0){if(!navigator.onLine){let r=Promise.reject(Hc.create("app-offline"));return{installationEntry:e,registrationPromise:r}}let t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=jee(n,t);return{installationEntry:t,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:zee(n)}:{installationEntry:e}}function jee(n,e){return F(this,null,function*(){try{let t=yield Aee(n,e);return cw(n.appConfig,t)}catch(t){throw y5(t)&&t.customData.serverCode===409?yield M5(n.appConfig):yield cw(n.appConfig,{fid:e.fid,registrationStatus:0}),t}})}function zee(n){return F(this,null,function*(){let e=yield h5(n.appConfig);for(;e.registrationStatus===1;)yield I5(100),e=yield h5(n.appConfig);if(e.registrationStatus===0){let{installationEntry:t,registrationPromise:i}=yield LM(n);return i||t}return e})}function h5(n){return dw(n,e=>{if(!e)throw Hc.create("installation-not-found");return A5(e)})}function A5(n){return $ee(n)?{fid:n.fid,registrationStatus:0}:n}function $ee(n){return n.registrationStatus===1&&n.registrationTime+g5<Date.now()}function Hee(i,r){return F(this,arguments,function*({appConfig:n,heartbeatServiceProvider:e},t){let s=Gee(n,t),o=Dee(n,t),a=e.getImmediate({optional:!0});if(a){let h=yield a.getHeartbeatsHeader();h&&o.append("x-firebase-client",h)}let l={installation:{sdkVersion:m5,appId:n.appId}},c={method:"POST",headers:o,body:JSON.stringify(l)},d=yield E5(()=>fetch(s,c));if(d.ok){let h=yield d.json();return w5(h)}else throw yield b5("Generate Auth Token",d)})}function Gee(n,{fid:e}){return`${v5(n)}/${e}/authTokens:generate`}function VM(n,e=!1){return F(this,null,function*(){let t,i=yield dw(n.appConfig,s=>{if(!x5(s))throw Hc.create("not-registered");let o=s.authToken;if(!e&&Kee(o))return s;if(o.requestStatus===1)return t=qee(n,e),s;{if(!navigator.onLine)throw Hc.create("app-offline");let a=Zee(s);return t=Wee(n,a),a}});return t?yield t:i.authToken})}function qee(n,e){return F(this,null,function*(){let t=yield f5(n.appConfig);for(;t.authToken.requestStatus===1;)yield I5(100),t=yield f5(n.appConfig);let i=t.authToken;return i.requestStatus===0?VM(n,e):i})}function f5(n){return dw(n,e=>{if(!x5(e))throw Hc.create("not-registered");let t=e.authToken;return Yee(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function Wee(n,e){return F(this,null,function*(){try{let t=yield Hee(n,e),i=Object.assign(Object.assign({},e),{authToken:t});return yield cw(n.appConfig,i),t}catch(t){if(y5(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))yield M5(n.appConfig);else{let i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield cw(n.appConfig,i)}throw t}})}function x5(n){return n!==void 0&&n.registrationStatus===2}function Kee(n){return n.requestStatus===2&&!Qee(n)}function Qee(n){let e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+Cee}function Zee(n){let e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function Yee(n){return n.requestStatus===1&&n.requestTime+g5<Date.now()}function Jee(n){return F(this,null,function*(){let e=n,{installationEntry:t,registrationPromise:i}=yield LM(e);return i?i.catch(console.error):VM(e).catch(console.error),t.fid})}function Xee(n,e=!1){return F(this,null,function*(){let t=n;return yield ete(t),(yield VM(t,e)).token})}function ete(n){return F(this,null,function*(){let{registrationPromise:e}=yield LM(n);e&&(yield e)})}function tte(n){if(!n||!n.options)throw NM("App Configuration");if(!n.name)throw NM("App Name");let e=["projectId","apiKey","appId"];for(let t of e)if(!n.options[t])throw NM(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function NM(n){return Hc.create("missing-app-config-values",{valueName:n})}var R5="installations",nte="installations-internal",ite=n=>{let e=n.getProvider("app").getImmediate(),t=tte(e),i=io(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},rte=n=>{let e=n.getProvider("app").getImmediate(),t=io(e,R5).getImmediate();return{getId:()=>Jee(t),getToken:r=>Xee(t,r)}};function ste(){zi(new Vn(R5,ite,"PUBLIC")),zi(new Vn(nte,rte,"PRIVATE"))}ste();Bn(p5,kM);Bn(p5,kM,"esm2017");var hw="analytics",ote="firebase_id",ate="origin",lte=60*1e3,cte="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",GM="https://www.googletagmanager.com/gtag/js";var Fi=new mu("@firebase/analytics");var ute={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ir=new gu("analytics","Analytics",ute);function dte(n){if(!n.startsWith(GM)){let e=ir.create("invalid-gtag-resource",{gtagURL:n});return Fi.warn(e.message),""}return n}function V5(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function hte(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function fte(n,e){let t=hte("firebase-js-sdk-policy",{createScriptURL:dte}),i=document.createElement("script"),r=`${GM}?l=${n}&id=${e}`;i.src=t?t?.createScriptURL(r):r,i.async=!0,document.head.appendChild(i)}function pte(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}function gte(n,e,t,i,r,s){return F(this,null,function*(){let o=i[r];try{if(o)yield e[o];else{let l=(yield V5(t)).find(c=>c.measurementId===r);l&&(yield e[l.appId])}}catch(a){Fi.error(a)}n("config",r,s)})}function mte(n,e,t,i,r){return F(this,null,function*(){try{let s=[];if(r&&r.send_to){let o=r.send_to;Array.isArray(o)||(o=[o]);let a=yield V5(t);for(let l of o){let c=a.find(h=>h.measurementId===l),d=c&&e[c.appId];if(d)s.push(d);else{s=[];break}}}s.length===0&&(s=Object.values(e)),yield Promise.all(s),n("event",i,r||{})}catch(s){Fi.error(s)}})}function _te(n,e,t,i){function r(s,...o){return F(this,null,function*(){try{if(s==="event"){let[a,l]=o;yield mte(n,e,t,a,l)}else if(s==="config"){let[a,l]=o;yield gte(n,e,t,i,a,l)}else if(s==="consent"){let[a,l]=o;n("consent",a,l)}else if(s==="get"){let[a,l,c]=o;n("get",a,l,c)}else if(s==="set"){let[a]=o;n("set",a)}else n(s,...o)}catch(a){Fi.error(a)}})}return r}function yte(n,e,t,i,r){let s=function(...o){window[i].push(arguments)};return window[r]&&typeof window[r]=="function"&&(s=window[r]),window[r]=_te(s,n,e,t),{gtagCore:s,wrappedGtag:window[r]}}function vte(n){let e=window.document.getElementsByTagName("script");for(let t of Object.values(e))if(t.src&&t.src.includes(GM)&&t.src.includes(n))return t;return null}var wte=30,bte=1e3,UM=class{constructor(e={},t=bte){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}},B5=new UM;function Cte(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function Ete(n){return F(this,null,function*(){var e;let{appId:t,apiKey:i}=n,r={method:"GET",headers:Cte(i)},s=cte.replace("{app-id}",t),o=yield fetch(s,r);if(o.status!==200&&o.status!==304){let a="";try{let l=yield o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw ir.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})}function Ite(i){return F(this,arguments,function*(n,e=B5,t){let{appId:r,apiKey:s,measurementId:o}=n.options;if(!r)throw ir.create("no-app-id");if(!s){if(o)return{measurementId:o,appId:r};throw ir.create("no-api-key")}let a=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new jM;return setTimeout(()=>F(this,null,function*(){l.abort()}),t!==void 0?t:lte),U5({appId:r,apiKey:s,measurementId:o},a,l,e)})}function U5(s,o,a){return F(this,arguments,function*(n,{throttleEndTimeMillis:e,backoffCount:t},i,r=B5){var l;let{appId:c,measurementId:d}=n;try{yield Tte(i,e)}catch(h){if(d)return Fi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${h?.message}]`),{appId:c,measurementId:d};throw h}try{let h=yield Ete(n);return r.deleteThrottleMetadata(c),h}catch(h){let m=h;if(!Dte(m)){if(r.deleteThrottleMetadata(c),d)return Fi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:c,measurementId:d};throw h}let v=Number((l=m?.customData)===null||l===void 0?void 0:l.httpStatus)===503?Kg(t,r.intervalMillis,wte):Kg(t,r.intervalMillis),b={throttleEndTimeMillis:Date.now()+v,backoffCount:t+1};return r.setThrottleMetadata(c,b),Fi.debug(`Calling attemptFetch again in ${v} millis`),U5(n,b,i,r)}})}function Tte(n,e){return new Promise((t,i)=>{let r=Math.max(e-Date.now(),0),s=setTimeout(t,r);n.addEventListener(()=>{clearTimeout(s),i(ir.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Dte(n){if(!(n instanceof ra)||!n.customData)return!1;let e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}var jM=class{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}};var zM;function Ste(n,e,t,i,r){return F(this,null,function*(){if(r&&r.global){n("event",t,i);return}else{let s=yield e,o=Object.assign(Object.assign({},i),{send_to:s});n("event",t,o)}})}var $M;function Mte(n){$M=n}function Ate(n){zM=n}function xte(){return F(this,null,function*(){if(pu())try{yield mA()}catch(n){return Fi.warn(ir.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}else return Fi.warn(ir.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0})}function Rte(n,e,t,i,r,s,o){return F(this,null,function*(){var a;let l=Ite(n);l.then(v=>{t[v.measurementId]=v.appId,n.options.measurementId&&v.measurementId!==n.options.measurementId&&Fi.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${v.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(v=>Fi.error(v)),e.push(l);let c=xte().then(v=>{if(v)return i.getId()}),[d,h]=yield Promise.all([l,c]);vte(s)||fte(s,d.measurementId),$M&&(r("consent","default",$M),Mte(void 0)),r("js",new Date);let m=(a=o?.config)!==null&&a!==void 0?a:{};return m[ate]="firebase",m.update=!0,h!=null&&(m[ote]=h),r("config",d.measurementId,m),zM&&(r("set",zM),Ate(void 0)),d.measurementId})}var HM=class{constructor(e){this.app=e}_delete(){return delete og[this.app.options.appId],Promise.resolve()}},og={},O5=[],N5={},BM="dataLayer",Ote="gtag",P5,j5,k5=!1;function Nte(){let n=[];if(gA()&&n.push("This is a browser extension environment."),_A()||n.push("Cookies are not available."),n.length>0){let e=n.map((i,r)=>`(${r+1}) ${i}`).join(" "),t=ir.create("invalid-analytics-context",{errorInfo:e});Fi.warn(t.message)}}function Pte(n,e,t){Nte();let i=n.options.appId;if(!i)throw ir.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Fi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ir.create("no-api-key");if(og[i]!=null)throw ir.create("already-exists",{id:i});if(!k5){pte(BM);let{wrappedGtag:s,gtagCore:o}=yte(og,O5,N5,BM,Ote);j5=s,P5=o,k5=!0}return og[i]=Rte(n,O5,N5,e,P5,BM,t),new HM(n)}function z5(n=_u()){n=tt(n);let e=io(n,hw);return e.isInitialized()?e.getImmediate():kte(n)}function kte(n,e={}){let t=io(n,hw);if(t.isInitialized()){let r=t.getImmediate();if(qh(e,t.getOptions()))return r;throw ir.create("already-initialized")}return t.initialize({options:e})}function Fte(n,e,t,i){n=tt(n),Ste(j5,og[n.app.options.appId],e,t,i).catch(r=>Fi.error(r))}var F5="@firebase/analytics",L5="0.10.8";function Lte(){zi(new Vn(hw,(e,{options:t})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();return Pte(i,r,t)},"PUBLIC")),zi(new Vn("analytics-internal",n,"PRIVATE")),Bn(F5,L5),Bn(F5,L5,"esm2017");function n(e){try{let t=e.getProvider(hw).getImmediate();return{logEvent:(i,r,s)=>Fte(t,i,r,s)}}catch(t){throw ir.create("interop-component-reg-failed",{reason:t})}}}Lte();var ag={production:!1,firebaseConfig:{apiKey:"AIzaSyAupoqwxZ8MfLRs6cBPw99m7IKzAi3Z6Pg",authDomain:"linkedinklonv1.firebaseapp.com",databaseURL:"https://linkedinklonv1-default-rtdb.firebaseio.com",projectId:"linkedinklonv1",storageBucket:"linkedinklonv1.appspot.com",messagingSenderId:"428100516891",appId:"1:428100516891:web:c7acfbf7ccf10bc6d70cbe",measurementId:"G-P152GEPKKC"}},Vte=vA(ag.firebaseConfig),V_e=z5(Vte);var $5=Gg(lg());var ui=(()=>{let e=class e{constructor(i,r,s,o,a){this.afAuth=i,this.firestore=r,this.router=s,this.toastr=o,this.storage=a,this.loading=!1}getUser(){return this.afAuth.authState}saveUserData(i,r){return this.firestore.collection("users").doc(i).set(r)}register(i,r,s){return F(this,null,function*(){this.loading=!0;try{let o=yield this.afAuth.createUserWithEmailAndPassword(i,r),a=o.user;if(a){let l=a.uid;return s.uid=l,s.email=i,yield this.firestore.collection("users").doc(l).set(s),this.toastr.success("Registration successful!","Success",{progressBar:!0,closeButton:!0}),this.router.navigate(["/home"]),o}else throw new Error("User is undefined")}catch(o){throw console.error("Error registering user: ",o),this.toastr.error("Registration failed. Please try again.","Error",{timeOut:3e3,progressBar:!0,closeButton:!0}),o}finally{this.loading=!1}})}login(i,r){return F(this,null,function*(){this.loading=!0;try{let o=(yield this.afAuth.signInWithEmailAndPassword(i,r)).user;if(o){let a=o.uid;yield this.setUserOnlineOnLogin(a),(yield this.firestore.collection("users").doc(a).get().toPromise())?.exists?(this.toastr.success("Login successful!","Success",{progressBar:!0,closeButton:!0}),this.router.navigate(["/home"])):console.log("No user data found for UID: ",a)}}catch(s){throw console.error("Error logging in user: ",s),this.toastr.error("Login failed. Please try again.","Error",{timeOut:3e3,progressBar:!0,closeButton:!0}),s}finally{this.loading=!1}})}logout(){return F(this,null,function*(){let i=yield this.afAuth.currentUser;i&&(yield this.setUserOfflineOnLogout(i.uid)),this.loading=!0;try{yield this.afAuth.signOut(),this.toastr.success("Successfully logged out","Logout",{progressBar:!0,closeButton:!0}),this.loading=!1,this.router.navigate(["/login"])}catch(r){this.toastr.error("Logout failed. Please try again.","Error",{timeOut:3e3,progressBar:!0,closeButton:!0}),this.loading=!1,console.error("Error during logout: ",r)}})}confirmAndLogout(){return $5.default.fire({title:"Are you sure?",text:"Do you really want to log out?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, log out",cancelButtonText:"No, stay here"}).then(i=>i.isConfirmed?this.logout():Promise.resolve())}uploadProfileImage(i,r,s){let o=`profileImages/${i}`,a=this.storage.ref(o);this.storage.upload(o,r).snapshotChanges().pipe(jn(()=>{a.getDownloadURL().subscribe(l=>{s.profileImage=l,this.saveUserData(i,s)})})).subscribe()}getCurrentUserDetails(){return F(this,null,function*(){let i=yield this.afAuth.currentUser;return i?(yield this.firestore.collection("users").doc(i.uid).get().toPromise())?.data():null})}checkEmailExists(i){return F(this,null,function*(){try{let r=yield this.firestore.collection("users",s=>s.where("email","==",i)).get().toPromise();return r!==void 0&&!r.empty}catch(r){return console.error("Error checking email existence:",r),!1}})}googleSignIn(){return F(this,null,function*(){try{let i=new vt.auth.GoogleAuthProvider,r=yield this.afAuth.signInWithPopup(i);if(r.user){let s=r.user,o={uid:s.uid,email:s.email,firstName:s.displayName?.split(" ")[0],lastName:s.displayName?.split(" ")[1],profileImage:s.photoURL};yield this.firestore.collection("users").doc(s.uid).set(o,{merge:!0}),this.router.navigate(["/home"])}}catch(i){console.error("Error during Google Sign-In:",i)}})}updateUserOnlineStatus(i,r){return F(this,null,function*(){let s=this.firestore.collection("users").doc(i);r?yield s.update({isOnline:!0,lastActive:new Date}):yield s.update({isOnline:!1,lastActive:new Date})})}setUserOnlineOnLogin(i){return F(this,null,function*(){this.updateUserOnlineStatus(i,!0)})}setUserOfflineOnLogout(i){return F(this,null,function*(){this.updateUserOnlineStatus(i,!1)})}};e.\u0275fac=function(r){return new(r||e)(G(Zr),G(ln),G(Lt),G(Zs),G(Ac))},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var Js=(()=>{let e=class e{constructor(i){this.firestore=i}searchUsers(i){return this.firestore.collection("users").valueChanges().pipe(se(r=>r.filter(s=>s.firstName&&s.firstName.toLowerCase().includes(i.toLowerCase())||s.lastName&&s.lastName.toLowerCase().includes(i.toLowerCase()))))}getUserName(i){return this.firestore.doc(`users/${i}`).valueChanges().pipe(se(r=>`${r.firstName} ${r.lastName}`))}getUserById(i){return this.firestore.collection("users").doc(i).valueChanges().pipe(se(r=>{if(!r)throw new Error("User not found");return r}),Xn(r=>(console.error("Error fetching user by id:",r),le(null))))}getUsersByIds(i){return this.firestore.collection("users",r=>r.where(vt.firestore.FieldPath.documentId(),"in",i)).snapshotChanges().pipe(se(r=>r.map(s=>{let o=s.payload.doc.data(),a=s.payload.doc.id;return Q({id:a},o)})))}getUnreadConversations(i){return this.firestore.collection("conversations",r=>r.where("participants","array-contains",i).where("unread","==",!0)).valueChanges()}};e.\u0275fac=function(r){return new(r||e)(G(ln))},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var vh=(()=>{let e=class e{hide(){this._isHeaderVisible=!1}show(){this._isHeaderVisible=!0}get isHeaderVisible(){return this._isHeaderVisible}constructor(){this._isHeaderVisible=!0}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var wh=(()=>{let e=class e{constructor(i,r,s){this.firestore=i,this.userService=r,this.toastr=s}trackConnectionRequests(i){return this.firestore.collection("connectionRequests",r=>r.where("to","==",i).where("status","==","pending")).snapshotChanges().pipe(Le(r=>{let o=r.map(a=>{let l=a.payload.doc.data();return l.id=a.payload.doc.id,l}).map(a=>this.userService.getUserById(a.from).pipe(se(l=>Ee(Q({},a),{firstName:l?.firstName||"Unknown",lastName:l?.lastName||"Unknown",profileImageUrl:l?.profileImageUrl||"assets/default-profile.png"}))));return sr(o)}))}acceptConnectionRequest(i){let r=this.firestore.collection("users").doc(i.to).update({connections:vt.firestore.FieldValue.arrayUnion(i.from)}),s=this.firestore.collection("users").doc(i.from).update({connections:vt.firestore.FieldValue.arrayUnion(i.to)}),o=this.userService.getUserById(i.to).pipe(se(l=>`${l.firstName} ${l.lastName}`)),a=this.updateRequestStatus(i.id,"accepted");return Promise.all([r,s,a]).then(()=>{o.subscribe(l=>{this.firestore.collection("notifications").add({userId:i.from,message:`Your connection request to ${l} has been accepted.`,timestamp:new Date,read:!1}),this.toastr.success("Connection request accepted.")})}).catch(l=>{console.error("Error accepting request: ",l),this.toastr.error("Failed to accept the request.")})}rejectConnectionRequest(i){return this.updateRequestStatus(i.id,"rejected").then(()=>console.log("Request rejected successfully")).catch(r=>console.error("Error rejecting request: ",r))}updateRequestStatus(i,r){return this.firestore.collection("connectionRequests").doc(i).update({status:r})}getUnreadNotifications(i){return this.firestore.collection("notifications",r=>r.where("userId","==",i).where("read","==",!1).orderBy("timestamp","desc")).valueChanges({idField:"id"})}markNotificationAsRead(i){return this.firestore.collection("notifications").doc(i).update({read:!0}).then(()=>{console.log("Notification marked as read.")}).catch(r=>{console.error("Error marking notification as read:",r)})}showSuccess(i){this.toastr.success(i)}showError(i){this.toastr.error(i)}};e.\u0275fac=function(r){return new(r||e)(G(ln),G(Js),G(Zs))},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var Bte=["searchBox"],Ute=["dropdownMenu"],KM=()=>({exact:!0}),jte=n=>({"disabled-link":n});function zte(n,e){if(n&1){let t=be();E(0,"i",29),te("click",function(){ue(t);let r=B(2);return de(r.toggleNotifications())}),C()}if(n&2){let t=B(2);x("value",t.unreadRequests.length+t.unreadNotifications.length)}}function $te(n,e){if(n&1){let t=be();E(0,"i",30),te("click",function(){ue(t);let r=B(2);return de(r.toggleNotifications())}),C()}}function Hte(n,e){if(n&1){let t=be();E(0,"li",34)(1,"div",35),te("click",function(){let r=ue(t).$implicit,s=B(3);return de(s.viewProfile(r.from||r.uid))}),ie(2,"img",36),E(3,"div")(4,"h5"),L(5),C()()(),E(6,"div",37)(7,"button",38),te("click",function(){let r=ue(t).$implicit,s=B(3);return de(s.acceptRequest(r))}),L(8," Connect "),C(),E(9,"button",39),te("click",function(){let r=ue(t).$implicit,s=B(3);return de(s.rejectRequest(r))}),L(10," Reject "),C()()()}if(n&2){let t=e.$implicit;D(),yC("title","Click to visit ",t.firstName,"'s profile"),D(),x("src",t.profileImageUrl||"path-to-default-profile-image",Hn),D(3),$r("",t.firstName," ",t.lastName,"")}}function Gte(n,e){if(n&1&&(E(0,"div")(1,"h3",31),L(2,"Connection Requests"),C(),E(3,"ul",32),J(4,Hte,11,5,"li",33),C()()),n&2){let t=B(2);D(4),x("ngForOf",t.unreadRequests)}}function qte(n,e){if(n&1){let t=be();E(0,"li",34)(1,"div")(2,"p"),L(3),C(),E(4,"button",40),te("click",function(){let r=ue(t).$implicit,s=B(3);return de(s.markNotificationAsRead(r.id))}),L(5," Mark as read "),C()()()}if(n&2){let t=e.$implicit;D(3),ht(t.message)}}function Wte(n,e){if(n&1&&(E(0,"div")(1,"h3",31),L(2,"Notifications"),C(),E(3,"ul",32),J(4,qte,6,1,"li",33),C()()),n&2){let t=B(2);D(4),x("ngForOf",t.unreadNotifications)}}function Kte(n,e){n&1&&(E(0,"div")(1,"p"),L(2,"No new notifications or requests."),C()())}function Qte(n,e){if(n&1){let t=be();E(0,"a",43),te("click",function(){let r=ue(t).$implicit,s=B(3);return de(s.viewProfile(r.uid))}),ie(1,"img",44),L(2),C()}if(n&2){let t=e.$implicit;D(),x("src",t.profileImageUrl||"path-to-default-profile-image",Hn),D(),$r(" ",t.firstName," ",t.lastName," ")}}function Zte(n,e){if(n&1&&(E(0,"div",41),J(1,Qte,3,3,"a",42),C()),n&2){let t=B(2);D(),x("ngForOf",t.searchResults)}}function Yte(n,e){n&1&&ie(0,"span",48)}function Jte(n,e){if(n&1){let t=be();E(0,"li",10)(1,"a",45),te("click",function(){ue(t);let r=B(2);return de(!r.authService.loading&&r.logout())}),ie(2,"ion-icon",46),J(3,Yte,1,0,"span",47),L(4," Logout "),C()()}if(n&2){let t=B(2);D(),x("ngClass",Gn(2,jte,t.authService.loading)),D(2),x("ngIf",t.authService.loading)}}function Xte(n,e){n&1&&ie(0,"span",48)}function ene(n,e){if(n&1&&(E(0,"li",10)(1,"a",49),ie(2,"ion-icon",50),J(3,Xte,1,0,"span",47),L(4," Login "),C()()),n&2){let t=B(2);D(3),x("ngIf",t.loading)}}function tne(n,e){if(n&1){let t=be();E(0,"nav",2)(1,"div",3)(2,"a",4),ie(3,"ion-icon",5),L(4," LinkedIn Clone "),C(),E(5,"button",6),ie(6,"span",7),C(),E(7,"div",8)(8,"ul",9)(9,"li",10)(10,"a",11),ie(11,"ion-icon",12),L(12," Home "),C()(),E(13,"li",10)(14,"a",13),ie(15,"ion-icon",14),L(16," Profile "),C()(),E(17,"li",10)(18,"a",15),ie(19,"ion-icon",16),L(20," Search "),C()(),E(21,"li",10)(22,"a",17),ie(23,"ion-icon",18),L(24," Chat "),C()(),E(25,"li",19),J(26,zte,1,1,"i",20)(27,$te,1,0,"i",21),E(28,"p-dialog",22),gr("visibleChange",function(r){ue(t);let s=B();return Hr(s.showDialog,r)||(s.showDialog=r),de(r)}),J(29,Gte,5,1,"div",23)(30,Wte,5,1,"div",23)(31,Kte,3,0,"div",23),C()()(),E(32,"form",24)(33,"input",25),gr("ngModelChange",function(r){ue(t);let s=B();return Hr(s.searchQuery,r)||(s.searchQuery=r),de(r)}),te("input",function(){ue(t);let r=B();return de(r.searchUsers())}),C(),J(34,Zte,2,1,"div",26),C(),E(35,"ul",27),J(36,Jte,5,4,"li",28),ri(37,"async"),J(38,ene,5,1,"ng-template",null,0,Wr),C()()()()}if(n&2){let t=zr(39),i=B();D(10),x("routerLinkActiveOptions",Gr(17,KM)),D(4),x("routerLinkActiveOptions",Gr(18,KM)),D(4),x("routerLinkActiveOptions",Gr(19,KM)),D(8),x("ngIf",i.unreadRequests.length+i.unreadNotifications.length>0),D(),x("ngIf",i.unreadRequests.length+i.unreadNotifications.length===0),D(),pr("visible",i.showDialog),x("modal",!0)("dismissableMask",!0),D(),x("ngIf",i.unreadRequests.length>0),D(),x("ngIf",i.unreadNotifications.length>0),D(),x("ngIf",i.unreadRequests.length===0&&i.unreadNotifications.length===0),D(2),pr("ngModel",i.searchQuery),D(),x("ngIf",i.searchResults.length>0),D(2),x("ngIf",qr(37,15,i.authService.getUser()))("ngIfElse",t)}}var G5=(()=>{let e=class e{constructor(i,r,s,o,a,l){this.authService=i,this.userService=r,this.router=s,this.headerService=o,this.notificationService=a,this.elementRef=l,this.searchQuery="",this.searchResults=[],this.dropdownStyle={},this.loading=!1,this.unreadRequests=[],this.unreadNotifications=[],this.notificationsVisible=!1,this.showDialog=!1,this.userId=""}ngOnInit(){this.authService.getUser().subscribe(i=>{i&&(this.userId=i.uid,this.notificationService.trackConnectionRequests(this.userId).subscribe(r=>{this.unreadRequests=r,console.log("Unread Requests:",this.unreadRequests)}),this.loadUnreadRequests(i.uid),this.loadUnreadNotifications(i.uid))})}searchUsers(){if(this.searchQuery.trim()===""){this.searchResults=[];return}this.userService.searchUsers(this.searchQuery).subscribe(i=>{this.searchResults=i,this.positionDropdown()})}viewProfile(i){i&&(this.router.navigate(["/profile",i]),this.closeSearchDialog())}closeSearchDialog(){this.showDialog=!1,this.searchResults=[],this.searchQuery=""}logout(){this.authService.confirmAndLogout().finally(()=>{this.loading=!1})}positionDropdown(){let i=this.searchBox.nativeElement.getBoundingClientRect();this.dropdownStyle={top:`${i.bottom+window.scrollY}px`,left:`${i.left}px`,width:`${i.width}px`}}toggleNotifications(){this.showDialog=!this.showDialog}loadUnreadRequests(i){this.notificationService.trackConnectionRequests(i).subscribe(r=>{this.unreadRequests=r})}loadUnreadNotifications(i){this.notificationService.getUnreadNotifications(i).subscribe(r=>{this.unreadNotifications=r})}acceptRequest(i){this.notificationService.acceptConnectionRequest(i).then(()=>{this.unreadRequests=this.unreadRequests.filter(r=>r.id!==i.id)})}rejectRequest(i){this.notificationService.rejectConnectionRequest(i).then(()=>{this.unreadRequests=this.unreadRequests.filter(r=>r.id!==i.id)})}markNotificationAsRead(i){this.notificationService.markNotificationAsRead(i).then(()=>{this.unreadNotifications=this.unreadNotifications.filter(r=>r.id!==i)})}onClickOutside(i){let r=i.target;this.searchResults.length>0&&!this.elementRef.nativeElement.contains(r)&&(this.searchResults=[])}};e.\u0275fac=function(r){return new(r||e)(U(ui),U(Js),U(Lt),U(vh),U(wh),U(nt))},e.\u0275cmp=Oe({type:e,selectors:[["app-header"]],viewQuery:function(r,s){if(r&1&&(jr(Bte,5),jr(Ute,5)),r&2){let o;Dn(o=Sn())&&(s.searchBox=o.first),Dn(o=Sn())&&(s.dropdownMenu=o.first)}},hostBindings:function(r,s){r&1&&te("click",function(a){return s.onClickOutside(a)},!1,TO)},decls:1,vars:1,consts:[["loggedOut",""],["class","navbar navbar-expand-lg navbar-light bg-light",4,"ngIf"],[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],[1,"container-fluid"],["routerLink","/home",1,"navbar-brand","d-flex","align-items-center"],["name","logo-linkedin"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["routerLink","/home","routerLinkActive","active",1,"nav-link",3,"routerLinkActiveOptions"],["name","home-outline"],["routerLink","/profile","routerLinkActive","active",1,"nav-link",3,"routerLinkActiveOptions"],["name","person-outline"],["routerLink","/search","routerLinkActive","active",1,"nav-link",3,"routerLinkActiveOptions"],["name","search-outline"],["routerLink","/chat","routerLinkActive","active",1,"nav-link","position-relative"],["name","chatbubble-outline"],[1,"nav-item","position-relative"],["class","pi pi-bell notification-icon","pBadge","",3,"value","click",4,"ngIf"],["class","pi pi-bell notification-icon",3,"click",4,"ngIf"],["header","Notifications",1,"custom-dialog",3,"visibleChange","visible","modal","dismissableMask"],[4,"ngIf"],[1,"d-flex","position-relative"],["type","search","placeholder","Search","aria-label","Search","name","searchQuery",1,"form-control","me-2",3,"ngModelChange","input","ngModel"],["class","dropdown-menu show search-dropdown",4,"ngIf"],[1,"navbar-nav","ml-auto"],["class","nav-item",4,"ngIf","ngIfElse"],["pBadge","",1,"pi","pi-bell","notification-icon",3,"click","value"],[1,"pi","pi-bell","notification-icon",3,"click"],[1,"section-header"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],[1,"d-flex","align-items-center","clickable",3,"click","title"],["alt","Profile Image",1,"profile-image",3,"src"],[1,"actions"],[1,"btn","btn-outline-primary","me-2",3,"click"],[1,"btn","btn-outline-danger",3,"click"],[1,"btn-mark-read",3,"click"],[1,"dropdown-menu","show","search-dropdown"],["class","dropdown-item",3,"click",4,"ngFor","ngForOf"],[1,"dropdown-item",3,"click"],["alt","Profile Image",1,"rounded-circle","me-2",3,"src"],[1,"nav-link","logout-link",3,"click","ngClass"],["name","log-out-outline"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],["routerLink","/login",1,"nav-link"],["name","log-in-outline"]],template:function(r,s){r&1&&J(0,tne,40,20,"nav",1),r&2&&x("ngIf",s.headerService.isHeaderVisible)},dependencies:[Oi,xs,kt,Jv,_B,ki,Nn,li,Pi,Vo,Oc,u5,t5,Ia],styles:[".navbar[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1000;background-color:#fff;border-bottom:1px solid #ddd;padding:10px 20px;box-shadow:0 2px 4px #0000000d}.navbar-brand[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;display:flex;align-items:center}.navbar-brand[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:2rem;color:#0077b5;margin-right:8px}.navbar-toggler[_ngcontent-%COMP%]{border:none}.navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{margin-left:20px}.navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:500;color:#333;padding:10px;border-radius:5px;position:relative;transition:all .3s ease;display:flex;align-items:center}.navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-right:5px;font-size:1.4rem}.navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{background-color:#f1f1f1;color:#0077b5;transform:translateY(-2px)}.navbar-nav[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#0077b5;background-color:#0077b51a;font-weight:700}.badge[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff;font-size:.8rem;padding:5px 8px;position:absolute;top:-5px;right:-10px}.notification-icon[_ngcontent-%COMP%]{font-size:1.8rem;color:#0077b5;cursor:pointer;position:relative;transform:translateY(9px)}.notification-icon[_ngcontent-%COMP%]:hover{color:#005082}form.d-flex[_ngcontent-%COMP%]{position:relative;width:350px}form.d-flex[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-radius:20px;padding:8px 40px 8px 15px;border:1px solid #ccc;transition:border .3s ease}form.d-flex[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#0077b5;box-shadow:0 0 5px #0077b54d;outline:none}.search-dropdown[_ngcontent-%COMP%]{position:absolute;top:45px;width:100%;z-index:1000;background-color:#fff;box-shadow:0 8px 16px #0000001a;border-radius:10px;max-height:200px;overflow-y:auto}.search-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{padding:10px;display:flex;align-items:center;transition:background-color .2s ease}.search-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}.search-dropdown[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;margin-right:10px}.logout-link[_ngcontent-%COMP%]{font-size:1.2rem;display:flex;align-items:center;cursor:pointer}.logout-link[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.4rem;margin-right:5px}.logout-link[_ngcontent-%COMP%]:hover{color:#dc3545}.custom-dialog[_ngcontent-%COMP%]   .p-dialog[_ngcontent-%COMP%]{width:70%;max-width:1100px;padding:0}.custom-dialog[_ngcontent-%COMP%]   .p-dialog-content[_ngcontent-%COMP%]{padding:40px;background-color:#fff;border-radius:10px;box-shadow:0 0 15px #0000001a;animation:_ngcontent-%COMP%_fadeIn .6s ease-in-out;font-size:2rem}.custom-dialog[_ngcontent-%COMP%]   .p-dialog-header[_ngcontent-%COMP%]{font-size:3rem;background-color:#0077b5;color:#fff;padding:25px}.custom-dialog[_ngcontent-%COMP%]   img.profile-image[_ngcontent-%COMP%]{margin-right:20px;width:80px;height:80px;border-radius:50%}.custom-dialog[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;margin-bottom:10px}.custom-dialog[_ngcontent-%COMP%]   h3.section-header[_ngcontent-%COMP%]{font-size:2.8rem;margin-bottom:20px}.custom-dialog[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background:#fff;border-radius:10px;margin-bottom:15px;padding:20px;box-shadow:0 0 10px #0000000d}.custom-dialog[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 3px 15px #0000001a}.custom-dialog[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:10px}.custom-dialog[_ngcontent-%COMP%]   .btn-outline-primary[_ngcontent-%COMP%]{border-color:#007bff;color:#007bff;background-color:transparent;font-size:1.6rem;transition:background-color .3s ease-in-out,color .3s ease-in-out}.custom-dialog[_ngcontent-%COMP%]   .btn-outline-primary[_ngcontent-%COMP%]:hover{background-color:#007bff;color:#fff}.custom-dialog[_ngcontent-%COMP%]   .btn-outline-danger[_ngcontent-%COMP%]{border-color:red;color:red}.custom-dialog[_ngcontent-%COMP%]   .btn-outline-danger[_ngcontent-%COMP%]:hover{background-color:#ff0101;color:#fff}.custom-dialog[_ngcontent-%COMP%]   .btn-mark-read[_ngcontent-%COMP%]{display:inline-block;background-color:#007bff;color:#fff;padding:15px 30px;border:none;border-radius:5px;cursor:pointer;font-size:1.6rem;margin-top:15px}.custom-dialog[_ngcontent-%COMP%]   .btn-mark-read[_ngcontent-%COMP%]:hover{background-color:#0056b3}.custom-dialog[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:10px;color:#333}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@media (max-width: 768px){.navbar[_ngcontent-%COMP%]{padding:10px}.navbar-brand[_ngcontent-%COMP%]{font-size:1.4rem}.navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{margin-left:10px}.navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{font-size:1rem}form.d-flex[_ngcontent-%COMP%]{width:100%}.notification-icon[_ngcontent-%COMP%]{font-size:1.5rem;transform:translateY(5px)}.badge[_ngcontent-%COMP%]{font-size:.7rem}.custom-dialog[_ngcontent-%COMP%]   .p-dialog[_ngcontent-%COMP%]{width:100%;max-width:none}.custom-dialog[_ngcontent-%COMP%]   img.profile-image[_ngcontent-%COMP%]{width:60px;height:60px}.custom-dialog[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:2rem}}"]});let n=e;return n})();var q5=(()=>{let e=class e{constructor(i,r){this.authService=i,this.router=r,this.title="LinkedInCloneV1",this.idleTime=0,this.maxIdleTime=15*60*1e3}ngOnInit(){this.resetTimer(),this.timeout=setInterval(()=>{this.idleTime+=1e3,this.idleTime>=this.maxIdleTime&&this.logoutUser()},1e3)}onMouseMove(){this.resetTimer()}onKeyDown(){this.resetTimer()}onClick(){this.resetTimer()}unloadHandler(i){this.setUserOfflineBeforeUnload()}resetTimer(){this.idleTime=0}logoutUser(){clearInterval(this.timeout),this.authService.logout(),this.router.navigate(["/login"]),alert("You have been logged out due to inactivity.")}setUserOfflineBeforeUnload(){return F(this,null,function*(){let i=yield this.authService.getCurrentUserDetails();i&&i.uid&&(yield this.authService.setUserOfflineOnLogout(i.uid))})}};e.\u0275fac=function(r){return new(r||e)(U(ui),U(Lt))},e.\u0275cmp=Oe({type:e,selectors:[["app-root"]],hostBindings:function(r,s){r&1&&te("mousemove",function(){return s.onMouseMove()},!1,gf)("keydown",function(){return s.onKeyDown()},!1,gf)("click",function(){return s.onClick()},!1,gf)("beforeunload",function(a){return s.unloadHandler(a)},!1,gf)},decls:2,vars:0,template:function(r,s){r&1&&ie(0,"app-header")(1,"router-outlet")},dependencies:[hM,G5]});let n=e;return n})();var bh=(()=>{let e=class e{constructor(i,r){this.authService=i,this.router=r}canActivate(i,r){return this.authService.getUser().pipe(In(1),se(s=>s?!0:this.router.createUrlTree(["(login"])))}};e.\u0275fac=function(r){return new(r||e)(G(ui),G(Lt))},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var ul=(()=>{let e=class e{constructor(i){this.http=i,this.apiKey="AIzaSyBFNv-07LXClJeZVFBUZHx938AH7WBmGyA"}getCoordinates(i){let r=`https://maps.googleapis.com/maps/api/geocode/json?address=${encodeURIComponent(i)}&key=${this.apiKey}`;return this.http.get(r).pipe(se(s=>{if(console.log("Geocoding API response:",s),s.status==="OK"&&s.results&&s.results.length>0)return s.results[0].geometry.location;throw new Error("Location not found")}),Xn(s=>(console.error("Error fetching coordinates:",s),le({lat:0,lng:0}))))}getReverseGeocode(i,r){let s=`https://maps.googleapis.com/maps/api/geocode/json?latlng=${i},${r}&key=${this.apiKey}`;return this.http.get(s).pipe(se(o=>{if(console.log("Reverse Geocoding API response:",o),o.status==="OK"&&o.results&&o.results.length>0){let a=o.results[0],l=a.address_components.find(d=>d.types.includes("locality")),c=a.address_components.find(d=>d.types.includes("administrative_area_level_2"));return{formatted_address:a.formatted_address,locality:l?l.long_name:null,administrative_area_level_2:c?c.long_name:null}}throw new Error("Address not found")}))}};e.\u0275fac=function(r){return new(r||e)(G(WC))},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var ZM=n=>({"is-invalid":n});function ine(n,e){n&1&&(E(0,"div",33)(1,"div",34)(2,"span",35),L(3,"Loading..."),C()()())}function rne(n,e){n&1&&(E(0,"div",48),L(1," First Name is required. "),C())}function sne(n,e){n&1&&(E(0,"div",48),L(1," Last Name is required. "),C())}function one(n,e){n&1&&(E(0,"div"),L(1," Contact is required. "),C())}function ane(n,e){n&1&&(E(0,"div"),L(1," Only numbers and + are allowed. "),C())}function lne(n,e){if(n&1&&(E(0,"div",48),J(1,one,2,0,"div",9)(2,ane,2,0,"div",9),C()),n&2){let t,i,r=B(2);D(),x("ngIf",(t=r.authForm.get("contact"))==null||t.errors==null?null:t.errors.required),D(),x("ngIf",(i=r.authForm.get("contact"))==null||i.errors==null?null:i.errors.pattern)}}function cne(n,e){n&1&&(E(0,"div",48),L(1," Address is required. "),C())}function une(n,e){if(n&1){let t=be();E(0,"div")(1,"div",10)(2,"input",36),te("change",function(r){ue(t);let s=B();return de(s.onFileSelected(r))}),C(),E(3,"label",37),L(4,"Profile Image"),C()(),E(5,"div",10),ie(6,"input",38),E(7,"label",39),L(8,"First Name"),C(),J(9,rne,2,0,"div",13),C(),E(10,"div",10),ie(11,"input",40),E(12,"label",41),L(13,"Last Name"),C(),J(14,sne,2,0,"div",13),C(),E(15,"div",10),ie(16,"input",42),E(17,"label",43),L(18,"Contact"),C(),J(19,lne,3,2,"div",13),C(),E(20,"div",10),ie(21,"input",44),E(22,"label",45),L(23,"Address"),C(),J(24,cne,2,0,"div",13),C(),E(25,"div",10),ie(26,"textarea",46),E(27,"label",47),L(28,"Bio"),C()()()}if(n&2){let t,i,r,s,o=B();D(9),x("ngIf",((t=o.authForm.get("firstName"))==null?null:t.invalid)&&((t=o.authForm.get("firstName"))==null?null:t.touched)),D(5),x("ngIf",((i=o.authForm.get("lastName"))==null?null:i.invalid)&&((i=o.authForm.get("lastName"))==null?null:i.touched)),D(5),x("ngIf",((r=o.authForm.get("contact"))==null?null:r.invalid)&&((r=o.authForm.get("contact"))==null?null:r.touched)),D(5),x("ngIf",((s=o.authForm.get("address"))==null?null:s.invalid)&&((s=o.authForm.get("address"))==null?null:s.touched))}}function dne(n,e){n&1&&(E(0,"div"),L(1," Email is required. "),C())}function hne(n,e){n&1&&(E(0,"div"),L(1," Please enter a valid email address. "),C())}function fne(n,e){n&1&&(E(0,"div"),L(1," This email is already in use. "),C())}function pne(n,e){if(n&1&&(E(0,"div",48),J(1,dne,2,0,"div",9)(2,hne,2,0,"div",9)(3,fne,2,0,"div",9),C()),n&2){let t,i,r,s=B();D(),x("ngIf",(t=s.authForm.get("email"))==null||t.errors==null?null:t.errors.required),D(),x("ngIf",(i=s.authForm.get("email"))==null||i.errors==null?null:i.errors.email),D(),x("ngIf",(r=s.authForm.get("email"))==null||r.errors==null?null:r.errors.emailExists)}}function gne(n,e){n&1&&(E(0,"div"),L(1," Password is required. "),C())}function mne(n,e){n&1&&(E(0,"div"),L(1," The password you provided must have at least 6 characters. "),C())}function _ne(n,e){if(n&1&&(E(0,"div",48),J(1,gne,2,0,"div",9)(2,mne,2,0,"div",9),C()),n&2){let t,i,r=B();D(),x("ngIf",(t=r.authForm.get("password"))==null||t.errors==null?null:t.errors.required),D(),x("ngIf",(i=r.authForm.get("password"))==null||i.errors==null?null:i.errors.minlength)}}function yne(n,e){if(n&1){let t=be();E(0,"i",49),te("click",function(){ue(t);let r=B();return de(r.togglePasswordVisibility())}),C()}}function vne(n,e){if(n&1){let t=be();E(0,"i",50),te("click",function(){ue(t);let r=B();return de(r.togglePasswordVisibility())}),C()}}function wne(n,e){if(n&1){let t=be();E(0,"i",55),te("click",function(){ue(t);let r=B(2);return de(r.togglePasswordVisibility())}),C()}}function bne(n,e){if(n&1){let t=be();E(0,"i",56),te("click",function(){ue(t);let r=B(2);return de(r.togglePasswordVisibility())}),C()}}function Cne(n,e){n&1&&(E(0,"div"),L(1," Confirm Password is required. "),C())}function Ene(n,e){n&1&&(E(0,"div"),L(1," Passwords do not match. "),C())}function Ine(n,e){if(n&1&&(E(0,"div",48),J(1,Cne,2,0,"div",9)(2,Ene,2,0,"div",9),C()),n&2){let t,i,r=B(2);D(),x("ngIf",(t=r.authForm.get("confirmPassword"))==null||t.errors==null?null:t.errors.required),D(),x("ngIf",(i=r.authForm.get("confirmPassword"))==null||i.errors==null?null:i.errors.isMatching)}}function Tne(n,e){if(n&1&&(E(0,"div",14),ie(1,"input",51),E(2,"label",52),L(3,"Confirm Password"),C(),J(4,wne,1,0,"i",53)(5,bne,1,0,"i",54)(6,Ine,3,2,"div",13),C()),n&2){let t,i,r=B();D(),x("ngClass",Gn(4,ZM,((t=r.authForm.get("confirmPassword"))==null?null:t.invalid)&&((t=r.authForm.get("confirmPassword"))==null?null:t.touched))),D(3),x("ngIf",r.passwordFieldType==="password"),D(),x("ngIf",r.passwordFieldType==="text"),D(),x("ngIf",((i=r.authForm.get("confirmPassword"))==null?null:i.invalid)&&((i=r.authForm.get("confirmPassword"))==null?null:i.touched))}}function Dne(n,e){if(n&1&&(E(0,"div",48),L(1),C()),n&2){let t=B();D(),st(" ",t.loginError," ")}}var YM=(()=>{let e=class e{constructor(i,r,s,o,a){this.fb=i,this.authService=r,this.router=s,this.geocodingService=o,this.headerService=a,this.isLoginMode=!0,this.selectedFile=null,this.passwordFieldType="password",this.loginError="",this.emailExists=!1}ngOnInit(){this.headerService.hide(),this.initializeForm()}ngOnDestroy(){this.headerService.show()}matchValues(i){return r=>{let o=r.parent?.controls[i];return o&&r.value!==o.value?{isMatching:!1}:null}}onSubmit(){let{email:i,password:r}=this.authForm.value;this.isLoginMode?this.handleLogin(i,r):this.authService.checkEmailExists(i).then(s=>{s?(this.emailExists=!0,this.authForm.get("email")?.setErrors({emailExists:!0})):(this.emailExists=!1,this.registerUser())}).catch(s=>{console.error("Error during email check: ",s)})}initializeForm(){this.authForm=this.fb.group({firstName:["",xt.required],lastName:["",xt.required],email:["",[xt.required,xt.email]],password:["",[xt.required,xt.minLength(6)]],confirmPassword:["",[xt.required,this.matchValues("password")]],contact:["",[xt.required,xt.pattern(/^[\d\+]+$/)]],address:["",xt.required],education:["",xt.required],skills:["",xt.required],bio:[""],profileImage:[""]})}handleLogin(i,r){this.authService.login(i,r).then(()=>this.router.navigate(["/home"])).catch(s=>{this.loginError="Wrong email or password. Try again or create an account.",console.error("Error during login: ",s)})}registerUser(){let o=this.authForm.value,{email:i,password:r}=o,s=Hh(o,["email","password"]);this.authService.register(i,r,s).then(a=>{a&&a.user&&(this.selectedFile?this.authService.uploadProfileImage(a.user.uid,this.selectedFile,s):this.saveUserData(a.user.uid,s))}).catch(a=>{a.code==="auth/email-already-in-use"&&this.authForm.get("email")?.setErrors({emailExists:!0}),console.error("Error during registration: ",a)})}saveUserData(i,r){this.geocodingService.getCoordinates(r.address).subscribe(s=>{r.position=s,this.authService.saveUserData(i,r).then(()=>this.router.navigate(["/home"])).catch(o=>console.error("Error saving user data:",o))},s=>console.error("Error getting coordinates for user address:",s))}toggleMode(){this.isLoginMode=!this.isLoginMode}togglePasswordVisibility(){this.passwordFieldType=this.passwordFieldType==="password"?"text":"password"}onGoogleSignIn(){this.authService.googleSignIn().then(()=>console.log("Google Sign-In successful")).catch(i=>console.error("Google Sign-In error:",i))}onFileSelected(i){this.selectedFile=i.target.files[0]}};e.\u0275fac=function(r){return new(r||e)(U(tl),U(ui),U(Lt),U(ul),U(vh))},e.\u0275cmp=Oe({type:e,selectors:[["app-auth"]],decls:43,vars:18,consts:[[1,"container","mt-5"],["class","loader",4,"ngIf"],[1,"row","justify-content-center"],[1,"col","md-4"],[1,"card","shadow-sm","p-4"],[1,"card-body"],["src","assets/images/LI-Logo.png","alt","linkedin logo",1,"linkedin-logo","mb-4"],[1,"text-center"],[3,"ngSubmit","formGroup"],[4,"ngIf"],[1,"form-group"],["type","email","id","email","formControlName","email","placeholder"," ",1,"form-control",3,"ngClass"],["for","email",1,"form-label"],["class","text-danger",4,"ngIf"],[1,"form-group","position-relative","input-with-icon"],["id","password","formControlName","password","placeholder"," ",1,"form-control",3,"type","ngClass"],["for","password",1,"form-label"],["class"," bi bi-eye",3,"click",4,"ngIf"],["class","bi bi-eye-slash",3,"click",4,"ngIf"],["class","form-group position-relative input-with-icon",4,"ngIf"],["type","submit",1,"btn","btn-primary","w-100"],["type","button",1,"btn","btn-outline-secondary","w-100",3,"click"],[1,"btn","btn-outline-secondary","w-100",3,"click"],[1,"gsi-material-button-state"],[1,"gsi-material-button-content-wrapper","d-flex","align-items-center","justify-content-center"],[1,"gsi-material-button-icon"],["version","1.1","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 48 48",0,"xmlns","xlink","http://www.w3.org/1999/xlink",2,"display","block","width","24px","height","24px"],["fill","#EA4335","d","M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"],["fill","#4285F4","d","M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"],["fill","#FBBC05","d","M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"],["fill","#34A853","d","M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"],["fill","none","d","M0 0h48v48H0z"],[1,"gsi-material-button-contents","ml-2"],[1,"loader"],["role","status",1,"spinner-border"],[1,"visually-hidden"],["type","file","id","profileImage",1,"form-control",3,"change"],["for","profileImage",1,"form-label"],["type","text","id","firstname","formControlName","firstName","placeholder"," ",1,"form-control"],["for","firstname",1,"form-label"],["type","text","id","lastname","formControlName","lastName","placeholder"," ",1,"form-control"],["for","lastname",1,"form-label"],["type","text","id","contact","formControlName","contact","placeholder"," ",1,"form-control"],["for","contact",1,"form-label"],["type","text","id","address","formControlName","address","placeholder"," ",1,"form-control"],["for","address",1,"form-label"],["id","bio","formControlName","bio","placeholder"," ",1,"form-control"],["for","bio",1,"form-label"],[1,"text-danger"],[1,"bi","bi-eye",3,"click"],[1,"bi","bi-eye-slash",3,"click"],["type","password","id","confirmPassword","formControlName","confirmPassword","placeholder"," ",1,"form-control",3,"ngClass"],["for","confirmPassword",1,"form-label"],["class"," bi bi-eye con",3,"click",4,"ngIf"],["class","bi bi-eye-slash con",3,"click",4,"ngIf"],[1,"bi","bi-eye","con",3,"click"],[1,"bi","bi-eye-slash","con",3,"click"]],template:function(r,s){if(r&1&&(E(0,"div",0),J(1,ine,4,0,"div",1),E(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),ie(6,"img",6),E(7,"h6",7),L(8,"Stay updated on your professional world"),C(),E(9,"form",8),te("ngSubmit",function(){return s.onSubmit()}),J(10,une,29,4,"div",9),E(11,"div",10),ie(12,"input",11),E(13,"label",12),L(14,"Email"),C(),J(15,pne,4,3,"div",13),C(),E(16,"div",14),ie(17,"input",15),E(18,"label",16),L(19,"Password"),C(),J(20,_ne,3,2,"div",13)(21,yne,1,0,"i",17)(22,vne,1,0,"i",18),C(),J(23,Tne,7,6,"div",19)(24,Dne,2,1,"div",13),E(25,"button",20),L(26),C(),ie(27,"hr"),E(28,"button",21),te("click",function(){return s.toggleMode()}),L(29),C(),ie(30,"hr"),E(31,"button",22),te("click",function(){return s.onGoogleSignIn()}),ie(32,"div",23),E(33,"div",24)(34,"div",25),Ds(),E(35,"svg",26),ie(36,"path",27)(37,"path",28)(38,"path",29)(39,"path",30)(40,"path",31),C()(),$R(),E(41,"span",32),L(42,"Continue with Google"),C()()()()()()()()()),r&2){let o,a,l,c;D(),x("ngIf",s.authService.loading),D(8),x("formGroup",s.authForm),D(),x("ngIf",!s.isLoginMode),D(2),x("ngClass",Gn(14,ZM,((o=s.authForm.get("email"))==null?null:o.invalid)&&((o=s.authForm.get("email"))==null?null:o.touched))),D(3),x("ngIf",((a=s.authForm.get("email"))==null?null:a.invalid)&&((a=s.authForm.get("email"))==null?null:a.touched)),D(2),x("type",s.passwordFieldType)("ngClass",Gn(16,ZM,((l=s.authForm.get("password"))==null?null:l.invalid)&&((l=s.authForm.get("password"))==null?null:l.touched))),D(3),x("ngIf",((c=s.authForm.get("password"))==null?null:c.invalid)&&((c=s.authForm.get("password"))==null?null:c.touched)),D(),x("ngIf",s.passwordFieldType==="password"),D(),x("ngIf",s.passwordFieldType==="text"),D(),x("ngIf",!s.isLoginMode),D(),x("ngIf",s.loginError&&s.isLoginMode),D(2),st(" ",s.isLoginMode?"Login":"Register"," "),D(3),st(" ",s.isLoginMode?"Join Now":"Login"," ")}},dependencies:[Oi,kt,ki,Nn,li,Pi,Bo,Uo],styles:[".card[_ngcontent-%COMP%]{max-width:500px;margin:0 auto;border-radius:15px;box-shadow:0 0 20px #0000001a;padding:30px;background:#fff}.linkedin-logo[_ngcontent-%COMP%]{max-width:150px;margin:0 auto 20px;display:block;animation:fadeIn 1s ease-in-out}.form-control[_ngcontent-%COMP%]{position:relative;padding:10px;box-shadow:0 0 20px #8d8d8d4d;border-color:#0404044d}.form-label[_ngcontent-%COMP%]{font-size:16px;margin-bottom:8px}.btn-primary[_ngcontent-%COMP%], .btn-outline-secondary[_ngcontent-%COMP%]{font-size:18px;padding:12px 25px;border-radius:25px}.bi.bi-eye[_ngcontent-%COMP%], .bi-eye-slash[_ngcontent-%COMP%], .bi.bi-eye.con[_ngcontent-%COMP%]{position:absolute;font-size:1.5em;top:50%;right:30px;transform:translateY(-100%);cursor:pointer;z-index:30}@media (max-width: 768px){.card[_ngcontent-%COMP%]{padding:20px}.linkedin-logo[_ngcontent-%COMP%]{max-width:120px}.form-control[_ngcontent-%COMP%]{font-size:14px;padding:10px}.btn-primary[_ngcontent-%COMP%], .btn-outline-secondary[_ngcontent-%COMP%]{font-size:16px;padding:10px 20px}}.loader[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#fffc;display:flex;justify-content:center;align-items:center;z-index:1000}.spinner-border[_ngcontent-%COMP%]{width:2.5rem;height:2.5rem;border-width:.2rem}"]});let n=e;return n})();var JM=Gg(lg());var W5=(()=>{let e=class e{constructor(i){this.firestore=i}getConversations(i){return this.firestore.collection("conversations",r=>r.where("participants","array-contains",i)).snapshotChanges().pipe(Le(r=>{let s=r.map(a=>{let l=a.payload.doc.data(),c=a.payload.doc.id;return l.lastMessage&&l.lastMessage.timestamp&&l.lastMessage.timestamp.toDate&&(l.lastMessage.timestamp=l.lastMessage.timestamp.toDate()),Ee(Q({},l),{id:c})}),o=s.map(a=>this.firestore.collection(`conversations/${a.id}/messages`,l=>l.where("senderId","!=",i).where("read","==",!1)).valueChanges().pipe(se(l=>({conversationId:a.id,count:l.length}))));return sr(o).pipe(se(a=>(a.forEach(l=>{let c=s.find(d=>d.id===l.conversationId);c&&(c.unreadCount=l.count)}),s)))}))}createOrGetConversation(i){let r=i[0],s=i[1];return this.firestore.collection("conversations",o=>o.where("participants","array-contains",r)).get().toPromise().then(o=>{let a=o?.docs.find(l=>l.data().participants.includes(s));if(a)return a.id;{let l={participants:i,lastMessage:{content:"",timestamp:new Date,senderId:""}};return this.firestore.collection("conversations").add(l).then(c=>c.id)}})}deleteConversation(i){return this.firestore.collection("conversations").doc(i).delete().catch(r=>{throw console.error("Error deleting conversation: ",r),r})}getMessages(i,r){return this.firestore.collection(`conversations/${i}/messages`,s=>s.orderBy("timestamp").limit(r.limit)).valueChanges().pipe(se(s=>s.map(o=>Ee(Q({},o),{timestamp:o.timestamp.toDate()}))))}sendMessage(i,r,s){let o={content:r,timestamp:new Date,senderId:s,read:!1};this.firestore.collection(`conversations/${i}/messages`).add(o),this.firestore.collection("conversations").doc(i).update({lastMessage:o})}markMessagesAsRead(i,r){this.firestore.collection(`conversations/${i}/messages`,s=>s.where("senderId","!=",r).where("read","==",!1)).get().subscribe(s=>{s.forEach(o=>{this.firestore.collection(`conversations/${i}/messages`).doc(o.id).update({read:!0})})})}sendTypingStatus(i,r){this.firestore.collection(`conversations/${i}/typingStatus`).doc(r).set({isTyping:!0,timestamp:new Date}),setTimeout(()=>{this.clearTypingStatus(i,r).catch(s=>{console.error("Error clearing typing status:",s)})},3e3)}clearTypingStatus(i,r){return this.firestore.collection(`conversations/${i}/typingStatus`).doc(r).delete()}getTypingStatus(i){return this.firestore.collection(`conversations/${i}/typingStatus`).snapshotChanges().pipe(se(r=>r.map(s=>{let o=s.payload.doc.data(),a=s.payload.doc.id;return Q({senderId:a},o)})))}getUserOnlineStatus(i){return this.firestore.collection("users").doc(i).valueChanges().pipe(se(r=>!!r?.isOnline))}getLastActive(i){return this.firestore.collection("users").doc(i).valueChanges().pipe(se(r=>r.lastActive?r.lastActive.toDate():null))}};e.\u0275fac=function(r){return new(r||e)(G(ln))},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var Mne=["messageList"],Ane=n=>({unread:n}),xne=(n,e)=>({sent:n,received:e});function Rne(n,e){if(n&1&&(E(0,"div",20),L(1),C()),n&2){let t=B().$implicit;D(),st(" ",t.unreadCount," ")}}function One(n,e){if(n&1){let t=be();E(0,"li",9),te("click",function(){let r=ue(t).$implicit,s=B();return de(s.selectConversation(r))}),E(1,"div",10),ie(2,"img",11),E(3,"div",12)(4,"div",13),L(5),ie(6,"span",14),C(),E(7,"div",15),L(8),C()()(),E(9,"div",16)(10,"div",17),L(11),ri(12,"date"),C(),J(13,Rne,2,1,"div",18),E(14,"i",19),te("click",function(r){let s=ue(t).$implicit,o=B();return de(o.confirmDelete(s,r))}),C()()()}if(n&2){let t=e.$implicit,i=B();x("ngClass",Gn(10,Ane,t.unread)),D(2),x("src",i.getParticipantProfileImage(t),Hn),D(3),st(" ",i.getParticipantName(t)," "),D(),x("ngClass",t.isOnline?"online":"offline"),D(2),st(" ",t.lastMessage.content," "),D(3),st(" ",Jl(12,7,t.lastMessage.timestamp,"MMM d")," "),D(2),x("ngIf",t.unreadCount)}}function Nne(n,e){n&1&&(E(0,"div",37),ie(1,"i",38),C())}function Pne(n,e){if(n&1&&(E(0,"div",31),ie(1,"img",11),E(2,"div",32)(3,"div",33)(4,"span",34),L(5),ri(6,"date"),C()(),E(7,"div",35),L(8),C(),J(9,Nne,2,0,"div",36),C()()),n&2){let t=e.$implicit,i=B(2);x("ngClass",_f(8,xne,t.senderId===(i.currentUser==null?null:i.currentUser.uid),t.senderId!==(i.currentUser==null?null:i.currentUser.uid))),D(),x("src",i.getMessageProfileImage(t),Hn),D(4),ht(Jl(6,5,t.timestamp,"short")),D(3),ht(t.content),D(),x("ngIf",i.isMessageRead(t)&&t.senderId===(i.currentUser==null?null:i.currentUser.uid))}}function kne(n,e){if(n&1&&(E(0,"div",39),L(1),C()),n&2){let t=B(2);D(),st(" ",t.typingStatus," ")}}function Fne(n,e){if(n&1){let t=be();E(0,"div",21)(1,"div",22)(2,"div",10),ie(3,"img",11),E(4,"h5",23),L(5),C(),ie(6,"span",14),C(),E(7,"p",24),L(8),C()(),E(9,"div",25,1),J(11,Pne,10,11,"div",26),ri(12,"async"),J(13,kne,2,1,"div",27),C(),E(14,"div",28)(15,"input",29),gr("ngModelChange",function(r){ue(t);let s=B();return Hr(s.newMessage,r)||(s.newMessage=r),de(r)}),te("keydown.enter",function(){ue(t);let r=B();return de(r.sendMessage())})("input",function(){ue(t);let r=B();return de(r.onMessageInput())}),C(),E(16,"button",30),te("click",function(){ue(t);let r=B();return de(r.sendMessage())}),L(17," Send "),C()()()}if(n&2){let t=B();D(3),x("src",t.getParticipantProfileImage(t.selectedConversation),Hn),D(2),st(" ",t.getParticipantName(t.selectedConversation)," "),D(),x("ngClass",t.userStatus==="Online"?"online":"offline"),D(2),st(" ",t.userStatus==="Online"?"Online":t.userStatus," "),D(3),x("ngForOf",qr(12,7,t.messages$)),D(2),x("ngIf",t.typingStatus),D(2),pr("ngModel",t.newMessage)}}function Lne(n,e){n&1&&(E(0,"div",40),ie(1,"div",41),C(),E(2,"p",42),L(3,"Open chat"),C())}var K5=(()=>{let e=class e{constructor(i,r,s,o){this.chatService=i,this.authService=r,this.route=s,this.userService=o,this.conversations$=le([]),this.messages$=le([]),this.selectedConversation=null,this.newMessage="",this.typingUser=null,this.typingStatus="",this.userMap=new Map,this.userStatus="",this.typingSubscription=null,this.selectedConversationId=null}ngOnInit(){this.authService.getUser().subscribe(i=>{this.currentUser=i,i&&(this.currentUser=i,this.authService.setUserOnlineOnLogin(i.uid),this.conversations$=this.chatService.getConversations(i.uid).pipe(Le(s=>{let o=Array.from(new Set(s.flatMap(a=>a.participants)));return this.userService.getUsersByIds(o).pipe(se(a=>(a.forEach(l=>this.userMap.set(l.uid,l)),s.map(l=>(l.unread=l.lastMessage.senderId!==i.uid&&!l.lastMessage.read,l)))))}),Xn(s=>le([]))),this.selectedConversationId&&this.subscribeToTypingStatus(this.selectedConversationId));let r=this.route.snapshot.paramMap.get("userId");r&&i&&this.chatService.createOrGetConversation([i.uid,r]).then(s=>{this.selectConversation({id:s,participants:[i.uid,r],lastMessage:{content:"",timestamp:new Date,senderId:""}}),this.listenForUserStatus()}).catch(s=>{console.error("Error creating or getting conversation:",s)})})}ngOnDestroy(){this.typingSubscription&&this.typingSubscription.unsubscribe(),this.currentUser?.uid&&this.authService.setUserOfflineOnLogout(this.currentUser.uid)}selectConversation(i){this.selectedConversation=i,this.setUserOnlineStatus(i),this.fetchMessages(i),this.listenForUserStatus()}setUserOnlineStatus(i){let r=this.getOtherParticipantId(i);r&&this.chatService.getUserOnlineStatus(r).subscribe(s=>{i.isOnline=s})}fetchMessages(i){this.messages$=this.chatService.getMessages(i.id,{limit:20}).pipe(se(r=>(this.scrollToBottom(),r)),Xn(r=>(console.error("Error fetching messages:",r),le([]))))}getUserName(i){let r=this.userMap.get(i);return r?`${r.firstName} ${r.lastName}`:"Unknown User"}sendMessage(){this.selectedConversation&&this.selectedConversation.id&&this.newMessage.trim()&&(this.chatService.sendMessage(this.selectedConversation.id,this.newMessage,this.currentUser.uid),this.newMessage="",this.scrollToBottom(),this.clearTypingStatus())}onMessageInput(){this.selectedConversation&&this.selectedConversation.id&&this.currentUser?.uid&&(this.chatService.sendTypingStatus(this.selectedConversation.id,this.currentUser.uid),this.typingTimeout&&clearTimeout(this.typingTimeout),this.typingTimeout=setTimeout(()=>{this.selectedConversation?.id&&this.chatService.clearTypingStatus(this.selectedConversation.id,this.currentUser.uid).then(()=>{console.log(`Cleared typing status for user ${this.currentUser.uid}`)})},3e3))}getMessageProfileImage(i){return this.userMap.get(i.senderId)?.profileImageUrl||"assets/images/add-photo.png"}isMessageRead(i){return i.read===!0}listenForTypingStatus(){this.selectedConversation&&this.selectedConversation.id&&(this.typingSubscription=this.chatService.getTypingStatus(this.selectedConversation.id).subscribe(i=>{let r=i.find(s=>s.senderId!==this.currentUser?.uid&&s.isTyping);if(r){let s=this.userMap.get(r.senderId)?.firstName||"User";this.typingStatus=`${s} is typing...`}else this.typingStatus="";this.scrollToBottom(),clearTimeout(this.typingTimeout),this.typingTimeout=setTimeout(()=>{this.typingStatus=""},3e3)}))}subscribeToTypingStatus(i){this.typingSubscription=this.chatService.getTypingStatus(i).subscribe(r=>{let s=r.find(o=>o.senderId!==this.currentUser?.uid&&o.isTyping);s?(this.typingStatus=`${this.getUserName(s.senderId)} is typing...`,console.log(this.typingStatus)):this.typingStatus=""},r=>{console.error("Error while subscribing to typing status:",r)})}clearTypingStatus(){this.selectedConversation?.id&&this.currentUser?.uid&&this.chatService.clearTypingStatus(this.selectedConversation.id,this.currentUser.uid).catch(i=>console.error("Error clearing typing status:",i))}getParticipantName(i){let r=i.participants.find(o=>o!==this.currentUser?.uid);if(!r)return"Unknown";let s=this.userMap.get(r);return s?`${s.firstName} ${s.lastName}`:"Unknown"}getParticipantProfileImage(i){let r=i.participants.find(o=>o!==this.currentUser?.uid);return r&&this.userMap.get(r)?.profileImageUrl||"assets/images/add-photo.png"}listenForUserStatus(){if(this.selectedConversation){let i=this.getOtherParticipantId(this.selectedConversation);i&&this.chatService.getUserOnlineStatus(i).subscribe(r=>{r===!0?this.userStatus="Online":this.chatService.getLastActive(i).subscribe(s=>{s?this.userStatus=this.getLastActiveTime(s):this.userStatus="Not available"})})}}getLastActiveTime(i){if(!i)return"Not available";let s=new Date().getTime()-i.getTime(),o=Math.floor(s/6e4);return o<60?`${o} minutes ago`:o<1440?`${Math.floor(o/60)} hours ago`:`${Math.floor(o/1440)} days ago`}getOtherParticipantId(i){return i.participants.find(r=>r!==this.currentUser?.uid)}confirmDelete(i,r){r.stopPropagation(),confirm("Are you sure you want to delete this conversation?")&&this.deleteConversation(i)}deleteConversation(i){i.id&&this.chatService.deleteConversation(i.id).then(()=>{JM.default.fire("Deleted!","The conversation has been deleted.","success")}).catch(r=>{JM.default.fire("Error!","Failed to delete the conversation.","error"),console.error("Error deleting conversation:",r)})}scrollToBottom(){setTimeout(()=>{try{this.messageList.nativeElement.scrollTop=this.messageList.nativeElement.scrollHeight}catch(i){console.error("Error scrolling to bottom:",i)}},100)}};e.\u0275fac=function(r){return new(r||e)(U(W5),U(ui),U(ss),U(Js))},e.\u0275cmp=Oe({type:e,selectors:[["app-chat"]],viewQuery:function(r,s){if(r&1&&jr(Mne,5),r&2){let o;Dn(o=Sn())&&(s.messageList=o.first)}},decls:12,vars:5,consts:[["loadingTemplate",""],["messageList",""],[1,"container","mt-4"],[1,"row"],[1,"col-md-4","conversation-list"],[1,"list-group"],["class","list-group-item conversation-item d-flex justify-content-between",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"col-md-8"],["class","position-relative message-container",4,"ngIf","ngIfElse"],[1,"list-group-item","conversation-item","d-flex","justify-content-between",3,"click","ngClass"],[1,"d-flex","align-items-center"],["alt","Profile Image",1,"rounded-circle","me-2",2,"width","30px","height","30px","object-fit","cover",3,"src"],[1,"conversation-details"],[1,"conversation-name"],[1,"status-circle",3,"ngClass"],[1,"conversation-snippet"],[1,"conversation-meta","d-flex","align-items-center"],[1,"conversation-date","me-2"],["class","badge bg-primary rounded-pill me-2",4,"ngIf"],["title","Delete Conversation",1,"fa","fa-times","delete-icon",3,"click"],[1,"badge","bg-primary","rounded-pill","me-2"],[1,"position-relative","message-container"],[1,"participant-info","hanging-info"],[1,"mb-0","me-2"],[1,"status-text","mt-1","mb-0"],[1,"message-list"],["class","message-item",3,"ngClass",4,"ngFor","ngForOf"],["class","typing-indicator",4,"ngIf"],[1,"input-group","mt-3","message-input"],["type","text","placeholder","Type a message",1,"form-control",3,"ngModelChange","keydown.enter","input","ngModel"],[1,"btn","btn-primary","btn-send",3,"click"],[1,"message-item",3,"ngClass"],[1,"message-content"],[1,"message-metadata"],[1,"message-date"],[1,"message-text"],["class","read-receipt",4,"ngIf"],[1,"read-receipt"],[1,"bi","bi-check2-all"],[1,"typing-indicator"],[1,"loader-container"],[1,"loader"],[1,"loader-chat"]],template:function(r,s){if(r&1&&(E(0,"div",2)(1,"div",3)(2,"div",4)(3,"h4"),L(4,"Conversations"),C(),E(5,"ul",5),J(6,One,15,12,"li",6),ri(7,"async"),C()(),E(8,"div",7),J(9,Fne,18,9,"div",8)(10,Lne,4,0,"ng-template",null,0,Wr),C()()()),r&2){let o=zr(11);D(6),x("ngForOf",qr(7,3,s.conversations$)),D(3),x("ngIf",s.selectedConversation)("ngIfElse",o)}},dependencies:[Oi,xs,kt,Nn,li,Vo,Ia,Ju],styles:[".container[_ngcontent-%COMP%]{font-family:Arial,sans-serif}.conversation-list[_ngcontent-%COMP%]{border-right:1px solid #ddd;padding-right:10px;animation:_ngcontent-%COMP%_fadeIn .5s ease-in-out}.list-group-item[_ngcontent-%COMP%]{border-radius:10px;margin-bottom:10px;transition:background-color .3s,box-shadow .3s,transform .3s;display:flex;align-items:center;justify-content:space-between;cursor:pointer;animation:_ngcontent-%COMP%_slideIn .4s ease-in-out}.conversation-item[_ngcontent-%COMP%]:hover{background-color:#f0f0f0;box-shadow:0 4px 8px #0000001a;transform:translateY(-2px)}.conversation-item.unread[_ngcontent-%COMP%]{background-color:#e6f7ff;font-weight:700}.conversation-details[_ngcontent-%COMP%]{flex:1;margin-left:10px}.conversation-name[_ngcontent-%COMP%]{font-weight:700;display:flex;align-items:center}.conversation-snippet[_ngcontent-%COMP%]{color:#666;font-size:.9rem}.conversation-meta[_ngcontent-%COMP%]{text-align:right;display:flex;flex-direction:column;align-items:flex-end}.conversation-date[_ngcontent-%COMP%]{color:#999;font-size:.8rem}.badge[_ngcontent-%COMP%]{margin-top:5px}.status-circle[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:50%;margin-left:8px}.online[_ngcontent-%COMP%]{background-color:#28a745}.offline[_ngcontent-%COMP%]{background-color:#dc3545}.message-list[_ngcontent-%COMP%]{max-height:500px;overflow-y:auto;padding:10px;border:1px solid #ddd;border-radius:5px;background-color:#f9f9f9;animation:_ngcontent-%COMP%_fadeIn .5s ease-in-out;scroll-behavior:smooth}.message-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;margin-bottom:15px;animation:_ngcontent-%COMP%_fadeIn .6s ease}.message-content[_ngcontent-%COMP%]{max-width:75%;padding:10px;border-radius:15px;background-color:#e0e0e0;word-wrap:break-word;position:relative}.message-metadata[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-size:.8rem;color:#666;margin-bottom:5px}.message-text[_ngcontent-%COMP%]{font-size:1rem}.sent[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{background-color:#d1e7dd;align-self:flex-end;margin-left:auto}.received[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{background-color:#fff3cd;margin-right:auto}.sent[_ngcontent-%COMP%]{flex-direction:row-reverse}.received[_ngcontent-%COMP%]{flex-direction:row}.read-receipt[_ngcontent-%COMP%]{font-size:.75rem;color:#28a745;text-align:right;margin-top:5px}.typing-indicator[_ngcontent-%COMP%]{color:#999;font-style:italic;margin-top:10px;animation:_ngcontent-%COMP%_blink 1.5s steps(2) infinite}.message-input[_ngcontent-%COMP%]{display:flex;align-items:center}.message-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-radius:20px;padding:10px;margin-right:10px}.message-input[_ngcontent-%COMP%]   .btn-send[_ngcontent-%COMP%]{border-radius:20px;padding:10px 20px;background-color:#007bff;color:#fff;transition:background-color .3s ease,box-shadow .3s ease}.message-input[_ngcontent-%COMP%]   .btn-send[_ngcontent-%COMP%]:hover{background-color:#0056b3;box-shadow:0 4px 10px #007bff80}.participant-info[_ngcontent-%COMP%]{position:absolute;top:-10px;left:50%;transform:translate(-50%);background-color:#fff;padding:15px 20px;border-radius:15px;box-shadow:0 4px 8px #0000001a;border:1px solid #e0e0e0;text-align:center;z-index:1;transition:opacity .3s ease,transform .3s ease}.participant-info[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{align-items:center;justify-content:center}.participant-info[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;border:2px solid #ddd;width:40px;height:40px;margin-right:10px;object-fit:cover}.participant-info[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin-bottom:0;font-size:1.1rem;font-weight:700}.status-text[_ngcontent-%COMP%]{font-size:.85rem;color:#555;margin-top:4px;text-align:center}.message-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;object-fit:cover;margin-right:10px}.delete-conversation[_ngcontent-%COMP%]{cursor:pointer}.delete-conversation[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem;cursor:pointer;transition:color .3s ease-in-out;color:#ff4d4f}.delete-conversation[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{color:#8b0000;transform:scale(1.1)}.loader-container[_ngcontent-%COMP%], .loader-chat[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%}.loader[_ngcontent-%COMP%]{border:4px solid rgba(0,0,0,.1);border-left-color:#007bff;border-radius:50%;width:40px;height:40px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translate(-100%)}to{transform:translate(0)}}@keyframes _ngcontent-%COMP%_blink{50%{opacity:0}}@media (max-width: 768px){.conversation-list[_ngcontent-%COMP%]{padding-right:5px;border-right:none}.list-group-item[_ngcontent-%COMP%]{padding:8px;flex-direction:column;align-items:flex-start}.conversation-meta[_ngcontent-%COMP%]{align-items:flex-start;font-size:.7rem}.message-list[_ngcontent-%COMP%]{max-height:300px}.message-content[_ngcontent-%COMP%]{max-width:100%;font-size:.9rem}.message-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:8px;width:calc(100% - 50px)}.message-input[_ngcontent-%COMP%]   .btn-send[_ngcontent-%COMP%]{padding:8px 15px}.participant-info[_ngcontent-%COMP%]{top:5px;left:5px;transform:none;padding:10px 15px}.participant-info[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1rem}.status-text[_ngcontent-%COMP%]{font-size:.75rem}}"]});let n=e;return n})();var dl=(()=>{let e=class e{constructor(i,r){this.firestore=i,this.authService=r}getUserData(){return this.authService.getUser().pipe(Le(i=>{if(i)return this.firestore.collection("users").doc(i.uid).valueChanges();throw new Error("User not authenticated")}))}updateUserData(i){return this.authService.getUser().pipe(Le(r=>r?this.firestore.collection("users").doc(r.uid).update(i):Promise.reject("User not authenticated"))).toPromise()}searchUsers(i){return this.firestore.collection("users",r=>r.orderBy("firstName").startAt(i).endAt(i+"\uF8FF")).valueChanges()}checkConnection(i){return this.authService.getUser().pipe(Le(r=>r?this.firestore.doc(`users/${r.uid}`).valueChanges().pipe(Le(s=>le(s.connections&&s.connections.includes(i)))):le(!1)))}unconnectUser(i){return this.authService.getUser().pipe(Le(r=>{if(!r)throw new Error("User not authenticated");let s=this.firestore.doc(`users/${r.uid}`),o=this.firestore.doc(`users/${i}`),a=this.firestore.firestore.batch();return a.update(s.ref,{connections:vt.firestore.FieldValue.arrayRemove(i)}),a.update(o.ref,{connections:vt.firestore.FieldValue.arrayRemove(r.uid)}),le(a.commit())}))}};e.\u0275fac=function(r){return new(r||e)(G(ln),G(ui))},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function Vne(n,e){n&1&&(E(0,"div",3)(1,"div",4)(2,"span",5),L(3,"Loading..."),C()()())}function Bne(n,e){if(n&1){let t=be();E(0,"div",30)(1,"div",21)(2,"div",31)(3,"img",32),te("click",function(){let r=ue(t).$implicit,s=B(2);return de(s.goToProfile(r.userId))}),C(),E(4,"div")(5,"h6",33),te("click",function(){let r=ue(t).$implicit,s=B(2);return de(s.goToProfile(r.userId))}),L(6),C(),E(7,"p",34),L(8),ri(9,"date"),C()()(),ie(10,"hr"),E(11,"p",35),L(12),C(),E(13,"div",36)(14,"button",37),te("click",function(){let r=ue(t).$implicit,s=B(2);return de(s.toggleLike(r))}),ie(15,"i",38),E(16,"span"),L(17),C()()()()()}if(n&2){let t=e.$implicit,i=B(2);D(3),x("src",t.userProfileImageUrl,Hn),D(3),ht(t.userName),D(2),ht(Jl(9,8,t.timestamp,"short")),D(4),ht(t.content),D(2),Ur("liked",t.likedBy.includes(i.user.uid)),D(),x("ngClass",t.likedBy.includes(i.user.uid)?"bi bi-hand-thumbs-up-fill":"bi bi-hand-thumbs-up"),D(2),ht(t.likes)}}function Une(n,e){n&1&&(E(0,"span"),L(1,", "),C())}function jne(n,e){if(n&1&&(E(0,"span"),L(1),J(2,Une,2,0,"span",47),C()),n&2){let t=e.$implicit,i=e.index,r=B().$implicit;D(),st(" ",t.skillName,""),D(),x("ngIf",i<r.skills.length-1)}}function zne(n,e){if(n&1){let t=be();E(0,"li",39)(1,"div",40)(2,"img",41),te("click",function(){let r=ue(t).$implicit,s=B(2);return de(s.goToProfile(r.uid))}),C(),E(3,"div",42),te("click",function(){let r=ue(t).$implicit,s=B(2);return de(s.goToProfile(r.uid))}),E(4,"h5"),L(5),C(),E(6,"h6")(7,"strong"),L(8,"Skills:"),C(),J(9,jne,3,2,"span",43),C()(),E(10,"div",44)(11,"button",45),te("click",function(){let r=ue(t).$implicit,s=B(2);return de(s.sendMessage(r.uid))}),ie(12,"i",46),C()()()()}if(n&2){let t=e.$implicit;D(2),x("src",t.profileImageUrl||"path-to-default-profile-image",Hn),D(3),$r("",t.firstName," ",t.lastName,""),D(4),x("ngForOf",t.skills)}}function $ne(n,e){if(n&1){let t=be();E(0,"div",6)(1,"div",7)(2,"div",8)(3,"div",9),ie(4,"img",10),C(),E(5,"div",11)(6,"h3",12),L(7),C(),E(8,"p",13),L(9),C(),E(10,"p",14),L(11),C()(),E(12,"ul",15)(13,"li",16)(14,"span",17),L(15,"Connections"),C(),E(16,"span",18),L(17),C()(),E(18,"li",16),L(19,"Saved items"),C()()()(),E(20,"div",19)(21,"div",20)(22,"div",21)(23,"form",22),te("ngSubmit",function(){ue(t);let r=B();return de(r.submitPost())}),E(24,"div",23)(25,"textarea",24),gr("ngModelChange",function(r){ue(t);let s=B();return Hr(s.postContent,r)||(s.postContent=r),de(r)}),C()(),E(26,"button",25),L(27,"Post"),C()()()(),J(28,Bne,18,11,"div",26),ri(29,"async"),C(),E(30,"div",7)(31,"div",27)(32,"div",21)(33,"h5"),L(34,"Connections"),C(),E(35,"ul",28),J(36,zne,13,4,"li",29),C()()()()()}if(n&2){let t=B();D(4),x("src",t.user.profileImageUrl||"path-to-default-profile-image",Hn),D(3),$r("",t.user.firstName," ",t.user.lastName,""),D(2),ht((t.user.education==null||t.user.education[0]==null?null:t.user.education[0].degree)||"No education added"),D(2),ht(t.user.address||"No location available"),D(6),ht(t.connectedUsers.length||0),D(8),pr("ngModel",t.postContent),x("disabled",!t.userLoaded),D(3),x("ngForOf",qr(29,10,t.posts)),D(8),x("ngForOf",t.connectedUsers)}}var eA=(()=>{let e=class e{constructor(i,r,s,o,a,l,c){this.profileService=i,this.afAuth=r,this.firestore=s,this.router=o,this.toastr=a,this.userService=l,this.notificationService=c,this.postContent="",this.posts=new Se,this.user={},this.userLoaded=!1,this.unreadRequests=[],this.connectedUsers=[],this.loading=!0}ngOnInit(){this.loadData(),this.afAuth.authState.subscribe(i=>{i&&(this.firestore.collection("users").doc(i.uid).valueChanges().subscribe(r=>{r&&(this.user=Ee(Q({},r),{uid:i.uid}),this.userLoaded=!0,this.user.connections&&this.user.connections.length>0&&this.loadConnectedUsers(this.user.connections))}),this.user.connections&&this.user.connections.length>0?this.loadConnectedUsers(this.user.connections):this.user.connections=[],this.posts=this.firestore.collection("posts",r=>r.orderBy("timestamp","desc")).snapshotChanges().pipe(se(r=>r.map(s=>{let o=s.payload.doc.data(),a=s.payload.doc.id;return Ee(Q({id:a},o),{likedBy:o.likedBy||[]})})),se(r=>r.map(s=>Ee(Q({},s),{timestamp:s.timestamp.toDate()})))))})}loadData(){setTimeout(()=>{this.loading=!1},1e3)}submitPost(){if(this.postContent.trim()&&this.user&&this.user.uid){let i={content:this.postContent,timestamp:new Date,userId:this.user.uid,userName:`${this.user.firstName} ${this.user.lastName}`,userProfileImageUrl:this.user.profileImageUrl||"path-to-default-profile-image",likes:0,likedBy:[]};this.firestore.collection("posts").add(i).then(()=>{console.log("Post added successfully"),this.postContent=""}).catch(r=>{console.error("Error adding post: ",r)})}}goToProfile(i){this.router.navigate(["/profile",i])}toggleLike(i){let r=this.firestore.collection("posts").doc(i.id);r.get().subscribe(s=>{if(s.exists){let o=s.data(),a=o?.likes||0,l=o?.likedBy||[];if(l.includes(this.user.uid)){let c=l.filter(d=>d!==this.user.uid);r.update({likes:a-1,likedBy:c}).catch(d=>{console.error("Error removing like: ",d)})}else r.update({likes:a+1,likedBy:[...l,this.user.uid]}).catch(c=>{console.error("Error liking post: ",c)})}})}loadConnectedUsers(i){if(!i||i.length===0){console.warn("No connections to load.");return}this.userService.getUsersByIds(i).subscribe(r=>{this.connectedUsers=r},r=>{console.error("Error loading connected users:",r)})}acceptRequest(i){this.notificationService.acceptConnectionRequest(i).then(()=>{this.unreadRequests=this.unreadRequests.filter(r=>r.id!==i.id),this.user.connections?this.user.connections.push(i.from||i.uid):this.user.connections=[i.from||i.uid],this.loadConnectedUsers(this.user.connections),this.toastr.success(`${i.firstName} ${i.lastName} is now connected.`)}).catch(r=>{this.toastr.error("Failed to accept the request.")})}rejectRequest(i){this.notificationService.rejectConnectionRequest(i).then(()=>{this.unreadRequests=this.unreadRequests.filter(r=>r.id!==i.id)}).catch(r=>{console.error("Error rejecting request: ",r)})}unconnectUser(i){this.profileService.unconnectUser(i).subscribe(()=>{this.toastr.success("You are no longer connected."),this.connectedUsers=this.connectedUsers.filter(r=>r.uid!==i),this.user.connections&&(this.user.connections=this.user.connections.filter(r=>r!==i))},r=>{this.toastr.error("Failed to unconnect from the user.")})}sendMessage(i){this.router.navigate(["/chat",{userId:i}])}};e.\u0275fac=function(r){return new(r||e)(U(dl),U(Zr),U(ln),U(Lt),U(Zs),U(Js),U(wh))},e.\u0275cmp=Oe({type:e,selectors:[["app-home"]],decls:3,vars:2,consts:[[1,"container-fluid"],["class","d-flex justify-content-center align-items-center","style","height: 100vh;",4,"ngIf"],["class","row",4,"ngIf"],[1,"d-flex","justify-content-center","align-items-center",2,"height","100vh"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"row"],[1,"col-lg-3","col-md-4","col-12"],[1,"card","profile-card","shadow-sm"],[1,"profile-header"],["alt","Profile Image",1,"rounded-circle","profile-image",3,"src"],[1,"card-body","text-center"],[1,"profile-name"],[1,"profile-education"],[1,"profile-location"],[1,"list-group","list-group-flush"],[1,"list-group-item"],[1,"connections-label"],[1,"badge","bg-secondary"],[1,"col-lg-6","col-md-8","col-12"],[1,"card","mb-4"],[1,"card-body"],[3,"ngSubmit"],[1,"mb-3"],["name","postContent","rows","3","placeholder","What's on your mind?",1,"form-control",3,"ngModelChange","ngModel","disabled"],["type","submit",1,"btn","btn-primary"],["class","card mb-3 post-card",4,"ngFor","ngForOf"],[1,"card"],[1,"list-group"],["class","list-group-item-con",4,"ngFor","ngForOf"],[1,"card","mb-3","post-card"],[1,"d-flex"],["alt","Profile Image",1,"rounded-circle","post-profile-image","me-3",3,"click","src"],[1,"card-title","mb-0",3,"click"],[1,"post-date"],[1,"card-text"],[1,"d-flex","justify-content-between","align-items-center"],[1,"like-button",3,"click"],[3,"ngClass"],[1,"list-group-item-con"],[1,"d-flex","align-items-center"],["alt","Profile Image",1,"profile-image-con","clickable",3,"click","src"],[1,"ms-2","clickable",3,"click"],[4,"ngFor","ngForOf"],[1,"ms-auto"],[1,"btn","btn-primary","send-message-btn",3,"click"],[1,"bi","bi-chat"],[4,"ngIf"]],template:function(r,s){r&1&&(E(0,"div",0),J(1,Vne,4,0,"div",1)(2,$ne,37,12,"div",2),C()),r&2&&(D(),x("ngIf",s.loading),D(),x("ngIf",!s.loading))},dependencies:[Oi,xs,kt,ki,Nn,li,Pi,Vo,Oc,Ia,Ju],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0;padding:0}body[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100vh}.container-fluid[_ngcontent-%COMP%]{flex-grow:1;background-color:#f4f4f4!important;padding:10px 100px 100px}.profile-card[_ngcontent-%COMP%]{padding:20px;text-align:center;border-radius:10px;background-color:#fff;box-shadow:0 2px 10px #0000001a;transition:transform .3s ease,box-shadow .3s ease}.profile-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 5px 15px #0000001a}.profile-image[_ngcontent-%COMP%]{width:120px;height:120px;margin-bottom:15px;border-radius:50%;object-fit:cover}.badge[_ngcontent-%COMP%]{margin-left:10px}.list-group-item[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;box-shadow:0 2px 4px #0000001a;transition:all .3s ease}.list-group-item[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 5px 15px #0003}.connections-label[_ngcontent-%COMP%]{font-size:1.2rem;color:#007bff}.grow-network-btn[_ngcontent-%COMP%]{padding:10px 20px;font-size:1rem;border-radius:20px;transition:background-color .3s ease}.grow-network-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3;color:#fff}textarea.form-control[_ngcontent-%COMP%]{font-size:1.2rem;padding:10px;border-radius:10px}.post-profile-image[_ngcontent-%COMP%]{width:60px;height:60px;margin-right:10px;border-radius:50%;object-fit:cover}.card[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ddd;margin-bottom:20px;border-radius:10px;box-shadow:0 4px 8px #0000000d;transition:transform .3s ease,box-shadow .3s ease}.card[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 6px 20px #00000014}.card-body[_ngcontent-%COMP%]{padding:20px}.card-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;cursor:pointer;color:#007bff;transition:color .3s ease}.card-title[_ngcontent-%COMP%]:hover{color:#0056b3}.card-text[_ngcontent-%COMP%]{font-size:1.1rem;color:#333}.like-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:8px 16px;background-color:transparent;border:none;cursor:pointer;transition:all .2s ease-in-out;font-size:1.2rem}.like-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem;color:#007bff;transition:transform .2s ease,color .2s ease}.like-button[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{transform:scale(1.2)}.like-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:8px;font-size:1rem;color:#007bff;font-weight:700}.like-button.liked[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#007bff;fill:#007bff}.like-button.liked[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#007bff}.like-button[_ngcontent-%COMP%]:focus{outline:none}.profile-image-con[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;object-fit:cover}.list-group-item-con[_ngcontent-%COMP%]{padding:15px;background-color:#fff;border-radius:10px;transition:background-color .3s ease,transform .3s ease}.list-group-item-con[_ngcontent-%COMP%]:hover{background-color:#f1f1f1;transform:translateY(-3px)}h5[_ngcontent-%COMP%]{font-size:1rem;margin:0;color:#333}h6[_ngcontent-%COMP%]{font-size:.7rem;margin:0;color:#333}p[_ngcontent-%COMP%]{font-size:1rem;color:#666}.send-message-btn[_ngcontent-%COMP%]{background-color:#007bff;border:none;border-radius:50%;width:35px;height:35px;color:#fff;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:background-color .3s ease,transform .3s ease;box-shadow:0 4px 8px #0000001a}.send-message-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3;transform:scale(1.1)}.send-message-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.4rem;color:#fff}@media (max-width: 768px){.container-fluid[_ngcontent-%COMP%]{padding:10px}.profile-card[_ngcontent-%COMP%]{padding:10px;margin-bottom:20px}.profile-image[_ngcontent-%COMP%]{width:80px;height:80px}.profile-name[_ngcontent-%COMP%]{font-size:1.2rem}.post-profile-image[_ngcontent-%COMP%]{width:50px;height:50px}.card-body[_ngcontent-%COMP%]{padding:15px}.like-button[_ngcontent-%COMP%]{padding:5px;font-size:1rem}.send-message-btn[_ngcontent-%COMP%]{width:30px;height:30px}.list-group-item-con[_ngcontent-%COMP%]{padding:10px}h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-size:.9rem}}.loader[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:#fffc}.spinner-border[_ngcontent-%COMP%]{width:3rem;height:3rem;border-width:.3rem}.fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease-in-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.slide-up[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideUp .6s ease-out}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translateY(20px);opacity:0}to{transform:translateY(0);opacity:1}}"]});let n=e;return n})();var Y5=Gg(lg());var Q5=Gg(lg());function Hne(n,e){n&1&&(E(0,"button",24),L(1,"Save"),C())}var tA=(()=>{let e=class e{constructor(i,r){this.activeModal=i,this.fb=r,this.isCurrentUserProfile=!1,this.educationSaved=new xe,this.initializeForm()}ngOnInit(){this.education&&this.educationForm.patchValue(this.education)}initializeForm(){this.educationForm=this.fb.group({schoolName:["",xt.required],degree:["",xt.required],fieldOfStudy:["",xt.required],startDate:[""],endDate:[""],grade:[""],activities:[""],description:[""]})}onSubmit(){this.educationForm.valid&&this.activeModal.close(this.educationForm.value)}saveEducation(){this.educationForm.valid&&(this.educationSaved.emit(this.educationForm.value),this.activeModal.close())}close(){this.activeModal.dismiss()}openDatePicker(i,r){Q5.default.fire({title:`Select ${r}`,input:"date",inputLabel:`${r}`,inputPlaceholder:`Select a ${r.toLowerCase()}`,showCancelButton:!0,confirmButtonText:"Select",cancelButtonText:"Cancel",inputValidator:s=>s?void 0:`Please select a valid ${r.toLowerCase()}!`}).then(s=>{s.isConfirmed&&this.educationForm.get(i)?.setValue(s.value)})}};e.\u0275fac=function(r){return new(r||e)(U(Qs),U(tl))},e.\u0275cmp=Oe({type:e,selectors:[["app-education-modal"]],inputs:{education:"education",isCurrentUserProfile:"isCurrentUserProfile"},outputs:{educationSaved:"educationSaved"},decls:41,vars:11,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","schoolName",1,"form-label"],["type","text","id","schoolName","formControlName","schoolName",1,"form-control",3,"readonly"],["for","degree",1,"form-label"],["type","text","id","degree","formControlName","degree",1,"form-control",3,"readonly"],["for","fieldOfStudy",1,"form-label"],["type","text","id","fieldOfStudy","formControlName","fieldOfStudy",1,"form-control",3,"readonly"],["for","startDate",1,"form-label"],["type","text","id","startDate","formControlName","startDate","placeholder","Select a start date",1,"form-control",3,"click","readonly"],["for","endDate",1,"form-label"],["type","text","id","endDate","formControlName","endDate","placeholder","Select an end date",1,"form-control",3,"click","readonly"],["for","grade",1,"form-label"],["type","text","id","grade","formControlName","grade",1,"form-control",3,"readonly"],["for","activities",1,"form-label"],["type","text","id","activities","formControlName","activities",1,"form-control",3,"readonly"],["for","description",1,"form-label"],["id","description","formControlName","description",1,"form-control",3,"readonly"],["type","submit","class","btn btn-primary",4,"ngIf"],["type","submit",1,"btn","btn-primary"]],template:function(r,s){r&1&&(E(0,"div",0)(1,"h5",1),L(2),C(),E(3,"button",2),te("click",function(){return s.close()}),E(4,"span",3),L(5,"\xD7"),C()()(),E(6,"div",4)(7,"form",5),te("ngSubmit",function(){return s.onSubmit()}),E(8,"div",6)(9,"label",7),L(10,"School*"),C(),ie(11,"input",8),C(),E(12,"div",6)(13,"label",9),L(14,"Degree"),C(),ie(15,"input",10),C(),E(16,"div",6)(17,"label",11),L(18,"Field of study"),C(),ie(19,"input",12),C(),E(20,"div",6)(21,"label",13),L(22,"Start date"),C(),E(23,"input",14),te("click",function(){return s.openDatePicker("startDate","Start Date")}),C()(),E(24,"div",6)(25,"label",15),L(26,"End date (or expected)"),C(),E(27,"input",16),te("click",function(){return s.openDatePicker("endDate","End Date")}),C()(),E(28,"div",6)(29,"label",17),L(30,"Grade"),C(),ie(31,"input",18),C(),E(32,"div",6)(33,"label",19),L(34,"Activities and societies"),C(),ie(35,"input",20),C(),E(36,"div",6)(37,"label",21),L(38,"Description"),C(),ie(39,"textarea",22),C(),J(40,Hne,2,0,"button",23),C()()),r&2&&(D(2),st(" ",s.education?"Edit Education":"Add Education"," "),D(5),x("formGroup",s.educationForm),D(4),x("readonly",!s.isCurrentUserProfile),D(4),x("readonly",!s.isCurrentUserProfile),D(4),x("readonly",!s.isCurrentUserProfile),D(4),x("readonly",!s.isCurrentUserProfile),D(4),x("readonly",!s.isCurrentUserProfile),D(4),x("readonly",!s.isCurrentUserProfile),D(4),x("readonly",!s.isCurrentUserProfile),D(4),x("readonly",!s.isCurrentUserProfile),D(),x("ngIf",s.isCurrentUserProfile))},dependencies:[kt,ki,Nn,li,Pi,Bo,Uo],styles:[".close[_ngcontent-%COMP%]{position:absolute;right:10px}"]});let n=e;return n})();function Gne(n,e){if(n&1&&(E(0,"div",9),ie(1,"img",10),C()),n&2){let t=B();D(),x("src",t.previewUrl||t.imageUrl,Hn)}}function qne(n,e){if(n&1){let t=be();E(0,"div")(1,"input",11),te("change",function(r){ue(t);let s=B();return de(s.onFileSelected(r))}),C()()}}function Wne(n,e){n&1&&(E(0,"div",12),ie(1,"span",13),C())}function Kne(n,e){if(n&1){let t=be();E(0,"div",14)(1,"button",15),te("click",function(){ue(t);let r=B();return de(r.deleteImage())}),L(2," Delete "),C(),E(3,"button",16),te("click",function(){ue(t);let r=B();return de(r.uploadImage())}),L(4," Upload "),C(),E(5,"button",17),te("click",function(){ue(t);let r=B();return de(r.activeModal.dismiss())}),L(6," Cancel "),C()()}}var pw=(()=>{let e=class e{constructor(i,r,s,o){this.activeModal=i,this.storage=r,this.afAuth=s,this.firestore=o,this.onDelete=new xe,this.onImageChange=new xe,this.selectedFile=null,this.previewUrl=null,this.isLoading=!1}ngOnInit(){}onFileSelected(i){let r=i.target.files[0];if(r){this.selectedFile=r;let s=new FileReader;s.onload=o=>{this.previewUrl=o.target.result},s.readAsDataURL(r)}}uploadImage(){this.isLoading=!0,this.afAuth.authState.subscribe(i=>{if(i&&this.selectedFile){let r=`${this.isProfileImage?"profileImages":"backgroundImages"}/${i.uid}`,s=this.storage.ref(r);this.storage.upload(r,this.selectedFile).snapshotChanges().pipe(jn(()=>{s.getDownloadURL().subscribe(a=>{this.onImageChange.emit(a);let l=this.isProfileImage?{profileImageUrl:a}:{backgroundImageUrl:a};this.firestore.collection("users").doc(i.uid).update(l).then(()=>{this.isLoading=!1,this.activeModal.close()})})})).subscribe()}else this.isLoading=!1,console.error("User is not authenticated or no file selected")})}deleteImage(){this.isLoading=!0,this.afAuth.authState.subscribe(i=>{if(i){let r=this.isProfileImage?"assets/images/add-photo.png":"assets/images/background.png",s=this.isProfileImage?{profileImageUrl:r}:{backgroundImageUrl:r};this.firestore.collection("users").doc(i.uid).update(s).then(()=>{this.onImageChange.emit(r),this.isLoading=!1,this.activeModal.close()})}else this.isLoading=!1,console.error("User not authenticated")})}};e.\u0275fac=function(r){return new(r||e)(U(Qs),U(Ac),U(Zr),U(ln))},e.\u0275cmp=Oe({type:e,selectors:[["app-image-modal"]],inputs:{imageUrl:"imageUrl",isProfileImage:"isProfileImage",isCurrentUserProfile:"isCurrentUserProfile"},outputs:{onDelete:"onDelete",onImageChange:"onImageChange"},decls:12,vars:5,consts:[["loadingTemplate",""],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","text-center"],["class","image-wrapper",4,"ngIf","ngIfElse"],[4,"ngIf"],["class","modal-footer",4,"ngIf"],[1,"image-wrapper"],["alt","Image Preview",1,"img-fluid","mb-3",3,"src"],["type","file",3,"change"],["role","status",1,"spinner"],[1,"sr-only"],[1,"modal-footer"],["type","button",1,"btn","btn-danger",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(r,s){if(r&1){let o=be();E(0,"div",1)(1,"h5",2),L(2),C(),E(3,"button",3),te("click",function(){return ue(o),de(s.activeModal.dismiss())}),E(4,"span",4),L(5,"\xD7"),C()()(),E(6,"div",5),J(7,Gne,2,1,"div",6)(8,qne,2,0,"div",7)(9,Wne,2,0,"ng-template",null,0,Wr),C(),J(11,Kne,7,0,"div",8)}if(r&2){let o=zr(10);D(2),st(" ",s.isProfileImage?"Profile Image":"Background Image"," "),D(5),x("ngIf",!s.isLoading)("ngIfElse",o),D(),x("ngIf",s.isCurrentUserProfile),D(3),x("ngIf",s.isCurrentUserProfile&&!s.isLoading)}},dependencies:[kt],styles:[".modal-dialog[_ngcontent-%COMP%]{width:750px;height:900px;max-width:100%;max-height:100%}.modal-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;height:100%;max-height:300%}.modal-body[_ngcontent-%COMP%]{width:100%;height:80%;display:flex;justify-content:center;align-items:center}.modal-body[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:90%;max-height:90%;object-fit:contain;border-radius:12px;box-shadow:0 9px 22px #00000026;transition:transform .45s ease}.modal-body[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.075)}.spinner[_ngcontent-%COMP%]{display:inline-block;width:75px;height:75px;border:4.5px solid rgba(255,255,255,.3);border-radius:50%;border-top-color:#3498db;animation:_ngcontent-%COMP%_spin 1s ease-in-out infinite;margin-top:30px}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.modal-header[_ngcontent-%COMP%]{background-color:#f7f8fa;border-bottom:1.5px solid #ddd;padding:22.5px;border-radius:18px 18px 0 0;display:flex;justify-content:space-between;align-items:center}.modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{font-size:2.1rem;color:#333}.modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{font-size:2.4rem;color:#555;opacity:.7;transition:opacity .45s ease}.modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:hover{opacity:1;color:#e74c3c}.modal-footer[_ngcontent-%COMP%]{width:100%;background-color:#f7f8fa;border-top:1.5px solid #ddd;padding:15px;display:flex;justify-content:center}.modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-left:15px;padding:10px 20px;font-size:1rem;border-radius:7.5px;transition:background-color .45s,transform .3s ease}.modal-footer[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]{background-color:#e74c3c;border:none;color:#fff}.modal-footer[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]:hover{background-color:#c0392b;transform:translateY(-3px)}.modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background-color:#3498db;border:none;color:#fff}.modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background-color:#2980b9;transform:translateY(-3px)}.modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background-color:#95a5a6;border:none;color:#fff}.modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover{background-color:#7f8c8d;transform:translateY(-3px)}@media (max-width: 768px){.modal-dialog[_ngcontent-%COMP%]{width:100%;height:auto;max-height:none}.modal-content[_ngcontent-%COMP%]{height:auto;max-height:none}.modal-body[_ngcontent-%COMP%]{height:auto;padding:15px}.modal-body[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%}.modal-header[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]{padding:10px}.modal-title[_ngcontent-%COMP%]{font-size:1.8rem}.close[_ngcontent-%COMP%]{font-size:2rem}.btn[_ngcontent-%COMP%]{padding:8px 15px;font-size:.9rem}}"]});let n=e;return n})();function Qne(n,e){if(n&1){let t=be();E(0,"button",18),te("click",function(){ue(t);let r=B(2);return de(r.saveSkill())}),L(1," Save "),C()}if(n&2){let t=B(2);x("disabled",!t.skillForm.valid)}}function Zne(n,e){if(n&1){let t=be();E(0,"button",19),te("click",function(){ue(t);let r=B(2);return de(r.confirmUpdate())}),L(1," Update "),C()}if(n&2){let t=B(2);x("disabled",!t.formChanged||!t.skillForm.valid)}}function Yne(n,e){if(n&1){let t=be();E(0,"div",14),J(1,Qne,2,1,"button",15)(2,Zne,2,1,"button",16),E(3,"button",17),te("click",function(){ue(t);let r=B();return de(r.dismiss())}),L(4," Cancel "),C()()}if(n&2){let t=B();D(),x("ngIf",!t.isUpdateMode),D(),x("ngIf",t.isUpdateMode)}}var Z5=(()=>{let e=class e{constructor(i,r){this.activeModal=i,this.fb=r,this.skillSaved=new xe,this.skillUpdated=new xe,this.isUpdateMode=!1,this.formChanged=!1,this.isCurrentUserProfile=!1,this.skillForm=this.fb.group({skillName:["",xt.required],relatedField:[""],experience:["",xt.required]})}ngOnInit(){this.skill&&(this.isUpdateMode=!0,this.skillForm.patchValue(this.skill)),this.skillForm.valueChanges.subscribe(()=>{this.checkForChanges()})}checkForChanges(){this.skill&&(this.formChanged=!this.skillForm.pristine)}saveSkill(){this.skillForm.valid&&(console.log("Skill to save:",this.skillForm.value),this.skillSaved.emit(this.skillForm.value),this.activeModal.close(this.skillForm.value))}dismiss(){this.activeModal.dismiss()}confirmUpdate(){this.skillForm.valid&&confirm("Are you sure you want to update this skill?")&&(console.log("update mess"),this.skillUpdated.emit(this.skillForm.value),this.activeModal.close(this.skillForm.value))}};e.\u0275fac=function(r){return new(r||e)(U(Qs),U(tl))},e.\u0275cmp=Oe({type:e,selectors:[["app-skills-modal"]],inputs:{skill:"skill",isCurrentUserProfile:"isCurrentUserProfile"},outputs:{skillSaved:"skillSaved",skillUpdated:"skillUpdated"},decls:21,vars:6,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"formGroup"],[1,"form-group"],["for","skillName"],["id","skillName","type","text","formControlName","skillName",1,"form-control",3,"readonly"],["for","relatedField"],["id","relatedField","type","text","formControlName","relatedField",1,"form-control",3,"readonly"],["for","experience"],["id","experience","type","text","formControlName","experience",1,"form-control",3,"readonly"],["class","modal-footer",4,"ngIf"],[1,"modal-footer"],["type","button","class","btn btn-primary",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-update",3,"disabled","click",4,"ngIf"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click","disabled"],["type","button",1,"btn","btn-update",3,"click","disabled"]],template:function(r,s){r&1&&(E(0,"div",0)(1,"h5",1),L(2),C(),E(3,"button",2),te("click",function(){return s.dismiss()}),E(4,"span",3),L(5,"\xD7"),C()()(),E(6,"div",4)(7,"form",5)(8,"div",6)(9,"label",7),L(10,"Skill Name"),C(),ie(11,"input",8),C(),E(12,"div",6)(13,"label",9),L(14,"Related Field"),C(),ie(15,"input",10),C(),E(16,"div",6)(17,"label",11),L(18,"Experience"),C(),ie(19,"input",12),C()()(),J(20,Yne,5,2,"div",13)),r&2&&(D(2),ht(s.skill?"Update Skill":"Add Skill"),D(5),x("formGroup",s.skillForm),D(4),x("readonly",!s.isCurrentUserProfile),D(4),x("readonly",!s.isCurrentUserProfile),D(4),x("readonly",!s.isCurrentUserProfile),D(),x("ngIf",s.isCurrentUserProfile))},dependencies:[kt,ki,Nn,li,Pi,Bo,Uo],styles:[".close[_ngcontent-%COMP%]{position:absolute;right:10px}.btn-update[_ngcontent-%COMP%]:disabled{background-color:#6c757d;border-color:#6c757d;color:#fff}.btn-update[_ngcontent-%COMP%]{background-color:#007bff;border-color:#007bff;color:#fff}"]});let n=e;return n})();var Jne=n=>({"background-img":n}),Xne=n=>({"add-photo-img":n});function eie(n,e){if(n&1){let t=be();E(0,"input",30),te("change",function(r){ue(t);let s=B();return de(s.onBackgroundImageChange(r))}),C()}}function tie(n,e){if(n&1){let t=be();E(0,"input",30),te("change",function(r){ue(t);let s=B();return de(s.onProfileImageChange(r))}),C()}}function nie(n,e){if(n&1){let t=be();E(0,"button",31),te("click",function(){ue(t);let r=B();return de(r.startChat())}),L(1," Send Message "),C()}}function iie(n,e){if(n&1){let t=be();E(0,"button",32),te("click",function(){ue(t);let r=B();return de(r.sendConnectionRequest())}),L(1," Connect "),C()}if(n&2){let t=B();Je("data-userid",t.userId)}}function rie(n,e){if(n&1){let t=be();E(0,"button",33),te("click",function(){ue(t);let r=B();return de(r.confirmUnconnect())}),L(1," Unconnect "),C()}}function sie(n,e){if(n&1){let t=be();E(0,"span",36),te("click",function(){ue(t);let r=B(2);return de(r.toggleEditMode())}),L(1," Edit "),C()}}function oie(n,e){if(n&1){let t=be();E(0,"button",34),te("click",function(){ue(t);let r=B();return de(r.toggleEditMode())}),J(1,sie,2,0,"span",35),C()}if(n&2){let t=B();D(),x("ngIf",!t.editMode)}}function aie(n,e){if(n&1){let t=be();E(0,"button",37),te("click",function(){ue(t);let r=B();return de(r.onSubmit())}),L(1," Save "),C()}}function lie(n,e){if(n&1){let t=be();E(0,"button",37),te("click",function(){ue(t);let r=B();return de(r.toggleEditMode())}),L(1," Cancel "),C()}}function cie(n,e){if(n&1){let t=be();E(0,"button",38),te("click",function(){ue(t);let r=B();return de(r.openEducationModal())}),ie(1,"i",39),C()}}function uie(n,e){if(n&1){let t=be();E(0,"button",45),te("click",function(){ue(t);let r=B().index,s=B();return de(s.removeEducation(r))}),L(1," Remove "),C()}}function die(n,e){if(n&1){let t=be();E(0,"div",40),te("click",function(){let r=ue(t).$implicit,s=B();return de(s.openEducationModal(r))}),E(1,"div",41),ie(2,"ion-icon",42),C(),E(3,"div",43)(4,"h5"),L(5),C(),E(6,"p"),L(7),C(),J(8,uie,2,0,"button",44),C()()}if(n&2){let t=e.$implicit,i=B();D(5),ht(t.schoolName),D(2),ht(t.degree),D(),x("ngIf",i.editMode)}}function hie(n,e){if(n&1){let t=be();E(0,"button",38),te("click",function(){ue(t);let r=B();return de(r.openSkillsForm())}),ie(1,"i",39),C()}}function fie(n,e){if(n&1){let t=be();E(0,"button",45),te("click",function(){ue(t);let r=B().index,s=B();return de(s.removeSkill(r))}),L(1," Remove "),C()}}function pie(n,e){if(n&1){let t=be();E(0,"div",46),te("click",function(){let r=ue(t).$implicit,s=B();return de(s.openSkillsForm(r))}),E(1,"div",47)(2,"h5"),L(3),C(),J(4,fie,2,0,"button",44),C()()}if(n&2){let t=e.$implicit,i=B();D(3),ht(t.skillName),D(),x("ngIf",i.editMode)}}function gie(n,e){if(n&1){let t=be();E(0,"div",17)(1,"div",48)(2,"form",49),te("ngSubmit",function(){ue(t);let r=B();return de(r.onSubmit())}),E(3,"div",50)(4,"h4"),L(5,"First Name"),C(),ie(6,"input",51),C(),E(7,"div",50)(8,"h4"),L(9,"Last Name"),C(),ie(10,"input",52),C(),E(11,"div",50)(12,"h4"),L(13,"Email"),C(),ie(14,"input",53),C(),E(15,"div",50)(16,"h4"),L(17,"Address"),C(),ie(18,"input",54),C(),E(19,"div",50)(20,"h4"),L(21,"Contact"),C(),ie(22,"input",55),C(),E(23,"div",50)(24,"h4"),L(25,"Bio"),C(),ie(26,"textarea",56),C(),E(27,"button",57),L(28," Update Profile Info "),C()()()()}if(n&2){let t=B();D(2),x("formGroup",t.profileForm)}}function mie(n,e){if(n&1&&(E(0,"div",59)(1,"div",60)(2,"p"),L(3),C(),E(4,"span",61),L(5),ri(6,"date"),C()()()),n&2){let t=e.$implicit;D(3),ht(t.content),D(2),ht(Jl(6,2,t.timestamp.toDate(),"short"))}}function _ie(n,e){if(n&1&&(E(0,"div"),J(1,mie,7,5,"div",58),C()),n&2){let t=B();D(),x("ngForOf",t.userPosts)}}function yie(n,e){n&1&&(E(0,"p"),L(1,"You haven't posted yet"),C())}var gw=(()=>{let e=class e{constructor(i,r,s,o,a,l,c,d,h,m,v){this.profileService=i,this.fb=r,this.afAuth=s,this.firestore=o,this.storage=a,this.geocodingService=l,this.router=c,this.route=d,this.modalService=h,this.toastr=m,this.authService=v,this.userData={education:[],skills:[]},this.editMode=!1,this.userPosts=[],this.isCurrentUserProfile=!1,this.connectionSent=!1,this.isConnected=!1,this.profileForm=this.fb.group({profileImageUrl:[""],backgroundImageUrl:[""],firstName:["",xt.required],lastName:["",xt.required],email:[{value:"",disabled:!0},[xt.required,xt.email]],contact:[""],address:[""],education:this.fb.array([]),skills:this.fb.array([]),bio:[""]}),this.authService.getUser().subscribe(b=>{b&&(this.currentUserId=b.uid)})}ngOnInit(){this.route.params.subscribe(i=>F(this,null,function*(){if(this.userId=i.userId,!this.userId){let r=yield this.afAuth.currentUser;r&&(this.userId=r.uid,this.isCurrentUserProfile=!0)}this.userId&&(yield this.loadUserDataAndPosts(),this.checkConnection())}))}loadUserDataAndPosts(){return F(this,null,function*(){try{let i=yield this.afAuth.currentUser;i&&(this.isCurrentUserProfile=i.uid===this.userId),this.firestore.collection("users").doc(this.userId).valueChanges().subscribe(r=>{this.userData=r,(!this.userData.education||!Array.isArray(this.userData.education))&&(this.userData.education=[]),(!this.userData.skills||!Array.isArray(this.userData.skills))&&(this.userData.skills=[]),this.profileForm.patchValue(r),this.profileForm.setControl("education",this.fb.array(this.userData.education||[])),this.profileForm.setControl("skills",this.fb.array(this.userData.skills||[]))}),this.firestore.collection("posts",r=>r.where("userId","==",this.userId).orderBy("timestamp","desc")).valueChanges().subscribe(r=>{console.log("Posts:",r),this.userPosts=r})}catch(i){console.error("Error loading user data and posts:",i)}})}onSubmit(){if(this.profileForm.valid){let i=this.profileForm.value;this.geocodingService.getCoordinates(i.address).subscribe(r=>{i.position=r,this.userId?this.firestore.collection("users").doc(this.userId).update(i).then(()=>{console.log("Profile updated successfully"),this.toggleEditMode()}).catch(s=>{console.log("Error updating profile: ",s)}):this.afAuth.authState.subscribe(s=>{s&&this.firestore.collection("users").doc(s.uid).update(i).then(()=>{console.log("Profile updated successfully"),this.toggleEditMode()}).catch(o=>{console.log("Error updating profile: ",o)})})},r=>{console.error("Error getting coordinates for user address: ",r)})}}openImageModal(i,r,s){let o=this.modalService.open(pw);o.componentInstance.imageUrl=r,o.componentInstance.isProfileImage=i,this.authService.getUser().subscribe(a=>{a&&(o.componentInstance.isCurrentUserProfile=a.uid===s)})}openProfileImageModal(){let i=this.modalService.open(pw);i.componentInstance.imageUrl=this.profileForm.get("profileImageUrl")?.value||"assets/images/default-profile.png",this.userId,i.componentInstance.isProfileImage=!0,i.componentInstance.isCurrentUserProfile=!0}openBackgroundImageModal(){let i=this.modalService.open(pw);i.componentInstance.imageUrl=this.profileForm.get("backgroundImageUrl")?.value||"assets/images/default-background.png",this.userId,i.componentInstance.isProfileImage=!1,i.componentInstance.isCurrentUserProfile=!0}deleteImage(i){if(this.userId){let r=i?"profileImageUrl":"backgroundImageUrl";this.firestore.collection("users").doc(this.userId).update({[r]:null}).then(()=>{this.profileForm.patchValue({[r]:null}),console.log(`${i?"Profile":"Background"} image deleted successfully`)}).catch(s=>{console.error(`Error deleting ${i?"profile":"background"} image: `,s)})}}onProfileImageChange(i){let r=i.target.files[0];if(r){let s=`profileImages/${r.name}`,o=this.storage.ref(s);this.storage.upload(s,r).snapshotChanges().pipe(jn(()=>{o.getDownloadURL().subscribe(l=>{this.profileForm.patchValue({profileImageUrl:l})})})).subscribe()}}onBackgroundImageChange(i){let r=i.target.files[0];if(r){let s=`backgroundImages/${r.name}`,o=this.storage.ref(s);this.storage.upload(s,r).snapshotChanges().pipe(jn(()=>{o.getDownloadURL().subscribe(l=>{this.profileForm.patchValue({backgroundImageUrl:l})})})).subscribe()}}startChat(){this.userId&&this.router.navigate(["/chat",{userId:this.userId}])}sendConnectionRequest(){let i={from:this.currentUserId,to:this.userId,timestamp:new Date,status:"pending"};this.firestore.collection("connectionRequests",r=>r.where("from","==",this.currentUserId).where("to","==",this.userId).where("status","==","pending")).get().subscribe(r=>{r.empty?this.firestore.collection("connectionRequests").add(i).then(()=>{this.connectionSent=!0,this.toastr.success("Connection request sent."),this.updatePendingButtons(this.userId)}).catch(s=>{console.error("Error sending connection request: ",s),this.toastr.error("Failed to send connection request.")}):this.toastr.warning("Connection request already sent.")})}updatePendingButtons(i){document.querySelectorAll(`[data-userid="${i}"]`).forEach(s=>{let o=s;o.textContent="Pending",o.disabled=!0})}toggleEditMode(){this.editMode=!this.editMode}openEducationForm(){this.modalService.open(tA).result.then(r=>{r&&(this.userData.education.push(r),this.updateUserData())}).catch(r=>{console.error("Modal dismissed",r)})}openEducationModal(i){let r=this.modalService.open(tA);r.componentInstance.education=i,console.log("Proslije\u0111ena vrijednost isCurrentUserProfile:",this.isCurrentUserProfile),r.componentInstance.isCurrentUserProfile=this.isCurrentUserProfile,r.componentInstance.educationSaved.subscribe(s=>{if(this.userData.education||(this.userData.education=[]),i){let o=this.userData.education.indexOf(i);o!==-1&&(this.userData.education[o]=s)}else this.userData.education.push(s);this.updateUserData()})}removeEducation(i){i>-1&&(this.userData.education.splice(i,1),this.updateUserData())}openSkillsForm(i){let r=this.modalService.open(Z5);r.componentInstance.skill=i,r.componentInstance.isCurrentUserProfile=this.isCurrentUserProfile,this.isCurrentUserProfile&&r.componentInstance.skillSaved.subscribe(s=>{if(this.userData.skills||(this.userData.skills=[]),i){let o=this.userData.skills.indexOf(i);o!==-1&&(this.userData.skills[o]=s)}else this.userData.skills.push(s);this.updateUserData()})}removeSkill(i){i>-1&&(this.userData.skills.splice(i,1),this.updateUserData())}updateUserData(){this.userId&&this.firestore.collection("users").doc(this.userId).update({education:this.userData.education,skills:this.userData.skills}).then(()=>{console.log("User data updated successfully")}).catch(i=>{console.error("Error updating user data: ",i)})}checkConnection(){this.userId&&this.profileService.checkConnection(this.userId).subscribe(i=>{this.isConnected=i})}checkExistingRequests(){this.firestore.collection("connectionRequests",i=>i.where("from","==",this.currentUserId).where("to","==",this.userId)).valueChanges().subscribe(i=>{i.length>0&&i[0].status==="pending"&&(this.connectionSent=!0)})}confirmUnconnect(){Y5.default.fire({title:"Are you sure?",text:"Do you want to unconnect with this user?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, unconnect",cancelButtonText:"No, cancel"}).then(i=>{i.isConfirmed&&this.unconnectUser()})}unconnectUser(){this.profileService.unconnectUser(this.userId).subscribe(()=>{this.toastr.success("You are no longer connected."),this.isConnected=!1,this.checkConnection()},i=>{this.toastr.error("Failed to unconnect from the user.")})}};e.\u0275fac=function(r){return new(r||e)(U(dl),U(tl),U(Zr),U(ln),U(Ac),U(ul),U(Lt),U(ss),U(CM),U(Zs),U(ui))},e.\u0275cmp=Oe({type:e,selectors:[["app-profile"]],decls:55,vars:29,consts:[["noPosts",""],[1,"profile-container"],[1,"profile-photo"],[1,"background-image",3,"click"],["alt","Background Image",1,"background-img",3,"src","ngClass"],["type","file","class","file-input",3,"change",4,"ngIf"],[1,"profile-image",3,"click"],["alt","Profile Image",1,"profile-img",3,"src","ngClass"],[1,"profile-info","container","mt-4"],[1,"row","align-items-center"],[1,"col-md-9","d-flex","justify-content-between","align-items-center"],["href","#"],["class","btn btn-primary me-2",3,"click",4,"ngIf"],["class","btn btn-primary",3,"click",4,"ngIf"],["class","btn btn-outline-danger",3,"click",4,"ngIf"],["class","btn btn-secondary me-2","title","Edit",3,"click",4,"ngIf"],["class","btn btn-secondary",3,"click",4,"ngIf"],[1,"row","mt-4"],[1,"col-md-12","about"],[1,"education-section"],[1,"section-header"],["class","btn btn-light",3,"click",4,"ngIf"],[1,"education-cards"],["class","education-card",3,"click",4,"ngFor","ngForOf"],[1,"skills-section"],[1,"skills-cards"],["class","skills-card",3,"click",4,"ngFor","ngForOf"],["class","row mt-4",4,"ngIf"],["id","activity",1,"col-md-12","mt-4"],[4,"ngIf","ngIfElse"],["type","file",1,"file-input",3,"change"],[1,"btn","btn-primary","me-2",3,"click"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-outline-danger",3,"click"],["title","Edit",1,"btn","btn-secondary","me-2",3,"click"],["class","material-symbols-outlined","onmouseover","Edit",3,"click",4,"ngIf"],["onmouseover","Edit",1,"material-symbols-outlined",3,"click"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-light",3,"click"],[1,"bi","bi-pencil"],[1,"education-card",3,"click"],[1,"education-icon"],["name","school-outline"],[1,"education-info"],["class","btn btn-danger btn-sm",3,"click",4,"ngIf"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"skills-card",3,"click"],[1,"skills-info"],[1,"col-md-12"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["type","text","id","firstName","formControlName","firstName",1,"form-control"],["type","text","id","lastName","formControlName","lastName",1,"form-control"],["type","email","id","email","formControlName","email",1,"form-control"],["type","text","id","address","formControlName","address",1,"form-control"],["type","text","id","contact","formControlName","contact",1,"form-control"],["id","bio","formControlName","bio",1,"form-control"],["type","submit",1,"btn","btn-primary"],["class","post card mb-3",4,"ngFor","ngForOf"],[1,"post","card","mb-3"],[1,"card-body"],[1,"text-muted"]],template:function(r,s){if(r&1){let o=be();E(0,"div",1)(1,"div",2)(2,"div",3),te("click",function(){return ue(o),de(s.openBackgroundImageModal())}),ie(3,"img",4),J(4,eie,1,0,"input",5),C(),E(5,"div",6),te("click",function(){return ue(o),de(s.openProfileImageModal())}),ie(6,"img",7),J(7,tie,1,0,"input",5),C()(),E(8,"div",8)(9,"div",9)(10,"div",10)(11,"div")(12,"h3"),L(13),C(),E(14,"p"),L(15),C(),E(16,"p"),L(17),C(),E(18,"p")(19,"a",11),L(20),C()(),J(21,nie,2,0,"button",12)(22,iie,2,1,"button",13)(23,rie,2,0,"button",14),C(),E(24,"div"),J(25,oie,2,1,"button",15)(26,aie,2,0,"button",16)(27,lie,2,0,"button",16),C()()(),E(28,"div",17)(29,"div",18)(30,"h4"),L(31,"About"),C(),E(32,"p"),L(33),C()(),E(34,"div",19)(35,"div",20)(36,"h4"),L(37,"Education"),C(),J(38,cie,2,0,"button",21),C(),E(39,"div",22),J(40,die,9,3,"div",23),C()(),E(41,"div",24)(42,"div",20)(43,"h4"),L(44,"Skills"),C(),J(45,hie,2,0,"button",21),C(),E(46,"div",25),J(47,pie,5,2,"div",26),C()(),J(48,gie,29,1,"div",27),E(49,"div",28)(50,"h4"),L(51,"Activity"),C(),J(52,_ie,2,1,"div",29)(53,yie,2,0,"ng-template",null,0,Wr),C()()()()}if(r&2){let o,a,l,c,d=zr(54);D(3),x("src",((o=s.profileForm.get("backgroundImageUrl"))==null?null:o.value)||"assets/images/background.png",Hn)("ngClass",Gn(25,Jne,!((a=s.profileForm.get("backgroundImageUrl"))!=null&&a.value))),D(),x("ngIf",s.editMode&&s.isCurrentUserProfile),D(2),x("src",((l=s.profileForm.get("profileImageUrl"))==null?null:l.value)||"assets/images/add-photo.png",Hn)("ngClass",Gn(27,Xne,!((c=s.profileForm.get("profileImageUrl"))!=null&&c.value))),D(),x("ngIf",s.editMode&&s.isCurrentUserProfile),D(6),$r("",s.userData==null?null:s.userData.firstName," ",s.userData==null?null:s.userData.lastName,""),D(2),ht(s.userData==null||s.userData.education[0]==null?null:s.userData.education[0].degree),D(2),st(" ",(s.userData==null||s.userData.skills==null||s.userData.skills[0]==null?null:s.userData.skills[0].skillName)||"No skills added yet"," "),D(3),ht(s.userData==null?null:s.userData.address),D(),x("ngIf",!s.isCurrentUserProfile),D(),x("ngIf",!s.isCurrentUserProfile&&!s.connectionSent&&!s.isConnected),D(),x("ngIf",!s.isCurrentUserProfile&&s.isConnected),D(2),x("ngIf",!s.editMode&&s.isCurrentUserProfile),D(),x("ngIf",s.editMode),D(),x("ngIf",s.editMode),D(6),ht(s.userData==null?null:s.userData.bio),D(5),x("ngIf",s.isCurrentUserProfile),D(2),x("ngForOf",s.userData==null?null:s.userData.education),D(5),x("ngIf",s.isCurrentUserProfile),D(2),x("ngForOf",s.userData.skills),D(),x("ngIf",s.editMode&&s.isCurrentUserProfile),D(4),x("ngIf",s.userPosts.length>0)("ngIfElse",d)}},dependencies:[Oi,xs,kt,ki,Nn,li,Pi,Bo,Uo,Ju],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0;padding:0}body[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100vh}.profile-container[_ngcontent-%COMP%]{flex-grow:1;background-color:#f4f4f4;border-radius:10.5px;box-shadow:0 2.8px 8.4px #0000001a;overflow:hidden;animation:_ngcontent-%COMP%_fadeIn .56s ease-in-out;padding:20px 200px 200px}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-14px)}to{opacity:1;transform:translateY(0)}}.profile-photo[_ngcontent-%COMP%]{position:relative}.background-image[_ngcontent-%COMP%]{position:relative;width:100%;height:300px;background-color:#e5e5e5;border-radius:10px;overflow:hidden}.background-img[_ngcontent-%COMP%]{width:100%;height:50%;object-fit:cover;transition:transform .35s ease}.background-img[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.profile-image[_ngcontent-%COMP%]{position:absolute;left:12%;bottom:-50px;transform:translate(-50%);width:150px;height:150px;border:5px solid #fff;border-radius:20%;overflow:hidden;background-color:#fff;z-index:10}.profile-img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .35s ease}.profile-img[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.file-input[_ngcontent-%COMP%]{display:none}.profile-info[_ngcontent-%COMP%]{position:relative;padding:30px;margin-top:80px;text-align:left}.profile-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:22.4px;font-weight:700;color:#333}.profile-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:3.5px 0;color:#666;font-size:12.6px}.profile-info[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:0 1px;font-size:12px;margin-left:0;transition:background-color .3s ease}.profile-info[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{position:absolute;right:1.5%}.profile-info[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{font-size:18px;width:24px;height:24px;line-height:24px}.col-md-9[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.row.align-items-center[_ngcontent-%COMP%]{align-items:center}.about[_ngcontent-%COMP%]{padding:14px;background-color:#fff;border-radius:7px;box-shadow:0 1.4px 7px #0000004d;animation:_ngcontent-%COMP%_slideUp .42s ease}.about[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:16.8px;color:#333;margin-bottom:7px}.about[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:11.2px;color:#555}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(14px)}to{opacity:1;transform:translateY(0)}}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:7px}.section-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:15.4px;font-weight:700}.section-header[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:9.8px;padding:5.6px 8.4px}.education-section[_ngcontent-%COMP%], .skills-section[_ngcontent-%COMP%]{margin-top:21px;padding:14px;background-color:#fff;border-radius:7px;box-shadow:0 1.4px 7px #0000004d}.education-cards[_ngcontent-%COMP%], .skills-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(175px,1fr));gap:14px}.education-card[_ngcontent-%COMP%], .skills-card[_ngcontent-%COMP%]{background-color:#f9fafb;border-radius:5.6px;padding:10.5px;transition:background-color .21s ease,box-shadow .21s ease;cursor:pointer;box-shadow:0 1.4px 7px #0505054d}.education-card[_ngcontent-%COMP%]:hover, .skills-card[_ngcontent-%COMP%]:hover{background-color:#f1f3f5;box-shadow:0 2.8px 5.6px #00000080}.education-info[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .skills-info[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:12.6px;margin-bottom:3.5px;color:#333}.education-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .skills-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:9.8px;color:#666}.education-icon[_ngcontent-%COMP%], .skills-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10.5px}.education-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], .skills-info[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:22.4px;color:#6c757d}.skills-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:3.5px 7px;background-color:#dc3545;border:none;border-radius:2.8px;color:#fff;cursor:pointer;transition:background-color .21s ease}.skills-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#c82333}#activity[_ngcontent-%COMP%]{margin-top:21px}.post[_ngcontent-%COMP%]{padding:10.5px;background-color:#fff;border-radius:5.6px;box-shadow:0 1.4px 7px #0000000d;transition:box-shadow .21s ease}.post[_ngcontent-%COMP%]:hover{box-shadow:0 2.8px 8.4px #0000001a}.card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:11.2px;color:#333}.card-body[_ngcontent-%COMP%]   .text-muted[_ngcontent-%COMP%]{font-size:8.4px;color:#888}@media (max-width: 768px){.profile-container[_ngcontent-%COMP%]{padding:10px}.background-image[_ngcontent-%COMP%]{height:200px}.profile-image[_ngcontent-%COMP%]{bottom:-40px;left:10%;width:100px;height:100px}.profile-info[_ngcontent-%COMP%]{padding:15px;text-align:center}.profile-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px}.profile-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}.about[_ngcontent-%COMP%], .education-section[_ngcontent-%COMP%], .skills-section[_ngcontent-%COMP%]{padding:10px}.education-cards[_ngcontent-%COMP%], .skills-cards[_ngcontent-%COMP%]{grid-template-columns:1fr}.post[_ngcontent-%COMP%]{padding:10px}.profile-img[_ngcontent-%COMP%]{width:90px;height:90px}}"]});let n=e;return n})();var J5=(()=>{let e=class e{constructor(i){this.firestore=i,this.skillsSubject=new Nt([]),this.skills$=this.skillsSubject.asObservable(),this.fetchSkills()}fetchSkills(){this.firestore.collection("users").valueChanges().pipe(se(i=>{let r=new Set;return i.forEach(s=>{s.skills&&Array.isArray(s.skills)&&s.skills.forEach(o=>{typeof o=="string"?r.add(o.trim()):typeof o=="object"&&o.skillName&&r.add(o.skillName.trim())})}),Array.from(r).sort()})).subscribe(i=>{this.skillsSubject.next(i)})}getSkills(){return this.skillsSubject.value}};e.\u0275fac=function(r){return new(r||e)(G(ln))},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var wie=()=>({standalone:!0}),bie=()=>[];function Cie(n,e){n&1&&(E(0,"div",17),L(1,"Location is required."),C())}function Eie(n,e){if(n&1){let t=be();E(0,"li",20),te("click",function(){let r=ue(t).$implicit,s=B(2);return de(s.selectSkill(r))}),L(1),C()}if(n&2){let t=e.$implicit;D(),st(" ",t," ")}}function Iie(n,e){if(n&1&&(E(0,"ul",18),J(1,Eie,2,1,"li",19),ri(2,"async"),C()),n&2){let t=B();D(),x("ngForOf",qr(2,1,t.filteredSkills$)||Gr(3,bie))}}function Tie(n,e){n&1&&(E(0,"div",21)(1,"p"),L(2,"No users found matching your search criteria."),C()())}function Die(n,e){n&1&&(E(0,"span"),L(1,", "),C())}function Sie(n,e){if(n&1&&(E(0,"span"),L(1),J(2,Die,2,0,"span",32),C()),n&2){let t=e.$implicit,i=e.index,r=B().$implicit;D(),st(" ",t.skillName||t,""),D(),x("ngIf",i<r.skills.length-1)}}function Mie(n,e){if(n&1){let t=be();E(0,"button",33),te("click",function(){ue(t);let r=B().$implicit,s=B(2);return de(s.sendConnectionRequest(r))}),L(1," Connect "),C()}}function Aie(n,e){n&1&&(E(0,"button",34),L(1," Pending "),C())}function xie(n,e){if(n&1){let t=be();E(0,"button",35),te("click",function(){ue(t);let r=B().$implicit,s=B(2);return de(s.startChat(r))}),L(1," Send Message "),C()}}function Rie(n,e){if(n&1){let t=be();E(0,"li",24)(1,"h5"),L(2),C(),E(3,"p")(4,"strong"),L(5,"Skills:"),C(),J(6,Sie,3,2,"span",25),C(),E(7,"p")(8,"strong"),L(9,"Location:"),C(),L(10),C(),E(11,"div",26),J(12,Mie,2,0,"button",27)(13,Aie,2,0,"button",28)(14,xie,2,0,"button",29),E(15,"button",30),te("click",function(){let r=ue(t).$implicit,s=B(2);return de(s.viewProfile(r))}),L(16," View Profile "),C()(),E(17,"button",31),te("click",function(){let r=ue(t).$implicit,s=B(2);return de(s.focusOnMap(r))}),L(18," Show on Map "),C()()}if(n&2){let t=e.$implicit,i=e.index;Je("data-userid",t.uid)("id","user-"+i),D(2),$r("",t.firstName," ",t.lastName,""),D(4),x("ngForOf",t.skills),D(4),st(" ",t.address||"No location listed"," "),D(2),x("ngIf",!t.isConnected&&t.requestStatus!=="pending"),D(),x("ngIf",t.requestStatus==="pending"),D(),x("ngIf",t.isConnected)}}function Oie(n,e){if(n&1&&(E(0,"div",22)(1,"h4"),L(2,"Results:"),C(),E(3,"ul",18),J(4,Rie,19,9,"li",23),C()()),n&2){let t=B();D(4),x("ngForOf",t.filteredUsers)}}function Nie(n,e){if(n&1){let t=be();E(0,"map-marker",40),te("mapClick",function(){let r=ue(t),s=r.$implicit,o=r.index,a=B(2);return de(a.onMapMarkerClick(s,o))}),C()}if(n&2){let t=e.$implicit;x("position",t.position)("title",t.firstName+" "+t.lastName)}}function Pie(n,e){if(n&1&&(E(0,"div",36)(1,"p")(2,"small"),L(3,"*Press the marker!"),C()(),E(4,"google-map",37),J(5,Nie,1,2,"map-marker",38),ie(6,"map-circle",39),C()()),n&2){let t=B();D(4),x("center",t.center)("zoom",t.zoom),D(),x("ngForOf",t.filteredUsers),D(),x("center",t.center)("radius",t.radius*1e3)("options",t.circleOptions)}}var nA=(()=>{let e=class e{constructor(i,r,s,o,a,l,c){this.geocodingService=i,this.firestore=r,this.authService=s,this.skillsService=o,this.notificationService=a,this.profileService=l,this.router=c,this.location="",this.radius=5,this.skill="",this.users=[],this.filteredUsers=[],this.center={lat:0,lng:0},this.zoom=12,this.showMap=!1,this.searchAttempted=!1,this.locationError=!1,this.skillControl=new xc(""),this.filteredSkills$=le([]),this.isDropdownVisible=!1,this.circleOptions={fillColor:"lightblue",fillOpacity:.4,strokeColor:"blue",strokeOpacity:.8,strokeWeight:1}}ngOnInit(){this.authService.getCurrentUserDetails().then(i=>{this.currentUser=i}),this.firestore.collection("users").valueChanges().subscribe(i=>{this.users=i,this.checkConnectionStatus()}),this.filteredSkills$=this.skillControl.valueChanges.pipe(Nr(""),se(i=>this.filterSkills(i??"")))}sendConnectionRequest(i){let r={from:this.currentUser.uid,to:i.uid,timestamp:new Date,status:"pending"};this.firestore.collection("connectionRequests").add(r).then(()=>{i.requestStatus="pending",this.notificationService.showSuccess("Connection request sent."),this.checkConnectionStatus()}).catch(s=>{this.notificationService.showError("Failed to send connection request."),console.error("Error sending connection request:",s)})}checkConnectionStatus(){this.filteredUsers.forEach(i=>{this.profileService.checkConnection(i.uid).subscribe(r=>{i.isConnected=r,r?i.requestStatus="accepted":this.firestore.collection("connectionRequests",s=>s.where("from","==",this.currentUser.uid).where("to","==",i.uid).where("status","==","pending")).valueChanges().subscribe(s=>{i.requestStatus=s.length>0?"pending":null})})})}viewProfile(i){this.router.navigate(["/profile",i.uid])}startChat(i){i.isConnected&&this.router.navigate(["/chat",{userId:i.uid}])}searchUsers(){this.searchAttempted=!0;let i=this.skillControl.value??"";if(!this.location){this.locationError=!0;return}this.locationError=!1,this.geocodingService.getCoordinates(this.location).subscribe(r=>{console.log("Coordinates:",r),this.center=r,this.filteredUsers=[],this.users.forEach(s=>{if(!s.position||!s.position.lat||!s.position.lng){console.warn(`User ${s.firstName||"Unnamed User"} does not have valid position data.`);return}let o=this.calculateDistance(this.center,s.position),l=(Array.isArray(s.skills)?s.skills:[]).some(c=>{let d=typeof c=="string"?c:c.skillName;return d&&d.toLowerCase().includes(i.toLowerCase())});if(s.uid===this.currentUser.uid){console.log("Skipping current user from search results");return}o<=this.radius&&l&&this.geocodingService.getReverseGeocode(s.position.lat,s.position.lng).subscribe(c=>{s.address=c.formatted_address,s.city=c.locality||c.administrative_area_level_2||"",this.filteredUsers.push(s),this.showMap=this.filteredUsers.length>0,console.log("Filtered users:",this.filteredUsers),this.checkConnectionStatus()},c=>{console.error("Error getting address from coordinates:",c)})})},r=>{console.error("Error getting location coordinates",r),this.showMap=!1})}selectSkill(i){this.skillControl.setValue(i),this.filteredSkills$=le([]),this.isDropdownVisible=!1}filterSkills(i){let r=i.toLowerCase();return this.skillsService.getSkills().filter(s=>s.toLowerCase().includes(r))}onSkillInput(i){let s=i.target?.value??"";this.filteredSkills$=le(this.filterSkills(s))}showDropdown(){this.isDropdownVisible=!0}hideDropdown(i){let r=i.relatedTarget;r&&r.closest(".list-group")||setTimeout(()=>{this.isDropdownVisible=!1},200)}focusOnMap(i){this.center={lat:i.position.lat,lng:i.position.lng},this.zoom=15;let r=document.querySelector("google-map");r&&(r.classList.add("map-zoom-animation"),setTimeout(()=>r.classList.remove("map-zoom-animation"),1e3))}calculateDistance(i,r){let o=this.deg2rad(r.lat-i.lat),a=this.deg2rad(r.lng-i.lng),l=Math.sin(o/2)*Math.sin(o/2)+Math.cos(this.deg2rad(i.lat))*Math.cos(this.deg2rad(r.lat))*Math.sin(a/2)*Math.sin(a/2);return 6371*(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)))}onMapMarkerClick(i,r){let s=document.getElementById(`user-${r}`);s&&(s.scrollIntoView({behavior:"smooth"}),s.classList.add("blink"),setTimeout(()=>s.classList.remove("blink"),3e3))}deg2rad(i){return i*(Math.PI/180)}resetForm(){this.location="",this.radius=5,this.skillControl.setValue(""),this.filteredUsers=[],this.showMap=!1}};e.\u0275fac=function(r){return new(r||e)(U(ul),U(ln),U(ui),U(J5),U(wh),U(dl),U(Lt))},e.\u0275cmp=Oe({type:e,selectors:[["app-search"]],decls:26,vars:13,consts:[[1,"container","mt-4"],[3,"ngSubmit"],[1,"mb-3"],[1,"btn","btn-warning","btn-sm","float-end","mb-2",3,"click"],["for","location",1,"form-label"],["type","text","id","location","name","location","placeholder","Enter your location (e.g., Zadar)",1,"form-control",3,"ngModelChange","ngModel"],["class","text-danger",4,"ngIf"],["for","radius",1,"form-label"],["type","number","id","radius","name","radius","placeholder","Enter search radius in kilometers",1,"form-control",3,"ngModelChange","ngModel"],[1,"mb-3",3,"focusout"],["for","skill",1,"form-label"],["type","text","id","skill","name","skill","placeholder","Enter skill (e.g., Web Developer)",1,"form-control",3,"ngModelChange","input","focus","ngModel","ngModelOptions"],["class","list-group",4,"ngIf"],["type","submit",1,"btn","btn-primary"],["class","no-results",4,"ngIf"],["class","mt-4",4,"ngIf"],["class","mt-4 google-map",4,"ngIf"],[1,"text-danger"],[1,"list-group"],["class","list-group-item list-group-item-action",3,"click",4,"ngFor","ngForOf"],[1,"list-group-item","list-group-item-action",3,"click"],[1,"no-results"],[1,"mt-4"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],[4,"ngFor","ngForOf"],[1,"actions"],["class","btn btn-outline-primary me-2",3,"click",4,"ngIf"],["class","btn btn-outline-secondary me-2","disabled","",4,"ngIf"],["class","btn btn-success me-2",3,"click",4,"ngIf"],[1,"btn","btn-outline-success",3,"click"],[1,"btn","btn-info","btn-small","ms-auto",3,"click"],[4,"ngIf"],[1,"btn","btn-outline-primary","me-2",3,"click"],["disabled","",1,"btn","btn-outline-secondary","me-2"],[1,"btn","btn-success","me-2",3,"click"],[1,"mt-4","google-map"],["height","500px","width","100%",3,"center","zoom"],[3,"position","title","mapClick",4,"ngFor","ngForOf"],[3,"center","radius","options"],[3,"mapClick","position","title"]],template:function(r,s){if(r&1&&(E(0,"div",0)(1,"h3"),L(2,"Search for Users"),C(),E(3,"form",1),te("ngSubmit",function(){return s.searchUsers()}),E(4,"div",2)(5,"button",3),te("click",function(){return s.resetForm()}),L(6," Reset Form "),C(),E(7,"label",4),L(8,"Location"),C(),E(9,"input",5),gr("ngModelChange",function(a){return Hr(s.location,a)||(s.location=a),a}),C(),J(10,Cie,2,0,"div",6),C(),E(11,"div",2)(12,"label",7),L(13,"Radius (km)"),C(),E(14,"input",8),gr("ngModelChange",function(a){return Hr(s.radius,a)||(s.radius=a),a}),C()(),E(15,"div",9),te("focusout",function(a){return s.hideDropdown(a)}),E(16,"label",10),L(17,"Skill"),C(),E(18,"input",11),gr("ngModelChange",function(a){return Hr(s.skillControl.value,a)||(s.skillControl.value=a),a}),te("input",function(a){return s.onSkillInput(a)})("focus",function(){return s.showDropdown()}),C(),J(19,Iie,3,4,"ul",12),ri(20,"async"),C(),E(21,"button",13),L(22,"Search"),C()(),J(23,Tie,3,0,"div",14)(24,Oie,5,1,"div",15)(25,Pie,7,6,"div",16),C()),r&2){let o;D(9),pr("ngModel",s.location),D(),x("ngIf",s.locationError),D(4),pr("ngModel",s.radius),D(4),pr("ngModel",s.skillControl.value),x("ngModelOptions",Gr(12,wie)),Je("autocomplete","off"),D(),x("ngIf",s.isDropdownVisible&&((o=qr(20,10,s.filteredSkills$))==null?null:o.length)),D(4),x("ngIf",s.filteredUsers.length===0&&s.searchAttempted),D(),x("ngIf",s.filteredUsers.length>0),D(),x("ngIf",s.showMap)}},dependencies:[xs,kt,ki,Nn,nS,li,Pi,Vo,Oc,gv,ZV,YV,Ia],styles:[".container[_ngcontent-%COMP%]{font-family:Arial,sans-serif;background:#f9f9f9;border-radius:10px;padding:100px;box-shadow:0 0 15px #0000001a;animation:_ngcontent-%COMP%_fadeIn 1s ease-in-out}.form-control[_ngcontent-%COMP%]{border-radius:20px;padding:10px;margin-bottom:10px;border:1px solid #0077b5;transition:border-color .3s ease-in-out}.form-control[_ngcontent-%COMP%]:focus{border-color:#005582;box-shadow:0 0 10px #0077b533}.btn-primary[_ngcontent-%COMP%]{background-color:#0077b5;border-radius:25px;border:none;padding:10px 20px;font-weight:700;transition:background-color .3s ease-in-out}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#005582;transform:scale(1.05)}.list-group-item[_ngcontent-%COMP%]{background:#fff;border-radius:10px;margin-bottom:10px;box-shadow:0 0 10px #0000000d;padding:20px;transition:transform .3s ease,box-shadow .3s ease}.list-group-item[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 5px 20px #0000001a}.list-group-item[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:#333}.list-group-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;color:#555}.list-group-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#0077b5}.google-map[_ngcontent-%COMP%]{border-radius:10px;overflow:hidden;box-shadow:0 0 15px #0000001a}.actions[_ngcontent-%COMP%]{position:absolute;right:10px;top:50%;transform:translateY(-50%);display:flex;gap:10px}.connect-btn[_ngcontent-%COMP%], .follow-btn[_ngcontent-%COMP%]{padding:8px 12px;border:none;border-radius:5px;cursor:pointer;font-size:14px;font-weight:700;transition:background-color .3s}.connect-btn[_ngcontent-%COMP%]{background-color:#007bff;color:#fff}.connect-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}.follow-btn[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.follow-btn[_ngcontent-%COMP%]:hover{background-color:#218838}.btn-small[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:flex-start;gap:10px;font-size:10px;padding:2px 4px;height:auto}.actions[_ngcontent-%COMP%]   .btn-info[_ngcontent-%COMP%]{margin-left:auto;margin-top:5px}.list-group-item-action[_ngcontent-%COMP%]{font-size:14px;padding:8px 12px}.list-group[_ngcontent-%COMP%]{max-height:150px;overflow-y:auto;border:1px solid #ccc;border-radius:4px;background-color:#fff}.list-group-item-action[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}.list-group[_ngcontent-%COMP%]::-webkit-scrollbar{width:16px}.list-group[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#0077b5;border-radius:10px}.list-group[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#f1f1f1}.map-zoom-animation[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_zoomAnimation .5s ease-in-out}@keyframes _ngcontent-%COMP%_zoomAnimation{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}.blink[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_blinkEffect 1s ease-in-out 3}@keyframes _ngcontent-%COMP%_blinkEffect{0%{background-color:#fff}50%{background-color:#ffeeba}to{background-color:#fff}}.no-results[_ngcontent-%COMP%]{text-align:center;color:red;font-weight:700;margin-top:20px;animation:_ngcontent-%COMP%_fadeIn .5s ease-in-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.text-danger[_ngcontent-%COMP%]{color:red;font-weight:700;margin-top:5px}@media (max-width: 768px){.container[_ngcontent-%COMP%]{padding:20px}.form-control[_ngcontent-%COMP%]{font-size:14px;padding:8px}.btn-primary[_ngcontent-%COMP%]{padding:8px 16px;font-size:14px}.list-group-item[_ngcontent-%COMP%]{padding:10px}.google-map[_ngcontent-%COMP%]{height:200px}.actions[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.connect-btn[_ngcontent-%COMP%], .follow-btn[_ngcontent-%COMP%]{font-size:12px;padding:6px 10px}}"]});let n=e;return n})();var X5=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"home",component:eA,canActivate:[bh]},{path:"profile",component:gw,canActivate:[bh]},{path:"search",component:nA,canActivate:[bh]},{path:"login",component:YM},{path:"register",component:YM},{path:"chat",component:K5,canActivate:[bh]},{path:"profile/:userId",component:gw,canActivate:[bh]},{path:"home",component:eA},{path:"profile",component:gw},{path:"search",component:nA}];var eU=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e,bootstrap:[q5]}),e.\u0275inj=ve({providers:[ul,dl,Js,vh],imports:[y_,bP,bB.forRoot(X5),GV,qV,NP.initializeApp(ag.firebaseConfig),fV,ML,JV,GP,Rs,HB,A3,KB.forRoot({positionClass:"toast-top-right",timeOut:4e3,progressBar:!0,closeButton:!0,preventDuplicates:!0,newestOnTop:!0,tapToDismiss:!0}),d5,n5,lw]});let n=e;return n})();ag.production&&void 0;MP().bootstrapModule(eU).catch(n=>console.error(n));
