import{A as ps,B as hu,C as pA,D as Ui,E as io,F as Zg,G as gA,H as fu,I as mA,J as Un,K as wt,a as Q,b as Ee,c as Bh,d as GU,e as qg,f as kw,g as F,h as aA,i as Wg,j as lA,k as cA,l as uA,m as Pw,n as Kg,o as Uh,p as dA,q as Fw,r as uu,s as hA,t as fA,u as ia,v as du,w as jh,x as Qg,y as tt,z as Bn}from"./chunk-I7R3E4IA.js";var ng=GU((Ys,zM)=>{"use strict";(function(n,e){typeof Ys=="object"&&typeof zM<"u"?zM.exports=e():typeof define=="function"&&define.amd?define(e):(n=typeof globalThis<"u"?globalThis:n||self,n.Sweetalert2=e())})(Ys,function(){"use strict";function n(h,p,_){if(typeof h=="function"?h===p:h.has(p))return arguments.length<3?p:_;throw new TypeError("Private element is not present on this object")}function e(h,p){if(p.has(h))throw new TypeError("Cannot initialize the same private elements twice on an object")}function t(h,p){return h.get(n(h,p))}function i(h,p,_){e(h,p),p.set(h,_)}function r(h,p,_){return h.set(n(h,p),_),_}let s=100,o={},a=()=>{o.previousActiveElement instanceof HTMLElement?(o.previousActiveElement.focus(),o.previousActiveElement=null):document.body&&document.body.focus()},l=h=>new Promise(p=>{if(!h)return p();let _=window.scrollX,I=window.scrollY;o.restoreFocusTimeout=setTimeout(()=>{a(),p()},s),window.scrollTo(_,I)}),c="swal2-",f=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"].reduce((h,p)=>(h[p]=c+p,h),{}),v=["success","warning","info","question","error"].reduce((h,p)=>(h[p]=c+p,h),{}),C="SweetAlert2:",A=h=>h.charAt(0).toUpperCase()+h.slice(1),S=h=>{console.warn(`${C} ${typeof h=="object"?h.join(" "):h}`)},j=h=>{console.error(`${C} ${h}`)},Z=[],W=h=>{Z.includes(h)||(Z.push(h),S(h))},Y=function(h){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;W(`"${h}" is deprecated and will be removed in the next major release.${p?` Use "${p}" instead.`:""}`)},ge=h=>typeof h=="function"?h():h,ae=h=>h&&typeof h.toPromise=="function",x=h=>ae(h)?h.toPromise():Promise.resolve(h),D=h=>h&&Promise.resolve(h)===h,M=()=>document.body.querySelector(`.${f.container}`),k=h=>{let p=M();return p?p.querySelector(h):null},P=h=>k(`.${h}`),N=()=>P(f.popup),R=()=>P(f.icon),Ei=()=>P(f["icon-content"]),Ir=()=>P(f.title),ye=()=>P(f["html-container"]),be=()=>P(f.image),Ie=()=>P(f["progress-steps"]),ze=()=>P(f["validation-message"]),ft=()=>k(`.${f.actions} .${f.confirm}`),vn=()=>k(`.${f.actions} .${f.cancel}`),_t=()=>k(`.${f.actions} .${f.deny}`),It=()=>P(f["input-label"]),pt=()=>k(`.${f.loader}`),Ii=()=>P(f.actions),Gc=()=>P(f.footer),Dt=()=>P(f["timer-progress-bar"]),Li=()=>P(f.close),Zn=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Vi=()=>{let h=N();if(!h)return[];let p=h.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),_=Array.from(p).sort((me,Ke)=>{let rt=parseInt(me.getAttribute("tabindex")||"0"),Ht=parseInt(Ke.getAttribute("tabindex")||"0");return rt>Ht?1:rt<Ht?-1:0}),I=h.querySelectorAll(Zn),z=Array.from(I).filter(me=>me.getAttribute("tabindex")!=="-1");return[...new Set(_.concat(z))].filter(me=>Vn(me))},nr=()=>Bi(document.body,f.shown)&&!Bi(document.body,f["toast-shown"])&&!Bi(document.body,f["no-backdrop"]),Ho=()=>{let h=N();return h?Bi(h,f.toast):!1},vh=()=>{let h=N();return h?h.hasAttribute("data-loading"):!1},Ln=(h,p)=>{if(h.textContent="",p){let I=new DOMParser().parseFromString(p,"text/html"),z=I.querySelector("head");z&&Array.from(z.childNodes).forEach(Ke=>{h.appendChild(Ke)});let me=I.querySelector("body");me&&Array.from(me.childNodes).forEach(Ke=>{Ke instanceof HTMLVideoElement||Ke instanceof HTMLAudioElement?h.appendChild(Ke.cloneNode(!0)):h.appendChild(Ke)})}},Bi=(h,p)=>{if(!p)return!1;let _=p.split(/\s+/);for(let I=0;I<_.length;I++)if(!h.classList.contains(_[I]))return!1;return!0},ig=(h,p)=>{Array.from(h.classList).forEach(_=>{!Object.values(f).includes(_)&&!Object.values(v).includes(_)&&!Object.values(p.showClass||{}).includes(_)&&h.classList.remove(_)})},Yn=(h,p,_)=>{if(ig(h,p),!p.customClass)return;let I=p.customClass[_];if(I){if(typeof I!="string"&&!I.forEach){S(`Invalid type of customClass.${_}! Expected string or iterable object, got "${typeof I}"`);return}Je(h,I)}},qc=(h,p)=>{if(!p)return null;switch(p){case"select":case"textarea":case"file":return h.querySelector(`.${f.popup} > .${f[p]}`);case"checkbox":return h.querySelector(`.${f.popup} > .${f.checkbox} input`);case"radio":return h.querySelector(`.${f.popup} > .${f.radio} input:checked`)||h.querySelector(`.${f.popup} > .${f.radio} input:first-child`);case"range":return h.querySelector(`.${f.popup} > .${f.range} input`);default:return h.querySelector(`.${f.popup} > .${f.input}`)}},wh=h=>{if(h.focus(),h.type!=="file"){let p=h.value;h.value="",h.value=p}},bh=(h,p,_)=>{!h||!p||(typeof p=="string"&&(p=p.split(/\s+/).filter(Boolean)),p.forEach(I=>{Array.isArray(h)?h.forEach(z=>{_?z.classList.add(I):z.classList.remove(I)}):_?h.classList.add(I):h.classList.remove(I)}))},Je=(h,p)=>{bh(h,p,!0)},ui=(h,p)=>{bh(h,p,!1)},as=(h,p)=>{let _=Array.from(h.children);for(let I=0;I<_.length;I++){let z=_[I];if(z instanceof HTMLElement&&Bi(z,p))return z}},Dr=(h,p,_)=>{_===`${parseInt(_)}`&&(_=parseInt(_)),_||parseInt(_)===0?h.style.setProperty(p,typeof _=="number"?`${_}px`:_):h.style.removeProperty(p)},Zt=function(h){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";h&&(h.style.display=p)},cn=h=>{h&&(h.style.display="none")},un=function(h){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";h&&new MutationObserver(()=>{ls(h,h.innerHTML,p)}).observe(h,{childList:!0,subtree:!0})},Sn=(h,p,_,I)=>{let z=h.querySelector(p);z&&z.style.setProperty(_,I)},ls=function(h,p){let _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";p?Zt(h,_):cn(h)},Vn=h=>!!(h&&(h.offsetWidth||h.offsetHeight||h.getClientRects().length)),rg=()=>!Vn(ft())&&!Vn(_t())&&!Vn(vn()),sg=h=>h.scrollHeight>h.clientHeight,Go=h=>{let p=window.getComputedStyle(h),_=parseFloat(p.getPropertyValue("animation-duration")||"0"),I=parseFloat(p.getPropertyValue("transition-duration")||"0");return _>0||I>0},Wc=function(h){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,_=Dt();_&&Vn(_)&&(p&&(_.style.transition="none",_.style.width="100%"),setTimeout(()=>{_.style.transition=`width ${h/1e3}s linear`,_.style.width="0%"},10))},og=()=>{let h=Dt();if(!h)return;let p=parseInt(window.getComputedStyle(h).width);h.style.removeProperty("transition"),h.style.width="100%";let _=parseInt(window.getComputedStyle(h).width),I=p/_*100;h.style.width=`${I}%`},Ch=()=>typeof window>"u"||typeof document>"u",gw=`
 <div aria-labelledby="${f.title}" aria-describedby="${f["html-container"]}" class="${f.popup}" tabindex="-1">
   <button type="button" class="${f.close}"></button>
   <ul class="${f["progress-steps"]}"></ul>
   <div class="${f.icon}"></div>
   <img class="${f.image}" />
   <h2 class="${f.title}" id="${f.title}"></h2>
   <div class="${f["html-container"]}" id="${f["html-container"]}"></div>
   <input class="${f.input}" id="${f.input}" />
   <input type="file" class="${f.file}" />
   <div class="${f.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${f.select}" id="${f.select}"></select>
   <div class="${f.radio}"></div>
   <label class="${f.checkbox}">
     <input type="checkbox" id="${f.checkbox}" />
     <span class="${f.label}"></span>
   </label>
   <textarea class="${f.textarea}" id="${f.textarea}"></textarea>
   <div class="${f["validation-message"]}" id="${f["validation-message"]}"></div>
   <div class="${f.actions}">
     <div class="${f.loader}"></div>
     <button type="button" class="${f.confirm}"></button>
     <button type="button" class="${f.deny}"></button>
     <button type="button" class="${f.cancel}"></button>
   </div>
   <div class="${f.footer}"></div>
   <div class="${f["timer-progress-bar-container"]}">
     <div class="${f["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),mw=()=>{let h=M();return h?(h.remove(),ui([document.documentElement,document.body],[f["no-backdrop"],f["toast-shown"],f["has-column"]]),!0):!1},Tr=()=>{o.currentInstance.resetValidationMessage()},ag=()=>{let h=N(),p=as(h,f.input),_=as(h,f.file),I=h.querySelector(`.${f.range} input`),z=h.querySelector(`.${f.range} output`),me=as(h,f.select),Ke=h.querySelector(`.${f.checkbox} input`),rt=as(h,f.textarea);p.oninput=Tr,_.onchange=Tr,me.onchange=Tr,Ke.onchange=Tr,rt.oninput=Tr,I.oninput=()=>{Tr(),z.value=I.value},I.onchange=()=>{Tr(),z.value=I.value}},lg=h=>typeof h=="string"?document.querySelector(h):h,dl=h=>{let p=N();p.setAttribute("role",h.toast?"alert":"dialog"),p.setAttribute("aria-live",h.toast?"polite":"assertive"),h.toast||p.setAttribute("aria-modal","true")},Eh=h=>{window.getComputedStyle(h).direction==="rtl"&&Je(M(),f.rtl)},Ih=h=>{let p=mw();if(Ch()){j("SweetAlert2 requires document to initialize");return}let _=document.createElement("div");_.className=f.container,p&&Je(_,f["no-transition"]),Ln(_,gw);let I=lg(h.target);I.appendChild(_),dl(h),Eh(I),ag()},Sr=(h,p)=>{h instanceof HTMLElement?p.appendChild(h):typeof h=="object"?cg(h,p):h&&Ln(p,h)},cg=(h,p)=>{h.jquery?Kc(p,h):Ln(p,h.toString())},Kc=(h,p)=>{if(h.textContent="",0 in p)for(let _=0;_ in p;_++)h.appendChild(p[_].cloneNode(!0));else h.appendChild(p.cloneNode(!0))},ug=(h,p)=>{let _=Ii(),I=pt();!_||!I||(!p.showConfirmButton&&!p.showDenyButton&&!p.showCancelButton?cn(_):Zt(_),Yn(_,p,"actions"),hl(_,I,p),Ln(I,p.loaderHtml||""),Yn(I,p,"loader"))};function hl(h,p,_){let I=ft(),z=_t(),me=vn();!I||!z||!me||(wn(I,"confirm",_),wn(z,"deny",_),wn(me,"cancel",_),dg(I,z,me,_),_.reverseButtons&&(_.toast?(h.insertBefore(me,I),h.insertBefore(z,I)):(h.insertBefore(me,p),h.insertBefore(z,p),h.insertBefore(I,p))))}function dg(h,p,_,I){if(!I.buttonsStyling){ui([h,p,_],f.styled);return}Je([h,p,_],f.styled),I.confirmButtonColor&&(h.style.backgroundColor=I.confirmButtonColor,Je(h,f["default-outline"])),I.denyButtonColor&&(p.style.backgroundColor=I.denyButtonColor,Je(p,f["default-outline"])),I.cancelButtonColor&&(_.style.backgroundColor=I.cancelButtonColor,Je(_,f["default-outline"]))}function wn(h,p,_){let I=A(p);ls(h,_[`show${I}Button`],"inline-block"),Ln(h,_[`${p}ButtonText`]||""),h.setAttribute("aria-label",_[`${p}ButtonAriaLabel`]||""),h.className=f[p],Yn(h,_,`${p}Button`)}let hg=(h,p)=>{let _=Li();_&&(Ln(_,p.closeButtonHtml||""),Yn(_,p,"closeButton"),ls(_,p.showCloseButton),_.setAttribute("aria-label",p.closeButtonAriaLabel||""))},fl=(h,p)=>{let _=M();_&&(pl(_,p.backdrop),yw(_,p.position),_w(_,p.grow),Yn(_,p,"container"))};function pl(h,p){typeof p=="string"?h.style.background=p:p||Je([document.documentElement,document.body],f["no-backdrop"])}function yw(h,p){p&&(p in f?Je(h,f[p]):(S('The "position" parameter is not valid, defaulting to "center"'),Je(h,f.center)))}function _w(h,p){p&&Je(h,f[`grow-${p}`])}var ut={innerParams:new WeakMap,domCache:new WeakMap};let vw=["input","file","range","select","radio","checkbox","textarea"],ww=(h,p)=>{let _=N();if(!_)return;let I=ut.innerParams.get(h),z=!I||p.input!==I.input;vw.forEach(me=>{let Ke=as(_,f[me]);Ke&&(Dh(me,p.inputAttributes),Ke.className=f[me],z&&cn(Ke))}),p.input&&(z&&Qc(p),Zc(p))},Qc=h=>{if(!h.input)return;if(!Nt[h.input]){j(`Unexpected type of input! Expected ${Object.keys(Nt).join(" | ")}, got "${h.input}"`);return}let p=Th(h.input);if(!p)return;let _=Nt[h.input](p,h);Zt(p),h.inputAutoFocus&&setTimeout(()=>{wh(_)})},fg=h=>{for(let p=0;p<h.attributes.length;p++){let _=h.attributes[p].name;["id","type","value","style"].includes(_)||h.removeAttribute(_)}},Dh=(h,p)=>{let _=N();if(!_)return;let I=qc(_,h);if(I){fg(I);for(let z in p)I.setAttribute(z,p[z])}},Zc=h=>{if(!h.input)return;let p=Th(h.input);p&&Yn(p,h,"input")},ir=(h,p)=>{!h.placeholder&&p.inputPlaceholder&&(h.placeholder=p.inputPlaceholder)},qo=(h,p,_)=>{if(_.inputLabel){let I=document.createElement("label"),z=f["input-label"];I.setAttribute("for",h.id),I.className=z,typeof _.customClass=="object"&&Je(I,_.customClass.inputLabel),I.innerText=_.inputLabel,p.insertAdjacentElement("beforebegin",I)}},Th=h=>{let p=N();if(p)return as(p,f[h]||f.input)},Wo=(h,p)=>{["string","number"].includes(typeof p)?h.value=`${p}`:D(p)||S(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof p}"`)},Nt={};Nt.text=Nt.email=Nt.password=Nt.number=Nt.tel=Nt.url=Nt.search=Nt.date=Nt["datetime-local"]=Nt.time=Nt.week=Nt.month=(h,p)=>(Wo(h,p.inputValue),qo(h,h,p),ir(h,p),h.type=p.input,h),Nt.file=(h,p)=>(qo(h,h,p),ir(h,p),h),Nt.range=(h,p)=>{let _=h.querySelector("input"),I=h.querySelector("output");return Wo(_,p.inputValue),_.type=p.input,Wo(I,p.inputValue),qo(_,h,p),h},Nt.select=(h,p)=>{if(h.textContent="",p.inputPlaceholder){let _=document.createElement("option");Ln(_,p.inputPlaceholder),_.value="",_.disabled=!0,_.selected=!0,h.appendChild(_)}return qo(h,h,p),h},Nt.radio=h=>(h.textContent="",h),Nt.checkbox=(h,p)=>{let _=qc(N(),"checkbox");_.value="1",_.checked=!!p.inputValue;let I=h.querySelector("span");return Ln(I,p.inputPlaceholder||p.inputLabel),_},Nt.textarea=(h,p)=>{Wo(h,p.inputValue),ir(h,p),qo(h,h,p);let _=I=>parseInt(window.getComputedStyle(I).marginLeft)+parseInt(window.getComputedStyle(I).marginRight);return setTimeout(()=>{if("MutationObserver"in window){let I=parseInt(window.getComputedStyle(N()).width),z=()=>{if(!document.body.contains(h))return;let me=h.offsetWidth+_(h);me>I?N().style.width=`${me}px`:Dr(N(),"width",p.width)};new MutationObserver(z).observe(h,{attributes:!0,attributeFilter:["style"]})}}),h};let pg=(h,p)=>{let _=ye();_&&(un(_),Yn(_,p,"htmlContainer"),p.html?(Sr(p.html,_),Zt(_,"block")):p.text?(_.textContent=p.text,Zt(_,"block")):cn(_),ww(h,p))},gg=(h,p)=>{let _=Gc();_&&(un(_),ls(_,p.footer,"block"),p.footer&&Sr(p.footer,_),Yn(_,p,"footer"))},bw=(h,p)=>{let _=ut.innerParams.get(h),I=R();if(I){if(_&&p.icon===_.icon){cs(I,p),gl(I,p);return}if(!p.icon&&!p.iconHtml){cn(I);return}if(p.icon&&Object.keys(v).indexOf(p.icon)===-1){j(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${p.icon}"`),cn(I);return}Zt(I),cs(I,p),gl(I,p),Je(I,p.showClass&&p.showClass.icon)}},gl=(h,p)=>{for(let[_,I]of Object.entries(v))p.icon!==_&&ui(h,I);Je(h,p.icon&&v[p.icon]),Mh(h,p),mg(),Yn(h,p,"icon")},mg=()=>{let h=N();if(!h)return;let p=window.getComputedStyle(h).getPropertyValue("background-color"),_=h.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let I=0;I<_.length;I++)_[I].style.backgroundColor=p},Sh=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,ml=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,cs=(h,p)=>{if(!p.icon&&!p.iconHtml)return;let _=h.innerHTML,I="";p.iconHtml?I=yg(p.iconHtml):p.icon==="success"?(I=Sh,_=_.replace(/ style=".*?"/g,"")):p.icon==="error"?I=ml:p.icon&&(I=yg({question:"?",warning:"!",info:"i"}[p.icon])),_.trim()!==I.trim()&&Ln(h,I)},Mh=(h,p)=>{if(p.iconColor){h.style.color=p.iconColor,h.style.borderColor=p.iconColor;for(let _ of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Sn(h,_,"background-color",p.iconColor);Sn(h,".swal2-success-ring","border-color",p.iconColor)}},yg=h=>`<div class="${f["icon-content"]}">${h}</div>`,_g=(h,p)=>{let _=be();if(_){if(!p.imageUrl){cn(_);return}Zt(_,""),_.setAttribute("src",p.imageUrl),_.setAttribute("alt",p.imageAlt||""),Dr(_,"width",p.imageWidth),Dr(_,"height",p.imageHeight),_.className=f.image,Yn(_,p,"image")}},Yc=!1,Ah=0,Jc=0,Xc=0,xh=0,vg=h=>{h.addEventListener("mousedown",eu),document.body.addEventListener("mousemove",yl),h.addEventListener("mouseup",_l),h.addEventListener("touchstart",eu),document.body.addEventListener("touchmove",yl),h.addEventListener("touchend",_l)},Cw=h=>{h.removeEventListener("mousedown",eu),document.body.removeEventListener("mousemove",yl),h.removeEventListener("mouseup",_l),h.removeEventListener("touchstart",eu),document.body.removeEventListener("touchmove",yl),h.removeEventListener("touchend",_l)},eu=h=>{let p=N();if(h.target===p||R().contains(h.target)){Yc=!0;let _=wg(h);Ah=_.clientX,Jc=_.clientY,Xc=parseInt(p.style.insetInlineStart)||0,xh=parseInt(p.style.insetBlockStart)||0,Je(p,"swal2-dragging")}},yl=h=>{let p=N();if(Yc){let{clientX:_,clientY:I}=wg(h);p.style.insetInlineStart=`${Xc+(_-Ah)}px`,p.style.insetBlockStart=`${xh+(I-Jc)}px`}},_l=()=>{let h=N();Yc=!1,ui(h,"swal2-dragging")},wg=h=>{let p=0,_=0;return h.type.startsWith("mouse")?(p=h.clientX,_=h.clientY):h.type.startsWith("touch")&&(p=h.touches[0].clientX,_=h.touches[0].clientY),{clientX:p,clientY:_}},Xs=(h,p)=>{let _=M(),I=N();if(!(!_||!I)){if(p.toast){Dr(_,"width",p.width),I.style.width="100%";let z=pt();z&&I.insertBefore(z,R())}else Dr(I,"width",p.width);Dr(I,"padding",p.padding),p.color&&(I.style.color=p.color),p.background&&(I.style.background=p.background),cn(ze()),Mr(I,p),p.draggable&&!p.toast?(Je(I,f.draggable),vg(I)):(ui(I,f.draggable),Cw(I))}},Mr=(h,p)=>{let _=p.showClass||{};h.className=`${f.popup} ${Vn(h)?_.popup:""}`,p.toast?(Je([document.documentElement,document.body],f["toast-shown"]),Je(h,f.toast)):Je(h,f.modal),Yn(h,p,"popup"),typeof p.customClass=="string"&&Je(h,p.customClass),p.icon&&Je(h,f[`icon-${p.icon}`])},tu=(h,p)=>{let _=Ie();if(!_)return;let{progressSteps:I,currentProgressStep:z}=p;if(!I||I.length===0||z===void 0){cn(_);return}Zt(_),_.textContent="",z>=I.length&&S("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),I.forEach((me,Ke)=>{let rt=nu(me);if(_.appendChild(rt),Ke===z&&Je(rt,f["active-progress-step"]),Ke!==I.length-1){let Ht=bg(p);_.appendChild(Ht)}})},nu=h=>{let p=document.createElement("li");return Je(p,f["progress-step"]),Ln(p,h),p},bg=h=>{let p=document.createElement("li");return Je(p,f["progress-step-line"]),h.progressStepsDistance&&Dr(p,"width",h.progressStepsDistance),p},Tt=(h,p)=>{let _=Ir();_&&(un(_),ls(_,p.title||p.titleText,"block"),p.title&&Sr(p.title,_),p.titleText&&(_.innerText=p.titleText),Yn(_,p,"title"))},vl=(h,p)=>{Xs(h,p),fl(h,p),tu(h,p),bw(h,p),_g(h,p),Tt(h,p),hg(h,p),pg(h,p),ug(h,p),gg(h,p);let _=N();typeof p.didRender=="function"&&_&&p.didRender(_),o.eventEmitter.emit("didRender",_)},wl=()=>Vn(N()),Ko=()=>{var h;return(h=ft())===null||h===void 0?void 0:h.click()},Ew=()=>{var h;return(h=_t())===null||h===void 0?void 0:h.click()},Cg=()=>{var h;return(h=vn())===null||h===void 0?void 0:h.click()},Qo=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Eg=h=>{h.keydownTarget&&h.keydownHandlerAdded&&(h.keydownTarget.removeEventListener("keydown",h.keydownHandler,{capture:h.keydownListenerCapture}),h.keydownHandlerAdded=!1)},Iw=(h,p,_)=>{Eg(h),p.toast||(h.keydownHandler=I=>Ig(p,I,_),h.keydownTarget=p.keydownListenerCapture?window:N(),h.keydownListenerCapture=p.keydownListenerCapture,h.keydownTarget.addEventListener("keydown",h.keydownHandler,{capture:h.keydownListenerCapture}),h.keydownHandlerAdded=!0)},Rh=(h,p)=>{var _;let I=Vi();if(I.length){h=h+p,h===I.length?h=0:h===-1&&(h=I.length-1),I[h].focus();return}(_=N())===null||_===void 0||_.focus()},Zo=["ArrowRight","ArrowDown"],us=["ArrowLeft","ArrowUp"],Ig=(h,p,_)=>{h&&(p.isComposing||p.keyCode===229||(h.stopKeydownPropagation&&p.stopPropagation(),p.key==="Enter"?Dg(p,h):p.key==="Tab"?Tg(p):[...Zo,...us].includes(p.key)?Yo(p.key):p.key==="Escape"&&Dw(p,h,_)))},Dg=(h,p)=>{if(!ge(p.allowEnterKey))return;let _=qc(N(),p.input);if(h.target&&_&&h.target instanceof HTMLElement&&h.target.outerHTML===_.outerHTML){if(["textarea","file"].includes(p.input))return;Ko(),h.preventDefault()}},Tg=h=>{let p=h.target,_=Vi(),I=-1;for(let z=0;z<_.length;z++)if(p===_[z]){I=z;break}h.shiftKey?Rh(I,-1):Rh(I,1),h.stopPropagation(),h.preventDefault()},Yo=h=>{let p=Ii(),_=ft(),I=_t(),z=vn();if(!p||!_||!I||!z)return;let me=[_,I,z];if(document.activeElement instanceof HTMLElement&&!me.includes(document.activeElement))return;let Ke=Zo.includes(h)?"nextElementSibling":"previousElementSibling",rt=document.activeElement;if(rt){for(let Ht=0;Ht<p.children.length;Ht++){if(rt=rt[Ke],!rt)return;if(rt instanceof HTMLButtonElement&&Vn(rt))break}rt instanceof HTMLButtonElement&&rt.focus()}},Dw=(h,p,_)=>{ge(p.allowEscapeKey)&&(h.preventDefault(),_(Qo.esc))};var Jo={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};let Tw=()=>{let h=M();Array.from(document.body.children).forEach(_=>{_.contains(h)||(_.hasAttribute("aria-hidden")&&_.setAttribute("data-previous-aria-hidden",_.getAttribute("aria-hidden")||""),_.setAttribute("aria-hidden","true"))})},Ar=()=>{Array.from(document.body.children).forEach(p=>{p.hasAttribute("data-previous-aria-hidden")?(p.setAttribute("aria-hidden",p.getAttribute("data-previous-aria-hidden")||""),p.removeAttribute("data-previous-aria-hidden")):p.removeAttribute("aria-hidden")})},Sg=typeof window<"u"&&!!window.GestureEvent,Sw=()=>{if(Sg&&!Bi(document.body,f.iosfix)){let h=document.body.scrollTop;document.body.style.top=`${h*-1}px`,Je(document.body,f.iosfix),bl()}},bl=()=>{let h=M();if(!h)return;let p;h.ontouchstart=_=>{p=iu(_)},h.ontouchmove=_=>{p&&(_.preventDefault(),_.stopPropagation())}},iu=h=>{let p=h.target,_=M(),I=ye();return!_||!I||Mg(h)||Cl(h)?!1:p===_||!sg(_)&&p instanceof HTMLElement&&p.tagName!=="INPUT"&&p.tagName!=="TEXTAREA"&&!(sg(I)&&I.contains(p))},Mg=h=>h.touches&&h.touches.length&&h.touches[0].touchType==="stylus",Cl=h=>h.touches&&h.touches.length>1,El=()=>{if(Bi(document.body,f.iosfix)){let h=parseInt(document.body.style.top,10);ui(document.body,f.iosfix),document.body.style.top="",document.body.scrollTop=h*-1}},Ag=()=>{let h=document.createElement("div");h.className=f["scrollbar-measure"],document.body.appendChild(h);let p=h.getBoundingClientRect().width-h.clientWidth;return document.body.removeChild(h),p},ds=null,Bt=h=>{ds===null&&(document.body.scrollHeight>window.innerHeight||h==="scroll")&&(ds=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${ds+Ag()}px`)},Mw=()=>{ds!==null&&(document.body.style.paddingRight=`${ds}px`,ds=null)};function xg(h,p,_,I){Ho()?ea(h,I):(l(_).then(()=>ea(h,I)),Eg(o)),Sg?(p.setAttribute("style","display:none !important"),p.removeAttribute("class"),p.innerHTML=""):p.remove(),nr()&&(Mw(),El(),Ar()),Rg()}function Rg(){ui([document.documentElement,document.body],[f.shown,f["height-auto"],f["no-backdrop"],f["toast-shown"]])}function xr(h){h=Rr(h);let p=Jo.swalPromiseResolve.get(this),_=Og(this);this.isAwaitingPromise?h.isDismissed||(Xo(this),p(h)):_&&p(h)}let Og=h=>{let p=N();if(!p)return!1;let _=ut.innerParams.get(h);if(!_||Bi(p,_.hideClass.popup))return!1;ui(p,_.showClass.popup),Je(p,_.hideClass.popup);let I=M();return ui(I,_.showClass.backdrop),Je(I,_.hideClass.backdrop),Ng(h,p,_),!0};function Il(h){let p=Jo.swalPromiseReject.get(this);Xo(this),p&&p(h)}let Xo=h=>{h.isAwaitingPromise&&(delete h.isAwaitingPromise,ut.innerParams.get(h)||h._destroy())},Rr=h=>typeof h>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},h),Ng=(h,p,_)=>{var I;let z=M(),me=Go(p);typeof _.willClose=="function"&&_.willClose(p),(I=o.eventEmitter)===null||I===void 0||I.emit("willClose",p),me?Aw(h,p,z,_.returnFocus,_.didClose):xg(h,z,_.returnFocus,_.didClose)},Aw=(h,p,_,I,z)=>{o.swalCloseEventFinishedCallback=xg.bind(null,h,_,I,z);let me=function(Ke){if(Ke.target===p){var rt;(rt=o.swalCloseEventFinishedCallback)===null||rt===void 0||rt.call(o),delete o.swalCloseEventFinishedCallback,p.removeEventListener("animationend",me),p.removeEventListener("transitionend",me)}};p.addEventListener("animationend",me),p.addEventListener("transitionend",me)},ea=(h,p)=>{setTimeout(()=>{var _;typeof p=="function"&&p.bind(h.params)(),(_=o.eventEmitter)===null||_===void 0||_.emit("didClose"),h._destroy&&h._destroy()})},eo=h=>{let p=N();if(p||new Gg,p=N(),!p)return;let _=pt();Ho()?cn(R()):Oh(p,h),Zt(_),p.setAttribute("data-loading","true"),p.setAttribute("aria-busy","true"),p.focus()},Oh=(h,p)=>{let _=Ii(),I=pt();!_||!I||(!p&&Vn(ft())&&(p=ft()),Zt(_),p&&(cn(p),I.setAttribute("data-button-to-replace",p.className),_.insertBefore(I,p)),Je([h,_],f.loading))},ru=(h,p)=>{p.input==="select"||p.input==="radio"?Dl(h,p):["text","email","number","tel","textarea"].some(_=>_===p.input)&&(ae(p.inputValue)||D(p.inputValue))&&(eo(ft()),Fg(h,p))},kg=(h,p)=>{let _=h.getInput();if(!_)return null;switch(p.input){case"checkbox":return su(_);case"radio":return xw(_);case"file":return Pg(_);default:return p.inputAutoTrim?_.value.trim():_.value}},su=h=>h.checked?1:0,xw=h=>h.checked?h.value:null,Pg=h=>h.files&&h.files.length?h.getAttribute("multiple")!==null?h.files:h.files[0]:null,Dl=(h,p)=>{let _=N();if(!_)return;let I=z=>{p.input==="select"?Lg(_,ta(z),p):p.input==="radio"&&Nh(_,ta(z),p)};ae(p.inputOptions)||D(p.inputOptions)?(eo(ft()),x(p.inputOptions).then(z=>{h.hideLoading(),I(z)})):typeof p.inputOptions=="object"?I(p.inputOptions):j(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof p.inputOptions}`)},Fg=(h,p)=>{let _=h.getInput();_&&(cn(_),x(p.inputValue).then(I=>{_.value=p.input==="number"?`${parseFloat(I)||0}`:`${I}`,Zt(_),_.focus(),h.hideLoading()}).catch(I=>{j(`Error in inputValue promise: ${I}`),_.value="",Zt(_),_.focus(),h.hideLoading()}))};function Lg(h,p,_){let I=as(h,f.select);if(!I)return;let z=(me,Ke,rt)=>{let Ht=document.createElement("option");Ht.value=rt,Ln(Ht,Ke),Ht.selected=kh(rt,_.inputValue),me.appendChild(Ht)};p.forEach(me=>{let Ke=me[0],rt=me[1];if(Array.isArray(rt)){let Ht=document.createElement("optgroup");Ht.label=Ke,Ht.disabled=!1,I.appendChild(Ht),rt.forEach(cu=>z(Ht,cu[1],cu[0]))}else z(I,rt,Ke)}),I.focus()}function Nh(h,p,_){let I=as(h,f.radio);if(!I)return;p.forEach(me=>{let Ke=me[0],rt=me[1],Ht=document.createElement("input"),cu=document.createElement("label");Ht.type="radio",Ht.name=f.radio,Ht.value=Ke,kh(Ke,_.inputValue)&&(Ht.checked=!0);let Nw=document.createElement("span");Ln(Nw,rt),Nw.className=f.label,cu.appendChild(Ht),cu.appendChild(Nw),I.appendChild(cu)});let z=I.querySelectorAll("input");z.length&&z[0].focus()}let ta=h=>{let p=[];return h instanceof Map?h.forEach((_,I)=>{let z=_;typeof z=="object"&&(z=ta(z)),p.push([I,z])}):Object.keys(h).forEach(_=>{let I=h[_];typeof I=="object"&&(I=ta(I)),p.push([_,I])}),p},kh=(h,p)=>!!p&&p.toString()===h.toString(),ou=h=>{let p=ut.innerParams.get(h);h.disableButtons(),p.input?hs(h,"confirm"):na(h,!0)},Vg=h=>{let p=ut.innerParams.get(h);h.disableButtons(),p.returnInputValueOnDeny?hs(h,"deny"):au(h,!1)},Bg=(h,p)=>{h.disableButtons(),p(Qo.cancel)},hs=(h,p)=>{let _=ut.innerParams.get(h);if(!_.input){j(`The "input" parameter is needed to be set when using returnInputValueOn${A(p)}`);return}let I=h.getInput(),z=kg(h,_);_.inputValidator?Ug(h,z,p):I&&!I.checkValidity()?(h.enableButtons(),h.showValidationMessage(_.validationMessage||I.validationMessage)):p==="deny"?au(h,z):na(h,z)},Ug=(h,p,_)=>{let I=ut.innerParams.get(h);h.disableInput(),Promise.resolve().then(()=>x(I.inputValidator(p,I.validationMessage))).then(me=>{h.enableButtons(),h.enableInput(),me?h.showValidationMessage(me):_==="deny"?au(h,p):na(h,p)})},au=(h,p)=>{let _=ut.innerParams.get(h||void 0);_.showLoaderOnDeny&&eo(_t()),_.preDeny?(h.isAwaitingPromise=!0,Promise.resolve().then(()=>x(_.preDeny(p,_.validationMessage))).then(z=>{z===!1?(h.hideLoading(),Xo(h)):h.close({isDenied:!0,value:typeof z>"u"?p:z})}).catch(z=>Fh(h||void 0,z))):h.close({isDenied:!0,value:p})},Ph=(h,p)=>{h.close({isConfirmed:!0,value:p})},Fh=(h,p)=>{h.rejectPromise(p)},na=(h,p)=>{let _=ut.innerParams.get(h||void 0);_.showLoaderOnConfirm&&eo(),_.preConfirm?(h.resetValidationMessage(),h.isAwaitingPromise=!0,Promise.resolve().then(()=>x(_.preConfirm(p,_.validationMessage))).then(z=>{Vn(ze())||z===!1?(h.hideLoading(),Xo(h)):Ph(h,typeof z>"u"?p:z)}).catch(z=>Fh(h||void 0,z))):Ph(h,p)};function Mn(){let h=ut.innerParams.get(this);if(!h)return;let p=ut.domCache.get(this);cn(p.loader),Ho()?h.icon&&Zt(R()):jg(p),ui([p.popup,p.actions],f.loading),p.popup.removeAttribute("aria-busy"),p.popup.removeAttribute("data-loading"),p.confirmButton.disabled=!1,p.denyButton.disabled=!1,p.cancelButton.disabled=!1}let jg=h=>{let p=h.popup.getElementsByClassName(h.loader.getAttribute("data-button-to-replace"));p.length?Zt(p[0],"inline-block"):rg()&&cn(h.actions)};function Lh(){let h=ut.innerParams.get(this),p=ut.domCache.get(this);return p?qc(p.popup,h.input):null}function to(h,p,_){let I=ut.domCache.get(h);p.forEach(z=>{I[z].disabled=_})}function u(h,p){let _=N();if(!(!_||!h))if(h.type==="radio"){let I=_.querySelectorAll(`[name="${f.radio}"]`);for(let z=0;z<I.length;z++)I[z].disabled=p}else h.disabled=p}function g(){to(this,["confirmButton","denyButton","cancelButton"],!1)}function y(){to(this,["confirmButton","denyButton","cancelButton"],!0)}function w(){u(this.getInput(),!1)}function V(){u(this.getInput(),!0)}function H(h){let p=ut.domCache.get(this),_=ut.innerParams.get(this);Ln(p.validationMessage,h),p.validationMessage.className=f["validation-message"],_.customClass&&_.customClass.validationMessage&&Je(p.validationMessage,_.customClass.validationMessage),Zt(p.validationMessage);let I=this.getInput();I&&(I.setAttribute("aria-invalid","true"),I.setAttribute("aria-describedby",f["validation-message"]),wh(I),Je(I,f.inputerror))}function le(){let h=ut.domCache.get(this);h.validationMessage&&cn(h.validationMessage);let p=this.getInput();p&&(p.removeAttribute("aria-invalid"),p.removeAttribute("aria-describedby"),ui(p,f.inputerror))}let nt={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},bn=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],it={allowEnterKey:void 0},An=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Cn=h=>Object.prototype.hasOwnProperty.call(nt,h),no=h=>bn.indexOf(h)!==-1,Di=h=>it[h],lu=h=>{Cn(h)||S(`Unknown parameter "${h}"`)},Vh=h=>{An.includes(h)&&S(`The parameter "${h}" is incompatible with toasts`)},Y5=h=>{let p=Di(h);p&&Y(h,p)},J5=h=>{h.backdrop===!1&&h.allowOutsideClick&&S('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(let p in h)lu(p),h.toast&&Vh(p),Y5(p)};function YM(h){let p=N(),_=ut.innerParams.get(this);if(!p||Bi(p,_.hideClass.popup)){S("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}let I=X5(h),z=Object.assign({},_,I);vl(this,z),ut.innerParams.set(this,z),Object.defineProperties(this,{params:{value:Object.assign({},this.params,h),writable:!1,enumerable:!0}})}let X5=h=>{let p={};return Object.keys(h).forEach(_=>{no(_)?p[_]=h[_]:S(`Invalid parameter to update: ${_}`)}),p};function JM(){let h=ut.domCache.get(this),p=ut.innerParams.get(this);if(!p){XM(this);return}h.popup&&o.swalCloseEventFinishedCallback&&(o.swalCloseEventFinishedCallback(),delete o.swalCloseEventFinishedCallback),typeof p.didDestroy=="function"&&p.didDestroy(),o.eventEmitter.emit("didDestroy"),eU(this)}let eU=h=>{XM(h),delete h.params,delete o.keydownHandler,delete o.keydownTarget,delete o.currentInstance},XM=h=>{h.isAwaitingPromise?(Rw(ut,h),h.isAwaitingPromise=!0):(Rw(Jo,h),Rw(ut,h),delete h.isAwaitingPromise,delete h.disableButtons,delete h.enableButtons,delete h.getInput,delete h.disableInput,delete h.enableInput,delete h.hideLoading,delete h.disableLoading,delete h.showValidationMessage,delete h.resetValidationMessage,delete h.close,delete h.closePopup,delete h.closeModal,delete h.closeToast,delete h.rejectPromise,delete h.update,delete h._destroy)},Rw=(h,p)=>{for(let _ in h)h[_].delete(p)};var tU=Object.freeze({__proto__:null,_destroy:JM,close:xr,closeModal:xr,closePopup:xr,closeToast:xr,disableButtons:y,disableInput:V,disableLoading:Mn,enableButtons:g,enableInput:w,getInput:Lh,handleAwaitingPromise:Xo,hideLoading:Mn,rejectPromise:Il,resetValidationMessage:le,showValidationMessage:H,update:YM});let nU=(h,p,_)=>{h.toast?iU(h,p,_):(sU(p),oU(p),aU(h,p,_))},iU=(h,p,_)=>{p.popup.onclick=()=>{h&&(rU(h)||h.timer||h.input)||_(Qo.close)}},rU=h=>!!(h.showConfirmButton||h.showDenyButton||h.showCancelButton||h.showCloseButton),zg=!1,sU=h=>{h.popup.onmousedown=()=>{h.container.onmouseup=function(p){h.container.onmouseup=()=>{},p.target===h.container&&(zg=!0)}}},oU=h=>{h.container.onmousedown=p=>{p.target===h.container&&p.preventDefault(),h.popup.onmouseup=function(_){h.popup.onmouseup=()=>{},(_.target===h.popup||_.target instanceof HTMLElement&&h.popup.contains(_.target))&&(zg=!0)}}},aU=(h,p,_)=>{p.container.onclick=I=>{if(zg){zg=!1;return}I.target===p.container&&ge(h.allowOutsideClick)&&_(Qo.backdrop)}},lU=h=>typeof h=="object"&&h.jquery,eA=h=>h instanceof Element||lU(h),cU=h=>{let p={};return typeof h[0]=="object"&&!eA(h[0])?Object.assign(p,h[0]):["title","html","icon"].forEach((_,I)=>{let z=h[I];typeof z=="string"||eA(z)?p[_]=z:z!==void 0&&j(`Unexpected type of ${_}! Expected "string" or "Element", got ${typeof z}`)}),p};function uU(){for(var h=arguments.length,p=new Array(h),_=0;_<h;_++)p[_]=arguments[_];return new this(...p)}function dU(h){class p extends this{_main(I,z){return super._main(I,Object.assign({},h,z))}}return p}let hU=()=>o.timeout&&o.timeout.getTimerLeft(),tA=()=>{if(o.timeout)return og(),o.timeout.stop()},nA=()=>{if(o.timeout){let h=o.timeout.start();return Wc(h),h}},fU=()=>{let h=o.timeout;return h&&(h.running?tA():nA())},pU=h=>{if(o.timeout){let p=o.timeout.increase(h);return Wc(p,!0),p}},gU=()=>!!(o.timeout&&o.timeout.isRunning()),iA=!1,Ow={};function mU(){let h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";Ow[h]=this,iA||(document.body.addEventListener("click",yU),iA=!0)}let yU=h=>{for(let p=h.target;p&&p!==document;p=p.parentNode)for(let _ in Ow){let I=p.getAttribute(_);if(I){Ow[_].fire({template:I});return}}};class _U{constructor(){this.events={}}_getHandlersByEventName(p){return typeof this.events[p]>"u"&&(this.events[p]=[]),this.events[p]}on(p,_){let I=this._getHandlersByEventName(p);I.includes(_)||I.push(_)}once(p,_){var I=this;let z=function(){I.removeListener(p,z);for(var me=arguments.length,Ke=new Array(me),rt=0;rt<me;rt++)Ke[rt]=arguments[rt];_.apply(I,Ke)};this.on(p,z)}emit(p){for(var _=arguments.length,I=new Array(_>1?_-1:0),z=1;z<_;z++)I[z-1]=arguments[z];this._getHandlersByEventName(p).forEach(me=>{try{me.apply(this,I)}catch(Ke){console.error(Ke)}})}removeListener(p,_){let I=this._getHandlersByEventName(p),z=I.indexOf(_);z>-1&&I.splice(z,1)}removeAllListeners(p){this.events[p]!==void 0&&(this.events[p].length=0)}reset(){this.events={}}}o.eventEmitter=new _U;var vU=Object.freeze({__proto__:null,argsToParams:cU,bindClickHandler:mU,clickCancel:Cg,clickConfirm:Ko,clickDeny:Ew,enableLoading:eo,fire:uU,getActions:Ii,getCancelButton:vn,getCloseButton:Li,getConfirmButton:ft,getContainer:M,getDenyButton:_t,getFocusableElements:Vi,getFooter:Gc,getHtmlContainer:ye,getIcon:R,getIconContent:Ei,getImage:be,getInputLabel:It,getLoader:pt,getPopup:N,getProgressSteps:Ie,getTimerLeft:hU,getTimerProgressBar:Dt,getTitle:Ir,getValidationMessage:ze,increaseTimer:pU,isDeprecatedParameter:Di,isLoading:vh,isTimerRunning:gU,isUpdatableParameter:no,isValidParameter:Cn,isVisible:wl,mixin:dU,off:(h,p)=>{if(!h){o.eventEmitter.reset();return}p?o.eventEmitter.removeListener(h,p):o.eventEmitter.removeAllListeners(h)},on:(h,p)=>{o.eventEmitter.on(h,p)},once:(h,p)=>{o.eventEmitter.once(h,p)},resumeTimer:nA,showLoading:eo,stopTimer:tA,toggleTimer:fU});class wU{constructor(p,_){this.callback=p,this.remaining=_,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(p){let _=this.running;return _&&this.stop(),this.remaining+=p,_&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}let rA=["swal-title","swal-html","swal-footer"],bU=h=>{let p=typeof h.template=="string"?document.querySelector(h.template):h.template;if(!p)return{};let _=p.content;return AU(_),Object.assign(CU(_),EU(_),IU(_),DU(_),TU(_),SU(_),MU(_,rA))},CU=h=>{let p={};return Array.from(h.querySelectorAll("swal-param")).forEach(I=>{Tl(I,["name","value"]);let z=I.getAttribute("name"),me=I.getAttribute("value");!z||!me||(typeof nt[z]=="boolean"?p[z]=me!=="false":typeof nt[z]=="object"?p[z]=JSON.parse(me):p[z]=me)}),p},EU=h=>{let p={};return Array.from(h.querySelectorAll("swal-function-param")).forEach(I=>{let z=I.getAttribute("name"),me=I.getAttribute("value");!z||!me||(p[z]=new Function(`return ${me}`)())}),p},IU=h=>{let p={};return Array.from(h.querySelectorAll("swal-button")).forEach(I=>{Tl(I,["type","color","aria-label"]);let z=I.getAttribute("type");!z||!["confirm","cancel","deny"].includes(z)||(p[`${z}ButtonText`]=I.innerHTML,p[`show${A(z)}Button`]=!0,I.hasAttribute("color")&&(p[`${z}ButtonColor`]=I.getAttribute("color")),I.hasAttribute("aria-label")&&(p[`${z}ButtonAriaLabel`]=I.getAttribute("aria-label")))}),p},DU=h=>{let p={},_=h.querySelector("swal-image");return _&&(Tl(_,["src","width","height","alt"]),_.hasAttribute("src")&&(p.imageUrl=_.getAttribute("src")||void 0),_.hasAttribute("width")&&(p.imageWidth=_.getAttribute("width")||void 0),_.hasAttribute("height")&&(p.imageHeight=_.getAttribute("height")||void 0),_.hasAttribute("alt")&&(p.imageAlt=_.getAttribute("alt")||void 0)),p},TU=h=>{let p={},_=h.querySelector("swal-icon");return _&&(Tl(_,["type","color"]),_.hasAttribute("type")&&(p.icon=_.getAttribute("type")),_.hasAttribute("color")&&(p.iconColor=_.getAttribute("color")),p.iconHtml=_.innerHTML),p},SU=h=>{let p={},_=h.querySelector("swal-input");_&&(Tl(_,["type","label","placeholder","value"]),p.input=_.getAttribute("type")||"text",_.hasAttribute("label")&&(p.inputLabel=_.getAttribute("label")),_.hasAttribute("placeholder")&&(p.inputPlaceholder=_.getAttribute("placeholder")),_.hasAttribute("value")&&(p.inputValue=_.getAttribute("value")));let I=Array.from(h.querySelectorAll("swal-input-option"));return I.length&&(p.inputOptions={},I.forEach(z=>{Tl(z,["value"]);let me=z.getAttribute("value");if(!me)return;let Ke=z.innerHTML;p.inputOptions[me]=Ke})),p},MU=(h,p)=>{let _={};for(let I in p){let z=p[I],me=h.querySelector(z);me&&(Tl(me,[]),_[z.replace(/^swal-/,"")]=me.innerHTML.trim())}return _},AU=h=>{let p=rA.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(h.children).forEach(_=>{let I=_.tagName.toLowerCase();p.includes(I)||S(`Unrecognized element <${I}>`)})},Tl=(h,p)=>{Array.from(h.attributes).forEach(_=>{p.indexOf(_.name)===-1&&S([`Unrecognized attribute "${_.name}" on <${h.tagName.toLowerCase()}>.`,`${p.length?`Allowed attributes are: ${p.join(", ")}`:"To set the value, use HTML within the element."}`])})},sA=10,xU=h=>{let p=M(),_=N();typeof h.willOpen=="function"&&h.willOpen(_),o.eventEmitter.emit("willOpen",_);let z=window.getComputedStyle(document.body).overflowY;NU(p,_,h),setTimeout(()=>{RU(p,_)},sA),nr()&&(OU(p,h.scrollbarPadding,z),Tw()),!Ho()&&!o.previousActiveElement&&(o.previousActiveElement=document.activeElement),typeof h.didOpen=="function"&&setTimeout(()=>h.didOpen(_)),o.eventEmitter.emit("didOpen",_),ui(p,f["no-transition"])},$g=h=>{let p=N();if(h.target!==p)return;let _=M();p.removeEventListener("animationend",$g),p.removeEventListener("transitionend",$g),_.style.overflowY="auto"},RU=(h,p)=>{Go(p)?(h.style.overflowY="hidden",p.addEventListener("animationend",$g),p.addEventListener("transitionend",$g)):h.style.overflowY="auto"},OU=(h,p,_)=>{Sw(),p&&_!=="hidden"&&Bt(_),setTimeout(()=>{h.scrollTop=0})},NU=(h,p,_)=>{Je(h,_.showClass.backdrop),_.animation?(p.style.setProperty("opacity","0","important"),Zt(p,"grid"),setTimeout(()=>{Je(p,_.showClass.popup),p.style.removeProperty("opacity")},sA)):Zt(p,"grid"),Je([document.documentElement,document.body],f.shown),_.heightAuto&&_.backdrop&&!_.toast&&Je([document.documentElement,document.body],f["height-auto"])};var oA={email:(h,p)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(h)?Promise.resolve():Promise.resolve(p||"Invalid email address"),url:(h,p)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(h)?Promise.resolve():Promise.resolve(p||"Invalid URL")};function kU(h){h.inputValidator||(h.input==="email"&&(h.inputValidator=oA.email),h.input==="url"&&(h.inputValidator=oA.url))}function PU(h){(!h.target||typeof h.target=="string"&&!document.querySelector(h.target)||typeof h.target!="string"&&!h.target.appendChild)&&(S('Target parameter is not valid, defaulting to "body"'),h.target="body")}function FU(h){kU(h),h.showLoaderOnConfirm&&!h.preConfirm&&S(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),PU(h),typeof h.title=="string"&&(h.title=h.title.split(`
`).join("<br />")),Ih(h)}let fs;var Hg=new WeakMap;class en{constructor(){if(i(this,Hg,void 0),typeof window>"u")return;fs=this;for(var p=arguments.length,_=new Array(p),I=0;I<p;I++)_[I]=arguments[I];let z=Object.freeze(this.constructor.argsToParams(_));this.params=z,this.isAwaitingPromise=!1,r(Hg,this,this._main(fs.params))}_main(p){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(J5(Object.assign({},_,p)),o.currentInstance){let me=Jo.swalPromiseResolve.get(o.currentInstance),{isAwaitingPromise:Ke}=o.currentInstance;o.currentInstance._destroy(),Ke||me({isDismissed:!0}),nr()&&Ar()}o.currentInstance=fs;let I=VU(p,_);FU(I),Object.freeze(I),o.timeout&&(o.timeout.stop(),delete o.timeout),clearTimeout(o.restoreFocusTimeout);let z=BU(fs);return vl(fs,I),ut.innerParams.set(fs,I),LU(fs,z,I)}then(p){return t(Hg,this).then(p)}finally(p){return t(Hg,this).finally(p)}}let LU=(h,p,_)=>new Promise((I,z)=>{let me=Ke=>{h.close({isDismissed:!0,dismiss:Ke})};Jo.swalPromiseResolve.set(h,I),Jo.swalPromiseReject.set(h,z),p.confirmButton.onclick=()=>{ou(h)},p.denyButton.onclick=()=>{Vg(h)},p.cancelButton.onclick=()=>{Bg(h,me)},p.closeButton.onclick=()=>{me(Qo.close)},nU(_,p,me),Iw(o,_,me),ru(h,_),xU(_),UU(o,_,me),jU(p,_),setTimeout(()=>{p.container.scrollTop=0})}),VU=(h,p)=>{let _=bU(h),I=Object.assign({},nt,p,_,h);return I.showClass=Object.assign({},nt.showClass,I.showClass),I.hideClass=Object.assign({},nt.hideClass,I.hideClass),I.animation===!1&&(I.showClass={backdrop:"swal2-noanimation"},I.hideClass={}),I},BU=h=>{let p={popup:N(),container:M(),actions:Ii(),confirmButton:ft(),denyButton:_t(),cancelButton:vn(),loader:pt(),closeButton:Li(),validationMessage:ze(),progressSteps:Ie()};return ut.domCache.set(h,p),p},UU=(h,p,_)=>{let I=Dt();cn(I),p.timer&&(h.timeout=new wU(()=>{_("timer"),delete h.timeout},p.timer),p.timerProgressBar&&(Zt(I),Yn(I,p,"timerProgressBar"),setTimeout(()=>{h.timeout&&h.timeout.running&&Wc(p.timer)})))},jU=(h,p)=>{if(!p.toast){if(!ge(p.allowEnterKey)){Y("allowEnterKey"),HU();return}zU(h)||$U(h,p)||Rh(-1,1)}},zU=h=>{let p=Array.from(h.popup.querySelectorAll("[autofocus]"));for(let _ of p)if(_ instanceof HTMLElement&&Vn(_))return _.focus(),!0;return!1},$U=(h,p)=>p.focusDeny&&Vn(h.denyButton)?(h.denyButton.focus(),!0):p.focusCancel&&Vn(h.cancelButton)?(h.cancelButton.focus(),!0):p.focusConfirm&&Vn(h.confirmButton)?(h.confirmButton.focus(),!0):!1,HU=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){let h=new Date,p=localStorage.getItem("swal-initiation");p?(h.getTime()-Date.parse(p))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";let _=document.createElement("audio");_.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",_.loop=!0,document.body.appendChild(_),setTimeout(()=>{_.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${h}`)}en.prototype.disableButtons=y,en.prototype.enableButtons=g,en.prototype.getInput=Lh,en.prototype.disableInput=V,en.prototype.enableInput=w,en.prototype.hideLoading=Mn,en.prototype.disableLoading=Mn,en.prototype.showValidationMessage=H,en.prototype.resetValidationMessage=le,en.prototype.close=xr,en.prototype.closePopup=xr,en.prototype.closeModal=xr,en.prototype.closeToast=xr,en.prototype.rejectPromise=Il,en.prototype.update=YM,en.prototype._destroy=JM,Object.assign(en,vU),Object.keys(tU).forEach(h=>{en[h]=function(){return fs&&fs[h]?fs[h](...arguments):null}}),en.DismissReason=Qo,en.version="11.15.10";let Gg=en;return Gg.default=Gg,Gg});typeof Ys<"u"&&Ys.Sweetalert2&&(Ys.swal=Ys.sweetAlert=Ys.Swal=Ys.SweetAlert=Ys.Sweetalert2);typeof document<"u"&&function(n,e){var t=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(t),t.styleSheet)t.styleSheet.disabled||(t.styleSheet.cssText=e);else try{t.innerHTML=e}catch{t.innerText=e}}(document,'body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}')});function yA(n,e){return Object.is(n,e)}var En=null,Yg=!1,Jg=1,ro=Symbol("SIGNAL");function dt(n){let e=En;return En=n,e}function _A(){return En}var $h={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Bw(n){if(Yg)throw new Error("");if(En===null)return;En.consumerOnSignalRead(n);let e=En.nextProducerIndex++;if(nm(En),e<En.producerNode.length&&En.producerNode[e]!==n&&zh(En)){let t=En.producerNode[e];tm(t,En.producerIndexOfThis[e])}En.producerNode[e]!==n&&(En.producerNode[e]=n,En.producerIndexOfThis[e]=zh(En)?CA(n,En,e):0),En.producerLastReadVersion[e]=n.version}function qU(){Jg++}function vA(n){if(!(zh(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Jg)){if(!n.producerMustRecompute(n)&&!jw(n)){n.dirty=!1,n.lastCleanEpoch=Jg;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=Jg}}function wA(n){if(n.liveConsumerNode===void 0)return;let e=Yg;Yg=!0;try{for(let t of n.liveConsumerNode)t.dirty||WU(t)}finally{Yg=e}}function bA(){return En?.consumerAllowSignalWrites!==!1}function WU(n){n.dirty=!0,wA(n),n.consumerMarkedDirty?.(n)}function em(n){return n&&(n.nextProducerIndex=0),dt(n)}function Uw(n,e){if(dt(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(zh(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)tm(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function jw(n){nm(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(vA(t),i!==t.version))return!0}return!1}function zw(n){if(nm(n),zh(n))for(let e=0;e<n.producerNode.length;e++)tm(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function CA(n,e,t){if(EA(n),n.liveConsumerNode.length===0&&IA(n))for(let i=0;i<n.producerNode.length;i++)n.producerIndexOfThis[i]=CA(n.producerNode[i],n,i);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function tm(n,e){if(EA(n),n.liveConsumerNode.length===1&&IA(n))for(let i=0;i<n.producerNode.length;i++)tm(n.producerNode[i],n.producerIndexOfThis[i]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let i=n.liveConsumerIndexOfThis[e],r=n.liveConsumerNode[e];nm(r),r.producerIndexOfThis[i]=e}}function zh(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function nm(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function EA(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function IA(n){return n.producerNode!==void 0}function DA(n){let e=Object.create(KU);e.computation=n;let t=()=>{if(vA(e),Bw(e),e.value===Xg)throw e.error;return e.value};return t[ro]=e,t}var Lw=Symbol("UNSET"),Vw=Symbol("COMPUTING"),Xg=Symbol("ERRORED"),KU=Ee(Q({},$h),{value:Lw,dirty:!0,error:null,equal:yA,producerMustRecompute(n){return n.value===Lw||n.value===Vw},producerRecomputeValue(n){if(n.value===Vw)throw new Error("Detected cycle in computations.");let e=n.value;n.value=Vw;let t=em(n),i;try{i=n.computation()}catch(r){i=Xg,n.error=r}finally{Uw(n,t)}if(e!==Lw&&e!==Xg&&i!==Xg&&n.equal(e,i)){n.value=e;return}n.value=i,n.version++}});function QU(){throw new Error}var TA=QU;function SA(){TA()}function MA(n){TA=n}var ZU=null;function AA(n){let e=Object.create(RA);e.value=n;let t=()=>(Bw(e),e.value);return t[ro]=e,t}function $w(n,e){bA()||SA(),n.equal(n.value,e)||(n.value=e,YU(n))}function xA(n,e){bA()||SA(),$w(n,e(n.value))}var RA=Ee(Q({},$h),{equal:yA,value:void 0});function YU(n){n.version++,qU(),wA(n),ZU?.()}function Ae(n){return typeof n=="function"}function pu(n){let t=n(i=>{Error.call(i),i.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var im=pu(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Sl(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Yt=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let s of t)s.remove(this);else t.remove(this);let{initialTeardown:i}=this;if(Ae(i))try{i()}catch(s){e=s instanceof im?s.errors:[s]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let s of r)try{OA(s)}catch(o){e=e??[],o instanceof im?e=[...e,...o.errors]:e.push(o)}}if(e)throw new im(e)}}add(e){var t;if(e&&e!==this)if(this.closed)OA(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Sl(t,e)}remove(e){let{_finalizers:t}=this;t&&Sl(t,e),e instanceof n&&e._removeParent(this)}};Yt.EMPTY=(()=>{let n=new Yt;return n.closed=!0,n})();var Hw=Yt.EMPTY;function rm(n){return n instanceof Yt||n&&"closed"in n&&Ae(n.remove)&&Ae(n.add)&&Ae(n.unsubscribe)}function OA(n){Ae(n)?n():n.unsubscribe()}var Or={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var gu={setTimeout(n,e,...t){let{delegate:i}=gu;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=gu;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function sm(n){gu.setTimeout(()=>{let{onUnhandledError:e}=Or;if(e)e(n);else throw n})}function Ml(){}var NA=Gw("C",void 0,void 0);function kA(n){return Gw("E",void 0,n)}function PA(n){return Gw("N",n,void 0)}function Gw(n,e,t){return{kind:n,value:e,error:t}}var Al=null;function mu(n){if(Or.useDeprecatedSynchronousErrorHandling){let e=!Al;if(e&&(Al={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:i}=Al;if(Al=null,t)throw i}}else n()}function FA(n){Or.useDeprecatedSynchronousErrorHandling&&Al&&(Al.errorThrown=!0,Al.error=n)}var xl=class extends Yt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,rm(e)&&e.add(this)):this.destination=e4}static create(e,t,i){return new so(e,t,i)}next(e){this.isStopped?Ww(PA(e),this):this._next(e)}error(e){this.isStopped?Ww(kA(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ww(NA,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},JU=Function.prototype.bind;function qw(n,e){return JU.call(n,e)}var Kw=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){om(i)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){om(i)}else om(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){om(t)}}},so=class extends xl{constructor(e,t,i){super();let r;if(Ae(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let s;this&&Or.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&qw(e.next,s),error:e.error&&qw(e.error,s),complete:e.complete&&qw(e.complete,s)}):r=e}this.destination=new Kw(r)}};function om(n){Or.useDeprecatedSynchronousErrorHandling?FA(n):sm(n)}function XU(n){throw n}function Ww(n,e){let{onStoppedNotification:t}=Or;t&&gu.setTimeout(()=>t(n,e))}var e4={closed:!0,next:Ml,error:XU,complete:Ml};var yu=typeof Symbol=="function"&&Symbol.observable||"@@observable";function jn(n){return n}function Qw(...n){return Zw(n)}function Zw(n){return n.length===0?jn:n.length===1?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}var Se=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){let s=n4(t)?t:new so(t,i,r);return mu(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return i=LA(i),new i((r,s)=>{let o=new so({next:a=>{try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(t){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(t)}[yu](){return this}pipe(...t){return Zw(t)(this)}toPromise(t){return t=LA(t),new t((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return n.create=e=>new n(e),n})();function LA(n){var e;return(e=n??Or.Promise)!==null&&e!==void 0?e:Promise}function t4(n){return n&&Ae(n.next)&&Ae(n.error)&&Ae(n.complete)}function n4(n){return n&&n instanceof xl||t4(n)&&rm(n)}function Yw(n){return Ae(n?.lift)}function Fe(n){return e=>{if(Yw(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Re(n,e,t,i,r){return new Jw(n,e,t,i,r)}var Jw=class extends xl{constructor(e,t,i,r,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function _u(){return Fe((n,e)=>{let t=null;n._refCount++;let i=Re(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}var vu=class extends Se{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Yw(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Yt;let t=this.getSubject();e.add(this.source.subscribe(Re(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Yt.EMPTY)}return e}refCount(){return _u()(this)}};var VA=pu(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ke=(()=>{class n extends Se{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let i=new am(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new VA}next(t){mu(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(t)}})}error(t){mu(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){mu(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:i,isStopped:r,observers:s}=this;return i||r?Hw:(this.currentObservers=null,s.push(t),new Yt(()=>{this.currentObservers=null,Sl(s,t)}))}_checkFinalizedStatuses(t){let{hasError:i,thrownError:r,isStopped:s}=this;i?t.error(r):s&&t.complete()}asObservable(){let t=new Se;return t.source=this,t}}return n.create=(e,t)=>new am(e,t),n})(),am=class extends ke{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.next)===null||i===void 0||i.call(t,e)}error(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.error)===null||i===void 0||i.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,i;return(i=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&i!==void 0?i:Hw}};var kt=class extends ke{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var Hh={now(){return(Hh.delegate||Date).now()},delegate:void 0};var lm=class extends ke{constructor(e=1/0,t=1/0,i=Hh){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){let{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:o}=this;t||(i.push(e),!r&&i.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let o=0;o<s.length&&!e.closed;o+=i?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){let{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*e;if(e<1/0&&s<i.length&&i.splice(0,i.length-s),!r){let o=t.now(),a=0;for(let l=1;l<i.length&&i[l]<=o;l+=2)a=l;a&&i.splice(0,a+1)}}};var cm=class extends Yt{constructor(e,t){super()}schedule(e,t=0){return this}};var Gh={setInterval(n,e,...t){let{delegate:i}=Gh;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Gh;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var wu=class extends cm{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;let r=this.id,s=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(s,r,t)),this.pending=!0,this.delay=t,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,i=0){return Gh.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return t;t!=null&&Gh.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,t);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i=!1,r;try{this.work(e)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Sl(i,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var bu=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}};bu.now=Hh.now;var Cu=class extends bu{constructor(e,t=bu.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}};var ra=new Cu(wu),Xw=ra;var um=class extends wu{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(e,t,i):(e.flush(this),0)}};var dm=class extends Cu{};var eb=new dm(um);var In=new Se(n=>n.complete());function hm(n){return n&&Ae(n.schedule)}function tb(n){return n[n.length-1]}function sa(n){return Ae(tb(n))?n.pop():void 0}function gs(n){return hm(tb(n))?n.pop():void 0}function BA(n,e){return typeof tb(n)=="number"?n.pop():e}var Eu=n=>n&&typeof n.length=="number"&&typeof n!="function";function fm(n){return Ae(n?.then)}function pm(n){return Ae(n[yu])}function gm(n){return Symbol.asyncIterator&&Ae(n?.[Symbol.asyncIterator])}function mm(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function i4(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ym=i4();function _m(n){return Ae(n?.[ym])}function vm(n){return lA(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:i,done:r}=yield Wg(t.read());if(r)return yield Wg(void 0);yield yield Wg(i)}}finally{t.releaseLock()}})}function wm(n){return Ae(n?.getReader)}function st(n){if(n instanceof Se)return n;if(n!=null){if(pm(n))return r4(n);if(Eu(n))return s4(n);if(fm(n))return o4(n);if(gm(n))return UA(n);if(_m(n))return a4(n);if(wm(n))return l4(n)}throw mm(n)}function r4(n){return new Se(e=>{let t=n[yu]();if(Ae(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function s4(n){return new Se(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function o4(n){return new Se(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,sm)})}function a4(n){return new Se(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function UA(n){return new Se(e=>{c4(n,e).catch(t=>e.error(t))})}function l4(n){return UA(vm(n))}function c4(n,e){var t,i,r,s;return aA(this,void 0,void 0,function*(){try{for(t=cA(n);i=yield t.next(),!i.done;){let o=i.value;if(e.next(o),e.closed)return}}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=t.return)&&(yield s.call(t))}finally{if(r)throw r.error}}e.complete()})}function Ti(n,e,t,i=0,r=!1){let s=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(s),!r)return s}function ji(n,e=0){return Fe((t,i)=>{t.subscribe(Re(i,r=>Ti(i,n,()=>i.next(r),e),()=>Ti(i,n,()=>i.complete(),e),r=>Ti(i,n,()=>i.error(r),e)))})}function Nr(n,e=0){return Fe((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function jA(n,e){return st(n).pipe(Nr(e),ji(e))}function zA(n,e){return st(n).pipe(Nr(e),ji(e))}function $A(n,e){return new Se(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}function HA(n,e){return new Se(t=>{let i;return Ti(t,e,()=>{i=n[ym](),Ti(t,e,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){t.error(o);return}s?t.complete():t.next(r)},0,!0)}),()=>Ae(i?.return)&&i.return()})}function bm(n,e){if(!n)throw new Error("Iterable cannot be null");return new Se(t=>{Ti(t,e,()=>{let i=n[Symbol.asyncIterator]();Ti(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function GA(n,e){return bm(vm(n),e)}function qA(n,e){if(n!=null){if(pm(n))return jA(n,e);if(Eu(n))return $A(n,e);if(fm(n))return zA(n,e);if(gm(n))return bm(n,e);if(_m(n))return HA(n,e);if(wm(n))return GA(n,e)}throw mm(n)}function Ge(n,e){return e?qA(n,e):st(n)}function ce(...n){let e=gs(n);return Ge(n,e)}function Iu(n,e){let t=Ae(n)?n:()=>n,i=r=>r.error(t());return new Se(e?r=>e.schedule(i,0,r):i)}function nb(n){return!!n&&(n instanceof Se||Ae(n.lift)&&Ae(n.subscribe))}var oo=pu(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function WA(n){return n instanceof Date&&!isNaN(n)}function se(n,e){return Fe((t,i)=>{let r=0;t.subscribe(Re(i,s=>{i.next(n.call(e,s,r++))}))})}var{isArray:u4}=Array;function d4(n,e){return u4(e)?n(...e):n(e)}function Du(n){return se(e=>d4(n,e))}var{isArray:h4}=Array,{getPrototypeOf:f4,prototype:p4,keys:g4}=Object;function Cm(n){if(n.length===1){let e=n[0];if(h4(e))return{args:e,keys:null};if(m4(e)){let t=g4(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}function m4(n){return n&&typeof n=="object"&&f4(n)===p4}function Em(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function rr(...n){let e=gs(n),t=sa(n),{args:i,keys:r}=Cm(n);if(i.length===0)return Ge([],e);let s=new Se(y4(i,e,r?o=>Em(r,o):jn));return t?s.pipe(Du(t)):s}function y4(n,e,t=jn){return i=>{KA(e,()=>{let{length:r}=n,s=new Array(r),o=r,a=r;for(let l=0;l<r;l++)KA(e,()=>{let c=Ge(n[l],e),d=!1;c.subscribe(Re(i,f=>{s[l]=f,d||(d=!0,a--),a||i.next(t(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}function KA(n,e,t){n?Ti(t,n,e):e()}function QA(n,e,t,i,r,s,o,a){let l=[],c=0,d=0,f=!1,m=()=>{f&&!l.length&&!c&&e.complete()},v=A=>c<i?C(A):l.push(A),C=A=>{s&&e.next(A),c++;let S=!1;st(t(A,d++)).subscribe(Re(e,j=>{r?.(j),s?v(j):e.next(j)},()=>{S=!0},void 0,()=>{if(S)try{for(c--;l.length&&c<i;){let j=l.shift();o?Ti(e,o,()=>C(j)):C(j)}m()}catch(j){e.error(j)}}))};return n.subscribe(Re(e,v,()=>{f=!0,m()})),()=>{a?.()}}function Gt(n,e,t=1/0){return Ae(e)?Gt((i,r)=>se((s,o)=>e(i,s,r,o))(st(n(i,r))),t):(typeof e=="number"&&(t=e),Fe((i,r)=>QA(i,r,n,t)))}function ms(n=1/0){return Gt(jn,n)}function ZA(){return ms(1)}function oa(...n){return ZA()(Ge(n,gs(n)))}function Im(n){return new Se(e=>{st(n()).subscribe(e)})}function ib(...n){let e=sa(n),{args:t,keys:i}=Cm(n),r=new Se(s=>{let{length:o}=t;if(!o){s.complete();return}let a=new Array(o),l=o,c=o;for(let d=0;d<o;d++){let f=!1;st(t[d]).subscribe(Re(s,m=>{f||(f=!0,c--),a[d]=m},()=>l--,void 0,()=>{(!l||!f)&&(c||s.next(i?Em(i,a):a),s.complete())}))}});return e?r.pipe(Du(e)):r}var _4=["addListener","removeListener"],v4=["addEventListener","removeEventListener"],w4=["on","off"];function sr(n,e,t,i){if(Ae(t)&&(i=t,t=void 0),i)return sr(n,e,t).pipe(Du(i));let[r,s]=E4(n)?v4.map(o=>a=>n[o](e,a,t)):b4(n)?_4.map(YA(n,e)):C4(n)?w4.map(YA(n,e)):[];if(!r&&Eu(n))return Gt(o=>sr(o,e,t))(st(n));if(!r)throw new TypeError("Invalid event target");return new Se(o=>{let a=(...l)=>o.next(1<l.length?l:l[0]);return r(a),()=>s(a)})}function YA(n,e){return t=>i=>n[t](e,i)}function b4(n){return Ae(n.addListener)&&Ae(n.removeListener)}function C4(n){return Ae(n.on)&&Ae(n.off)}function E4(n){return Ae(n.addEventListener)&&Ae(n.removeEventListener)}function rb(n=0,e,t=Xw){let i=-1;return e!=null&&(hm(e)?t=e:i=e),new Se(r=>{let s=WA(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){r.closed||(r.next(o++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function Dm(...n){let e=gs(n),t=BA(n,1/0),i=n;return i.length?i.length===1?st(i[0]):ms(t)(Ge(i,e)):In}var{isArray:I4}=Array;function Tm(n){return n.length===1&&I4(n[0])?n[0]:n}function Ut(n,e){return Fe((t,i)=>{let r=0;t.subscribe(Re(i,s=>n.call(e,s,r++)&&i.next(s)))})}function sb(...n){return n=Tm(n),n.length===1?st(n[0]):new Se(D4(n))}function D4(n){return e=>{let t=[];for(let i=0;t&&!e.closed&&i<n.length;i++)t.push(st(n[i]).subscribe(Re(e,r=>{if(t){for(let s=0;s<t.length;s++)s!==i&&t[s].unsubscribe();t=null}e.next(r)})))}}function qh(...n){let e=sa(n),t=Tm(n);return t.length?new Se(i=>{let r=t.map(()=>[]),s=t.map(()=>!1);i.add(()=>{r=s=null});for(let o=0;!i.closed&&o<t.length;o++)st(t[o]).subscribe(Re(i,a=>{if(r[o].push(a),r.every(l=>l.length)){let l=r.map(c=>c.shift());i.next(e?e(...l):l),r.some((c,d)=>!c.length&&s[d])&&i.complete()}},()=>{s[o]=!0,!r[o].length&&i.complete()}));return()=>{r=s=null}}):In}function Jn(n){return Fe((e,t)=>{let i=null,r=!1,s;i=e.subscribe(Re(t,void 0,void 0,o=>{s=st(n(o,Jn(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}function JA(n,e,t,i,r){return(s,o)=>{let a=t,l=e,c=0;s.subscribe(Re(o,d=>{let f=c++;l=a?n(l,d,f):(a=!0,d),i&&o.next(l)},r&&(()=>{a&&o.next(l),o.complete()})))}}function ao(n,e){return Ae(e)?Gt(n,e,1):Gt(n,1)}function ob(n,e=ra){return Fe((t,i)=>{let r=null,s=null,o=null,a=()=>{if(r){r.unsubscribe(),r=null;let c=s;s=null,i.next(c)}};function l(){let c=o+n,d=e.now();if(d<c){r=this.schedule(void 0,c-d),i.add(r);return}a()}t.subscribe(Re(i,c=>{s=c,o=e.now(),r||(r=e.schedule(l,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{s=r=null}))})}function aa(n){return Fe((e,t)=>{let i=!1;e.subscribe(Re(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function tn(n){return n<=0?()=>In:Fe((e,t)=>{let i=0;e.subscribe(Re(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function ab(n){return se(()=>n)}function Sm(n,e=jn){return n=n??T4,Fe((t,i)=>{let r,s=!0;t.subscribe(Re(i,o=>{let a=e(o);(s||!n(r,a))&&(s=!1,r=a,i.next(o))}))})}function T4(n,e){return n===e}function Mm(n=S4){return Fe((e,t)=>{let i=!1;e.subscribe(Re(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function S4(){return new oo}function lb(...n){return e=>oa(e,ce(...n))}function zn(n){return Fe((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function or(n,e){let t=arguments.length>=2;return i=>i.pipe(n?Ut((r,s)=>n(r,s,i)):jn,tn(1),t?aa(e):Mm(()=>new oo))}function Tu(n){return n<=0?()=>In:Fe((e,t)=>{let i=[];e.subscribe(Re(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(let r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function cb(n,e){let t=arguments.length>=2;return i=>i.pipe(n?Ut((r,s)=>n(r,s,i)):jn,Tu(1),t?aa(e):Mm(()=>new oo))}function Wh(){return Fe((n,e)=>{let t,i=!1;n.subscribe(Re(e,r=>{let s=t;t=r,i&&e.next([s,r]),i=!0}))})}function Rl(n,e){return Fe(JA(n,e,arguments.length>=2,!0))}function XA(n={}){let{connector:e=()=>new ke,resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return s=>{let o,a,l,c=0,d=!1,f=!1,m=()=>{a?.unsubscribe(),a=void 0},v=()=>{m(),o=l=void 0,d=f=!1},C=()=>{let A=o;v(),A?.unsubscribe()};return Fe((A,S)=>{c++,!f&&!d&&m();let j=l=l??e();S.add(()=>{c--,c===0&&!f&&!d&&(a=ub(C,r))}),j.subscribe(S),!o&&c>0&&(o=new so({next:Z=>j.next(Z),error:Z=>{f=!0,m(),a=ub(v,t,Z),j.error(Z)},complete:()=>{d=!0,m(),a=ub(v,i),j.complete()}}),st(A).subscribe(o))})(s)}}function ub(n,e,...t){if(e===!0){n();return}if(e===!1)return;let i=new so({next:()=>{i.unsubscribe(),n()}});return st(e(...t)).subscribe(i)}function Am(n,e,t){let i,r=!1;return n&&typeof n=="object"?{bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n:i=n??1/0,XA({connector:()=>new lm(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function kr(...n){let e=gs(n);return Fe((t,i)=>{(e?oa(n,t,e):oa(n,t)).subscribe(i)})}function Le(n,e){return Fe((t,i)=>{let r=null,s=0,o=!1,a=()=>o&&!r&&i.complete();t.subscribe(Re(i,l=>{r?.unsubscribe();let c=0,d=s++;st(n(l,d)).subscribe(r=Re(i,f=>i.next(e?e(l,f,d,c++):f),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function xm(n,e){return Ae(e)?Le(()=>n,e):Le(()=>n)}function dn(n){return Fe((e,t)=>{st(n).subscribe(Re(t,()=>t.complete(),Ml)),!t.closed&&e.subscribe(t)})}function qt(n,e,t){let i=Ae(n)||e||t?{next:n,error:e,complete:t}:n;return i?Fe((r,s)=>{var o;(o=i.subscribe)===null||o===void 0||o.call(i);let a=!0;r.subscribe(Re(s,l=>{var c;(c=i.next)===null||c===void 0||c.call(i,l),s.next(l)},()=>{var l;a=!1,(l=i.complete)===null||l===void 0||l.call(i),s.complete()},l=>{var c;a=!1,(c=i.error)===null||c===void 0||c.call(i,l),s.error(l)},()=>{var l,c;a&&((l=i.unsubscribe)===null||l===void 0||l.call(i)),(c=i.finalize)===null||c===void 0||c.call(i)}))}):jn}function Rm(...n){let e=sa(n);return Fe((t,i)=>{let r=n.length,s=new Array(r),o=n.map(()=>!1),a=!1;for(let l=0;l<r;l++)st(n[l]).subscribe(Re(i,c=>{s[l]=c,!a&&!o[l]&&(o[l]=!0,(a=o.every(jn))&&(o=null))},Ml));t.subscribe(Re(i,l=>{if(a){let c=[l,...s];i.next(e?e(...c):c)}}))})}var zx="https://g.co/ng/security#xss",ne=class extends Error{constructor(e,t){super(_0(e,t)),this.code=e}};function _0(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function sf(n){return{toString:n}.toString()}var Om="__parameters__";function M4(n){return function(...t){if(n){let i=n(...t);for(let r in i)this[r]=i[r]}}}function $x(n,e,t){return sf(()=>{let i=M4(e);function r(...s){if(this instanceof r)return i.apply(this,s),this;let o=new r(...s);return a.annotation=o,a;function a(l,c,d){let f=l.hasOwnProperty(Om)?l[Om]:Object.defineProperty(l,Om,{value:[]})[Om];for(;f.length<=d;)f.push(null);return(f[d]=f[d]||[]).push(o),l}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}var $n=globalThis;function St(n){for(let e in n)if(n[e]===St)return e;throw Error("Could not find renamed property on target object.")}function A4(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function hi(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(hi).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function Db(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var x4=St({__forward_ref__:St});function Es(n){return n.__forward_ref__=Es,n.toString=function(){return hi(this())},n}function di(n){return Hx(n)?n():n}function Hx(n){return typeof n=="function"&&n.hasOwnProperty(x4)&&n.__forward_ref__===Es}function X(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function ve(n){return{providers:n.providers||[],imports:n.imports||[]}}function v0(n){return ex(n,qx)||ex(n,Wx)}function Gx(n){return v0(n)!==null}function ex(n,e){return n.hasOwnProperty(e)?n[e]:null}function R4(n){let e=n&&(n[qx]||n[Wx]);return e||null}function tx(n){return n&&(n.hasOwnProperty(nx)||n.hasOwnProperty(O4))?n[nx]:null}var qx=St({\u0275prov:St}),nx=St({\u0275inj:St}),Wx=St({ngInjectableDef:St}),O4=St({ngInjectorDef:St}),oe=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=X({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Kx(n){return n&&!!n.\u0275providers}var N4=St({\u0275cmp:St}),k4=St({\u0275dir:St}),P4=St({\u0275pipe:St}),F4=St({\u0275mod:St}),Gm=St({\u0275fac:St}),Qh=St({__NG_ELEMENT_ID__:St}),ix=St({__NG_ENV_ID__:St});function Fl(n){return typeof n=="string"?n:n==null?"":String(n)}function L4(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Fl(n)}function V4(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new ne(-200,n)}function O1(n,e){throw new ne(-201,!1)}var Qe=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Qe||{}),Tb;function Qx(){return Tb}function Si(n){let e=Tb;return Tb=n,e}function Zx(n,e,t){let i=v0(n);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(t&Qe.Optional)return null;if(e!==void 0)return e;O1(n,"Injector")}var B4={},Yh=B4,Sb="__NG_DI_FLAG__",qm="ngTempTokenPath",U4="ngTokenPath",j4=/\n/gm,z4="\u0275",rx="__source",Ru;function $4(){return Ru}function la(n){let e=Ru;return Ru=n,e}function H4(n,e=Qe.Default){if(Ru===void 0)throw new ne(-203,!1);return Ru===null?Zx(n,void 0,e):Ru.get(n,e&Qe.Optional?null:void 0,e)}function G(n,e=Qe.Default){return(Qx()||H4)(di(n),e)}function K(n,e=Qe.Default){return G(n,w0(e))}function w0(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Mb(n){let e=[];for(let t=0;t<n.length;t++){let i=di(n[t]);if(Array.isArray(i)){if(i.length===0)throw new ne(900,!1);let r,s=Qe.Default;for(let o=0;o<i.length;o++){let a=i[o],l=G4(a);typeof l=="number"?l===-1?r=a.token:s|=l:r=a}e.push(G(r,s))}else e.push(G(i))}return e}function Yx(n,e){return n[Sb]=e,n.prototype[Sb]=e,n}function G4(n){return n[Sb]}function q4(n,e,t,i){let r=n[qm];throw e[rx]&&r.unshift(e[rx]),n.message=W4(`
`+n.message,r,t,i),n[U4]=r,n[qm]=null,n}function W4(n,e,t,i=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==z4?n.slice(2):n;let r=hi(e);if(Array.isArray(e))r=e.map(hi).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):hi(a)))}r=`{${s.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(j4,`
  `)}`}var Wl=Yx($x("Optional"),8);var b0=Yx($x("SkipSelf"),4);function Ll(n,e){let t=n.hasOwnProperty(Gm);return t?n[Gm]:null}function K4(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],s=e[i];if(t&&(r=t(r),s=t(s)),s!==r)return!1}return!0}function Q4(n){return n.flat(Number.POSITIVE_INFINITY)}function N1(n,e){n.forEach(t=>Array.isArray(t)?N1(t,e):e(t))}function Jx(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Wm(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Z4(n,e){let t=[];for(let i=0;i<n;i++)t.push(e);return t}function Y4(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(r===1)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;){let s=r-2;n[r]=n[s],r--}n[e]=t,n[e+1]=i}}function k1(n,e,t){let i=of(n,e);return i>=0?n[i|1]=t:(i=~i,Y4(n,i,e,t)),i}function db(n,e){let t=of(n,e);if(t>=0)return n[t|1]}function of(n,e){return J4(n,e,1)}function J4(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){let s=i+(r-i>>1),o=n[s<<t];if(e===o)return s<<t;o>e?r=s:i=s+1}return~(r<<t)}var Nu={},Mi=[],ku=new oe(""),Xx=new oe("",-1),eR=new oe(""),Km=class{get(e,t=Yh){if(t===Yh){let i=new Error(`NullInjectorError: No provider for ${hi(e)}!`);throw i.name="NullInjectorError",i}return t}},tR=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(tR||{}),vs=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(vs||{}),da=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(da||{});function X4(n,e,t){let i=n.length;for(;;){let r=n.indexOf(e,t);if(r===-1)return r;if(r===0||n.charCodeAt(r-1)<=32){let s=e.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}t=r+1}}function Ab(n,e,t){let i=0;for(;i<t.length;){let r=t[i];if(typeof r=="number"){if(r!==0)break;i++;let s=t[i++],o=t[i++],a=t[i++];n.setAttribute(e,o,a,s)}else{let s=r,o=t[++i];ej(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),i++}}return i}function nR(n){return n===3||n===4||n===6}function ej(n){return n.charCodeAt(0)===64}function Jh(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?t=r:t===0||(t===-1||t===2?sx(n,t,r,null,e[++i]):sx(n,t,r,null,null))}}return n}function sx(n,e,t,i,r){let s=0,o=n.length;if(e===-1)o=-1;else for(;s<n.length;){let a=n[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<n.length;){let a=n[s];if(typeof a=="number")break;if(a===t){if(i===null){r!==null&&(n[s+1]=r);return}else if(i===n[s+1]){n[s+2]=r;return}}s++,i!==null&&s++,r!==null&&s++}o!==-1&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),i!==null&&n.splice(s++,0,i),r!==null&&n.splice(s++,0,r)}var iR="ng-template";function tj(n,e,t,i){let r=0;if(i){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&X4(e[r+1].toLowerCase(),t,0)!==-1)return!0}else if(P1(n))return!1;if(r=e.indexOf(1,r),r>-1){let s;for(;++r<e.length&&typeof(s=e[r])=="string";)if(s.toLowerCase()===t)return!0}return!1}function P1(n){return n.type===4&&n.value!==iR}function nj(n,e,t){let i=n.type===4&&!t?iR:n.value;return e===i}function ij(n,e,t){let i=4,r=n.attrs,s=r!==null?oj(r):0,o=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!o&&!Pr(i)&&!Pr(l))return!1;if(o&&Pr(l))continue;o=!1,i=l|i&1;continue}if(!o)if(i&4){if(i=2|i&1,l!==""&&!nj(n,l,t)||l===""&&e.length===1){if(Pr(i))return!1;o=!0}}else if(i&8){if(r===null||!tj(n,r,l,t)){if(Pr(i))return!1;o=!0}}else{let c=e[++a],d=rj(l,r,P1(n),t);if(d===-1){if(Pr(i))return!1;o=!0;continue}if(c!==""){let f;if(d>s?f="":f=r[d+1].toLowerCase(),i&2&&c!==f){if(Pr(i))return!1;o=!0}}}}return Pr(i)||o}function Pr(n){return(n&1)===0}function rj(n,e,t,i){if(e===null)return-1;let r=0;if(i||!t){let s=!1;for(;r<e.length;){let o=e[r];if(o===n)return r;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(o===4)break;if(o===0){r+=4;continue}}r+=s?1:2}return-1}else return aj(e,n)}function rR(n,e,t=!1){for(let i=0;i<e.length;i++)if(ij(n,e[i],t))return!0;return!1}function sj(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if(!(t&1))return e[t+1]}return null}function oj(n){for(let e=0;e<n.length;e++){let t=n[e];if(nR(t))return e}return n.length}function aj(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let i=n[t];if(typeof i=="number")return-1;if(i===e)return t;t++}return-1}function lj(n,e){e:for(let t=0;t<e.length;t++){let i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function ox(n,e){return n?":not("+e.trim()+")":e}function cj(n){let e=n[0],t=1,i=2,r="",s=!1;for(;t<n.length;){let o=n[t];if(typeof o=="string")if(i&2){let a=n[++t];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+o:i&4&&(r+=" "+o);else r!==""&&!Pr(o)&&(e+=ox(s,r),r=""),i=o,s=s||!Pr(i);t++}return r!==""&&(e+=ox(s,r)),e}function uj(n){return n.map(cj).join(",")}function dj(n){let e=[],t=[],i=1,r=2;for(;i<n.length;){let s=n[i];if(typeof s=="string")r===2?s!==""&&e.push(s,n[++i]):r===8&&t.push(s);else{if(!Pr(r))break;r=s}i++}return{attrs:e,classes:t}}function Oe(n){return sf(()=>{let e=cR(n),t=Ee(Q({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===tR.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||vs.Emulated,styles:n.styles||Mi,_:null,schemas:n.schemas||null,tView:null,id:""});uR(t);let i=n.dependencies;return t.directiveDefs=lx(i,!1),t.pipeDefs=lx(i,!0),t.id=pj(t),t})}function hj(n){return lo(n)||sR(n)}function fj(n){return n!==null}function we(n){return sf(()=>({type:n.type,bootstrap:n.bootstrap||Mi,declarations:n.declarations||Mi,imports:n.imports||Mi,exports:n.exports||Mi,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function ax(n,e){if(n==null)return Nu;let t={};for(let i in n)if(n.hasOwnProperty(i)){let r=n[i],s,o,a=da.None;Array.isArray(r)?(a=r[0],s=r[1],o=r[2]??s):(s=r,o=r),e?(t[s]=a!==da.None?[i,a]:i,e[s]=o):t[s]=i}return t}function Ze(n){return sf(()=>{let e=cR(n);return uR(e),e})}function C0(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function lo(n){return n[N4]||null}function sR(n){return n[k4]||null}function oR(n){return n[P4]||null}function aR(n){let e=lo(n)||sR(n)||oR(n);return e!==null?e.standalone:!1}function lR(n,e){let t=n[F4]||null;if(!t&&e===!0)throw new Error(`Type ${hi(n)} does not have '\u0275mod' property.`);return t}function cR(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Nu,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||Mi,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ax(n.inputs,e),outputs:ax(n.outputs),debugInfo:null}}function uR(n){n.features?.forEach(e=>e(n))}function lx(n,e){if(!n)return null;let t=e?oR:hj;return()=>(typeof n=="function"?n():n).map(i=>t(i)).filter(fj)}function pj(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let r of t)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function ju(n){return{\u0275providers:n}}function gj(...n){return{\u0275providers:dR(!0,n),\u0275fromNgModule:!0}}function dR(n,...e){let t=[],i=new Set,r,s=o=>{t.push(o)};return N1(e,o=>{let a=o;xb(a,s,[],i)&&(r||=[],r.push(a))}),r!==void 0&&hR(r,s),t}function hR(n,e){for(let t=0;t<n.length;t++){let{ngModule:i,providers:r}=n[t];F1(r,s=>{e(s,i)})}}function xb(n,e,t,i){if(n=di(n),!n)return!1;let r=null,s=tx(n),o=!s&&lo(n);if(!s&&!o){let l=n.ngModule;if(s=tx(l),s)r=l;else return!1}else{if(o&&!o.standalone)return!1;r=n}let a=i.has(r);if(o){if(a)return!1;if(i.add(r),o.dependencies){let l=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let c of l)xb(c,e,t,i)}}else if(s){if(s.imports!=null&&!a){i.add(r);let c;try{N1(s.imports,d=>{xb(d,e,t,i)&&(c||=[],c.push(d))})}finally{}c!==void 0&&hR(c,e)}if(!a){let c=Ll(r)||(()=>new r);e({provide:r,useFactory:c,deps:Mi},r),e({provide:eR,useValue:r,multi:!0},r),e({provide:ku,useValue:()=>G(r),multi:!0},r)}let l=s.providers;if(l!=null&&!a){let c=n;F1(l,d=>{e(d,c)})}}else return!1;return r!==n&&n.providers!==void 0}function F1(n,e){for(let t of n)Kx(t)&&(t=t.\u0275providers),Array.isArray(t)?F1(t,e):e(t)}var mj=St({provide:String,useValue:St});function fR(n){return n!==null&&typeof n=="object"&&mj in n}function yj(n){return!!(n&&n.useExisting)}function _j(n){return!!(n&&n.useFactory)}function Pu(n){return typeof n=="function"}function vj(n){return!!n.useClass}var E0=new oe(""),Um={},wj={},hb;function I0(){return hb===void 0&&(hb=new Km),hb}var xn=class{},Xh=class extends xn{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ob(e,o=>this.processProvider(o)),this.records.set(Xx,Su(void 0,this)),r.has("environment")&&this.records.set(xn,Su(void 0,this));let s=this.records.get(E0);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(eR,Mi,Qe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=dt(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of t)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),dt(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=la(this),i=Si(void 0),r;try{return e()}finally{la(t),Si(i)}}get(e,t=Yh,i=Qe.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(ix))return e[ix](this);i=w0(i);let r,s=la(this),o=Si(void 0);try{if(!(i&Qe.SkipSelf)){let l=this.records.get(e);if(l===void 0){let c=Dj(e)&&v0(e);c&&this.injectableDefInScope(c)?l=Su(Rb(e),Um):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=i&Qe.Self?I0():this.parent;return t=i&Qe.Optional&&t===Yh?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[qm]=a[qm]||[]).unshift(hi(e)),s)throw a;return q4(a,e,"R3InjectorError",this.source)}else throw a}finally{Si(o),la(s)}}resolveInjectorInitializers(){let e=dt(null),t=la(this),i=Si(void 0),r;try{let s=this.get(ku,Mi,Qe.Self);for(let o of s)o()}finally{la(t),Si(i),dt(e)}}toString(){let e=[],t=this.records;for(let i of t.keys())e.push(hi(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ne(205,!1)}processProvider(e){e=di(e);let t=Pu(e)?e:di(e&&e.provide),i=Cj(e);if(!Pu(e)&&e.multi===!0){let r=this.records.get(t);r||(r=Su(void 0,Um,!0),r.factory=()=>Mb(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){let i=dt(null);try{return t.value===Um&&(t.value=wj,t.value=t.factory()),typeof t.value=="object"&&t.value&&Ij(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{dt(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=di(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Rb(n){let e=v0(n),t=e!==null?e.factory:Ll(n);if(t!==null)return t;if(n instanceof oe)throw new ne(204,!1);if(n instanceof Function)return bj(n);throw new ne(204,!1)}function bj(n){if(n.length>0)throw new ne(204,!1);let t=R4(n);return t!==null?()=>t.factory(n):()=>new n}function Cj(n){if(fR(n))return Su(void 0,n.useValue);{let e=pR(n);return Su(e,Um)}}function pR(n,e,t){let i;if(Pu(n)){let r=di(n);return Ll(r)||Rb(r)}else if(fR(n))i=()=>di(n.useValue);else if(_j(n))i=()=>n.useFactory(...Mb(n.deps||[]));else if(yj(n))i=()=>G(di(n.useExisting));else{let r=di(n&&(n.useClass||n.provide));if(Ej(n))i=()=>new r(...Mb(n.deps));else return Ll(r)||Rb(r)}return i}function Su(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Ej(n){return!!n.deps}function Ij(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function Dj(n){return typeof n=="function"||typeof n=="object"&&n instanceof oe}function Ob(n,e){for(let t of n)Array.isArray(t)?Ob(t,e):t&&Kx(t)?Ob(t.\u0275providers,e):e(t)}function cr(n,e){n instanceof Xh&&n.assertNotDestroyed();let t,i=la(n),r=Si(void 0);try{return e()}finally{la(i),Si(r)}}function gR(){return Qx()!==void 0||$4()!=null}function Tj(n){if(!gR())throw new ne(-203,!1)}function Sj(n){let e=$n.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function Mj(n){return typeof n=="function"}var Is=0,qe=1,Pe=2,Xn=3,Lr=4,Ai=5,ef=6,Qm=7,Vr=8,Fu=9,ws=10,jt=11,tf=12,cx=13,zu=14,lr=15,Vl=16,Mu=17,co=18,D0=19,mR=20,ca=21,fb=22,ar=23,fi=25,L1=1;var Bl=7,Zm=8,Lu=9,zi=10,Ym=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(Ym||{});function ua(n){return Array.isArray(n)&&typeof n[L1]=="object"}function go(n){return Array.isArray(n)&&n[L1]===!0}function V1(n){return(n.flags&4)!==0}function T0(n){return n.componentOffset>-1}function S0(n){return(n.flags&1)===1}function uo(n){return!!n.template}function Nb(n){return(n[Pe]&512)!==0}var kb=class{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}};function yR(n,e,t,i){e!==null?e.applyValueToInputSignal(e,i):n[t]=i}function Dn(){return _R}function _R(n){return n.type.prototype.ngOnChanges&&(n.setInput=xj),Aj}Dn.ngInherit=!0;function Aj(){let n=wR(this),e=n?.current;if(e){let t=n.previous;if(t===Nu)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function xj(n,e,t,i,r){let s=this.declaredInputs[i],o=wR(n)||Rj(n,{previous:Nu,current:null}),a=o.current||(o.current={}),l=o.previous,c=l[s];a[s]=new kb(c&&c.currentValue,t,l===Nu),yR(n,e,r,t)}var vR="__ngSimpleChanges__";function wR(n){return n[vR]||null}function Rj(n,e){return n[vR]=e}var ux=null;var ys=function(n,e,t){ux?.(n,e,t)},bR="svg",Oj="math";function bs(n){for(;Array.isArray(n);)n=n[Is];return n}function Nj(n){for(;Array.isArray(n);){if(typeof n[L1]=="object")return n;n=n[Is]}return null}function CR(n,e){return bs(e[n])}function ur(n,e){return bs(e[n.index])}function ER(n,e){return n.data[e]}function B1(n,e){return n[e]}function ma(n,e){let t=e[n];return ua(t)?t:t[Is]}function kj(n){return(n[Pe]&4)===4}function U1(n){return(n[Pe]&128)===128}function Pj(n){return go(n[Xn])}function Vu(n,e){return e==null?null:n[e]}function IR(n){n[Mu]=0}function DR(n){n[Pe]&1024||(n[Pe]|=1024,U1(n)&&A0(n))}function Fj(n,e){for(;n>0;)e=e[zu],n--;return e}function M0(n){return!!(n[Pe]&9216||n[ar]?.dirty)}function Pb(n){n[ws].changeDetectionScheduler?.notify(8),n[Pe]&64&&(n[Pe]|=1024),M0(n)&&A0(n)}function A0(n){n[ws].changeDetectionScheduler?.notify(0);let e=Ul(n);for(;e!==null&&!(e[Pe]&8192||(e[Pe]|=8192,!U1(e)));)e=Ul(e)}function TR(n,e){if((n[Pe]&256)===256)throw new ne(911,!1);n[ca]===null&&(n[ca]=[]),n[ca].push(e)}function Lj(n,e){if(n[ca]===null)return;let t=n[ca].indexOf(e);t!==-1&&n[ca].splice(t,1)}function Ul(n){let e=n[Xn];return go(e)?e[Xn]:e}var $e={lFrame:FR(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var SR=!1;function Vj(){return $e.lFrame.elementDepthCount}function Bj(){$e.lFrame.elementDepthCount++}function Uj(){$e.lFrame.elementDepthCount--}function MR(){return $e.bindingsEnabled}function AR(){return $e.skipHydrationRootTNode!==null}function jj(n){return $e.skipHydrationRootTNode===n}function zj(){$e.skipHydrationRootTNode=null}function Ve(){return $e.lFrame.lView}function Wt(){return $e.lFrame.tView}function ue(n){return $e.lFrame.contextLView=n,n[Vr]}function de(n){return $e.lFrame.contextLView=null,n}function Hn(){let n=xR();for(;n!==null&&n.type===64;)n=n.parent;return n}function xR(){return $e.lFrame.currentTNode}function $j(){let n=$e.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Kl(n,e){let t=$e.lFrame;t.currentTNode=n,t.isParent=e}function j1(){return $e.lFrame.isParent}function z1(){$e.lFrame.isParent=!1}function Hj(){return $e.lFrame.contextLView}function RR(){return SR}function dx(n){SR=n}function Ql(){let n=$e.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Gj(){return $e.lFrame.bindingIndex}function qj(n){return $e.lFrame.bindingIndex=n}function af(){return $e.lFrame.bindingIndex++}function $1(n){let e=$e.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function Wj(){return $e.lFrame.inI18n}function Kj(n,e){let t=$e.lFrame;t.bindingIndex=t.bindingRootIndex=n,Fb(e)}function Qj(){return $e.lFrame.currentDirectiveIndex}function Fb(n){$e.lFrame.currentDirectiveIndex=n}function OR(n){let e=$e.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function NR(){return $e.lFrame.currentQueryIndex}function H1(n){$e.lFrame.currentQueryIndex=n}function Zj(n){let e=n[qe];return e.type===2?e.declTNode:e.type===1?n[Ai]:null}function kR(n,e,t){if(t&Qe.SkipSelf){let r=e,s=n;for(;r=r.parent,r===null&&!(t&Qe.Host);)if(r=Zj(s),r===null||(s=s[zu],r.type&10))break;if(r===null)return!1;e=r,n=s}let i=$e.lFrame=PR();return i.currentTNode=e,i.lView=n,!0}function G1(n){let e=PR(),t=n[qe];$e.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function PR(){let n=$e.lFrame,e=n===null?null:n.child;return e===null?FR(n):e}function FR(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function LR(){let n=$e.lFrame;return $e.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var VR=LR;function q1(){let n=LR();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Yj(n){return($e.lFrame.contextLView=Fj(n,$e.lFrame.contextLView))[Vr]}function ya(){return $e.lFrame.selectedIndex}function jl(n){$e.lFrame.selectedIndex=n}function lf(){let n=$e.lFrame;return ER(n.tView,n.selectedIndex)}function Ds(){$e.lFrame.currentNamespace=bR}function BR(){Jj()}function Jj(){$e.lFrame.currentNamespace=null}function Xj(){return $e.lFrame.currentNamespace}var UR=!0;function x0(){return UR}function R0(n){UR=n}function ez(n,e,t){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(i){let o=_R(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}r&&(t.preOrderHooks??=[]).push(0-n,r),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}function O0(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){let s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:d}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),c&&((n.viewHooks??=[]).push(t,c),(n.viewCheckHooks??=[]).push(t,c)),d!=null&&(n.destroyHooks??=[]).push(t,d)}}function jm(n,e,t){jR(n,e,3,t)}function zm(n,e,t,i){(n[Pe]&3)===t&&jR(n,e,t,i)}function pb(n,e){let t=n[Pe];(t&3)===e&&(t&=16383,t+=1,n[Pe]=t)}function jR(n,e,t,i){let r=i!==void 0?n[Mu]&65535:0,s=i??-1,o=e.length-1,a=0;for(let l=r;l<o;l++)if(typeof e[l+1]=="number"){if(a=e[l],i!=null&&a>=i)break}else e[l]<0&&(n[Mu]+=65536),(a<s||s==-1)&&(tz(n,t,e,l),n[Mu]=(n[Mu]&4294901760)+l+2),l++}function hx(n,e){ys(4,n,e);let t=dt(null);try{e.call(n)}finally{dt(t),ys(5,n,e)}}function tz(n,e,t,i){let r=t[i]<0,s=t[i+1],o=r?-t[i]:t[i],a=n[o];r?n[Pe]>>14<n[Mu]>>16&&(n[Pe]&3)===e&&(n[Pe]+=16384,hx(a,s)):hx(a,s)}var Ou=-1,zl=class{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}};function nz(n){return n instanceof zl}function iz(n){return(n.flags&8)!==0}function rz(n){return(n.flags&16)!==0}var gb={},Lb=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=w0(i);let r=this.injector.get(e,gb,i);return r!==gb||t===gb?r:this.parentInjector.get(e,t,i)}};function zR(n){return n!==Ou}function Jm(n){return n&32767}function sz(n){return n>>16}function Xm(n,e){let t=sz(n),i=e;for(;t>0;)i=i[zu],t--;return i}var Vb=!0;function e0(n){let e=Vb;return Vb=n,e}var oz=256,$R=oz-1,HR=5,az=0,_s={};function lz(n,e,t){let i;typeof t=="string"?i=t.charCodeAt(0)||0:t.hasOwnProperty(Qh)&&(i=t[Qh]),i==null&&(i=t[Qh]=az++);let r=i&$R,s=1<<r;e.data[n+(r>>HR)]|=s}function t0(n,e){let t=GR(n,e);if(t!==-1)return t;let i=e[qe];i.firstCreatePass&&(n.injectorIndex=e.length,mb(i.data,n),mb(e,null),mb(i.blueprint,null));let r=W1(n,e),s=n.injectorIndex;if(zR(r)){let o=Jm(r),a=Xm(r,e),l=a[qe].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=r,s}function mb(n,e){n.push(0,0,0,0,0,0,0,0,e)}function GR(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function W1(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;r!==null;){if(i=ZR(r),i===null)return Ou;if(t++,r=r[zu],i.injectorIndex!==-1)return i.injectorIndex|t<<16}return Ou}function Bb(n,e,t){lz(n,e,t)}function cz(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let i=t.length,r=0;for(;r<i;){let s=t[r];if(nR(s))break;if(s===0)r=r+2;else if(typeof s=="number")for(r++;r<i&&typeof t[r]=="string";)r++;else{if(s===e)return t[r+1];r=r+2}}}return null}function qR(n,e,t){if(t&Qe.Optional||n!==void 0)return n;O1(e,"NodeInjector")}function WR(n,e,t,i){if(t&Qe.Optional&&i===void 0&&(i=null),!(t&(Qe.Self|Qe.Host))){let r=n[Fu],s=Si(void 0);try{return r?r.get(e,i,t&Qe.Optional):Zx(e,i,t&Qe.Optional)}finally{Si(s)}}return qR(i,e,t)}function KR(n,e,t,i=Qe.Default,r){if(n!==null){if(e[Pe]&2048&&!(i&Qe.Self)){let o=fz(n,e,t,i,_s);if(o!==_s)return o}let s=QR(n,e,t,i,_s);if(s!==_s)return s}return WR(e,t,i,r)}function QR(n,e,t,i,r){let s=dz(t);if(typeof s=="function"){if(!kR(e,n,i))return i&Qe.Host?qR(r,t,i):WR(e,t,i,r);try{let o;if(o=s(i),o==null&&!(i&Qe.Optional))O1(t);else return o}finally{VR()}}else if(typeof s=="number"){let o=null,a=GR(n,e),l=Ou,c=i&Qe.Host?e[lr][Ai]:null;for((a===-1||i&Qe.SkipSelf)&&(l=a===-1?W1(n,e):e[a+8],l===Ou||!px(i,!1)?a=-1:(o=e[qe],a=Jm(l),e=Xm(l,e)));a!==-1;){let d=e[qe];if(fx(s,a,d.data)){let f=uz(a,e,t,o,i,c);if(f!==_s)return f}l=e[a+8],l!==Ou&&px(i,e[qe].data[a+8]===c)&&fx(s,a,e)?(o=d,a=Jm(l),e=Xm(l,e)):a=-1}}return r}function uz(n,e,t,i,r,s){let o=e[qe],a=o.data[n+8],l=i==null?T0(a)&&Vb:i!=o&&(a.type&3)!==0,c=r&Qe.Host&&s===a,d=$m(a,o,t,l,c);return d!==null?$l(e,o,d,a):_s}function $m(n,e,t,i,r){let s=n.providerIndexes,o=e.data,a=s&1048575,l=n.directiveStart,c=n.directiveEnd,d=s>>20,f=i?a:a+d,m=r?a+d:c;for(let v=f;v<m;v++){let C=o[v];if(v<l&&t===C||v>=l&&C.type===t)return v}if(r){let v=o[l];if(v&&uo(v)&&v.type===t)return l}return null}function $l(n,e,t,i){let r=n[t],s=e.data;if(nz(r)){let o=r;o.resolving&&V4(L4(s[t]));let a=e0(o.canSeeViewProviders);o.resolving=!0;let l,c=o.injectImpl?Si(o.injectImpl):null,d=kR(n,i,Qe.Default);try{r=n[t]=o.factory(void 0,s,n,i),e.firstCreatePass&&t>=i.directiveStart&&ez(t,s[t],e)}finally{c!==null&&Si(c),e0(a),o.resolving=!1,VR()}}return r}function dz(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Qh)?n[Qh]:void 0;return typeof e=="number"?e>=0?e&$R:hz:e}function fx(n,e,t){let i=1<<n;return!!(t[e+(n>>HR)]&i)}function px(n,e){return!(n&Qe.Self)&&!(n&Qe.Host&&e)}var Pl=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return KR(this._tNode,this._lView,e,w0(i),t)}};function hz(){return new Pl(Hn(),Ve())}function pi(n){return sf(()=>{let e=n.prototype.constructor,t=e[Gm]||Ub(e),i=Object.prototype,r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){let s=r[Gm]||Ub(r);if(s&&s!==t)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function Ub(n){return Hx(n)?()=>{let e=Ub(di(n));return e&&e()}:Ll(n)}function fz(n,e,t,i,r){let s=n,o=e;for(;s!==null&&o!==null&&o[Pe]&2048&&!(o[Pe]&512);){let a=QR(s,o,t,i|Qe.Self,_s);if(a!==_s)return a;let l=s.parent;if(!l){let c=o[mR];if(c){let d=c.get(t,_s,i);if(d!==_s)return d}l=ZR(o),o=o[zu]}s=l}return r}function ZR(n){let e=n[qe],t=e.type;return t===2?e.declTNode:t===1?n[Ai]:null}function N0(n){return cz(Hn(),n)}function gx(n,e=null,t=null,i){let r=YR(n,e,t,i);return r.resolveInjectorInitializers(),r}function YR(n,e=null,t=null,i,r=new Set){let s=[t||Mi,gj(n)];return i=i||(typeof n=="object"?void 0:hi(n)),new Xh(s,e||I0(),i||null,r)}var Nl=class Nl{static create(e,t){if(Array.isArray(e))return gx({name:""},t,e,"");{let i=e.name??"";return gx({name:i},e.parent,e.providers,i)}}};Nl.THROW_IF_NOT_FOUND=Yh,Nl.NULL=new Km,Nl.\u0275prov=X({token:Nl,providedIn:"any",factory:()=>G(Xx)}),Nl.__NG_ELEMENT_ID__=-1;var nn=Nl;var pz=new oe("");pz.__NG_ELEMENT_ID__=n=>{let e=Hn();if(e===null)throw new ne(204,!1);if(e.type&2)return e.value;if(n&Qe.Optional)return null;throw new ne(204,!1)};var gz="ngOriginalError";function yb(n){return n[gz]}var JR=!0,k0=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=mz,e.__NG_ENV_ID__=i=>i;let n=e;return n})(),jb=class extends k0{constructor(e){super(),this._lView=e}onDestroy(e){return TR(this._lView,e),()=>Lj(this._lView,e)}};function mz(){return new jb(Ve())}var mo=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new kt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=X({token:e,providedIn:"root",factory:()=>new e});let n=e;return n})();var zb=class extends ke{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,gR()&&(this.destroyRef=K(k0,{optional:!0})??void 0,this.pendingTasks=K(mo,{optional:!0})??void 0)}emit(e){let t=dt(null);try{super.next(e)}finally{dt(t)}}subscribe(e,t,i){let r=e,s=t||(()=>null),o=i;if(e&&typeof e=="object"){let l=e;r=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=this.wrapInTimeout(s),r&&(r=this.wrapInTimeout(r)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:r,error:s,complete:o});return e instanceof Yt&&e.add(a),a}wrapInTimeout(e){return t=>{let i=this.pendingTasks?.add();setTimeout(()=>{e(t),i!==void 0&&this.pendingTasks?.remove(i)})}}},xe=zb;function n0(...n){}function XR(n){let e,t;function i(){n=n0;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),i()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),i()})),()=>i()}function mx(n){return queueMicrotask(()=>n()),()=>{n=n0}}var K1="isAngularZone",i0=K1+"_ID",yz=0,De=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xe(!1),this.onMicrotaskEmpty=new xe(!1),this.onStable=new xe(!1),this.onError=new xe(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:s=JR}=e;if(typeof Zone>"u")throw new ne(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&i,o.shouldCoalesceRunChangeDetection=r,o.callbackScheduled=!1,o.scheduleInRootZone=s,wz(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(K1)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new ne(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new ne(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,e,_z,n0,n0);try{return s.runTask(o,t,i)}finally{s.cancelTask(o)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}},_z={};function Q1(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function vz(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){XR(()=>{n.callbackScheduled=!1,$b(n),n.isCheckStableRunning=!0,Q1(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),$b(n)}function wz(n){let e=()=>{vz(n)},t=yz++;n._inner=n._inner.fork({name:"angular",properties:{[K1]:!0,[i0]:t,[i0+t]:!0},onInvokeTask:(i,r,s,o,a,l)=>{if(bz(l))return i.invokeTask(s,o,a,l);try{return yx(n),i.invokeTask(s,o,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),_x(n)}},onInvoke:(i,r,s,o,a,l,c)=>{try{return yx(n),i.invoke(s,o,a,l,c)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!Cz(l)&&e(),_x(n)}},onHasTask:(i,r,s,o)=>{i.hasTask(s,o),r===s&&(o.change=="microTask"?(n._hasPendingMicrotasks=o.microTask,$b(n),Q1(n)):o.change=="macroTask"&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(i,r,s,o)=>(i.handleError(s,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}function $b(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function yx(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function _x(n){n._nesting--,Q1(n)}var r0=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xe,this.onMicrotaskEmpty=new xe,this.onStable=new xe,this.onError=new xe}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}};function bz(n){return eO(n,"__ignore_ng_zone__")}function Cz(n){return eO(n,"__scheduler_tick__")}function eO(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}function Ez(n="zone.js",e){return n==="noop"?new r0:n==="zone.js"?new De(e):n}var ho=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&yb(e);for(;t&&yb(t);)t=yb(t);return t||null}},Iz=new oe("",{providedIn:"root",factory:()=>{let n=K(De),e=K(ho);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function Dz(){return $u(Hn(),Ve())}function $u(n,e){return new ht(ur(n,e))}var ht=(()=>{let e=class e{constructor(i){this.nativeElement=i}};e.__NG_ELEMENT_ID__=Dz;let n=e;return n})();function Tz(n){return n instanceof ht?n.nativeElement:n}function Sz(){return this._results[Symbol.iterator]()}var Hb=class n{get changes(){return this._changes??=new xe}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=n.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=Sz)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let i=Q4(e);(this._changesDetected=!K4(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function tO(n){return(n.flags&128)===128}var nO=new Map,Mz=0;function Az(){return Mz++}function xz(n){nO.set(n[D0],n)}function Gb(n){nO.delete(n[D0])}var vx="__ngContext__";function ha(n,e){ua(e)?(n[vx]=e[D0],xz(e)):n[vx]=e}function iO(n){return sO(n[tf])}function rO(n){return sO(n[Lr])}function sO(n){for(;n!==null&&!go(n);)n=n[Lr];return n}var qb;function oO(n){qb=n}function aO(){if(qb!==void 0)return qb;if(typeof document<"u")return document;throw new ne(210,!1)}var P0=new oe("",{providedIn:"root",factory:()=>Rz}),Rz="ng",Z1=new oe(""),bt=new oe("",{providedIn:"platform",factory:()=>"unknown"});var Y1=new oe(""),J1=new oe("",{providedIn:"root",factory:()=>aO().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Oz="h",Nz="b";var kz=()=>null;function X1(n,e,t=!1){return kz(n,e,t)}var lO=!1,Pz=new oe("",{providedIn:"root",factory:()=>lO});var Nm;function Fz(){if(Nm===void 0&&(Nm=null,$n.trustedTypes))try{Nm=$n.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Nm}function F0(n){return Fz()?.createHTML(n)||n}var km;function cO(){if(km===void 0&&(km=null,$n.trustedTypes))try{km=$n.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return km}function wx(n){return cO()?.createHTML(n)||n}function bx(n){return cO()?.createScriptURL(n)||n}var fo=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${zx})`}},Wb=class extends fo{getTypeName(){return"HTML"}},Kb=class extends fo{getTypeName(){return"Style"}},Qb=class extends fo{getTypeName(){return"Script"}},Zb=class extends fo{getTypeName(){return"URL"}},Yb=class extends fo{getTypeName(){return"ResourceURL"}};function dr(n){return n instanceof fo?n.changingThisBreaksApplicationSecurity:n}function yo(n,e){let t=Lz(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${zx})`)}return t===e}function Lz(n){return n instanceof fo&&n.getTypeName()||null}function uO(n){return new Wb(n)}function dO(n){return new Kb(n)}function hO(n){return new Qb(n)}function fO(n){return new Zb(n)}function pO(n){return new Yb(n)}function Vz(n){let e=new Xb(n);return Bz()?new Jb(e):e}var Jb=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(F0(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},Xb=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=F0(e),t}};function Bz(){try{return!!new window.DOMParser().parseFromString(F0(""),"text/html")}catch{return!1}}var Uz=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function L0(n){return n=String(n),n.match(Uz)?n:"unsafe:"+n}function _o(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function cf(...n){let e={};for(let t of n)for(let i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}var gO=_o("area,br,col,hr,img,wbr"),mO=_o("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),yO=_o("rp,rt"),jz=cf(yO,mO),zz=cf(mO,_o("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),$z=cf(yO,_o("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Cx=cf(gO,zz,$z,jz),_O=_o("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Hz=_o("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Gz=_o("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),qz=cf(_O,Hz,Gz),Wz=_o("script,style,template"),e1=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,i=!0,r=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild){r.push(t),t=Zz(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let s=Qz(t);if(s){t=s;break}t=r.pop()}}return this.buf.join("")}startElement(e){let t=Ex(e).toLowerCase();if(!Cx.hasOwnProperty(t))return this.sanitizedSomething=!0,!Wz.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let i=e.attributes;for(let r=0;r<i.length;r++){let s=i.item(r),o=s.name,a=o.toLowerCase();if(!qz.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;_O[a]&&(l=L0(l)),this.buf.push(" ",o,'="',Ix(l),'"')}return this.buf.push(">"),!0}endElement(e){let t=Ex(e).toLowerCase();Cx.hasOwnProperty(t)&&!gO.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(Ix(e))}};function Kz(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function Qz(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw vO(e);return e}function Zz(n){let e=n.firstChild;if(e&&Kz(n,e))throw vO(e);return e}function Ex(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function vO(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var Yz=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Jz=/([^\#-~ |!])/g;function Ix(n){return n.replace(/&/g,"&amp;").replace(Yz,function(e){let t=e.charCodeAt(0),i=e.charCodeAt(1);return"&#"+((t-55296)*1024+(i-56320)+65536)+";"}).replace(Jz,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Pm;function eC(n,e){let t=null;try{Pm=Pm||Vz(n);let i=e?String(e):"";t=Pm.getInertBodyElement(i);let r=5,s=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=t.innerHTML,t=Pm.getInertBodyElement(i)}while(i!==s);let a=new e1().sanitizeChildren(Dx(t)||t);return F0(a)}finally{if(t){let i=Dx(t)||t;for(;i.firstChild;)i.firstChild.remove()}}}function Dx(n){return"content"in n&&Xz(n)?n.content:null}function Xz(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var $i=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}($i||{});function tC(n){let e=nC();return e?wx(e.sanitize($i.HTML,n)||""):yo(n,"HTML")?wx(dr(n)):eC(aO(),Fl(n))}function Gn(n){let e=nC();return e?e.sanitize($i.URL,n)||"":yo(n,"URL")?dr(n):L0(Fl(n))}function e$(n){let e=nC();if(e)return bx(e.sanitize($i.RESOURCE_URL,n)||"");if(yo(n,"ResourceURL"))return bx(dr(n));throw new ne(904,!1)}function t$(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?e$:Gn}function wO(n,e,t){return t$(e,t)(n)}function nC(){let n=Ve();return n&&n[ws].sanitizer}var n$=/^>|^->|<!--|-->|--!>|<!-$/g,i$=/(<|>)/g,r$="\u200B$1\u200B";function s$(n){return n.replace(n$,e=>e.replace(i$,r$))}function uf(n){return n.ownerDocument.defaultView}function bO(n){return n instanceof Function?n():n}function o$(n){return(n??K(nn)).get(bt)==="browser"}var Cs=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Cs||{}),a$;function iC(n,e){return a$(n,e)}function Au(n,e,t,i,r){if(i!=null){let s,o=!1;go(i)?s=i:ua(i)&&(o=!0,i=i[Is]);let a=bs(i);n===0&&t!==null?r==null?SO(e,t,a):s0(e,t,a,r||null,!0):n===1&&t!==null?s0(e,t,a,r||null,!0):n===2?b$(e,a,o):n===3&&e.destroyNode(a),s!=null&&E$(e,n,s,t,r)}}function l$(n,e){return n.createText(e)}function c$(n,e,t){n.setValue(e,t)}function u$(n,e){return n.createComment(s$(e))}function CO(n,e,t){return n.createElement(e,t)}function d$(n,e){EO(n,e),e[Is]=null,e[Ai]=null}function h$(n,e,t,i,r,s){i[Is]=r,i[Ai]=e,B0(n,i,t,1,r,s)}function EO(n,e){e[ws].changeDetectionScheduler?.notify(9),B0(n,e,e[jt],2,null,null)}function f$(n){let e=n[tf];if(!e)return _b(n[qe],n);for(;e;){let t=null;if(ua(e))t=e[tf];else{let i=e[zi];i&&(t=i)}if(!t){for(;e&&!e[Lr]&&e!==n;)ua(e)&&_b(e[qe],e),e=e[Xn];e===null&&(e=n),ua(e)&&_b(e[qe],e),t=e&&e[Lr]}e=t}}function p$(n,e,t,i){let r=zi+i,s=t.length;i>0&&(t[r-1][Lr]=e),i<s-zi?(e[Lr]=t[r],Jx(t,zi+i,e)):(t.push(e),e[Lr]=null),e[Xn]=t;let o=e[Vl];o!==null&&t!==o&&IO(o,e);let a=e[co];a!==null&&a.insertView(n),Pb(e),e[Pe]|=128}function IO(n,e){let t=n[Lu],i=e[Xn];if(ua(i))n[Pe]|=Ym.HasTransplantedViews;else{let r=i[Xn][lr];e[lr]!==r&&(n[Pe]|=Ym.HasTransplantedViews)}t===null?n[Lu]=[e]:t.push(e)}function rC(n,e){let t=n[Lu],i=t.indexOf(e);t.splice(i,1)}function t1(n,e){if(n.length<=zi)return;let t=zi+e,i=n[t];if(i){let r=i[Vl];r!==null&&r!==n&&rC(r,i),e>0&&(n[t-1][Lr]=i[Lr]);let s=Wm(n,zi+e);d$(i[qe],i);let o=s[co];o!==null&&o.detachView(s[qe]),i[Xn]=null,i[Lr]=null,i[Pe]&=-129}return i}function DO(n,e){if(!(e[Pe]&256)){let t=e[jt];t.destroyNode&&B0(n,e,t,3,null,null),f$(e)}}function _b(n,e){if(e[Pe]&256)return;let t=dt(null);try{e[Pe]&=-129,e[Pe]|=256,e[ar]&&zw(e[ar]),m$(n,e),g$(n,e),e[qe].type===1&&e[jt].destroy();let i=e[Vl];if(i!==null&&go(e[Xn])){i!==e[Xn]&&rC(i,e);let r=e[co];r!==null&&r.detachView(n)}Gb(e)}finally{dt(t)}}function g$(n,e){let t=n.cleanup,i=e[Qm];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let o=t[s+3];o>=0?i[o]():i[-o].unsubscribe(),s+=2}else{let o=i[t[s+1]];t[s].call(o)}i!==null&&(e[Qm]=null);let r=e[ca];if(r!==null){e[ca]=null;for(let s=0;s<r.length;s++){let o=r[s];o()}}}function m$(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let i=0;i<t.length;i+=2){let r=e[t[i]];if(!(r instanceof zl)){let s=t[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=r[s[o]],l=s[o+1];ys(4,a,l);try{l.call(a)}finally{ys(5,a,l)}}else{ys(4,r,s);try{s.call(r)}finally{ys(5,r,s)}}}}}function TO(n,e,t){return y$(n,e.parent,t)}function y$(n,e,t){let i=e;for(;i!==null&&i.type&168;)e=i,i=e.parent;if(i===null)return t[Is];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:s}=n.data[i.directiveStart+r];if(s===vs.None||s===vs.Emulated)return null}return ur(i,t)}}function s0(n,e,t,i,r){n.insertBefore(e,t,i,r)}function SO(n,e,t){n.appendChild(e,t)}function Tx(n,e,t,i,r){i!==null?s0(n,e,t,i,r):SO(n,e,t)}function MO(n,e){return n.parentNode(e)}function _$(n,e){return n.nextSibling(e)}function AO(n,e,t){return w$(n,e,t)}function v$(n,e,t){return n.type&40?ur(n,t):null}var w$=v$,Sx;function V0(n,e,t,i){let r=TO(n,i,e),s=e[jt],o=i.parent||e[Ai],a=AO(o,i,e);if(r!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)Tx(s,r,t[l],a,!1);else Tx(s,r,t,a,!1);Sx!==void 0&&Sx(s,i,e,t,r)}function Kh(n,e){if(e!==null){let t=e.type;if(t&3)return ur(e,n);if(t&4)return n1(-1,n[e.index]);if(t&8){let i=e.child;if(i!==null)return Kh(n,i);{let r=n[e.index];return go(r)?n1(-1,r):bs(r)}}else{if(t&128)return Kh(n,e.next);if(t&32)return iC(e,n)()||bs(n[e.index]);{let i=xO(n,e);if(i!==null){if(Array.isArray(i))return i[0];let r=Ul(n[lr]);return Kh(r,i)}else return Kh(n,e.next)}}}return null}function xO(n,e){if(e!==null){let i=n[lr][Ai],r=e.projection;return i.projection[r]}return null}function n1(n,e){let t=zi+n+1;if(t<e.length){let i=e[t],r=i[qe].firstChild;if(r!==null)return Kh(i,r)}return e[Bl]}function b$(n,e,t){n.removeChild(null,e,t)}function sC(n,e,t,i,r,s,o){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=i[t.index],l=t.type;if(o&&e===0&&(a&&ha(bs(a),i),t.flags|=2),(t.flags&32)!==32)if(l&8)sC(n,e,t.child,i,r,s,!1),Au(e,n,r,a,s);else if(l&32){let c=iC(t,i),d;for(;d=c();)Au(e,n,r,d,s);Au(e,n,r,a,s)}else l&16?RO(n,e,i,t,r,s):Au(e,n,r,a,s);t=o?t.projectionNext:t.next}}function B0(n,e,t,i,r,s){sC(t,i,n.firstChild,e,r,s,!1)}function C$(n,e,t){let i=e[jt],r=TO(n,t,e),s=t.parent||e[Ai],o=AO(s,t,e);RO(i,0,e,t,r,o)}function RO(n,e,t,i,r,s){let o=t[lr],l=o[Ai].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let d=l[c];Au(e,n,r,d,s)}else{let c=l,d=o[Xn];tO(i)&&(c.flags|=128),sC(n,e,c,d,r,s,!0)}}function E$(n,e,t,i,r){let s=t[Bl],o=bs(t);s!==o&&Au(e,n,i,s,r);for(let a=zi;a<t.length;a++){let l=t[a];B0(l[qe],l,n,e,i,s)}}function I$(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let s=i.indexOf("-")===-1?void 0:Cs.DashCase;r==null?n.removeStyle(t,i,s):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=Cs.Important),n.setStyle(t,i,r,s))}}function D$(n,e,t){n.setAttribute(e,"style",t)}function OO(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function NO(n,e,t){let{mergedAttrs:i,classes:r,styles:s}=t;i!==null&&Ab(n,e,i),r!==null&&OO(n,e,r),s!==null&&D$(n,e,s)}var Hi={};function T(n=1){kO(Wt(),Ve(),ya()+n,!1)}function kO(n,e,t,i){if(!i)if((e[Pe]&3)===3){let s=n.preOrderCheckHooks;s!==null&&jm(e,s,t)}else{let s=n.preOrderHooks;s!==null&&zm(e,s,0,t)}jl(t)}function B(n,e=Qe.Default){let t=Ve();if(t===null)return G(n,e);let i=Hn();return KR(i,t,di(n),e)}function PO(){let n="invalid";throw new Error(n)}function FO(n,e,t,i,r,s){let o=dt(null);try{let a=null;r&da.SignalBased&&(a=e[i][ro]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),r&da.HasDecoratorInputTransform&&(s=n.inputTransforms[i].call(e,s)),n.setInput!==null?n.setInput(e,a,s,t,i):yR(e,a,i,s)}finally{dt(o)}}function T$(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let i=0;i<t.length;i++){let r=t[i];if(r<0)jl(~r);else{let s=r,o=t[++i],a=t[++i];Kj(o,s);let l=e[s];a(2,l)}}}finally{jl(-1)}}function U0(n,e,t,i,r,s,o,a,l,c,d){let f=e.blueprint.slice();return f[Is]=r,f[Pe]=i|4|128|8|64,(c!==null||n&&n[Pe]&2048)&&(f[Pe]|=2048),IR(f),f[Xn]=f[zu]=n,f[Vr]=t,f[ws]=o||n&&n[ws],f[jt]=a||n&&n[jt],f[Fu]=l||n&&n[Fu]||null,f[Ai]=s,f[D0]=Az(),f[ef]=d,f[mR]=c,f[lr]=e.type==2?n[lr]:f,f}function Hu(n,e,t,i,r){let s=n.data[e];if(s===null)s=S$(n,e,t,i,r),Wj()&&(s.flags|=32);else if(s.type&64){s.type=t,s.value=i,s.attrs=r;let o=$j();s.injectorIndex=o===null?-1:o.injectorIndex}return Kl(s,!0),s}function S$(n,e,t,i,r){let s=xR(),o=j1(),a=o?s:s&&s.parent,l=n.data[e]=N$(n,a,t,e,i,r);return n.firstChild===null&&(n.firstChild=l),s!==null&&(o?s.child==null&&l.parent!==null&&(s.child=l):s.next===null&&(s.next=l,l.prev=s)),l}function LO(n,e,t,i){if(t===0)return-1;let r=e.length;for(let s=0;s<t;s++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function VO(n,e,t,i,r){let s=ya(),o=i&2;try{jl(-1),o&&e.length>fi&&kO(n,e,fi,!1),ys(o?2:0,r),t(i,r)}finally{jl(s),ys(o?3:1,r)}}function oC(n,e,t){if(V1(e)){let i=dt(null);try{let r=e.directiveStart,s=e.directiveEnd;for(let o=r;o<s;o++){let a=n.data[o];if(a.contentQueries){let l=t[o];a.contentQueries(1,l,o)}}}finally{dt(i)}}}function aC(n,e,t){MR()&&(B$(n,e,t,ur(t,e)),(t.flags&64)===64&&jO(n,e,t))}function lC(n,e,t=ur){let i=e.localNames;if(i!==null){let r=e.index+1;for(let s=0;s<i.length;s+=2){let o=i[s+1],a=o===-1?t(e,n):n[o];n[r++]=a}}}function BO(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=cC(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function cC(n,e,t,i,r,s,o,a,l,c,d){let f=fi+i,m=f+r,v=M$(f,m),C=typeof c=="function"?c():c;return v[qe]={type:n,blueprint:v,template:t,queries:null,viewQuery:a,declTNode:e,data:v.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:l,consts:C,incompleteFirstPass:!1,ssrId:d}}function M$(n,e){let t=[];for(let i=0;i<e;i++)t.push(i<n?null:Hi);return t}function A$(n,e,t,i){let s=i.get(Pz,lO)||t===vs.ShadowDom,o=n.selectRootElement(e,s);return x$(o),o}function x$(n){R$(n)}var R$=()=>null;function O$(n,e,t,i){let r=HO(e);r.push(t),n.firstCreatePass&&GO(n).push(i,r.length-1)}function N$(n,e,t,i,r,s){let o=e?e.injectorIndex:-1,a=0;return AR()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Mx(n,e,t,i,r){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;i??={};let a,l=da.None;Array.isArray(o)?(a=o[0],l=o[1]):a=o;let c=s;if(r!==null){if(!r.hasOwnProperty(s))continue;c=r[s]}n===0?Ax(i,t,c,a,l):Ax(i,t,c,a)}return i}function Ax(n,e,t,i,r){let s;n.hasOwnProperty(t)?(s=n[t]).push(e,i):s=n[t]=[e,i],r!==void 0&&s.push(r)}function k$(n,e,t){let i=e.directiveStart,r=e.directiveEnd,s=n.data,o=e.attrs,a=[],l=null,c=null;for(let d=i;d<r;d++){let f=s[d],m=t?t.get(f):null,v=m?m.inputs:null,C=m?m.outputs:null;l=Mx(0,f.inputs,d,l,v),c=Mx(1,f.outputs,d,c,C);let A=l!==null&&o!==null&&!P1(e)?Z$(l,d,o):null;a.push(A)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}function P$(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function j0(n,e,t,i,r,s,o,a){let l=ur(e,t),c=e.inputs,d;!a&&c!=null&&(d=c[i])?(dC(n,t,d,i,r),T0(e)&&F$(t,e.index)):e.type&3?(i=P$(i),r=o!=null?o(r,e.value||"",i):r,s.setProperty(l,i,r)):e.type&12}function F$(n,e){let t=ma(e,n);t[Pe]&16||(t[Pe]|=64)}function uC(n,e,t,i){if(MR()){let r=i===null?null:{"":-1},s=j$(n,t),o,a;s===null?o=a=null:[o,a]=s,o!==null&&UO(n,e,t,o,r,a),r&&z$(t,i,r)}t.mergedAttrs=Jh(t.mergedAttrs,t.attrs)}function UO(n,e,t,i,r,s){for(let c=0;c<i.length;c++)Bb(t0(t,e),n,i[c].type);H$(t,n.data.length,i.length);for(let c=0;c<i.length;c++){let d=i[c];d.providersResolver&&d.providersResolver(d)}let o=!1,a=!1,l=LO(n,e,i.length,null);for(let c=0;c<i.length;c++){let d=i[c];t.mergedAttrs=Jh(t.mergedAttrs,d.hostAttrs),G$(n,t,e,l,d),$$(l,d,r),d.contentQueries!==null&&(t.flags|=4),(d.hostBindings!==null||d.hostAttrs!==null||d.hostVars!==0)&&(t.flags|=64);let f=d.type.prototype;!o&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),o=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}k$(n,t,s)}function L$(n,e,t,i,r){let s=r.hostBindings;if(s){let o=n.hostBindingOpCodes;o===null&&(o=n.hostBindingOpCodes=[]);let a=~e.index;V$(o)!=a&&o.push(a),o.push(t,i,s)}}function V$(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function B$(n,e,t,i){let r=t.directiveStart,s=t.directiveEnd;T0(t)&&q$(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||t0(t,e),ha(i,e);let o=t.initialInputs;for(let a=r;a<s;a++){let l=n.data[a],c=$l(e,n,a,t);if(ha(c,e),o!==null&&Q$(e,a-r,c,l,t,o),uo(l)){let d=ma(t.index,e);d[Vr]=$l(e,n,a,t)}}}function jO(n,e,t){let i=t.directiveStart,r=t.directiveEnd,s=t.index,o=Qj();try{jl(s);for(let a=i;a<r;a++){let l=n.data[a],c=e[a];Fb(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&U$(l,c)}}finally{jl(-1),Fb(o)}}function U$(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function j$(n,e){let t=n.directiveRegistry,i=null,r=null;if(t)for(let s=0;s<t.length;s++){let o=t[s];if(rR(e,o.selectors,!1))if(i||(i=[]),uo(o))if(o.findHostDirectiveDefs!==null){let a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),i.unshift(...a,o);let l=a.length;i1(n,e,l)}else i.unshift(o),i1(n,e,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return i===null?null:[i,r]}function i1(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function z$(n,e,t){if(e){let i=n.localNames=[];for(let r=0;r<e.length;r+=2){let s=t[e[r+1]];if(s==null)throw new ne(-301,!1);i.push(e[r],s)}}}function $$(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;uo(e)&&(t[""]=n)}}function H$(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function G$(n,e,t,i,r){n.data[i]=r;let s=r.factory||(r.factory=Ll(r.type,!0)),o=new zl(s,uo(r),B);n.blueprint[i]=o,t[i]=o,L$(n,e,i,LO(n,t,r.hostVars,Hi),r)}function q$(n,e,t){let i=ur(e,n),r=BO(t),s=n[ws].rendererFactory,o=16;t.signals?o=4096:t.onPush&&(o=64);let a=z0(n,U0(n,r,null,o,i,e,null,s.createRenderer(i,t),null,null,null));n[e.index]=a}function W$(n,e,t,i,r,s){let o=ur(n,e);K$(e[jt],o,s,n.value,t,i,r)}function K$(n,e,t,i,r,s,o){if(s==null)n.removeAttribute(e,r,t);else{let a=o==null?Fl(s):o(s,i||"",r);n.setAttribute(e,r,a,t)}}function Q$(n,e,t,i,r,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let l=o[a++],c=o[a++],d=o[a++],f=o[a++];FO(i,t,l,c,d,f)}}function Z$(n,e,t){let i=null,r=0;for(;r<t.length;){let s=t[r];if(s===0){r+=4;continue}else if(s===5){r+=2;continue}if(typeof s=="number")break;if(n.hasOwnProperty(s)){i===null&&(i=[]);let o=n[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){i.push(s,o[a+1],o[a+2],t[r+1]);break}}r+=2}return i}function zO(n,e,t,i){return[n,!0,0,e,null,i,null,t,null,null]}function $O(n,e){let t=n.contentQueries;if(t!==null){let i=dt(null);try{for(let r=0;r<t.length;r+=2){let s=t[r],o=t[r+1];if(o!==-1){let a=n.data[o];H1(s),a.contentQueries(2,e[o],o)}}}finally{dt(i)}}}function z0(n,e){return n[tf]?n[cx][Lr]=e:n[tf]=e,n[cx]=e,e}function r1(n,e,t){H1(0);let i=dt(null);try{e(n,t)}finally{dt(i)}}function HO(n){return n[Qm]??=[]}function GO(n){return n.cleanup??=[]}function Y$(n,e,t){return(n===null||uo(n))&&(t=Nj(t[e.index])),t[jt]}function qO(n,e){let t=n[Fu],i=t?t.get(ho,null):null;i&&i.handleError(e)}function dC(n,e,t,i,r){for(let s=0;s<t.length;){let o=t[s++],a=t[s++],l=t[s++],c=e[o],d=n.data[o];FO(d,c,i,a,l,r)}}function WO(n,e,t){let i=CR(e,n);c$(n[jt],i,t)}function J$(n,e){let t=ma(e,n),i=t[qe];X$(i,t);let r=t[Is];r!==null&&t[ef]===null&&(t[ef]=X1(r,t[Fu])),hC(i,t,t[Vr])}function X$(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function hC(n,e,t){G1(e);try{let i=n.viewQuery;i!==null&&r1(1,i,t);let r=n.template;r!==null&&VO(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[co]?.finishViewCreation(n),n.staticContentQueries&&$O(n,e),n.staticViewQueries&&r1(2,n.viewQuery,t);let s=n.components;s!==null&&e6(e,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[Pe]&=-5,q1()}}function e6(n,e){for(let t=0;t<e.length;t++)J$(n,e[t])}function KO(n,e,t,i){let r=dt(null);try{let s=e.tView,a=n[Pe]&4096?4096:16,l=U0(n,s,t,a,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),c=n[e.index];l[Vl]=c;let d=n[co];return d!==null&&(l[co]=d.createEmbeddedView(s)),hC(s,l,t),l}finally{dt(r)}}function s1(n,e){return!e||e.firstChild===null||tO(n)}function QO(n,e,t,i=!0){let r=e[qe];if(p$(r,e,n,t),i){let o=n1(t,n),a=e[jt],l=MO(a,n[Bl]);l!==null&&h$(r,n[Ai],a,e,l,o)}let s=e[ef];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function o0(n,e,t,i,r=!1){for(;t!==null;){if(t.type===128){t=r?t.projectionNext:t.next;continue}let s=e[t.index];s!==null&&i.push(bs(s)),go(s)&&t6(s,i);let o=t.type;if(o&8)o0(n,e,t.child,i);else if(o&32){let a=iC(t,e),l;for(;l=a();)i.push(l)}else if(o&16){let a=xO(e,t);if(Array.isArray(a))i.push(...a);else{let l=Ul(e[lr]);o0(l[qe],l,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function t6(n,e){for(let t=zi;t<n.length;t++){let i=n[t],r=i[qe].firstChild;r!==null&&o0(i[qe],i,r,e)}n[Bl]!==n[Is]&&e.push(n[Bl])}var ZO=[];function n6(n){return n[ar]??i6(n)}function i6(n){let e=ZO.pop()??Object.create(s6);return e.lView=n,e}function r6(n){n.lView[ar]!==n&&(n.lView=null,ZO.push(n))}var s6=Ee(Q({},$h),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{A0(n.lView)},consumerOnSignalRead(){this.lView[ar]=this}});function o6(n){let e=n[ar]??Object.create(a6);return e.lView=n,e}var a6=Ee(Q({},$h),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=Ul(n.lView);for(;e&&!YO(e[qe]);)e=Ul(e);e&&DR(e)},consumerOnSignalRead(){this.lView[ar]=this}});function YO(n){return n.type!==2}var l6=100;function JO(n,e=!0,t=0){let i=n[ws],r=i.rendererFactory,s=!1;s||r.begin?.();try{c6(n,t)}catch(o){throw e&&qO(n,o),o}finally{s||(r.end?.(),i.inlineEffectRunner?.flush())}}function c6(n,e){let t=RR();try{dx(!0),o1(n,e);let i=0;for(;M0(n);){if(i===l6)throw new ne(103,!1);i++,o1(n,1)}}finally{dx(t)}}function u6(n,e,t,i){let r=e[Pe];if((r&256)===256)return;let s=!1,o=!1;!s&&e[ws].inlineEffectRunner?.flush(),G1(e);let a=!0,l=null,c=null;s||(YO(n)?(c=n6(e),l=em(c)):_A()===null?(a=!1,c=o6(e),l=em(c)):e[ar]&&(zw(e[ar]),e[ar]=null));try{IR(e),qj(n.bindingStartIndex),t!==null&&VO(n,e,t,2,i);let d=(r&3)===3;if(!s)if(d){let v=n.preOrderCheckHooks;v!==null&&jm(e,v,null)}else{let v=n.preOrderHooks;v!==null&&zm(e,v,0,null),pb(e,0)}if(o||d6(e),XO(e,0),n.contentQueries!==null&&$O(n,e),!s)if(d){let v=n.contentCheckHooks;v!==null&&jm(e,v)}else{let v=n.contentHooks;v!==null&&zm(e,v,1),pb(e,1)}T$(n,e);let f=n.components;f!==null&&tN(e,f,0);let m=n.viewQuery;if(m!==null&&r1(2,m,i),!s)if(d){let v=n.viewCheckHooks;v!==null&&jm(e,v)}else{let v=n.viewHooks;v!==null&&zm(e,v,2),pb(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[fb]){for(let v of e[fb])v();e[fb]=null}s||(e[Pe]&=-73)}catch(d){throw s||A0(e),d}finally{c!==null&&(Uw(c,l),a&&r6(c)),q1()}}function XO(n,e){for(let t=iO(n);t!==null;t=rO(t))for(let i=zi;i<t.length;i++){let r=t[i];eN(r,e)}}function d6(n){for(let e=iO(n);e!==null;e=rO(e)){if(!(e[Pe]&Ym.HasTransplantedViews))continue;let t=e[Lu];for(let i=0;i<t.length;i++){let r=t[i];DR(r)}}}function h6(n,e,t){let i=ma(e,n);eN(i,t)}function eN(n,e){U1(n)&&o1(n,e)}function o1(n,e){let i=n[qe],r=n[Pe],s=n[ar],o=!!(e===0&&r&16);if(o||=!!(r&64&&e===0),o||=!!(r&1024),o||=!!(s?.dirty&&jw(s)),o||=!1,s&&(s.dirty=!1),n[Pe]&=-9217,o)u6(i,n,i.template,n[Vr]);else if(r&8192){XO(n,1);let a=i.components;a!==null&&tN(n,a,1)}}function tN(n,e,t){for(let i=0;i<e.length;i++)h6(n,e[i],t)}function fC(n,e){let t=RR()?64:1088;for(n[ws].changeDetectionScheduler?.notify(e);n;){n[Pe]|=t;let i=Ul(n);if(Nb(n)&&!i)return n;n=i}return null}var Hl=class{get rootNodes(){let e=this._lView,t=e[qe];return o0(t,e,t.firstChild,[])}constructor(e,t,i=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Vr]}set context(e){this._lView[Vr]=e}get destroyed(){return(this._lView[Pe]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Xn];if(go(e)){let t=e[Zm],i=t?t.indexOf(this):-1;i>-1&&(t1(e,i),Wm(t,i))}this._attachedToViewContainer=!1}DO(this._lView[qe],this._lView)}onDestroy(e){TR(this._lView,e)}markForCheck(){fC(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Pe]&=-129}reattach(){Pb(this._lView),this._lView[Pe]|=128}detectChanges(){this._lView[Pe]|=1024,JO(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ne(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Nb(this._lView),t=this._lView[Vl];t!==null&&!e&&rC(t,this._lView),EO(this._lView[qe],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ne(902,!1);this._appRef=e;let t=Nb(this._lView),i=this._lView[Vl];i!==null&&!t&&IO(i,this._lView),Pb(this._lView)}},Br=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=g6;let n=e;return n})(),f6=Br,p6=class extends f6{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){let r=KO(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:i});return new Hl(r)}};function g6(){return $0(Hn(),Ve())}function $0(n,e){return n.type&4?new p6(e,n,$u(n,e)):null}var Mde=new RegExp(`^(\\d+)*(${Nz}|${Oz})*(.*)`);var m6=()=>null;function a1(n,e){return m6(n,e)}var Bu=class{},nN=new oe("",{providedIn:"root",factory:()=>!1});var iN=new oe(""),rN=new oe(""),l1=class{},a0=class{};function y6(n){let e=Error(`No component factory found for ${hi(n)}.`);return e[_6]=n,e}var _6="ngComponent";var c1=class{resolveComponentFactory(e){throw y6(e)}},SC=class SC{};SC.NULL=new c1;var fa=SC,pa=class{},ei=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>v6();let n=e;return n})();function v6(){let n=Ve(),e=Hn(),t=ma(e.index,n);return(ua(t)?t:n)[jt]}var w6=(()=>{let e=class e{};e.\u0275prov=X({token:e,providedIn:"root",factory:()=>null});let n=e;return n})();function l0(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)r=Db(r,a);else if(s==2){let l=a,c=e[++o];i=Db(i,l+": "+c+";")}}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}var c0=class extends fa{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=lo(e);return new Gl(t,this.ngModule)}};function xx(n,e){let t=[];for(let i in n){if(!n.hasOwnProperty(i))continue;let r=n[i];if(r===void 0)continue;let s=Array.isArray(r),o=s?r[0]:r,a=s?r[1]:da.None;e?t.push({propName:o,templateName:i,isSignal:(a&da.SignalBased)!==0}):t.push({propName:o,templateName:i})}return t}function b6(n){let e=n.toLowerCase();return e==="svg"?bR:e==="math"?Oj:null}var Gl=class extends a0{get inputs(){let e=this.componentDef,t=e.inputTransforms,i=xx(e.inputs,!0);if(t!==null)for(let r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return xx(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=uj(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let s=dt(null);try{r=r||this.ngModule;let o=r instanceof xn?r:r?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new Lb(e,o):e,l=a.get(pa,null);if(l===null)throw new ne(407,!1);let c=a.get(w6,null),d=a.get(Bu,null),f={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,changeDetectionScheduler:d},m=l.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",C=i?A$(m,i,this.componentDef.encapsulation,a):CO(m,v,b6(v)),A=512;this.componentDef.signals?A|=4096:this.componentDef.onPush||(A|=16);let S=null;C!==null&&(S=X1(C,a,!0));let j=cC(0,null,null,1,0,null,null,null,null,null,null),Z=U0(null,j,null,A,null,null,f,m,a,null,S);G1(Z);let W,Y,ge=null;try{let ae=this.componentDef,x,D=null;ae.findHostDirectiveDefs?(x=[],D=new Map,ae.findHostDirectiveDefs(ae,x,D),x.push(ae)):x=[ae];let M=C6(Z,C);ge=E6(M,C,ae,x,Z,f,m),Y=ER(j,fi),C&&T6(m,ae,C,i),t!==void 0&&S6(Y,this.ngContentSelectors,t),W=D6(ge,ae,x,D,Z,[M6]),hC(j,Z,null)}catch(ae){throw ge!==null&&Gb(ge),Gb(Z),ae}finally{q1()}return new u1(this.componentType,W,$u(Y,Z),Z,Y)}finally{dt(s)}}},u1=class extends l1{constructor(e,t,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Hl(r,void 0,!1),this.componentType=e}setInput(e,t){let i=this._tNode.inputs,r;if(i!==null&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let s=this._rootLView;dC(s[qe],s,r,e,t),this.previousInputValues.set(e,t);let o=ma(this._tNode.index,s);fC(o,1)}}get injector(){return new Pl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function C6(n,e){let t=n[qe],i=fi;return n[i]=e,Hu(t,i,2,"#host",null)}function E6(n,e,t,i,r,s,o){let a=r[qe];I6(i,n,e,o);let l=null;e!==null&&(l=X1(e,r[Fu]));let c=s.rendererFactory.createRenderer(e,t),d=16;t.signals?d=4096:t.onPush&&(d=64);let f=U0(r,BO(t),null,d,r[n.index],n,s,c,null,null,l);return a.firstCreatePass&&i1(a,n,i.length-1),z0(r,f),r[n.index]=f}function I6(n,e,t,i){for(let r of n)e.mergedAttrs=Jh(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(l0(e,e.mergedAttrs,!0),t!==null&&NO(i,t,e))}function D6(n,e,t,i,r,s){let o=Hn(),a=r[qe],l=ur(o,r);UO(a,r,o,t,null,i);for(let d=0;d<t.length;d++){let f=o.directiveStart+d,m=$l(r,a,f,o);ha(m,r)}jO(a,r,o),l&&ha(l,r);let c=$l(r,a,o.directiveStart+o.componentOffset,o);if(n[Vr]=r[Vr]=c,s!==null)for(let d of s)d(c,e);return oC(a,o,r),c}function T6(n,e,t,i){if(i)Ab(n,t,["ng-version","18.2.4"]);else{let{attrs:r,classes:s}=dj(e.selectors[0]);r&&Ab(n,t,r),s&&s.length>0&&OO(n,t,s.join(" "))}}function S6(n,e,t){let i=n.projection=[];for(let r=0;r<e.length;r++){let s=t[r];i.push(s!=null?Array.from(s):null)}}function M6(){let n=Hn();O0(Ve()[qe],n)}var Ts=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=A6;let n=e;return n})();function A6(){let n=Hn();return oN(n,Ve())}var x6=Ts,sN=class extends x6{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return $u(this._hostTNode,this._hostLView)}get injector(){return new Pl(this._hostTNode,this._hostLView)}get parentInjector(){let e=W1(this._hostTNode,this._hostLView);if(zR(e)){let t=Xm(e,this._hostLView),i=Jm(e),r=t[qe].data[i+8];return new Pl(r,t)}else return new Pl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=Rx(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-zi}createEmbeddedView(e,t,i){let r,s;typeof i=="number"?r=i:i!=null&&(r=i.index,s=i.injector);let o=a1(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},s,o);return this.insertImpl(a,r,s1(this._hostTNode,o)),a}createComponent(e,t,i,r,s){let o=e&&!Mj(e),a;if(o)a=t;else{let C=t||{};a=C.index,i=C.injector,r=C.projectableNodes,s=C.environmentInjector||C.ngModuleRef}let l=o?e:new Gl(lo(e)),c=i||this.parentInjector;if(!s&&l.ngModule==null){let A=(o?c:this.parentInjector).get(xn,null);A&&(s=A)}let d=lo(l.componentType??{}),f=a1(this._lContainer,d?.id??null),m=f?.firstChild??null,v=l.create(c,r,m,s);return this.insertImpl(v.hostView,a,s1(this._hostTNode,f)),v}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,i){let r=e._lView;if(Pj(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=r[Xn],c=new sN(l,l[Ai],l[Xn]);c.detach(c.indexOf(e))}}let s=this._adjustIndex(t),o=this._lContainer;return QO(o,r,s,i),e.attachToViewContainerRef(),Jx(vb(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=Rx(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),i=t1(this._lContainer,t);i&&(Wm(vb(this._lContainer),t),DO(i[qe],i))}detach(e){let t=this._adjustIndex(e,-1),i=t1(this._lContainer,t);return i&&Wm(vb(this._lContainer),t)!=null?new Hl(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function Rx(n){return n[Zm]}function vb(n){return n[Zm]||(n[Zm]=[])}function oN(n,e){let t,i=e[n.index];return go(i)?t=i:(t=zO(i,e,null,n),e[n.index]=t,z0(e,t)),O6(t,e,n,i),new sN(t,n,e)}function R6(n,e){let t=n[jt],i=t.createComment(""),r=ur(e,n),s=MO(t,r);return s0(t,s,i,_$(t,r),!1),i}var O6=P6,N6=()=>!1;function k6(n,e,t){return N6(n,e,t)}function P6(n,e,t,i){if(n[Bl])return;let r;t.type&8?r=bs(i):r=R6(e,t),n[Bl]=r}var d1=class n{constructor(e){this.queryList=e,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},h1=class n{constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let i=e.contentQueries!==null?e.contentQueries[0]:t.length,r=[];for(let s=0;s<i;s++){let o=t.getByIndex(s),a=this.queries[o.indexInDeclarationView];r.push(a.clone())}return new n(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)pC(e,t).matches!==null&&this.queries[t].setDirty()}},u0=class{constructor(e,t,i=null){this.flags=t,this.read=i,typeof e=="string"?this.predicate=$6(e):this.predicate=e}},f1=class n{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){let r=t!==null?t.length:0,s=this.getByIndex(i).embeddedTView(e,r);s&&(s.indexInDeclarationView=i,t!==null?t.push(s):t=[s])}return t!==null?new n(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},p1=class n{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==t;)i=i.parent;return t===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let s=i[r];this.matchTNodeWithReadOption(e,t,F6(t,s)),this.matchTNodeWithReadOption(e,t,$m(t,e,s,!1,!1))}else i===Br?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,$m(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===ht||r===Ts||r===Br&&t.type&4)this.addMatch(t.index,-2);else{let s=$m(t,e,r,!1,!1);s!==null&&this.addMatch(t.index,s)}else this.addMatch(t.index,i)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function F6(n,e){let t=n.localNames;if(t!==null){for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1]}return null}function L6(n,e){return n.type&11?$u(n,e):n.type&4?$0(n,e):null}function V6(n,e,t,i){return t===-1?L6(e,n):t===-2?B6(n,e,i):$l(n,n[qe],t,e)}function B6(n,e,t){if(t===ht)return $u(e,n);if(t===Br)return $0(e,n);if(t===Ts)return oN(e,n)}function aN(n,e,t,i){let r=e[co].queries[i];if(r.matches===null){let s=n.data,o=t.matches,a=[];for(let l=0;o!==null&&l<o.length;l+=2){let c=o[l];if(c<0)a.push(null);else{let d=s[c];a.push(V6(e,d,o[l+1],t.metadata.read))}}r.matches=a}return r.matches}function g1(n,e,t,i){let r=n.queries.getByIndex(t),s=r.matches;if(s!==null){let o=aN(n,e,r,t);for(let a=0;a<s.length;a+=2){let l=s[a];if(l>0)i.push(o[a/2]);else{let c=s[a+1],d=e[-l];for(let f=zi;f<d.length;f++){let m=d[f];m[Vl]===m[Xn]&&g1(m[qe],m,c,i)}if(d[Lu]!==null){let f=d[Lu];for(let m=0;m<f.length;m++){let v=f[m];g1(v[qe],v,c,i)}}}}}return i}function U6(n,e){return n[co].queries[e].queryList}function lN(n,e,t){let i=new Hb((t&4)===4);return O$(n,e,i,i.destroy),(e[co]??=new h1).queries.push(new d1(i))-1}function j6(n,e,t){let i=Wt();return i.firstCreatePass&&(cN(i,new u0(n,e,t),-1),(e&2)===2&&(i.staticViewQueries=!0)),lN(i,Ve(),e)}function z6(n,e,t,i){let r=Wt();if(r.firstCreatePass){let s=Hn();cN(r,new u0(e,t,i),s.index),H6(r,n),(t&2)===2&&(r.staticContentQueries=!0)}return lN(r,Ve(),t)}function $6(n){return n.split(",").map(e=>e.trim())}function cN(n,e,t){n.queries===null&&(n.queries=new f1),n.queries.track(new p1(e,t))}function H6(n,e){let t=n.contentQueries||(n.contentQueries=[]),i=t.length?t[t.length-1]:-1;e!==i&&t.push(n.queries.length-1,e)}function pC(n,e){return n.queries.getByIndex(e)}function G6(n,e){let t=n[qe],i=pC(t,e);return i.crossesNgTemplate?g1(t,n,e,[]):aN(t,n,i,e)}var Ox=new Set;function Zl(n){Ox.has(n)||(Ox.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function q6(n){return typeof n=="function"&&n[ro]!==void 0}function xi(n,e){Zl("NgSignals");let t=AA(n),i=t[ro];return e?.equal&&(i.equal=e.equal),t.set=r=>$w(i,r),t.update=r=>xA(i,r),t.asReadonly=W6.bind(t),t}function W6(){let n=this[ro];if(n.readonlyFn===void 0){let e=()=>this();e[ro]=n,n.readonlyFn=e}return n.readonlyFn}function uN(n){return q6(n)&&typeof n.set=="function"}function K6(n){let e=[],t=new Map;function i(r){let s=t.get(r);if(!s){let o=n(r);t.set(r,s=o.then(J6))}return s}return d0.forEach((r,s)=>{let o=[];r.templateUrl&&o.push(i(r.templateUrl).then(c=>{r.template=c}));let a=typeof r.styles=="string"?[r.styles]:r.styles||[];if(r.styles=a,r.styleUrl&&r.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(r.styleUrls?.length){let c=r.styles.length,d=r.styleUrls;r.styleUrls.forEach((f,m)=>{a.push(""),o.push(i(f).then(v=>{a[c+m]=v,d.splice(d.indexOf(f),1),d.length==0&&(r.styleUrls=void 0)}))})}else r.styleUrl&&o.push(i(r.styleUrl).then(c=>{a.push(c),r.styleUrl=void 0}));let l=Promise.all(o).then(()=>X6(s));e.push(l)}),Z6(),Promise.all(e).then(()=>{})}var d0=new Map,Q6=new Set;function Z6(){let n=d0;return d0=new Map,n}function Y6(){return d0.size===0}function J6(n){return typeof n=="string"?n:n.text()}function X6(n){Q6.delete(n)}function e8(n){return Object.getPrototypeOf(n.prototype).constructor}function hn(n){let e=e8(n.type),t=!0,i=[n];for(;e;){let r;if(uo(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ne(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);let o=n;o.inputs=Fm(n.inputs),o.inputTransforms=Fm(n.inputTransforms),o.declaredInputs=Fm(n.declaredInputs),o.outputs=Fm(n.outputs);let a=r.hostBindings;a&&s8(n,a);let l=r.viewQuery,c=r.contentQueries;if(l&&i8(n,l),c&&r8(n,c),t8(n,r),A4(n.outputs,r.outputs),uo(r)&&r.data.animation){let d=n.data;d.animation=(d.animation||[]).concat(r.data.animation)}}let s=r.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(n),a===hn&&(t=!1)}}e=Object.getPrototypeOf(e)}n8(i)}function t8(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let i=e.inputs[t];if(i!==void 0&&(n.inputs[t]=i,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;n.inputTransforms??={},n.inputTransforms[r]=e.inputTransforms[r]}}}function n8(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){let r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Jh(r.hostAttrs,t=Jh(t,r.hostAttrs))}}function Fm(n){return n===Nu?{}:n===Mi?[]:n}function i8(n,e){let t=n.viewQuery;t?n.viewQuery=(i,r)=>{e(i,r),t(i,r)}:n.viewQuery=e}function r8(n,e){let t=n.contentQueries;t?n.contentQueries=(i,r,s)=>{e(i,r,s),t(i,r,s)}:n.contentQueries=e}function s8(n,e){let t=n.hostBindings;t?n.hostBindings=(i,r)=>{e(i,r),t(i,r)}:n.hostBindings=e}function gi(n){let e=n.inputConfig,t={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i];Array.isArray(r)&&r[3]&&(t[i]=r[3])}n.inputTransforms=t}var ga=class{},nf=class{};var h0=class extends ga{constructor(e,t,i,r=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new c0(this);let s=lR(e);this._bootstrapComponents=bO(s.bootstrap),this._r3Injector=YR(e,t,[{provide:ga,useValue:this},{provide:fa,useValue:this.componentFactoryResolver},...i],hi(e),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},f0=class extends nf{constructor(e){super(),this.moduleType=e}create(e){return new h0(this.moduleType,e,[])}};function o8(n,e,t){return new h0(n,e,t,!1)}var m1=class extends ga{constructor(e){super(),this.componentFactoryResolver=new c0(this),this.instance=null;let t=new Xh([...e.providers,{provide:ga,useValue:this},{provide:fa,useValue:this.componentFactoryResolver}],e.parent||I0(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function H0(n,e,t=null){return new m1({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function dN(n){return gC(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function a8(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),i;for(;!(i=t.next()).done;)e(i.value)}}function gC(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function df(n,e,t){return n[e]=t}function l8(n,e){return n[e]}function Ur(n,e,t){let i=n[e];return Object.is(i,t)?!1:(n[e]=t,!0)}function p0(n,e,t,i){let r=Ur(n,e,t);return Ur(n,e+1,i)||r}function c8(n,e,t,i,r,s){let o=p0(n,e,t,i);return p0(n,e+2,r,s)||o}function u8(n){return(n.flags&32)===32}function d8(n,e,t,i,r,s,o,a,l){let c=e.consts,d=Hu(e,n,4,o||null,a||null);uC(e,t,d,Vu(c,l)),O0(e,d);let f=d.tView=cC(2,d,i,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return e.queries!==null&&(e.queries.template(e,d),f.queries=e.queries.embeddedTView(d)),d}function hN(n,e,t,i,r,s,o,a,l,c){let d=t+fi,f=e.firstCreatePass?d8(d,e,n,i,r,s,o,a,l):e.data[d];Kl(f,!1);let m=h8(e,n,f,t);x0()&&V0(e,n,m,f),ha(m,n);let v=zO(m,n,m,f);return n[d]=v,z0(n,v),k6(v,f,n),S0(f)&&aC(e,n,f),l!=null&&lC(n,f,c),f}function J(n,e,t,i,r,s,o,a){let l=Ve(),c=Wt(),d=Vu(c.consts,s);return hN(l,c,n,e,t,i,r,d,o,a),J}var h8=f8;function f8(n,e,t,i){return R0(!0),e[jt].createComment("")}var xu=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(xu||{}),fN=(()=>{let e=class e{constructor(){this.impl=null}execute(){this.impl?.execute()}};e.\u0275prov=X({token:e,providedIn:"root",factory:()=>new e});let n=e;return n})(),kl=class kl{constructor(){this.ngZone=K(De),this.scheduler=K(Bu),this.errorHandler=K(ho,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(let e of kl.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(i){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}};kl.PHASES=[xu.EarlyRead,xu.Write,xu.MixedReadWrite,xu.Read],kl.\u0275prov=X({token:kl,providedIn:"root",factory:()=>new kl});var y1=kl,_1=class{constructor(e,t,i,r){this.impl=e,this.hooks=t,this.once=i,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=r.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy()}};function mC(n,e){!e?.injector&&Tj(mC);let t=e?.injector??K(nn);return o$(t)?(Zl("NgAfterNextRender"),g8(n,t,e,!0)):m8}function p8(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function g8(n,e,t,i){let r=e.get(fN);r.impl??=e.get(y1);let s=t?.phase??xu.MixedReadWrite,o=new _1(r.impl,p8(n,s),i,e.get(k0));return r.impl.register(o),o}var m8={destroy(){}};function Xe(n,e,t,i){let r=Ve(),s=af();if(Ur(r,s,e)){let o=Wt(),a=lf();W$(a,r,n,e,t,i)}return Xe}function pN(n,e,t,i){return Ur(n,af(),t)?e+Fl(t)+i:Hi}function y8(n,e,t,i,r,s){let o=Gj(),a=p0(n,o,t,r);return $1(2),a?e+Fl(t)+i+Fl(r)+s:Hi}function Lm(n,e){return n<<17|e<<2}function ql(n){return n>>17&32767}function _8(n){return(n&2)==2}function v8(n,e){return n&131071|e<<17}function v1(n){return n|2}function Uu(n){return(n&131068)>>2}function wb(n,e){return n&-131069|e<<2}function w8(n){return(n&1)===1}function w1(n){return n|1}function b8(n,e,t,i,r,s){let o=s?e.classBindings:e.styleBindings,a=ql(o),l=Uu(o);n[i]=t;let c=!1,d;if(Array.isArray(t)){let f=t;d=f[1],(d===null||of(f,d)>0)&&(c=!0)}else d=t;if(r)if(l!==0){let m=ql(n[a+1]);n[i+1]=Lm(m,a),m!==0&&(n[m+1]=wb(n[m+1],i)),n[a+1]=v8(n[a+1],i)}else n[i+1]=Lm(a,0),a!==0&&(n[a+1]=wb(n[a+1],i)),a=i;else n[i+1]=Lm(l,0),a===0?a=i:n[l+1]=wb(n[l+1],i),l=i;c&&(n[i+1]=v1(n[i+1])),Nx(n,d,i,!0),Nx(n,d,i,!1),C8(e,d,n,i,s),o=Lm(a,l),s?e.classBindings=o:e.styleBindings=o}function C8(n,e,t,i,r){let s=r?n.residualClasses:n.residualStyles;s!=null&&typeof e=="string"&&of(s,e)>=0&&(t[i+1]=w1(t[i+1]))}function Nx(n,e,t,i){let r=n[t+1],s=e===null,o=i?ql(r):Uu(r),a=!1;for(;o!==0&&(a===!1||s);){let l=n[o],c=n[o+1];E8(l,e)&&(a=!0,n[o+1]=i?w1(c):v1(c)),o=i?ql(c):Uu(c)}a&&(n[t+1]=i?v1(r):w1(r))}function E8(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?of(n,e)>=0:!1}var Fr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function I8(n){return n.substring(Fr.key,Fr.keyEnd)}function D8(n){return T8(n),gN(n,mN(n,0,Fr.textEnd))}function gN(n,e){let t=Fr.textEnd;return t===e?-1:(e=Fr.keyEnd=S8(n,Fr.key=e,t),mN(n,e,t))}function T8(n){Fr.key=0,Fr.keyEnd=0,Fr.value=0,Fr.valueEnd=0,Fr.textEnd=n.length}function mN(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function S8(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function O(n,e,t){let i=Ve(),r=af();if(Ur(i,r,e)){let s=Wt(),o=lf();j0(s,o,i,n,e,i[jt],t,!1)}return O}function b1(n,e,t,i,r){let s=e.inputs,o=r?"class":"style";dC(n,t,s[o],o,i)}function _a(n,e,t){return yN(n,e,t,!1),_a}function jr(n,e){return yN(n,e,null,!0),jr}function Et(n){A8(P8,M8,n,!0)}function M8(n,e){for(let t=D8(e);t>=0;t=gN(e,t))k1(n,I8(e),!0)}function yN(n,e,t,i){let r=Ve(),s=Wt(),o=$1(2);if(s.firstUpdatePass&&vN(s,n,o,i),e!==Hi&&Ur(r,o,e)){let a=s.data[ya()];wN(s,a,r,r[jt],n,r[o+1]=L8(e,t),i,o)}}function A8(n,e,t,i){let r=Wt(),s=$1(2);r.firstUpdatePass&&vN(r,null,s,i);let o=Ve();if(t!==Hi&&Ur(o,s,t)){let a=r.data[ya()];if(bN(a,i)&&!_N(r,s)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(t=Db(l,t||"")),b1(r,a,o,t,i)}else F8(r,a,o,o[jt],o[s+1],o[s+1]=k8(n,e,t),i,s)}}function _N(n,e){return e>=n.expandoStartIndex}function vN(n,e,t,i){let r=n.data;if(r[t+1]===null){let s=r[ya()],o=_N(n,t);bN(s,i)&&e===null&&!o&&(e=!1),e=x8(r,s,e,i),b8(r,s,e,t,o,i)}}function x8(n,e,t,i){let r=OR(n),s=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(t=bb(null,n,e,t,i),t=rf(t,e.attrs,i),s=null);else{let o=e.directiveStylingLast;if(o===-1||n[o]!==r)if(t=bb(r,n,e,t,i),s===null){let l=R8(n,e,i);l!==void 0&&Array.isArray(l)&&(l=bb(null,n,e,l[1],i),l=rf(l,e.attrs,i),O8(n,e,i,l))}else s=N8(n,e,i)}return s!==void 0&&(i?e.residualClasses=s:e.residualStyles=s),t}function R8(n,e,t){let i=t?e.classBindings:e.styleBindings;if(Uu(i)!==0)return n[ql(i)]}function O8(n,e,t,i){let r=t?e.classBindings:e.styleBindings;n[ql(r)]=i}function N8(n,e,t){let i,r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++){let o=n[s].hostAttrs;i=rf(i,o,t)}return rf(i,e.attrs,t)}function bb(n,e,t,i,r){let s=null,o=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<o&&(s=e[a],i=rf(i,s.hostAttrs,r),s!==n);)a++;return n!==null&&(t.directiveStylingLast=a),i}function rf(n,e,t){let i=t?1:2,r=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?r=o:r===i&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),k1(n,o,t?!0:e[++s]))}return n===void 0?null:n}function k8(n,e,t){if(t==null||t==="")return Mi;let i=[],r=dr(t);if(Array.isArray(r))for(let s=0;s<r.length;s++)n(i,r[s],!0);else if(typeof r=="object")for(let s in r)r.hasOwnProperty(s)&&n(i,s,r[s]);else typeof r=="string"&&e(i,r);return i}function P8(n,e,t){let i=String(e);i!==""&&!i.includes(" ")&&k1(n,i,t)}function F8(n,e,t,i,r,s,o,a){r===Hi&&(r=Mi);let l=0,c=0,d=0<r.length?r[0]:null,f=0<s.length?s[0]:null;for(;d!==null||f!==null;){let m=l<r.length?r[l+1]:void 0,v=c<s.length?s[c+1]:void 0,C=null,A;d===f?(l+=2,c+=2,m!==v&&(C=f,A=v)):f===null||d!==null&&d<f?(l+=2,C=d):(c+=2,C=f,A=v),C!==null&&wN(n,e,t,i,C,A,o,a),d=l<r.length?r[l]:null,f=c<s.length?s[c]:null}}function wN(n,e,t,i,r,s,o,a){if(!(e.type&3))return;let l=n.data,c=l[a+1],d=w8(c)?kx(l,e,t,r,Uu(c),o):void 0;if(!g0(d)){g0(s)||_8(c)&&(s=kx(l,null,t,r,a,o));let f=CR(ya(),t);I$(i,o,f,r,s)}}function kx(n,e,t,i,r,s){let o=e===null,a;for(;r>0;){let l=n[r],c=Array.isArray(l),d=c?l[1]:l,f=d===null,m=t[r+1];m===Hi&&(m=f?Mi:void 0);let v=f?db(m,i):d===i?m:void 0;if(c&&!g0(v)&&(v=db(l,i)),g0(v)&&(a=v,o))return a;let C=n[r+1];r=o?ql(C):Uu(C)}if(e!==null){let l=s?e.residualClasses:e.residualStyles;l!=null&&(a=db(l,i))}return a}function g0(n){return n!==void 0}function L8(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=hi(dr(n)))),n}function bN(n,e){return(n.flags&(e?8:16))!==0}function V8(n,e,t,i,r,s){let o=e.consts,a=Vu(o,r),l=Hu(e,n,2,i,a);return uC(e,t,l,Vu(o,s)),l.attrs!==null&&l0(l,l.attrs,!1),l.mergedAttrs!==null&&l0(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function E(n,e,t,i){let r=Ve(),s=Wt(),o=fi+n,a=r[jt],l=s.firstCreatePass?V8(o,s,r,e,t,i):s.data[o],c=B8(s,r,l,a,e,n);r[o]=c;let d=S0(l);return Kl(l,!0),NO(a,c,l),!u8(l)&&x0()&&V0(s,r,c,l),Vj()===0&&ha(c,r),Bj(),d&&(aC(s,r,l),oC(s,l,r)),i!==null&&lC(r,l),E}function b(){let n=Hn();j1()?z1():(n=n.parent,Kl(n,!1));let e=n;jj(e)&&zj(),Uj();let t=Wt();return t.firstCreatePass&&(O0(t,n),V1(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&iz(e)&&b1(t,e,Ve(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&rz(e)&&b1(t,e,Ve(),e.stylesWithoutHost,!1),b}function ie(n,e,t,i){return E(n,e,t,i),b(),ie}var B8=(n,e,t,i,r,s)=>(R0(!0),CO(i,r,Xj()));function U8(n,e,t,i,r){let s=e.consts,o=Vu(s,i),a=Hu(e,n,8,"ng-container",o);o!==null&&l0(a,o,!0);let l=Vu(s,r);return uC(e,t,a,l),e.queries!==null&&e.queries.elementStart(e,a),a}function ti(n,e,t){let i=Ve(),r=Wt(),s=n+fi,o=r.firstCreatePass?U8(s,r,i,e,t):r.data[s];Kl(o,!0);let a=j8(r,i,o,n);return i[s]=a,x0()&&V0(r,i,a,o),ha(a,i),S0(o)&&(aC(r,i,o),oC(r,o,i)),t!=null&&lC(i,o),ti}function ni(){let n=Hn(),e=Wt();return j1()?z1():(n=n.parent,Kl(n,!1)),e.firstCreatePass&&(O0(e,n),V1(n)&&e.queries.elementEnd(n)),ni}function va(n,e,t){return ti(n,e,t),ni(),va}var j8=(n,e,t,i)=>(R0(!0),u$(e[jt],""));function Ce(){return Ve()}function yC(n,e,t){let i=Ve(),r=af();if(Ur(i,r,e)){let s=Wt(),o=lf(),a=OR(s.data),l=Y$(a,o,i);j0(s,o,i,n,e,l,t,!0)}return yC}var Ol=void 0;function z8(n){let e=n,t=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return t===1&&i===0?1:5}var $8=["en",[["a","p"],["AM","PM"],Ol],[["AM","PM"],Ol,Ol],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ol,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ol,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ol,"{1} 'at' {0}",Ol],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",z8],Cb={};function hr(n){let e=H8(n),t=Px(e);if(t)return t;let i=e.split("-")[0];if(t=Px(i),t)return t;if(i==="en")return $8;throw new ne(701,!1)}function Px(n){return n in Cb||(Cb[n]=$n.ng&&$n.ng.common&&$n.ng.common.locales&&$n.ng.common.locales[n]),Cb[n]}var rn=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(rn||{});function H8(n){return n.toLowerCase().replace(/_/g,"-")}var m0="en-US";var G8=m0;function q8(n){typeof n=="string"&&(G8=n.toLowerCase().replace(/_/g,"-"))}var W8=(n,e,t)=>{};function re(n,e,t,i){let r=Ve(),s=Wt(),o=Hn();return CN(s,r,r[jt],o,n,e,i),re}function K8(n,e,t,i){let r=n.cleanup;if(r!=null)for(let s=0;s<r.length-1;s+=2){let o=r[s];if(o===t&&r[s+1]===i){let a=e[Qm],l=r[s+2];return a.length>l?a[l]:null}typeof o=="string"&&(s+=2)}return null}function CN(n,e,t,i,r,s,o){let a=S0(i),c=n.firstCreatePass&&GO(n),d=e[Vr],f=HO(e),m=!0;if(i.type&3||o){let A=ur(i,e),S=o?o(A):A,j=f.length,Z=o?Y=>o(bs(Y[i.index])):i.index,W=null;if(!o&&a&&(W=K8(n,e,r,i.index)),W!==null){let Y=W.__ngLastListenerFn__||W;Y.__ngNextListenerFn__=s,W.__ngLastListenerFn__=s,m=!1}else{s=Lx(i,e,d,s),W8(A,r,s);let Y=t.listen(S,r,s);f.push(s,Y),c&&c.push(r,Z,j,j+1)}}else s=Lx(i,e,d,s);let v=i.outputs,C;if(m&&v!==null&&(C=v[r])){let A=C.length;if(A)for(let S=0;S<A;S+=2){let j=C[S],Z=C[S+1],ge=e[j][Z].subscribe(s),ae=f.length;f.push(s,ge),c&&c.push(r,i.index,ae,-(ae+1))}}}function Fx(n,e,t,i){let r=dt(null);try{return ys(6,e,t),t(i)!==!1}catch(s){return qO(n,s),!1}finally{ys(7,e,t),dt(r)}}function Lx(n,e,t,i){return function r(s){if(s===Function)return i;let o=n.componentOffset>-1?ma(n.index,e):e;fC(o,5);let a=Fx(e,t,i,s),l=r.__ngNextListenerFn__;for(;l;)a=Fx(e,t,l,s)&&a,l=l.__ngNextListenerFn__;return a}}function U(n=1){return Yj(n)}function Q8(n,e){let t=null,i=sj(n);for(let r=0;r<e.length;r++){let s=e[r];if(s==="*"){t=r;continue}if(i===null?rR(n,s,!0):lj(i,s))return r}return t}function Gi(n){let e=Ve()[lr][Ai];if(!e.projection){let t=n?n.length:1,i=e.projection=Z4(t,null),r=i.slice(),s=e.child;for(;s!==null;){if(s.type!==128){let o=n?Q8(s,n):0;o!==null&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s)}s=s.next}}}function mi(n,e=0,t,i,r,s){let o=Ve(),a=Wt(),l=i?n+1:null;l!==null&&hN(o,a,l,i,r,s,null,t);let c=Hu(a,fi+n,16,null,t||null);c.projection===null&&(c.projection=e),z1();let f=!o[ef]||AR();o[lr][Ai].projection[c.projection]===null&&l!==null?Z8(o,a,l):f&&(c.flags&32)!==32&&C$(a,o,c)}function Z8(n,e,t){let i=fi+t,r=e.data[i],s=n[i],o=a1(s,r.tView.ssrId),a=KO(n,r,void 0,{dehydratedView:o});QO(s,a,0,s1(r,o))}function _C(n,e,t,i,r){let s=Ve(),o=pN(s,e,t,i);if(o!==Hi){let a=Wt(),l=lf();j0(a,l,s,n,o,s[jt],r,!1)}return _C}function Ss(n,e,t,i){z6(n,e,t,i)}function Ms(n,e,t){j6(n,e,t)}function Rn(n){let e=Ve(),t=Wt(),i=NR();H1(i+1);let r=pC(t,i);if(n.dirty&&kj(e)===((r.metadata.flags&2)===2)){if(r.matches===null)n.reset([]);else{let s=G6(e,i);n.reset(s,Tz),n.notifyOnChanges()}return!0}return!1}function On(){return U6(Ve(),NR())}function Y8(n,e,t,i){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=i}function zr(n){let e=Hj();return B1(e,fi+n)}function L(n,e=""){let t=Ve(),i=Wt(),r=n+fi,s=i.firstCreatePass?Hu(i,r,1,e,null):i.data[r],o=J8(i,t,s,e,n);t[r]=o,x0()&&V0(i,t,o,s),Kl(s,!1)}var J8=(n,e,t,i,r)=>(R0(!0),l$(e[jt],i));function gt(n){return ot("",n,""),gt}function ot(n,e,t){let i=Ve(),r=pN(i,n,e,t);return r!==Hi&&WO(i,ya(),r),ot}function $r(n,e,t,i,r){let s=Ve(),o=y8(s,n,e,t,i,r);return o!==Hi&&WO(s,ya(),o),$r}function fr(n,e,t){uN(e)&&(e=e());let i=Ve(),r=af();if(Ur(i,r,e)){let s=Wt(),o=lf();j0(s,o,i,n,e,i[jt],t,!1)}return fr}function Hr(n,e){let t=uN(n);return t&&n.set(e),t}function pr(n,e){let t=Ve(),i=Wt(),r=Hn();return CN(i,t,t[jt],r,n,e),pr}function X8(n,e,t){let i=Wt();if(i.firstCreatePass){let r=uo(n);C1(t,i.data,i.blueprint,r,!0),C1(e,i.data,i.blueprint,r,!1)}}function C1(n,e,t,i,r){if(n=di(n),Array.isArray(n))for(let s=0;s<n.length;s++)C1(n[s],e,t,i,r);else{let s=Wt(),o=Ve(),a=Hn(),l=Pu(n)?n:di(n.provide),c=pR(n),d=a.providerIndexes&1048575,f=a.directiveStart,m=a.providerIndexes>>20;if(Pu(n)||!n.multi){let v=new zl(c,r,B),C=Ib(l,e,r?d:d+m,f);C===-1?(Bb(t0(a,o),s,l),Eb(s,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(v),o.push(v)):(t[C]=v,o[C]=v)}else{let v=Ib(l,e,d+m,f),C=Ib(l,e,d,d+m),A=v>=0&&t[v],S=C>=0&&t[C];if(r&&!S||!r&&!A){Bb(t0(a,o),s,l);let j=nH(r?tH:eH,t.length,r,i,c);!r&&S&&(t[C].providerFactory=j),Eb(s,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(j),o.push(j)}else{let j=EN(t[r?C:v],c,!r&&i);Eb(s,n,v>-1?v:C,j)}!r&&i&&S&&t[C].componentProviders++}}}function Eb(n,e,t,i){let r=Pu(e),s=vj(e);if(r||s){let l=(s?di(e.useClass):e).prototype.ngOnDestroy;if(l){let c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){let d=c.indexOf(t);d===-1?c.push(t,[i,l]):c[d+1].push(i,l)}else c.push(t,l)}}}function EN(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Ib(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function eH(n,e,t,i){return E1(this.multi,[])}function tH(n,e,t,i){let r=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=$l(t,t[qe],this.providerFactory.index,i);s=a.slice(0,o),E1(r,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],E1(r,s);return s}function E1(n,e){for(let t=0;t<n.length;t++){let i=n[t];e.push(i())}return e}function nH(n,e,t,i,r){let s=new zl(n,t,B);return s.multi=[],s.index=e,s.componentProviders=0,EN(s,r,i&&!t),s}function wa(n,e=[]){return t=>{t.providersResolver=(i,r)=>X8(i,r?r(n):n,e)}}var iH=(()=>{let e=class e{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){let r=dR(!1,i.type),s=r.length>0?H0([r],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,s)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(let i of this.cachedInjectors.values())i!==null&&i.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=X({token:e,providedIn:"environment",factory:()=>new e(G(xn))});let n=e;return n})();function Pt(n){Zl("NgStandalone"),n.getStandaloneInjector=e=>e.get(iH).getOrCreateStandaloneInjector(n)}function Gr(n,e,t){let i=Ql()+n,r=Ve();return r[i]===Hi?df(r,i,t?e.call(t):e()):l8(r,i)}function qn(n,e,t,i){return TN(Ve(),Ql(),n,e,t,i)}function hf(n,e,t,i,r){return SN(Ve(),Ql(),n,e,t,i,r)}function IN(n,e,t,i,r,s,o){return rH(Ve(),Ql(),n,e,t,i,r,s,o)}function DN(n,e,t,i){return sH(Ve(),Ql(),n,e,t,i)}function G0(n,e){let t=n[e];return t===Hi?void 0:t}function TN(n,e,t,i,r,s){let o=e+t;return Ur(n,o,r)?df(n,o+1,s?i.call(s,r):i(r)):G0(n,o+1)}function SN(n,e,t,i,r,s,o){let a=e+t;return p0(n,a,r,s)?df(n,a+2,o?i.call(o,r,s):i(r,s)):G0(n,a+2)}function rH(n,e,t,i,r,s,o,a,l){let c=e+t;return c8(n,c,r,s,o,a)?df(n,c+4,l?i.call(l,r,s,o,a):i(r,s,o,a)):G0(n,c+4)}function sH(n,e,t,i,r,s){let o=e+t,a=!1;for(let l=0;l<r.length;l++)Ur(n,o++,r[l])&&(a=!0);return a?df(n,o,i.apply(s,r)):G0(n,o)}function ii(n,e){let t=Wt(),i,r=n+fi;t.firstCreatePass?(i=oH(e,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks??=[]).push(r,i.onDestroy)):i=t.data[r];let s=i.factory||(i.factory=Ll(i.type,!0)),o,a=Si(B);try{let l=e0(!1),c=s();return e0(l),Y8(t,Ve(),r,c),c}finally{Si(a)}}function oH(n,e){if(e)for(let t=e.length-1;t>=0;t--){let i=e[t];if(n===i.name)return i}}function qr(n,e,t){let i=n+fi,r=Ve(),s=B1(r,i);return MN(r,i)?TN(r,Ql(),e,s.transform,t,s):s.transform(t)}function Yl(n,e,t,i){let r=n+fi,s=Ve(),o=B1(s,r);return MN(s,r)?SN(s,Ql(),e,o.transform,t,i,o):o.transform(t,i)}function MN(n,e){return n[qe].data[e].pure}function Wr(n,e){return $0(n,e)}var Vm=null;function aH(n){Vm!==null&&(n.defaultEncapsulation!==Vm.defaultEncapsulation||n.preserveWhitespaces!==Vm.preserveWhitespaces)||(Vm=n)}var po=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},AN=new po("18.2.4");var q0=(()=>{let e=class e{log(i){console.log(i)}warn(i){console.warn(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"platform"});let n=e;return n})();var vC=new oe(""),ff=new oe(""),W0=(()=>{let e=class e{constructor(i,r,s){this._ngZone=i,this.registry=r,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,wC||(lH(s),s.addToWindow(r)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{De.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb()}});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(i)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,r,s){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),i()},r)),this._callbacks.push({doneCb:i,timeoutId:o,updateCb:s})}whenStable(i,r,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,r,s),this._runCallbacksIfReady()}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,r,s){return[]}};e.\u0275fac=function(r){return new(r||e)(G(De),G(K0),G(ff))},e.\u0275prov=X({token:e,factory:e.\u0275fac});let n=e;return n})(),K0=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(i,r){this._applications.set(i,r)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,r=!0){return wC?.findTestabilityInTree(this,i,r)??null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"platform"});let n=e;return n})();function lH(n){wC=n}var wC;function ba(n){return!!n&&typeof n.then=="function"}function bC(n){return!!n&&typeof n.subscribe=="function"}var Q0=new oe(""),xN=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r}),this.appInits=K(Q0,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let i=[];for(let s of this.appInits){let o=s();if(ba(o))i.push(o);else if(bC(o)){let a=new Promise((l,c)=>{o.subscribe({complete:l,error:c})});i.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{r()}).catch(s=>{this.reject(s)}),i.length===0&&r(),this.initialized=!0}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),Z0=new oe("");function cH(){MA(()=>{throw new ne(600,!1)})}function uH(n){return n.isBoundToModule}var dH=10;function hH(n,e,t){try{let i=t();return ba(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}function RN(n,e){return Array.isArray(e)?e.reduce(RN,n):Q(Q({},n),e)}var yi=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=K(Iz),this.afterRenderManager=K(fN),this.zonelessEnabled=K(nN),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new ke,this.afterTick=new ke,this.componentTypes=[],this.components=[],this.isStable=K(mo).hasPendingTasks.pipe(se(i=>!i)),this._injector=K(xn)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let i;return new Promise(r=>{i=this.isStable.subscribe({next:s=>{s&&r()}})}).finally(()=>{i.unsubscribe()})}get injector(){return this._injector}bootstrap(i,r){let s=i instanceof a0;if(!this._injector.get(xN).done){let v=!s&&aR(i),C=!1;throw new ne(405,C)}let a;s?a=i:a=this._injector.get(fa).resolveComponentFactory(i),this.componentTypes.push(a.componentType);let l=uH(a)?void 0:this._injector.get(ga),c=r||a.selector,d=a.create(nn.NULL,[],c,l),f=d.location.nativeElement,m=d.injector.get(vC,null);return m?.registerApplication(f),d.onDestroy(()=>{this.detachView(d.hostView),Hm(this.components,d),m?.unregisterApplication(f)}),this._loadComponent(d),d}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new ne(101,!1);let i=dt(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,dt(i),this.afterTick.next()}}synchronize(){let i=null;this._injector.destroyed||(i=this._injector.get(pa,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<dH;)this.synchronizeOnce(i)}synchronizeOnce(i){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:s,notifyErrorHandler:o}of this._views)fH(s,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else i?.begin?.(),i?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:i})=>M0(i))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(i){let r=i;this._views.push(r),r.attachToAppRef(this)}detachView(i){let r=i;Hm(this._views,r),r.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);let r=this._injector.get(Z0,[]);[...this._bootstrapListeners,...r].forEach(s=>s(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>Hm(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new ne(406,!1);let i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function Hm(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function fH(n,e,t,i){if(!t&&!M0(n))return;JO(n,e,t&&!i?0:1)}var I1=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Y0=(()=>{let e=class e{compileModuleSync(i){return new f0(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){let r=this.compileModuleSync(i),s=lR(i),o=bO(s.declarations).reduce((a,l)=>{let c=lo(l);return c&&a.push(new Gl(c)),a},[]);return new I1(r,o)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),pH=new oe("");function gH(n,e,t){let i=new f0(t);return Promise.resolve(i)}function Vx(n){for(let e=n.length-1;e>=0;e--)if(n[e]!==void 0)return n[e]}var mH=(()=>{let e=class e{constructor(){this.zone=K(De),this.changeDetectionScheduler=K(Bu),this.applicationRef=K(yi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function yH({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new De(Ee(Q({},ON()),{scheduleInRootZone:t})),[{provide:De,useFactory:n},{provide:ku,multi:!0,useFactory:()=>{let i=K(mH,{optional:!0});return()=>i.initialize()}},{provide:ku,multi:!0,useFactory:()=>{let i=K(_H);return()=>{i.initialize()}}},e===!0?{provide:iN,useValue:!0}:[],{provide:rN,useValue:t??JR}]}function ON(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var _H=(()=>{let e=class e{constructor(){this.subscription=new Yt,this.initialized=!1,this.zone=K(De),this.pendingTasks=K(mo)}initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{De.assertNotInAngularZone(),queueMicrotask(()=>{i!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{De.assertInAngularZone(),i??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var vH=(()=>{let e=class e{constructor(){this.appRef=K(yi),this.taskService=K(mo),this.ngZone=K(De),this.zonelessEnabled=K(nN),this.disableScheduling=K(iN,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Yt,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(i0):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(K(rN,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof r0||!this.zoneIsDefined)}notify(i){if(!this.zonelessEnabled&&i===5)return;switch(i){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?mx:XR;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(i0+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let i=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(i),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,mx(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(i)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let i=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(i)}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function wH(){return typeof $localize<"u"&&$localize.locale||m0}var pf=new oe("",{providedIn:"root",factory:()=>K(pf,Qe.Optional|Qe.SkipSelf)||wH()});var CC=new oe("");function Bm(n){return!!n.platformInjector}function bH(n){let e=Bm(n)?n.r3Injector:n.moduleRef.injector,t=e.get(De);return t.run(()=>{Bm(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let i=e.get(ho,null),r;if(t.runOutsideAngular(()=>{r=t.onError.subscribe({next:s=>{i.handleError(s)}})}),Bm(n)){let s=()=>e.destroy(),o=n.platformInjector.get(CC);o.add(s),e.onDestroy(()=>{r.unsubscribe(),o.delete(s)})}else n.moduleRef.onDestroy(()=>{Hm(n.allPlatformModules,n.moduleRef),r.unsubscribe()});return hH(i,t,()=>{let s=e.get(xN);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(pf,m0);if(q8(o||m0),Bm(n)){let a=e.get(yi);return n.rootComponent!==void 0&&a.bootstrap(n.rootComponent),a}else return CH(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function CH(n,e){let t=n.injector.get(yi);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>t.bootstrap(i));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new ne(-403,!1);e.push(n)}var NN=(()=>{let e=class e{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,r){let s=r?.scheduleInRootZone,o=()=>Ez(r?.ngZone,Ee(Q({},ON({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing})),{scheduleInRootZone:s})),a=r?.ignoreChangesOutsideZone,l=[yH({ngZoneFactory:o,ignoreChangesOutsideZone:a}),{provide:Bu,useExisting:vH}],c=o8(i.moduleType,this.injector,l);return bH({moduleRef:c,allPlatformModules:this._modules})}bootstrapModule(i,r=[]){let s=RN({},r);return gH(this.injector,s,i).then(o=>this.bootstrapModuleFactory(o,s))}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ne(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());let i=this._injector.get(CC,null);i&&(i.forEach(r=>r()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};e.\u0275fac=function(r){return new(r||e)(G(nn))},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"platform"});let n=e;return n})(),Zh=null,kN=new oe("");function EH(n){if(Zh&&!Zh.get(kN,!1))throw new ne(400,!1);cH(),Zh=n;let e=n.get(NN);return TH(n),e}function EC(n,e,t=[]){let i=`Platform: ${e}`,r=new oe(i);return(s=[])=>{let o=PN();if(!o||o.injector.get(kN,!1)){let a=[...t,...s,{provide:r,useValue:!0}];n?n(a):EH(IH(a,i))}return DH(r)}}function IH(n=[],e){return nn.create({name:e,providers:[{provide:E0,useValue:"platform"},{provide:CC,useValue:new Set([()=>Zh=null])},...n]})}function DH(n){let e=PN();if(!e)throw new ne(401,!1);return e}function PN(){return Zh?.get(NN)??null}function TH(n){n.get(Z1,null)?.forEach(t=>t())}function IC(){return!1}var Ri=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=SH;let n=e;return n})();function SH(n){return MH(Hn(),Ve(),(n&16)===16)}function MH(n,e,t){if(T0(n)&&!t){let i=ma(n.index,e);return new Hl(i,i)}else if(n.type&175){let i=e[lr];return new Hl(i,e)}return null}var D1=class{constructor(){}supports(e){return dN(e)}create(e){return new T1(e)}},AH=(n,e)=>e,T1=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||AH}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,s=null;for(;t||i;){let o=!i||t&&t.currentIndex<Bx(i,r,s)?t:i,a=Bx(o,r,s),l=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(t=t._next,o.previousIndex==null)r++;else{s||(s=[]);let c=a-r,d=l-r;if(c!=d){for(let m=0;m<c;m++){let v=m<s.length?s[m]:s[m]=0,C=v+m;d<=C&&C<c&&(s[m]=v+1)}let f=o.previousIndex;s[f]=d-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!dN(e))throw new ne(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,i=!1,r,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,s,o,a),i=!0):(i&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)),t=t._next}else r=0,a8(e,a=>{o=this._trackByFn(r,a),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,a,o,r),i=!0):(i&&(t=this._verifyReinsertion(t,a,o,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,r),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,r)):e=this._addAfter(new S1(t,i),s,r)),e}_verifyReinsertion(e,t,i,r){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return s!==null?e=this._reinsertAfter(s,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,s=e._nextRemoved;return r===null?this._removalsHead=s:r._nextRemoved=s,s===null?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){let r=t===null?this._itHead:t._next;return e._next=r,e._prev=t,r===null?this._itTail=e:r._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new y0),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,i=e._next;return t===null?this._itHead=i:t._next=i,i===null?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new y0),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},S1=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},M1=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;i!==null;i=i._nextDup)if((t===null||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let t=e._prevDup,i=e._nextDup;return t===null?this._head=i:t._nextDup=i,i===null?this._tail=t:i._prevDup=t,this._head===null}},y0=class{constructor(){this.map=new Map}put(e){let t=e.trackById,i=this.map.get(t);i||(i=new M1,this.map.set(t,i)),i.add(e)}get(e,t){let i=e,r=this.map.get(i);return r?r.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Bx(n,e,t){let i=n.previousIndex;if(i===null)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}var A1=class{constructor(){}supports(e){return e instanceof Map||gC(e)}create(){return new x1}},x1=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let t;for(t=this._mapHead;t!==null;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||gC(e)))throw new ne(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{let s=this._getOrCreateRecordForKey(r,i);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;i!==null;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){let i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){let r=this._records.get(e);this._maybeAddToChanges(r,t);let s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}let i=new R1(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}},R1=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function Ux(){return new DC([new D1])}var DC=(()=>{let e=class e{constructor(i){this.factories=i}static create(i,r){if(r!=null){let s=r.factories.slice();i=i.concat(s)}return new e(i)}static extend(i){return{provide:e,useFactory:r=>e.create(i,r||Ux()),deps:[[e,new b0,new Wl]]}}find(i){let r=this.factories.find(s=>s.supports(i));if(r!=null)return r;throw new ne(901,!1)}};e.\u0275prov=X({token:e,providedIn:"root",factory:Ux});let n=e;return n})();function jx(){return new TC([new A1])}var TC=(()=>{let e=class e{constructor(i){this.factories=i}static create(i,r){if(r){let s=r.factories.slice();i=i.concat(s)}return new e(i)}static extend(i){return{provide:e,useFactory:r=>e.create(i,r||jx()),deps:[[e,new b0,new Wl]]}}find(i){let r=this.factories.find(s=>s.supports(i));if(r)return r;throw new ne(901,!1)}};e.\u0275prov=X({token:e,providedIn:"root",factory:jx});let n=e;return n})();var FN=EC(null,"core",[]),LN=(()=>{let e=class e{constructor(i){}};e.\u0275fac=function(r){return new(r||e)(G(yi))},e.\u0275mod=we({type:e}),e.\u0275inj=ve({});let n=e;return n})();var VN=new oe("");function Ue(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Jl(n,e=NaN){return!isNaN(parseFloat(n))&&!isNaN(Number(n))?Number(n):e}function Gu(n,e){Zl("NgSignals");let t=DA(n);return e?.equal&&(t[ro].equal=e.equal),t}function gr(n){let e=dt(null);try{return n()}finally{dt(e)}}function J0(n,e){let t=lo(n),i=e.elementInjector||I0();return new Gl(t).create(i,e.projectableNodes,e.hostElement,e.environmentInjector)}function BN(n){let e=lo(n);if(!e)return null;let t=new Gl(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var qN=null;function As(){return qN}function WN(n){qN??=n}var ay=class{};var Ye=new oe(""),VC=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=X({token:e,factory:()=>K(RH),providedIn:"platform"});let n=e;return n})(),KN=new oe(""),RH=(()=>{let e=class e extends VC{constructor(){super(),this._doc=K(Ye),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return As().getBaseHref(this._doc)}onPopState(i){let r=As().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",i,!1),()=>r.removeEventListener("popstate",i)}onHashChange(i){let r=As().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",i,!1),()=>r.removeEventListener("hashchange",i)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(i){this._location.pathname=i}pushState(i,r,s){this._history.pushState(i,r,s)}replaceState(i,r,s){this._history.replaceState(i,r,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=X({token:e,factory:()=>new e,providedIn:"platform"});let n=e;return n})();function BC(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function UN(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,i=t-(n[t-1]==="/"?1:0);return n.slice(0,i)+n.slice(t)}function wo(n){return n&&n[0]!=="?"?"?"+n:n}var Co=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=X({token:e,factory:()=>K(UC),providedIn:"root"});let n=e;return n})(),QN=new oe(""),UC=(()=>{let e=class e extends Co{constructor(i,r){super(),this._platformLocation=i,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??K(Ye).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return BC(this._baseHref,i)}path(i=!1){let r=this._platformLocation.pathname+wo(this._platformLocation.search),s=this._platformLocation.hash;return s&&i?`${r}${s}`:r}pushState(i,r,s,o){let a=this.prepareExternalUrl(s+wo(o));this._platformLocation.pushState(i,r,a)}replaceState(i,r,s,o){let a=this.prepareExternalUrl(s+wo(o));this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)(G(VC),G(QN,8))},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),ZN=(()=>{let e=class e extends Co{constructor(i,r){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(i){let r=BC(this._baseHref,i);return r.length>0?"#"+r:r}pushState(i,r,s,o){let a=this.prepareExternalUrl(s+wo(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(i,r,a)}replaceState(i,r,s,o){let a=this.prepareExternalUrl(s+wo(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)(G(VC),G(QN,8))},e.\u0275prov=X({token:e,factory:e.\u0275fac});let n=e;return n})(),Wu=(()=>{let e=class e{constructor(i){this._subject=new xe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=i;let r=this._locationStrategy.getBaseHref();this._basePath=kH(UN(jN(r))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(i=!1){return this.normalize(this._locationStrategy.path(i))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(i,r=""){return this.path()==this.normalize(i+wo(r))}normalize(i){return e.stripTrailingSlash(NH(this._basePath,jN(i)))}prepareExternalUrl(i){return i&&i[0]!=="/"&&(i="/"+i),this._locationStrategy.prepareExternalUrl(i)}go(i,r="",s=null){this._locationStrategy.pushState(s,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+wo(r)),s)}replaceState(i,r="",s=null){this._locationStrategy.replaceState(s,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+wo(r)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(i=0){this._locationStrategy.historyGo?.(i)}onUrlChange(i){return this._urlChangeListeners.push(i),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(i);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(i="",r){this._urlChangeListeners.forEach(s=>s(i,r))}subscribe(i,r,s){return this._subject.subscribe({next:i,error:r,complete:s})}};e.normalizeQueryParams=wo,e.joinWithSlash=BC,e.stripTrailingSlash=UN,e.\u0275fac=function(r){return new(r||e)(G(Co))},e.\u0275prov=X({token:e,factory:()=>OH(),providedIn:"root"});let n=e;return n})();function OH(){return new Wu(G(Co))}function NH(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function jN(n){return n.replace(/\/index.html$/,"")}function kH(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var _i=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(_i||{}),Mt=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(Mt||{}),qi=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(qi||{}),Ca={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function PH(n){return hr(n)[rn.LocaleId]}function FH(n,e,t){let i=hr(n),r=[i[rn.DayPeriodsFormat],i[rn.DayPeriodsStandalone]],s=mr(r,e);return mr(s,t)}function LH(n,e,t){let i=hr(n),r=[i[rn.DaysFormat],i[rn.DaysStandalone]],s=mr(r,e);return mr(s,t)}function VH(n,e,t){let i=hr(n),r=[i[rn.MonthsFormat],i[rn.MonthsStandalone]],s=mr(r,e);return mr(s,t)}function BH(n,e){let i=hr(n)[rn.Eras];return mr(i,e)}function X0(n,e){let t=hr(n);return mr(t[rn.DateFormat],e)}function ey(n,e){let t=hr(n);return mr(t[rn.TimeFormat],e)}function ty(n,e){let i=hr(n)[rn.DateTimeFormat];return mr(i,e)}function cy(n,e){let t=hr(n),i=t[rn.NumberSymbols][e];if(typeof i>"u"){if(e===Ca.CurrencyDecimal)return t[rn.NumberSymbols][Ca.Decimal];if(e===Ca.CurrencyGroup)return t[rn.NumberSymbols][Ca.Group]}return i}function YN(n){if(!n[rn.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[rn.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function UH(n){let e=hr(n);return YN(e),(e[rn.ExtraData][2]||[]).map(i=>typeof i=="string"?MC(i):[MC(i[0]),MC(i[1])])}function jH(n,e,t){let i=hr(n);YN(i);let r=[i[rn.ExtraData][0],i[rn.ExtraData][1]],s=mr(r,e)||[];return mr(s,t)||[]}function mr(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function MC(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}var zH=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ny={},$H=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,bo=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(bo||{}),yt=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(yt||{}),mt=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(mt||{});function JN(n,e,t,i){let r=JH(n);e=vo(t,e)||e;let o=[],a;for(;e;)if(a=$H.exec(e),a){o=o.concat(a.slice(1));let d=o.pop();if(!d)break;e=d}else{o.push(e);break}let l=r.getTimezoneOffset();i&&(l=ek(i,l),r=YH(r,i,!0));let c="";return o.forEach(d=>{let f=QH(d);c+=f?f(r,t,l):d==="''"?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function ly(n,e,t){let i=new Date(0);return i.setFullYear(n,e,t),i.setHours(0,0,0),i}function vo(n,e){let t=PH(n);if(ny[t]??={},ny[t][e])return ny[t][e];let i="";switch(e){case"shortDate":i=X0(n,qi.Short);break;case"mediumDate":i=X0(n,qi.Medium);break;case"longDate":i=X0(n,qi.Long);break;case"fullDate":i=X0(n,qi.Full);break;case"shortTime":i=ey(n,qi.Short);break;case"mediumTime":i=ey(n,qi.Medium);break;case"longTime":i=ey(n,qi.Long);break;case"fullTime":i=ey(n,qi.Full);break;case"short":let r=vo(n,"shortTime"),s=vo(n,"shortDate");i=iy(ty(n,qi.Short),[r,s]);break;case"medium":let o=vo(n,"mediumTime"),a=vo(n,"mediumDate");i=iy(ty(n,qi.Medium),[o,a]);break;case"long":let l=vo(n,"longTime"),c=vo(n,"longDate");i=iy(ty(n,qi.Long),[l,c]);break;case"full":let d=vo(n,"fullTime"),f=vo(n,"fullDate");i=iy(ty(n,qi.Full),[d,f]);break}return i&&(ny[t][e]=i),i}function iy(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,i){return e!=null&&i in e?e[i]:t})),n}function Kr(n,e,t="-",i,r){let s="";(n<0||r&&n<=0)&&(r?n=-n+1:(n=-n,s=t));let o=String(n);for(;o.length<e;)o="0"+o;return i&&(o=o.slice(o.length-e)),s+o}function HH(n,e){return Kr(n,3).substring(0,e)}function fn(n,e,t=0,i=!1,r=!1){return function(s,o){let a=GH(n,s);if((t>0||a>-t)&&(a+=t),n===yt.Hours)a===0&&t===-12&&(a=12);else if(n===yt.FractionalSeconds)return HH(a,e);let l=cy(o,Ca.MinusSign);return Kr(a,e,l,i,r)}}function GH(n,e){switch(n){case yt.FullYear:return e.getFullYear();case yt.Month:return e.getMonth();case yt.Date:return e.getDate();case yt.Hours:return e.getHours();case yt.Minutes:return e.getMinutes();case yt.Seconds:return e.getSeconds();case yt.FractionalSeconds:return e.getMilliseconds();case yt.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function Rt(n,e,t=_i.Format,i=!1){return function(r,s){return qH(r,s,n,e,t,i)}}function qH(n,e,t,i,r,s){switch(t){case mt.Months:return VH(e,r,i)[n.getMonth()];case mt.Days:return LH(e,r,i)[n.getDay()];case mt.DayPeriods:let o=n.getHours(),a=n.getMinutes();if(s){let c=UH(e),d=jH(e,r,i),f=c.findIndex(m=>{if(Array.isArray(m)){let[v,C]=m,A=o>=v.hours&&a>=v.minutes,S=o<C.hours||o===C.hours&&a<C.minutes;if(v.hours<C.hours){if(A&&S)return!0}else if(A||S)return!0}else if(m.hours===o&&m.minutes===a)return!0;return!1});if(f!==-1)return d[f]}return FH(e,r,i)[o<12?0:1];case mt.Eras:return BH(e,i)[n.getFullYear()<=0?0:1];default:let l=t;throw new Error(`unexpected translation type ${l}`)}}function ry(n){return function(e,t,i){let r=-1*i,s=cy(t,Ca.MinusSign),o=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case bo.Short:return(r>=0?"+":"")+Kr(o,2,s)+Kr(Math.abs(r%60),2,s);case bo.ShortGMT:return"GMT"+(r>=0?"+":"")+Kr(o,1,s);case bo.Long:return"GMT"+(r>=0?"+":"")+Kr(o,2,s)+":"+Kr(Math.abs(r%60),2,s);case bo.Extended:return i===0?"Z":(r>=0?"+":"")+Kr(o,2,s)+":"+Kr(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}var WH=0,oy=4;function KH(n){let e=ly(n,WH,1).getDay();return ly(n,0,1+(e<=oy?oy:oy+7)-e)}function XN(n){let e=n.getDay(),t=e===0?-3:oy-e;return ly(n.getFullYear(),n.getMonth(),n.getDate()+t)}function AC(n,e=!1){return function(t,i){let r;if(e){let s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,o=t.getDate();r=1+Math.floor((o+s)/7)}else{let s=XN(t),o=KH(s.getFullYear()),a=s.getTime()-o.getTime();r=1+Math.round(a/6048e5)}return Kr(r,n,cy(i,Ca.MinusSign))}}function sy(n,e=!1){return function(t,i){let s=XN(t).getFullYear();return Kr(s,n,cy(i,Ca.MinusSign),e)}}var xC={};function QH(n){if(xC[n])return xC[n];let e;switch(n){case"G":case"GG":case"GGG":e=Rt(mt.Eras,Mt.Abbreviated);break;case"GGGG":e=Rt(mt.Eras,Mt.Wide);break;case"GGGGG":e=Rt(mt.Eras,Mt.Narrow);break;case"y":e=fn(yt.FullYear,1,0,!1,!0);break;case"yy":e=fn(yt.FullYear,2,0,!0,!0);break;case"yyy":e=fn(yt.FullYear,3,0,!1,!0);break;case"yyyy":e=fn(yt.FullYear,4,0,!1,!0);break;case"Y":e=sy(1);break;case"YY":e=sy(2,!0);break;case"YYY":e=sy(3);break;case"YYYY":e=sy(4);break;case"M":case"L":e=fn(yt.Month,1,1);break;case"MM":case"LL":e=fn(yt.Month,2,1);break;case"MMM":e=Rt(mt.Months,Mt.Abbreviated);break;case"MMMM":e=Rt(mt.Months,Mt.Wide);break;case"MMMMM":e=Rt(mt.Months,Mt.Narrow);break;case"LLL":e=Rt(mt.Months,Mt.Abbreviated,_i.Standalone);break;case"LLLL":e=Rt(mt.Months,Mt.Wide,_i.Standalone);break;case"LLLLL":e=Rt(mt.Months,Mt.Narrow,_i.Standalone);break;case"w":e=AC(1);break;case"ww":e=AC(2);break;case"W":e=AC(1,!0);break;case"d":e=fn(yt.Date,1);break;case"dd":e=fn(yt.Date,2);break;case"c":case"cc":e=fn(yt.Day,1);break;case"ccc":e=Rt(mt.Days,Mt.Abbreviated,_i.Standalone);break;case"cccc":e=Rt(mt.Days,Mt.Wide,_i.Standalone);break;case"ccccc":e=Rt(mt.Days,Mt.Narrow,_i.Standalone);break;case"cccccc":e=Rt(mt.Days,Mt.Short,_i.Standalone);break;case"E":case"EE":case"EEE":e=Rt(mt.Days,Mt.Abbreviated);break;case"EEEE":e=Rt(mt.Days,Mt.Wide);break;case"EEEEE":e=Rt(mt.Days,Mt.Narrow);break;case"EEEEEE":e=Rt(mt.Days,Mt.Short);break;case"a":case"aa":case"aaa":e=Rt(mt.DayPeriods,Mt.Abbreviated);break;case"aaaa":e=Rt(mt.DayPeriods,Mt.Wide);break;case"aaaaa":e=Rt(mt.DayPeriods,Mt.Narrow);break;case"b":case"bb":case"bbb":e=Rt(mt.DayPeriods,Mt.Abbreviated,_i.Standalone,!0);break;case"bbbb":e=Rt(mt.DayPeriods,Mt.Wide,_i.Standalone,!0);break;case"bbbbb":e=Rt(mt.DayPeriods,Mt.Narrow,_i.Standalone,!0);break;case"B":case"BB":case"BBB":e=Rt(mt.DayPeriods,Mt.Abbreviated,_i.Format,!0);break;case"BBBB":e=Rt(mt.DayPeriods,Mt.Wide,_i.Format,!0);break;case"BBBBB":e=Rt(mt.DayPeriods,Mt.Narrow,_i.Format,!0);break;case"h":e=fn(yt.Hours,1,-12);break;case"hh":e=fn(yt.Hours,2,-12);break;case"H":e=fn(yt.Hours,1);break;case"HH":e=fn(yt.Hours,2);break;case"m":e=fn(yt.Minutes,1);break;case"mm":e=fn(yt.Minutes,2);break;case"s":e=fn(yt.Seconds,1);break;case"ss":e=fn(yt.Seconds,2);break;case"S":e=fn(yt.FractionalSeconds,1);break;case"SS":e=fn(yt.FractionalSeconds,2);break;case"SSS":e=fn(yt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=ry(bo.Short);break;case"ZZZZZ":e=ry(bo.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=ry(bo.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=ry(bo.Long);break;default:return null}return xC[n]=e,e}function ek(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function ZH(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function YH(n,e,t){let i=t?-1:1,r=n.getTimezoneOffset(),s=ek(e,r);return ZH(n,i*(s-r))}function JH(n){if(zN(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[r,s=1,o=1]=n.split("-").map(a=>+a);return ly(r,s-1,o)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let i;if(i=n.match(zH))return XH(i)}let e=new Date(n);if(!zN(e))throw new Error(`Unable to convert "${n}" into a date`);return e}function XH(n){let e=new Date(0),t=0,i=0,r=n[8]?e.setUTCFullYear:e.setFullYear,s=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let o=Number(n[4]||0)-t,a=Number(n[5]||0)-i,l=Number(n[6]||0),c=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return s.call(e,o,a,l,c),e}function zN(n){return n instanceof Date&&!isNaN(n.valueOf())}function uy(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let i=t.indexOf("="),[r,s]=i==-1?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}var RC=/\s+/,$N=[],Oi=(()=>{let e=class e{constructor(i,r){this._ngEl=i,this._renderer=r,this.initialClasses=$N,this.stateMap=new Map}set klass(i){this.initialClasses=i!=null?i.trim().split(RC):$N}set ngClass(i){this.rawClass=typeof i=="string"?i.trim().split(RC):i}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let i=this.rawClass;if(Array.isArray(i)||i instanceof Set)for(let r of i)this._updateState(r,!0);else if(i!=null)for(let r of Object.keys(i))this._updateState(r,!!i[r]);this._applyStateDiff()}_updateState(i,r){let s=this.stateMap.get(i);s!==void 0?(s.enabled!==r&&(s.changed=!0,s.enabled=r),s.touched=!0):this.stateMap.set(i,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let i of this.stateMap){let r=i[0],s=i[1];s.changed?(this._toggleClass(r,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),s.touched=!1}}_toggleClass(i,r){i=i.trim(),i.length>0&&i.split(RC).forEach(s=>{r?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}};e.\u0275fac=function(r){return new(r||e)(B(ht),B(ei))},e.\u0275dir=Ze({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0});let n=e;return n})();var OC=class{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},xs=(()=>{let e=class e{set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}constructor(i,r,s){this._viewContainer=i,this._template=r,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let i=this._ngForOf;if(!this._differ&&i)if(0)try{}catch{}else this._differ=this._differs.find(i).create(this.ngForTrackBy)}if(this._differ){let i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){let r=this._viewContainer;i.forEachOperation((s,o,a)=>{if(s.previousIndex==null)r.createEmbeddedView(this._template,new OC(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)r.remove(o===null?void 0:o);else if(o!==null){let l=r.get(o);r.move(l,a),HN(l,s)}});for(let s=0,o=r.length;s<o;s++){let l=r.get(s).context;l.index=s,l.count=o,l.ngForOf=this._ngForOf}i.forEachIdentityChange(s=>{let o=r.get(s.currentIndex);HN(o,s)})}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(B(Ts),B(Br),B(DC))},e.\u0275dir=Ze({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let n=e;return n})();function HN(n,e){n.context.$implicit=e.item}var Ft=(()=>{let e=class e{constructor(i,r){this._viewContainer=i,this._context=new NC,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){GN("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){GN("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(B(Ts),B(Br))},e.\u0275dir=Ze({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let n=e;return n})(),NC=class{constructor(){this.$implicit=null,this.ngIf=null}};function GN(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${hi(e)}'.`)}var dy=(()=>{let e=class e{constructor(i,r,s){this._ngEl=i,this._differs=r,this._renderer=s,this._ngStyle=null,this._differ=null}set ngStyle(i){this._ngStyle=i,!this._differ&&i&&(this._differ=this._differs.find(i).create())}ngDoCheck(){if(this._differ){let i=this._differ.diff(this._ngStyle);i&&this._applyChanges(i)}}_setStyle(i,r){let[s,o]=i.split("."),a=s.indexOf("-")===-1?void 0:Cs.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,s,o?`${r}${o}`:r,a):this._renderer.removeStyle(this._ngEl.nativeElement,s,a)}_applyChanges(i){i.forEachRemovedItem(r=>this._setStyle(r.key,null)),i.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),i.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}};e.\u0275fac=function(r){return new(r||e)(B(ht),B(TC),B(ei))},e.\u0275dir=Ze({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0});let n=e;return n})(),gf=(()=>{let e=class e{constructor(i){this._viewContainerRef=i,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(i){if(this._shouldRecreateView(i)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let s=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,s,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(i){return!!i.ngTemplateOutlet||!!i.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(i,r,s)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,s):!1,get:(i,r,s)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,s)}})}};e.\u0275fac=function(r){return new(r||e)(B(Ts))},e.\u0275dir=Ze({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Dn]});let n=e;return n})();function tk(n,e){return new ne(2100,!1)}var kC=class{createSubscription(e,t){return gr(()=>e.subscribe({next:t,error:i=>{throw i}}))}dispose(e){gr(()=>e.unsubscribe())}},PC=class{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}},e9=new PC,t9=new kC,Ea=(()=>{let e=class e{constructor(i){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=i}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(i){if(!this._obj){if(i)try{this.markForCheckOnValueUpdate=!1,this._subscribe(i)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return i!==this._obj?(this._dispose(),this.transform(i)):this._latestValue}_subscribe(i){this._obj=i,this._strategy=this._selectStrategy(i),this._subscription=this._strategy.createSubscription(i,r=>this._updateLatestValue(i,r))}_selectStrategy(i){if(ba(i))return e9;if(bC(i))return t9;throw tk(e,i)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(i,r){i===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}};e.\u0275fac=function(r){return new(r||e)(B(Ri,16))},e.\u0275pipe=C0({name:"async",type:e,pure:!1,standalone:!0});let n=e;return n})();var n9="mediumDate",i9=new oe(""),r9=new oe(""),Ku=(()=>{let e=class e{constructor(i,r,s){this.locale=i,this.defaultTimezone=r,this.defaultOptions=s}transform(i,r,s,o){if(i==null||i===""||i!==i)return null;try{let a=r??this.defaultOptions?.dateFormat??n9,l=s??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return JN(i,a,o||this.locale,l)}catch(a){throw tk(e,a.message)}}};e.\u0275fac=function(r){return new(r||e)(B(pf,16),B(i9,24),B(r9,24))},e.\u0275pipe=C0({name:"date",type:e,pure:!0,standalone:!0});let n=e;return n})();var Rs=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({});let n=e;return n})(),jC="browser",s9="server";function Wi(n){return n===jC}function Ia(n){return n===s9}var nk=(()=>{let e=class e{};e.\u0275prov=X({token:e,providedIn:"root",factory:()=>Wi(K(bt))?new FC(K(Ye),window):new LC});let n=e;return n})(),FC=class{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=o9(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}};function o9(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let s=r.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}r=i.nextNode()}}return null}var LC=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},qu=class{};var yf=class{},fy=class{},Eo=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let i=t.indexOf(":");if(i>0){let r=t.slice(0,i),s=r.toLowerCase(),o=t.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(e.name,t);let r=(e.op==="a"?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":let s=e.value;if(!s)this.headers.delete(t),this.normalizedNames.delete(t);else{let o=this.headers.get(t);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}break}}setHeaderEntries(e,t){let i=(Array.isArray(t)?t:[t]).map(s=>s.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var $C=class{encodeKey(e){return ik(e)}encodeValue(e){return ik(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function c9(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{let s=r.indexOf("="),[o,a]=s==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],l=t.get(o)||[];l.push(a),t.set(o,l)}),t}var u9=/%(\d[a-f0-9])/gi,d9={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ik(n){return encodeURIComponent(n).replace(u9,(e,t)=>d9[t]??e)}function hy(n){return`${n}`}var Ta=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new $C,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=c9(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let i=e.fromObject[t],r=Array.isArray(i)?i.map(hy):[hy(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(i=>{let r=e[i];Array.isArray(r)?r.forEach(s=>{t.push({param:i,value:s,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(hy(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let i=this.map.get(e.param)||[],r=i.indexOf(hy(e.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var HC=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function h9(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function rk(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function sk(n){return typeof Blob<"u"&&n instanceof Blob}function ok(n){return typeof FormData<"u"&&n instanceof FormData}function f9(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var mf=class n{constructor(e,t,i,r){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(h9(this.method)||r?(this.body=i!==void 0?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new Eo,this.context??=new HC,!this.params)this.params=new Ta,this.urlWithParams=t;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),l=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+l+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||rk(this.body)||sk(this.body)||ok(this.body)||f9(this.body)?this.body:this.body instanceof Ta?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||ok(this.body)?null:sk(this.body)?this.body.type||null:rk(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Ta?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,c=e.headers||this.headers,d=e.params||this.params,f=e.context??this.context;return e.setHeaders!==void 0&&(c=Object.keys(e.setHeaders).reduce((m,v)=>m.set(v,e.setHeaders[v]),c)),e.setParams&&(d=Object.keys(e.setParams).reduce((m,v)=>m.set(v,e.setParams[v]),d)),new n(t,i,o,{params:d,headers:c,context:f,reportProgress:l,responseType:r,withCredentials:a,transferCache:s})}},Sa=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Sa||{}),_f=class{constructor(e,t=200,i="OK"){this.headers=e.headers||new Eo,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},py=class n extends _f{constructor(e={}){super(e),this.type=Sa.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},vf=class n extends _f{constructor(e={}){super(e),this.type=Sa.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Da=class extends _f{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},dk=200,p9=204;function zC(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var WC=(()=>{let e=class e{constructor(i){this.handler=i}request(i,r,s={}){let o;if(i instanceof mf)o=i;else{let c;s.headers instanceof Eo?c=s.headers:c=new Eo(s.headers);let d;s.params&&(s.params instanceof Ta?d=s.params:d=new Ta({fromObject:s.params})),o=new mf(i,r,s.body!==void 0?s.body:null,{headers:c,context:s.context,params:d,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let a=ce(o).pipe(ao(c=>this.handler.handle(c)));if(i instanceof mf||s.observe==="events")return a;let l=a.pipe(Ut(c=>c instanceof vf));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return l.pipe(se(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return l.pipe(se(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return l.pipe(se(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return l.pipe(se(c=>c.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(i,r={}){return this.request("DELETE",i,r)}get(i,r={}){return this.request("GET",i,r)}head(i,r={}){return this.request("HEAD",i,r)}jsonp(i,r){return this.request("JSONP",i,{params:new Ta().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,r={}){return this.request("OPTIONS",i,r)}patch(i,r,s={}){return this.request("PATCH",i,zC(s,r))}post(i,r,s={}){return this.request("POST",i,zC(s,r))}put(i,r,s={}){return this.request("PUT",i,zC(s,r))}};e.\u0275fac=function(r){return new(r||e)(G(yf))},e.\u0275prov=X({token:e,factory:e.\u0275fac});let n=e;return n})(),g9=/^\)\]\}',?\n/,m9="X-Request-URL";function ak(n){if(n.url)return n.url;let e=m9.toLocaleLowerCase();return n.headers.get(e)}var y9=(()=>{let e=class e{constructor(){this.fetchImpl=K(GC,{optional:!0})?.fetch??((...i)=>globalThis.fetch(...i)),this.ngZone=K(De)}handle(i){return new Se(r=>{let s=new AbortController;return this.doRequest(i,s.signal,r).then(qC,o=>r.error(new Da({error:o}))),()=>s.abort()})}doRequest(i,r,s){return F(this,null,function*(){let o=this.createRequestInit(i),a;try{let C=this.ngZone.runOutsideAngular(()=>this.fetchImpl(i.urlWithParams,Q({signal:r},o)));_9(C),s.next({type:Sa.Sent}),a=yield C}catch(C){s.error(new Da({error:C,status:C.status??0,statusText:C.statusText,url:i.urlWithParams,headers:C.headers}));return}let l=new Eo(a.headers),c=a.statusText,d=ak(a)??i.urlWithParams,f=a.status,m=null;if(i.reportProgress&&s.next(new py({headers:l,status:f,statusText:c,url:d})),a.body){let C=a.headers.get("content-length"),A=[],S=a.body.getReader(),j=0,Z,W,Y=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>F(this,null,function*(){for(;;){let{done:ae,value:x}=yield S.read();if(ae)break;if(A.push(x),j+=x.length,i.reportProgress){W=i.responseType==="text"?(W??"")+(Z??=new TextDecoder).decode(x,{stream:!0}):void 0;let D=()=>s.next({type:Sa.DownloadProgress,total:C?+C:void 0,loaded:j,partialText:W});Y?Y.run(D):D()}}}));let ge=this.concatChunks(A,j);try{let ae=a.headers.get("Content-Type")??"";m=this.parseBody(i,ge,ae)}catch(ae){s.error(new Da({error:ae,headers:new Eo(a.headers),status:a.status,statusText:a.statusText,url:ak(a)??i.urlWithParams}));return}}f===0&&(f=m?dk:0),f>=200&&f<300?(s.next(new vf({body:m,headers:l,status:f,statusText:c,url:d})),s.complete()):s.error(new Da({error:m,headers:l,status:f,statusText:c,url:d}))})}parseBody(i,r,s){switch(i.responseType){case"json":let o=new TextDecoder().decode(r).replace(g9,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:s});case"arraybuffer":return r.buffer}}createRequestInit(i){let r={},s=i.withCredentials?"include":void 0;if(i.headers.forEach((o,a)=>r[o]=a.join(",")),i.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!i.headers.has("Content-Type")){let o=i.detectContentTypeHeader();o!==null&&(r["Content-Type"]=o)}return{body:i.serializeBody(),method:i.method,headers:r,credentials:s}}concatChunks(i,r){let s=new Uint8Array(r),o=0;for(let a of i)s.set(a,o),o+=a.length;return s}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=X({token:e,factory:e.\u0275fac});let n=e;return n})(),GC=class{};function qC(){}function _9(n){n.then(qC,qC)}function hk(n,e){return e(n)}function v9(n,e){return(t,i)=>e.intercept(t,{handle:r=>n(r,i)})}function w9(n,e,t){return(i,r)=>cr(t,()=>e(i,s=>n(s,r)))}var b9=new oe(""),KC=new oe(""),C9=new oe(""),fk=new oe("",{providedIn:"root",factory:()=>!0});function E9(){let n=null;return(e,t)=>{n===null&&(n=(K(b9,{optional:!0})??[]).reduceRight(v9,hk));let i=K(mo);if(K(fk)){let s=i.add();return n(e,t).pipe(zn(()=>i.remove(s)))}else return n(e,t)}}var lk=(()=>{let e=class e extends yf{constructor(i,r){super(),this.backend=i,this.injector=r,this.chain=null,this.pendingTasks=K(mo),this.contributeToStability=K(fk)}handle(i){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(KC),...this.injector.get(C9,[])]));this.chain=r.reduceRight((s,o)=>w9(s,o,this.injector),hk)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(i,s=>this.backend.handle(s)).pipe(zn(()=>this.pendingTasks.remove(r)))}else return this.chain(i,r=>this.backend.handle(r))}};e.\u0275fac=function(r){return new(r||e)(G(fy),G(xn))},e.\u0275prov=X({token:e,factory:e.\u0275fac});let n=e;return n})();var I9=/^\)\]\}',?\n/;function D9(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var ck=(()=>{let e=class e{constructor(i){this.xhrFactory=i}handle(i){if(i.method==="JSONP")throw new ne(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Ge(r.\u0275loadImpl()):ce(null)).pipe(Le(()=>new Se(o=>{let a=r.build();if(a.open(i.method,i.urlWithParams),i.withCredentials&&(a.withCredentials=!0),i.headers.forEach((S,j)=>a.setRequestHeader(S,j.join(","))),i.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!i.headers.has("Content-Type")){let S=i.detectContentTypeHeader();S!==null&&a.setRequestHeader("Content-Type",S)}if(i.responseType){let S=i.responseType.toLowerCase();a.responseType=S!=="json"?S:"text"}let l=i.serializeBody(),c=null,d=()=>{if(c!==null)return c;let S=a.statusText||"OK",j=new Eo(a.getAllResponseHeaders()),Z=D9(a)||i.url;return c=new py({headers:j,status:a.status,statusText:S,url:Z}),c},f=()=>{let{headers:S,status:j,statusText:Z,url:W}=d(),Y=null;j!==p9&&(Y=typeof a.response>"u"?a.responseText:a.response),j===0&&(j=Y?dk:0);let ge=j>=200&&j<300;if(i.responseType==="json"&&typeof Y=="string"){let ae=Y;Y=Y.replace(I9,"");try{Y=Y!==""?JSON.parse(Y):null}catch(x){Y=ae,ge&&(ge=!1,Y={error:x,text:Y})}}ge?(o.next(new vf({body:Y,headers:S,status:j,statusText:Z,url:W||void 0})),o.complete()):o.error(new Da({error:Y,headers:S,status:j,statusText:Z,url:W||void 0}))},m=S=>{let{url:j}=d(),Z=new Da({error:S,status:a.status||0,statusText:a.statusText||"Unknown Error",url:j||void 0});o.error(Z)},v=!1,C=S=>{v||(o.next(d()),v=!0);let j={type:Sa.DownloadProgress,loaded:S.loaded};S.lengthComputable&&(j.total=S.total),i.responseType==="text"&&a.responseText&&(j.partialText=a.responseText),o.next(j)},A=S=>{let j={type:Sa.UploadProgress,loaded:S.loaded};S.lengthComputable&&(j.total=S.total),o.next(j)};return a.addEventListener("load",f),a.addEventListener("error",m),a.addEventListener("timeout",m),a.addEventListener("abort",m),i.reportProgress&&(a.addEventListener("progress",C),l!==null&&a.upload&&a.upload.addEventListener("progress",A)),a.send(l),o.next({type:Sa.Sent}),()=>{a.removeEventListener("error",m),a.removeEventListener("abort",m),a.removeEventListener("load",f),a.removeEventListener("timeout",m),i.reportProgress&&(a.removeEventListener("progress",C),l!==null&&a.upload&&a.upload.removeEventListener("progress",A)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(r){return new(r||e)(G(qu))},e.\u0275prov=X({token:e,factory:e.\u0275fac});let n=e;return n})(),pk=new oe(""),T9="XSRF-TOKEN",S9=new oe("",{providedIn:"root",factory:()=>T9}),M9="X-XSRF-TOKEN",A9=new oe("",{providedIn:"root",factory:()=>M9}),gy=class{},x9=(()=>{let e=class e{constructor(i,r,s){this.doc=i,this.platform=r,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let i=this.doc.cookie||"";return i!==this.lastCookieString&&(this.parseCount++,this.lastToken=uy(i,this.cookieName),this.lastCookieString=i),this.lastToken}};e.\u0275fac=function(r){return new(r||e)(G(Ye),G(bt),G(S9))},e.\u0275prov=X({token:e,factory:e.\u0275fac});let n=e;return n})();function R9(n,e){let t=n.url.toLowerCase();if(!K(pk)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let i=K(gy).getToken(),r=K(A9);return i!=null&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}var gk=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(gk||{});function O9(n,e){return{\u0275kind:n,\u0275providers:e}}function N9(...n){let e=[WC,ck,lk,{provide:yf,useExisting:lk},{provide:fy,useFactory:()=>K(y9,{optional:!0})??K(ck)},{provide:KC,useValue:R9,multi:!0},{provide:pk,useValue:!0},{provide:gy,useClass:x9}];for(let t of n)e.push(...t.\u0275providers);return ju(e)}var uk=new oe("");function k9(){return O9(gk.LegacyInterceptors,[{provide:uk,useFactory:E9},{provide:KC,useExisting:uk,multi:!0}])}var mk=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({providers:[N9(k9())]});let n=e;return n})();var YC=class extends ay{constructor(){super(...arguments),this.supportsDOMEvents=!0}},JC=class n extends YC{static makeCurrent(){WN(new n)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=F9();return t==null?null:L9(t)}resetBaseElement(){wf=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return uy(document.cookie,e)}},wf=null;function F9(){return wf=wf||document.querySelector("base"),wf?wf.getAttribute("href"):null}function L9(n){return new URL(n,document.baseURI).pathname}var XC=class{addToWindow(e){$n.getAngularTestability=(i,r=!0)=>{let s=e.findTestabilityInTree(i,r);if(s==null)throw new ne(5103,!1);return s},$n.getAllAngularTestabilities=()=>e.getAllTestabilities(),$n.getAllAngularRootElements=()=>e.getAllRootElements();let t=i=>{let r=$n.getAllAngularTestabilities(),s=r.length,o=function(){s--,s==0&&i()};r.forEach(a=>{a.whenStable(o)})};$n.frameworkStabilizers||($n.frameworkStabilizers=[]),$n.frameworkStabilizers.push(t)}findTestabilityInTree(e,t,i){if(t==null)return null;let r=e.getTestability(t);return r??(i?As().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},V9=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=X({token:e,factory:e.\u0275fac});let n=e;return n})(),my=new oe(""),vk=(()=>{let e=class e{constructor(i,r){this._zone=r,this._eventNameToPlugin=new Map,i.forEach(s=>{s.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,r,s){return this._findPluginFor(r).addEventListener(i,r,s)}getZone(){return this._zone}_findPluginFor(i){let r=this._eventNameToPlugin.get(i);if(r)return r;if(r=this._plugins.find(o=>o.supports(i)),!r)throw new ne(5101,!1);return this._eventNameToPlugin.set(i,r),r}};e.\u0275fac=function(r){return new(r||e)(G(my),G(De))},e.\u0275prov=X({token:e,factory:e.\u0275fac});let n=e;return n})(),bf=class{constructor(e){this._doc=e}},QC="ng-app-id",wk=(()=>{let e=class e{constructor(i,r,s,o={}){this.doc=i,this.appId=r,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ia(o),this.resetHostNodes()}addStyles(i){for(let r of i)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(i){for(let r of i)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let i=this.styleNodesInDOM;i&&(i.forEach(r=>r.remove()),i.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(let r of this.getAllStyles())this.addStyleToHost(i,r)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(let r of this.hostNodes)this.addStyleToHost(r,i)}onStyleRemoved(i){let r=this.styleRef;r.get(i)?.elements?.forEach(s=>s.remove()),r.delete(i)}collectServerRenderedStyles(){let i=this.doc.head?.querySelectorAll(`style[${QC}="${this.appId}"]`);if(i?.length){let r=new Map;return i.forEach(s=>{s.textContent!=null&&r.set(s.textContent,s)}),r}return null}changeUsageCount(i,r){let s=this.styleRef;if(s.has(i)){let o=s.get(i);return o.usage+=r,o.usage}return s.set(i,{usage:r,elements:[]}),r}getStyleElement(i,r){let s=this.styleNodesInDOM,o=s?.get(r);if(o?.parentNode===i)return s.delete(r),o.removeAttribute(QC),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(QC,this.appId),i.appendChild(a),a}}addStyleToHost(i,r){let s=this.getStyleElement(i,r),o=this.styleRef,a=o.get(r)?.elements;a?a.push(s):o.set(r,{elements:[s],usage:1})}resetHostNodes(){let i=this.hostNodes;i.clear(),i.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)(G(Ye),G(P0),G(J1,8),G(bt))},e.\u0275prov=X({token:e,factory:e.\u0275fac});let n=e;return n})(),ZC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},tE=/%COMP%/g,bk="%COMP%",B9=`_nghost-${bk}`,U9=`_ngcontent-${bk}`,j9=!0,z9=new oe("",{providedIn:"root",factory:()=>j9});function $9(n){return U9.replace(tE,n)}function H9(n){return B9.replace(tE,n)}function Ck(n,e){return e.map(t=>t.replace(tE,n))}var yy=(()=>{let e=class e{constructor(i,r,s,o,a,l,c,d=null){this.eventManager=i,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=Ia(l),this.defaultRenderer=new Cf(i,a,c,this.platformIsServer)}createRenderer(i,r){if(!i||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===vs.ShadowDom&&(r=Ee(Q({},r),{encapsulation:vs.Emulated}));let s=this.getOrCreateRenderer(i,r);return s instanceof _y?s.applyToHost(i):s instanceof Ef&&s.applyStyles(),s}getOrCreateRenderer(i,r){let s=this.rendererByCompId,o=s.get(r.id);if(!o){let a=this.doc,l=this.ngZone,c=this.eventManager,d=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(r.encapsulation){case vs.Emulated:o=new _y(c,d,r,this.appId,f,a,l,m);break;case vs.ShadowDom:return new eE(c,d,i,r,a,l,this.nonce,m);default:o=new Ef(c,d,r,f,a,l,m);break}s.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)(G(vk),G(wk),G(P0),G(z9),G(Ye),G(bt),G(De),G(J1))},e.\u0275prov=X({token:e,factory:e.\u0275fac});let n=e;return n})(),Cf=class{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(ZC[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(yk(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(yk(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){t.remove()}selectRootElement(e,t){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new ne(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;let s=ZC[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){let r=ZC[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(Cs.DashCase|Cs.Important)?e.style.setProperty(t,i,r&Cs.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Cs.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e!=null&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i){if(typeof e=="string"&&(e=As().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function yk(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var eE=class extends Cf{constructor(e,t,i,r,s,o,a,l){super(e,s,o,l),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=Ck(r.id,r.styles);for(let d of c){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=d,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ef=class extends Cf{constructor(e,t,i,r,s,o,a,l){super(e,s,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=l?Ck(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},_y=class extends Ef{constructor(e,t,i,r,s,o,a,l){let c=r+"-"+i.id;super(e,t,i,s,o,a,l,c),this.contentAttr=$9(c),this.hostAttr=H9(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}},G9=(()=>{let e=class e extends bf{constructor(i){super(i)}supports(i){return!0}addEventListener(i,r,s){return i.addEventListener(r,s,!1),()=>this.removeEventListener(i,r,s)}removeEventListener(i,r,s){return i.removeEventListener(r,s)}};e.\u0275fac=function(r){return new(r||e)(G(Ye))},e.\u0275prov=X({token:e,factory:e.\u0275fac});let n=e;return n})(),q9=(()=>{let e=class e extends bf{constructor(i){super(i),this.delegate=K(VN,{optional:!0})}supports(i){return this.delegate?this.delegate.supports(i):!1}addEventListener(i,r,s){return this.delegate.addEventListener(i,r,s)}removeEventListener(i,r,s){return this.delegate.removeEventListener(i,r,s)}};e.\u0275fac=function(r){return new(r||e)(G(Ye))},e.\u0275prov=X({token:e,factory:e.\u0275fac});let n=e;return n})(),_k=["alt","control","meta","shift"],W9={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},K9={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},Q9=(()=>{let e=class e extends bf{constructor(i){super(i)}supports(i){return e.parseEventName(i)!=null}addEventListener(i,r,s){let o=e.parseEventName(r),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>As().onAndCancel(i,o.domEventName,a))}static parseEventName(i){let r=i.toLowerCase().split("."),s=r.shift();if(r.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(r.pop()),a="",l=r.indexOf("code");if(l>-1&&(r.splice(l,1),a="code."),_k.forEach(d=>{let f=r.indexOf(d);f>-1&&(r.splice(f,1),a+=d+".")}),a+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=s,c.fullKey=a,c}static matchEventFullKeyCode(i,r){let s=W9[i.key]||i.key,o="";return r.indexOf("code.")>-1&&(s=i.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),_k.forEach(a=>{if(a!==s){let l=K9[a];l(i)&&(o+=a+".")}}),o+=s,o===r)}static eventCallback(i,r,s){return o=>{e.matchEventFullKeyCode(o,i)&&s.runGuarded(()=>r(o))}}static _normalizeKey(i){return i==="esc"?"escape":i}};e.\u0275fac=function(r){return new(r||e)(G(Ye))},e.\u0275prov=X({token:e,factory:e.\u0275fac});let n=e;return n})();function Z9(){JC.makeCurrent()}function Y9(){return new ho}function J9(){return oO(document),document}var X9=[{provide:bt,useValue:jC},{provide:Z1,useValue:Z9,multi:!0},{provide:Ye,useFactory:J9,deps:[]}],Ek=EC(FN,"browser",X9),eG=new oe(""),tG=[{provide:ff,useClass:XC,deps:[]},{provide:vC,useClass:W0,deps:[De,K0,ff]},{provide:W0,useClass:W0,deps:[De,K0,ff]}],nG=[{provide:E0,useValue:"root"},{provide:ho,useFactory:Y9,deps:[]},{provide:my,useClass:G9,multi:!0,deps:[Ye,De,bt]},{provide:my,useClass:Q9,multi:!0,deps:[Ye]},{provide:my,useClass:q9,multi:!0},yy,wk,vk,{provide:pa,useExisting:yy},{provide:qu,useClass:V9,deps:[]},[]],vy=(()=>{let e=class e{constructor(i){}static withServerTransition(i){return{ngModule:e,providers:[{provide:P0,useValue:i.appId}]}}};e.\u0275fac=function(r){return new(r||e)(G(eG,12))},e.\u0275mod=we({type:e}),e.\u0275inj=ve({providers:[...nG,...tG],imports:[Rs,LN]});let n=e;return n})();var Ik=(()=>{let e=class e{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}};e.\u0275fac=function(r){return new(r||e)(G(Ye))},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var nE=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=X({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=G(iG),s},providedIn:"root"});let n=e;return n})(),iG=(()=>{let e=class e extends nE{constructor(i){super(),this._doc=i}sanitize(i,r){if(r==null)return null;switch(i){case $i.NONE:return r;case $i.HTML:return yo(r,"HTML")?dr(r):eC(this._doc,String(r)).toString();case $i.STYLE:return yo(r,"Style")?dr(r):r;case $i.SCRIPT:if(yo(r,"Script"))return dr(r);throw new ne(5200,!1);case $i.URL:return yo(r,"URL")?dr(r):L0(String(r));case $i.RESOURCE_URL:if(yo(r,"ResourceURL"))return dr(r);throw new ne(5201,!1);default:throw new ne(5202,!1)}}bypassSecurityTrustHtml(i){return uO(i)}bypassSecurityTrustStyle(i){return dO(i)}bypassSecurityTrustScript(i){return hO(i)}bypassSecurityTrustUrl(i){return fO(i)}bypassSecurityTrustResourceUrl(i){return pO(i)}};e.\u0275fac=function(r){return new(r||e)(G(Ye))},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var rG="firebase",sG="10.12.2";Un(rG,sG,"app");var Do=new po("ANGULARFIRE2_VERSION");var oG=(n,e)=>{let t=e?[e]:mA(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(o=>{i.includes(o)||i.push(o)})}),i},Io=class{constructor(){return oG(aG)}},aG="app-check";function rE(){}var wy=class{zone;delegate;constructor(e,t=eb){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){let r=this.zone,s=function(o){r.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,t,i)}},sE=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",rE,{},rE,rE)),t.pipe(qt({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Qu=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new wy(Zone.current)),this.insideAngular=t.run(()=>new wy(Zone.current,ra)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(G(De))};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Dk(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function oE(n){return n.pipe(ji(Dk().outsideAngular))}function Wn(n){return lG(Dk())(n)}function lG(n){return function(t){return t=t.lift(new sE(n.ngZone)),t.pipe(Nr(n.outsideAngular),ji(n.insideAngular))}}var cG="firebase",uG="10.12.2";wt.registerVersion(cG,uG,"app-compat");var dG=["ngOnDestroy"],Sk=(n,e,t,i={})=>new Proxy(n,{get:(r,s)=>t.runOutsideAngular(()=>{if(n[s])return i?.spy?.get&&i.spy.get(s,n[s]),n[s];if(dG.indexOf(s)>-1)return()=>{};let o=e.toPromise().then(a=>{let l=a?.[s];return typeof l=="function"?l.bind(a):l?.then?l.then(c=>t.run(()=>c)):t.run(()=>l)});return new Proxy(()=>{},{get:(a,l)=>o[l],apply:(a,l,c)=>o.then(d=>{let f=d?.(...c);return i?.spy?.apply&&i.spy.apply(s,c,f),f})})})});var by=class{constructor(e){return e}},Ma=new oe("angularfire2.app.options"),Aa=new oe("angularfire2.app.name");function Xl(n,e,t){let i=typeof t=="string"&&t||"[DEFAULT]",r=typeof t=="object"&&t||{};r.name=r.name||i;let o=wt.apps.filter(a=>a&&a.name===r.name)[0]||e.runOutsideAngular(()=>wt.initializeApp(n,r));try{if(JSON.stringify(n)!==JSON.stringify(o.options)){let a=!!module.hot;hG("error",`${o.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new by(o)}var hG=(n,...e)=>{IC()&&typeof console<"u"&&console[n](...e)},fG={provide:by,useFactory:Xl,deps:[Ma,De,[new Wl,Aa]]},Mk=(()=>{class n{static initializeApp(t,i){return{ngModule:n,providers:[{provide:Ma,useValue:t},{provide:Aa,useValue:i}]}}constructor(t){wt.registerVersion("angularfire",Do.full,"core"),wt.registerVersion("angularfire",Do.full,"app-compat"),wt.registerVersion("angular",AN.full,t.toString())}static \u0275fac=function(i){return new(i||n)(G(bt))};static \u0275mod=we({type:n});static \u0275inj=ve({providers:[fG]})}return n})();function Zu(n,e,t,i,r){let[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(s)return pG(r,o)||(Tk("error",`${e} was already initialized on the ${t} Firebase App with different settings.${gG?" You may need to reload as Firebase is not HMR aware.":""}`),Tk("warn",{is:r,was:o})),s;{let a=i();return globalThis.\u0275AngularfireInstanceCache.push([n,a,r]),a}}function pG(n,e){try{return n.toString()===e.toString()}catch{return n===e}}var gG=typeof module<"u"&&!!module.hot,Tk=(n,...e)=>{IC()&&typeof console<"u"&&console[n](...e)};globalThis.\u0275AngularfireInstanceCache||=[];var mG=new Map,yG={activated:!1,tokenObservers:[]},_G={initialized:!1,enabled:!1};function Qr(n){return mG.get(n)||Object.assign({},yG)}function Nk(){return _G}var vG="https://content-firebaseappcheck.googleapis.com/v1";var wG="exchangeDebugToken",Ak={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},$he=24*60*60*1e3;var cE=class{constructor(e,t,i,r,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return F(this,null,function*(){this.stop();try{this.pending=new Pw,this.pending.promise.catch(t=>{}),yield bG(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Pw,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function bG(n){return new Promise(e=>{setTimeout(e,n)})}var CG={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},xa=new du("appCheck","AppCheck",CG);function kk(n){if(!Qr(n).activated)throw xa.create("use-before-activation",{appName:n.name})}function Pk(i,r){return F(this,arguments,function*({url:n,body:e},t){let s={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){let v=yield o.getHeartbeatsHeader();v&&(s["X-Firebase-Client"]=v)}let a={method:"POST",body:JSON.stringify(e),headers:s},l;try{l=yield fetch(n,a)}catch(v){throw xa.create("fetch-network-error",{originalErrorMessage:v?.message})}if(l.status!==200)throw xa.create("fetch-status-error",{httpStatus:l.status});let c;try{c=yield l.json()}catch(v){throw xa.create("fetch-parse-error",{originalErrorMessage:v?.message})}let d=c.ttl.match(/^([\d.]+)(s)$/);if(!d||!d[2]||isNaN(Number(d[1])))throw xa.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});let f=Number(d[1])*1e3,m=Date.now();return{token:c.token,expireTimeMillis:m+f,issuedAtTimeMillis:m}})}function Fk(n,e){let{projectId:t,appId:i,apiKey:r}=n.options;return{url:`${vG}/projects/${t}/apps/${i}:${wG}?key=${r}`,body:{debug_token:e}}}var EG="firebase-app-check-database",IG=1,uE="firebase-app-check-store";var Cy=null;function DG(){return Cy||(Cy=new Promise((n,e)=>{try{let t=indexedDB.open(EG,IG);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(xa.create("storage-open",{originalErrorMessage:(r=i.target.error)===null||r===void 0?void 0:r.message}))},t.onupgradeneeded=i=>{let r=i.target.result;switch(i.oldVersion){case 0:r.createObjectStore(uE,{keyPath:"compositeKey"})}}}catch(t){e(xa.create("storage-open",{originalErrorMessage:t?.message}))}}),Cy)}function TG(n,e){return SG(MG(n),e)}function SG(n,e){return F(this,null,function*(){let i=(yield DG()).transaction(uE,"readwrite"),s=i.objectStore(uE).put({compositeKey:n,value:e});return new Promise((o,a)=>{s.onsuccess=l=>{o()},i.onerror=l=>{var c;a(xa.create("storage-set",{originalErrorMessage:(c=l.target.error)===null||c===void 0?void 0:c.message}))}})})}function MG(n){return`${n.options.appId}-${n.name}`}var dE=new hu("@firebase/app-check");function lE(n,e){return uu()?TG(n,e).catch(t=>{dE.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Lk(){return Nk().enabled}function Vk(){return F(this,null,function*(){let n=Nk();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var AG={error:"UNKNOWN_ERROR"};function xG(n){return uA.encodeString(JSON.stringify(n),!1)}function hE(n,e=!1){return F(this,null,function*(){let t=n.app;kk(t);let i=Qr(t),r=i.token,s;if(r&&!If(r)&&(i.token=void 0,r=void 0),!r){let l=yield i.cachedTokenPromise;l&&(If(l)?r=l:yield lE(t,void 0))}if(!e&&r&&If(r))return{token:r.token};let o=!1;if(Lk()){i.exchangeTokenPromise||(i.exchangeTokenPromise=Pk(Fk(t,yield Vk()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),o=!0);let l=yield i.exchangeTokenPromise;return yield lE(t,l),i.token=l,{token:l.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),o=!0),r=yield Qr(t).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?dE.warn(l.message):dE.error(l),s=l}let a;return r?s?If(r)?a={token:r.token,internalError:s}:a=Rk(s):(a={token:r.token},i.token=r,yield lE(t,r)):a=Rk(s),o&&kG(t,a),a})}function RG(n){return F(this,null,function*(){let e=n.app;kk(e);let{provider:t}=Qr(e);if(Lk()){let i=yield Vk(),{token:r}=yield Pk(Fk(e,i),n.heartbeatServiceProvider);return{token:r}}else{let{token:i}=yield t.getToken();return{token:i}}})}function OG(n,e,t,i){let{app:r}=n,s=Qr(r),o={next:t,error:i,type:e};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&If(s.token)){let a=s.token;Promise.resolve().then(()=>{t({token:a.token}),xk(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>xk(n))}function Bk(n,e){let t=Qr(n),i=t.tokenObservers.filter(r=>r.next!==e);i.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function xk(n){let{app:e}=n,t=Qr(e),i=t.tokenRefresher;i||(i=NG(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function NG(n){let{app:e}=n;return new cE(()=>F(this,null,function*(){let t=Qr(e),i;if(t.token?i=yield hE(n,!0):i=yield hE(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{let t=Qr(e);if(t.token){let i=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,r=t.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,r),Math.max(0,i-Date.now())}else return 0},Ak.RETRIAL_MIN_WAIT,Ak.RETRIAL_MAX_WAIT)}function kG(n,e){let t=Qr(n).tokenObservers;for(let i of t)try{i.type==="EXTERNAL"&&e.error!=null?i.error(e.error):i.next(e)}catch{}}function If(n){return n.expireTimeMillis-Date.now()>0}function Rk(n){return{token:xG(AG),error:n}}var fE=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=Qr(this.app);for(let t of e)Bk(this.app,t.next);return Promise.resolve()}};function PG(n,e){return new fE(n,e)}function FG(n){return{getToken:e=>hE(n,e),getLimitedUseToken:()=>RG(n),addTokenListener:e=>OG(n,"INTERNAL",e),removeTokenListener:e=>Bk(n.app,e)}}var LG="@firebase/app-check",VG="0.8.4";var BG="app-check",Ok="app-check-internal";function UG(){Ui(new Bn(BG,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return PG(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Ok).initialize()})),Ui(new Bn(Ok,n=>{let e=n.getProvider("app-check").getImmediate();return FG(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Un(LG,VG)}UG();var jG=["localhost","0.0.0.0","127.0.0.1"],tfe=typeof window<"u"&&jG.includes(window.location.hostname);var gE=new oe("angularfire2.auth.use-emulator"),mE=new oe("angularfire2.auth.settings"),yE=new oe("angularfire2.auth.tenant-id"),_E=new oe("angularfire2.auth.langugage-code"),vE=new oe("angularfire2.auth.use-device-language"),wE=new oe("angularfire.auth.persistence"),bE=(n,e,t,i,r,s,o,a)=>Zu(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{let l=e.runOutsideAngular(()=>n.auth());if(t&&l.useEmulator(...t),i&&(l.tenantId=i),l.languageCode=r,s&&l.useDeviceLanguage(),o)for(let[c,d]of Object.entries(o))l.settings[c]=d;return a&&l.setPersistence(a),l},[t,i,r,s,o,a]),Zr=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(t,i,r,s,o,a,l,c,d,f,m,v){let C=new ke,A=ce(void 0).pipe(ji(o.outsideAngular),Le(()=>s.runOutsideAngular(()=>import("./chunk-XXY5BYLN.js"))),se(()=>Xl(t,s,i)),se(S=>bE(S,s,a,c,d,f,l,m)),Am({bufferSize:1,refCount:!1}));if(Ia(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ce(null);else{A.pipe(or()).subscribe();let S=A.pipe(Le(W=>W.getRedirectResult().then(Y=>Y,()=>null)),Wn,Am({bufferSize:1,refCount:!1})),j=A.pipe(Le(W=>new Se(Y=>({unsubscribe:s.runOutsideAngular(()=>W.onAuthStateChanged(ge=>Y.next(ge),ge=>Y.error(ge),()=>Y.complete()))})))),Z=A.pipe(Le(W=>new Se(Y=>({unsubscribe:s.runOutsideAngular(()=>W.onIdTokenChanged(ge=>Y.next(ge),ge=>Y.error(ge),()=>Y.complete()))}))));this.authState=S.pipe(xm(j),Nr(o.outsideAngular),ji(o.insideAngular)),this.user=S.pipe(xm(Z),Nr(o.outsideAngular),ji(o.insideAngular)),this.idToken=this.user.pipe(Le(W=>W?Ge(W.getIdToken()):ce(null))),this.idTokenResult=this.user.pipe(Le(W=>W?Ge(W.getIdTokenResult()):ce(null))),this.credential=Dm(S,C,this.authState.pipe(Ut(W=>!W))).pipe(se(W=>W?.user?W:null),Nr(o.outsideAngular),ji(o.insideAngular))}return Sk(this,A,s,{spy:{apply:(S,j,Z)=>{(S.startsWith("signIn")||S.startsWith("createUser"))&&Z.then(W=>C.next(W))}}})}static \u0275fac=function(i){return new(i||n)(G(Ma),G(Aa,8),G(bt),G(De),G(Qu),G(gE,8),G(mE,8),G(yE,8),G(_E,8),G(vE,8),G(wE,8),G(Io,8))};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),Uk=(()=>{class n{constructor(){wt.registerVersion("angularfire",Do.full,"auth-compat")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=we({type:n});static \u0275inj=ve({providers:[Zr]})}return n})();var jk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},zk={};var Ra,CE;(function(){var n;function e(x,D){function M(){}M.prototype=D.prototype,x.D=D.prototype,x.prototype=new M,x.prototype.constructor=x,x.C=function(k,P,N){for(var R=Array(arguments.length-2),Ei=2;Ei<arguments.length;Ei++)R[Ei-2]=arguments[Ei];return D.prototype[P].apply(k,R)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(x,D,M){M||(M=0);var k=Array(16);if(typeof D=="string")for(var P=0;16>P;++P)k[P]=D.charCodeAt(M++)|D.charCodeAt(M++)<<8|D.charCodeAt(M++)<<16|D.charCodeAt(M++)<<24;else for(P=0;16>P;++P)k[P]=D[M++]|D[M++]<<8|D[M++]<<16|D[M++]<<24;D=x.g[0],M=x.g[1],P=x.g[2];var N=x.g[3],R=D+(N^M&(P^N))+k[0]+3614090360&4294967295;D=M+(R<<7&4294967295|R>>>25),R=N+(P^D&(M^P))+k[1]+3905402710&4294967295,N=D+(R<<12&4294967295|R>>>20),R=P+(M^N&(D^M))+k[2]+606105819&4294967295,P=N+(R<<17&4294967295|R>>>15),R=M+(D^P&(N^D))+k[3]+3250441966&4294967295,M=P+(R<<22&4294967295|R>>>10),R=D+(N^M&(P^N))+k[4]+4118548399&4294967295,D=M+(R<<7&4294967295|R>>>25),R=N+(P^D&(M^P))+k[5]+1200080426&4294967295,N=D+(R<<12&4294967295|R>>>20),R=P+(M^N&(D^M))+k[6]+2821735955&4294967295,P=N+(R<<17&4294967295|R>>>15),R=M+(D^P&(N^D))+k[7]+4249261313&4294967295,M=P+(R<<22&4294967295|R>>>10),R=D+(N^M&(P^N))+k[8]+1770035416&4294967295,D=M+(R<<7&4294967295|R>>>25),R=N+(P^D&(M^P))+k[9]+2336552879&4294967295,N=D+(R<<12&4294967295|R>>>20),R=P+(M^N&(D^M))+k[10]+4294925233&4294967295,P=N+(R<<17&4294967295|R>>>15),R=M+(D^P&(N^D))+k[11]+2304563134&4294967295,M=P+(R<<22&4294967295|R>>>10),R=D+(N^M&(P^N))+k[12]+1804603682&4294967295,D=M+(R<<7&4294967295|R>>>25),R=N+(P^D&(M^P))+k[13]+4254626195&4294967295,N=D+(R<<12&4294967295|R>>>20),R=P+(M^N&(D^M))+k[14]+2792965006&4294967295,P=N+(R<<17&4294967295|R>>>15),R=M+(D^P&(N^D))+k[15]+1236535329&4294967295,M=P+(R<<22&4294967295|R>>>10),R=D+(P^N&(M^P))+k[1]+4129170786&4294967295,D=M+(R<<5&4294967295|R>>>27),R=N+(M^P&(D^M))+k[6]+3225465664&4294967295,N=D+(R<<9&4294967295|R>>>23),R=P+(D^M&(N^D))+k[11]+643717713&4294967295,P=N+(R<<14&4294967295|R>>>18),R=M+(N^D&(P^N))+k[0]+3921069994&4294967295,M=P+(R<<20&4294967295|R>>>12),R=D+(P^N&(M^P))+k[5]+3593408605&4294967295,D=M+(R<<5&4294967295|R>>>27),R=N+(M^P&(D^M))+k[10]+38016083&4294967295,N=D+(R<<9&4294967295|R>>>23),R=P+(D^M&(N^D))+k[15]+3634488961&4294967295,P=N+(R<<14&4294967295|R>>>18),R=M+(N^D&(P^N))+k[4]+3889429448&4294967295,M=P+(R<<20&4294967295|R>>>12),R=D+(P^N&(M^P))+k[9]+568446438&4294967295,D=M+(R<<5&4294967295|R>>>27),R=N+(M^P&(D^M))+k[14]+3275163606&4294967295,N=D+(R<<9&4294967295|R>>>23),R=P+(D^M&(N^D))+k[3]+4107603335&4294967295,P=N+(R<<14&4294967295|R>>>18),R=M+(N^D&(P^N))+k[8]+1163531501&4294967295,M=P+(R<<20&4294967295|R>>>12),R=D+(P^N&(M^P))+k[13]+2850285829&4294967295,D=M+(R<<5&4294967295|R>>>27),R=N+(M^P&(D^M))+k[2]+4243563512&4294967295,N=D+(R<<9&4294967295|R>>>23),R=P+(D^M&(N^D))+k[7]+1735328473&4294967295,P=N+(R<<14&4294967295|R>>>18),R=M+(N^D&(P^N))+k[12]+2368359562&4294967295,M=P+(R<<20&4294967295|R>>>12),R=D+(M^P^N)+k[5]+4294588738&4294967295,D=M+(R<<4&4294967295|R>>>28),R=N+(D^M^P)+k[8]+2272392833&4294967295,N=D+(R<<11&4294967295|R>>>21),R=P+(N^D^M)+k[11]+1839030562&4294967295,P=N+(R<<16&4294967295|R>>>16),R=M+(P^N^D)+k[14]+4259657740&4294967295,M=P+(R<<23&4294967295|R>>>9),R=D+(M^P^N)+k[1]+2763975236&4294967295,D=M+(R<<4&4294967295|R>>>28),R=N+(D^M^P)+k[4]+1272893353&4294967295,N=D+(R<<11&4294967295|R>>>21),R=P+(N^D^M)+k[7]+4139469664&4294967295,P=N+(R<<16&4294967295|R>>>16),R=M+(P^N^D)+k[10]+3200236656&4294967295,M=P+(R<<23&4294967295|R>>>9),R=D+(M^P^N)+k[13]+681279174&4294967295,D=M+(R<<4&4294967295|R>>>28),R=N+(D^M^P)+k[0]+3936430074&4294967295,N=D+(R<<11&4294967295|R>>>21),R=P+(N^D^M)+k[3]+3572445317&4294967295,P=N+(R<<16&4294967295|R>>>16),R=M+(P^N^D)+k[6]+76029189&4294967295,M=P+(R<<23&4294967295|R>>>9),R=D+(M^P^N)+k[9]+3654602809&4294967295,D=M+(R<<4&4294967295|R>>>28),R=N+(D^M^P)+k[12]+3873151461&4294967295,N=D+(R<<11&4294967295|R>>>21),R=P+(N^D^M)+k[15]+530742520&4294967295,P=N+(R<<16&4294967295|R>>>16),R=M+(P^N^D)+k[2]+3299628645&4294967295,M=P+(R<<23&4294967295|R>>>9),R=D+(P^(M|~N))+k[0]+4096336452&4294967295,D=M+(R<<6&4294967295|R>>>26),R=N+(M^(D|~P))+k[7]+1126891415&4294967295,N=D+(R<<10&4294967295|R>>>22),R=P+(D^(N|~M))+k[14]+2878612391&4294967295,P=N+(R<<15&4294967295|R>>>17),R=M+(N^(P|~D))+k[5]+4237533241&4294967295,M=P+(R<<21&4294967295|R>>>11),R=D+(P^(M|~N))+k[12]+1700485571&4294967295,D=M+(R<<6&4294967295|R>>>26),R=N+(M^(D|~P))+k[3]+2399980690&4294967295,N=D+(R<<10&4294967295|R>>>22),R=P+(D^(N|~M))+k[10]+4293915773&4294967295,P=N+(R<<15&4294967295|R>>>17),R=M+(N^(P|~D))+k[1]+2240044497&4294967295,M=P+(R<<21&4294967295|R>>>11),R=D+(P^(M|~N))+k[8]+1873313359&4294967295,D=M+(R<<6&4294967295|R>>>26),R=N+(M^(D|~P))+k[15]+4264355552&4294967295,N=D+(R<<10&4294967295|R>>>22),R=P+(D^(N|~M))+k[6]+2734768916&4294967295,P=N+(R<<15&4294967295|R>>>17),R=M+(N^(P|~D))+k[13]+1309151649&4294967295,M=P+(R<<21&4294967295|R>>>11),R=D+(P^(M|~N))+k[4]+4149444226&4294967295,D=M+(R<<6&4294967295|R>>>26),R=N+(M^(D|~P))+k[11]+3174756917&4294967295,N=D+(R<<10&4294967295|R>>>22),R=P+(D^(N|~M))+k[2]+718787259&4294967295,P=N+(R<<15&4294967295|R>>>17),R=M+(N^(P|~D))+k[9]+3951481745&4294967295,x.g[0]=x.g[0]+D&4294967295,x.g[1]=x.g[1]+(P+(R<<21&4294967295|R>>>11))&4294967295,x.g[2]=x.g[2]+P&4294967295,x.g[3]=x.g[3]+N&4294967295}i.prototype.u=function(x,D){D===void 0&&(D=x.length);for(var M=D-this.blockSize,k=this.B,P=this.h,N=0;N<D;){if(P==0)for(;N<=M;)r(this,x,N),N+=this.blockSize;if(typeof x=="string"){for(;N<D;)if(k[P++]=x.charCodeAt(N++),P==this.blockSize){r(this,k),P=0;break}}else for(;N<D;)if(k[P++]=x[N++],P==this.blockSize){r(this,k),P=0;break}}this.h=P,this.o+=D},i.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var D=1;D<x.length-8;++D)x[D]=0;var M=8*this.o;for(D=x.length-8;D<x.length;++D)x[D]=M&255,M/=256;for(this.u(x),x=Array(16),D=M=0;4>D;++D)for(var k=0;32>k;k+=8)x[M++]=this.g[D]>>>k&255;return x};function s(x,D){var M=a;return Object.prototype.hasOwnProperty.call(M,x)?M[x]:M[x]=D(x)}function o(x,D){this.h=D;for(var M=[],k=!0,P=x.length-1;0<=P;P--){var N=x[P]|0;k&&N==D||(M[P]=N,k=!1)}this.g=M}var a={};function l(x){return-128<=x&&128>x?s(x,function(D){return new o([D|0],0>D?-1:0)}):new o([x|0],0>x?-1:0)}function c(x){if(isNaN(x)||!isFinite(x))return f;if(0>x)return S(c(-x));for(var D=[],M=1,k=0;x>=M;k++)D[k]=x/M|0,M*=4294967296;return new o(D,0)}function d(x,D){if(x.length==0)throw Error("number format error: empty string");if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(x.charAt(0)=="-")return S(d(x.substring(1),D));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=c(Math.pow(D,8)),k=f,P=0;P<x.length;P+=8){var N=Math.min(8,x.length-P),R=parseInt(x.substring(P,P+N),D);8>N?(N=c(Math.pow(D,N)),k=k.j(N).add(c(R))):(k=k.j(M),k=k.add(c(R)))}return k}var f=l(0),m=l(1),v=l(16777216);n=o.prototype,n.m=function(){if(A(this))return-S(this).m();for(var x=0,D=1,M=0;M<this.g.length;M++){var k=this.i(M);x+=(0<=k?k:4294967296+k)*D,D*=4294967296}return x},n.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(C(this))return"0";if(A(this))return"-"+S(this).toString(x);for(var D=c(Math.pow(x,6)),M=this,k="";;){var P=Y(M,D).g;M=j(M,P.j(D));var N=((0<M.g.length?M.g[0]:M.h)>>>0).toString(x);if(M=P,C(M))return N+k;for(;6>N.length;)N="0"+N;k=N+k}},n.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function C(x){if(x.h!=0)return!1;for(var D=0;D<x.g.length;D++)if(x.g[D]!=0)return!1;return!0}function A(x){return x.h==-1}n.l=function(x){return x=j(this,x),A(x)?-1:C(x)?0:1};function S(x){for(var D=x.g.length,M=[],k=0;k<D;k++)M[k]=~x.g[k];return new o(M,~x.h).add(m)}n.abs=function(){return A(this)?S(this):this},n.add=function(x){for(var D=Math.max(this.g.length,x.g.length),M=[],k=0,P=0;P<=D;P++){var N=k+(this.i(P)&65535)+(x.i(P)&65535),R=(N>>>16)+(this.i(P)>>>16)+(x.i(P)>>>16);k=R>>>16,N&=65535,R&=65535,M[P]=R<<16|N}return new o(M,M[M.length-1]&-2147483648?-1:0)};function j(x,D){return x.add(S(D))}n.j=function(x){if(C(this)||C(x))return f;if(A(this))return A(x)?S(this).j(S(x)):S(S(this).j(x));if(A(x))return S(this.j(S(x)));if(0>this.l(v)&&0>x.l(v))return c(this.m()*x.m());for(var D=this.g.length+x.g.length,M=[],k=0;k<2*D;k++)M[k]=0;for(k=0;k<this.g.length;k++)for(var P=0;P<x.g.length;P++){var N=this.i(k)>>>16,R=this.i(k)&65535,Ei=x.i(P)>>>16,Ir=x.i(P)&65535;M[2*k+2*P]+=R*Ir,Z(M,2*k+2*P),M[2*k+2*P+1]+=N*Ir,Z(M,2*k+2*P+1),M[2*k+2*P+1]+=R*Ei,Z(M,2*k+2*P+1),M[2*k+2*P+2]+=N*Ei,Z(M,2*k+2*P+2)}for(k=0;k<D;k++)M[k]=M[2*k+1]<<16|M[2*k];for(k=D;k<2*D;k++)M[k]=0;return new o(M,0)};function Z(x,D){for(;(x[D]&65535)!=x[D];)x[D+1]+=x[D]>>>16,x[D]&=65535,D++}function W(x,D){this.g=x,this.h=D}function Y(x,D){if(C(D))throw Error("division by zero");if(C(x))return new W(f,f);if(A(x))return D=Y(S(x),D),new W(S(D.g),S(D.h));if(A(D))return D=Y(x,S(D)),new W(S(D.g),D.h);if(30<x.g.length){if(A(x)||A(D))throw Error("slowDivide_ only works with positive integers.");for(var M=m,k=D;0>=k.l(x);)M=ge(M),k=ge(k);var P=ae(M,1),N=ae(k,1);for(k=ae(k,2),M=ae(M,2);!C(k);){var R=N.add(k);0>=R.l(x)&&(P=P.add(M),N=R),k=ae(k,1),M=ae(M,1)}return D=j(x,P.j(D)),new W(P,D)}for(P=f;0<=x.l(D);){for(M=Math.max(1,Math.floor(x.m()/D.m())),k=Math.ceil(Math.log(M)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),N=c(M),R=N.j(D);A(R)||0<R.l(x);)M-=k,N=c(M),R=N.j(D);C(N)&&(N=m),P=P.add(N),x=j(x,R)}return new W(P,x)}n.A=function(x){return Y(this,x).h},n.and=function(x){for(var D=Math.max(this.g.length,x.g.length),M=[],k=0;k<D;k++)M[k]=this.i(k)&x.i(k);return new o(M,this.h&x.h)},n.or=function(x){for(var D=Math.max(this.g.length,x.g.length),M=[],k=0;k<D;k++)M[k]=this.i(k)|x.i(k);return new o(M,this.h|x.h)},n.xor=function(x){for(var D=Math.max(this.g.length,x.g.length),M=[],k=0;k<D;k++)M[k]=this.i(k)^x.i(k);return new o(M,this.h^x.h)};function ge(x){for(var D=x.g.length+1,M=[],k=0;k<D;k++)M[k]=x.i(k)<<1|x.i(k-1)>>>31;return new o(M,x.h)}function ae(x,D){var M=D>>5;D%=32;for(var k=x.g.length-M,P=[],N=0;N<k;N++)P[N]=0<D?x.i(N+M)>>>D|x.i(N+M+1)<<32-D:x.i(N+M);return new o(P,x.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,CE=zk.Md5=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,Ra=zk.Integer=o}).apply(typeof jk<"u"?jk:typeof self<"u"?self:typeof window<"u"?window:{});var Ey=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},To={};var EE,IE,Yu,DE,Tf,Iy,TE,SE,ME;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,y){return u==Array.prototype||u==Object.prototype||(u[g]=y.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ey=="object"&&Ey];for(var g=0;g<u.length;++g){var y=u[g];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var i=t(this);function r(u,g){if(g)e:{var y=i;u=u.split(".");for(var w=0;w<u.length-1;w++){var V=u[w];if(!(V in y))break e;y=y[V]}u=u[u.length-1],w=y[u],g=g(w),g!=w&&g!=null&&e(y,u,{configurable:!0,writable:!0,value:g})}}function s(u,g){u instanceof String&&(u+="");var y=0,w=!1,V={next:function(){if(!w&&y<u.length){var H=y++;return{value:g(H,u[H]),done:!1}}return w=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}r("Array.prototype.values",function(u){return u||function(){return s(this,function(g,y){return y})}});var o=o||{},a=this||self;function l(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function c(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function d(u,g,y){return u.call.apply(u.bind,arguments)}function f(u,g,y){if(!u)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,w),u.apply(g,V)}}return function(){return u.apply(g,arguments)}}function m(u,g,y){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,m.apply(null,arguments)}function v(u,g){var y=Array.prototype.slice.call(arguments,1);return function(){var w=y.slice();return w.push.apply(w,arguments),u.apply(this,w)}}function C(u,g){function y(){}y.prototype=g.prototype,u.aa=g.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(w,V,H){for(var le=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)le[nt-2]=arguments[nt];return g.prototype[V].apply(w,le)}}function A(u){let g=u.length;if(0<g){let y=Array(g);for(let w=0;w<g;w++)y[w]=u[w];return y}return[]}function S(u,g){for(let y=1;y<arguments.length;y++){let w=arguments[y];if(l(w)){let V=u.length||0,H=w.length||0;u.length=V+H;for(let le=0;le<H;le++)u[V+le]=w[le]}else u.push(w)}}class j{constructor(g,y){this.i=g,this.j=y,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function Z(u){return/^[\s\xa0]*$/.test(u)}function W(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function Y(u){return Y[" "](u),u}Y[" "]=function(){};var ge=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function ae(u,g,y){for(let w in u)g.call(y,u[w],w,u)}function x(u,g){for(let y in u)g.call(void 0,u[y],y,u)}function D(u){let g={};for(let y in u)g[y]=u[y];return g}let M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(u,g){let y,w;for(let V=1;V<arguments.length;V++){w=arguments[V];for(y in w)u[y]=w[y];for(let H=0;H<M.length;H++)y=M[H],Object.prototype.hasOwnProperty.call(w,y)&&(u[y]=w[y])}}function P(u){var g=1;u=u.split(":");let y=[];for(;0<g&&u.length;)y.push(u.shift()),g--;return u.length&&y.push(u.join(":")),y}function N(u){a.setTimeout(()=>{throw u},0)}function R(){var u=ze;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class Ei{constructor(){this.h=this.g=null}add(g,y){let w=Ir.get();w.set(g,y),this.h?this.h.next=w:this.g=w,this.h=w}}var Ir=new j(()=>new ye,u=>u.reset());class ye{constructor(){this.next=this.g=this.h=null}set(g,y){this.h=g,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let be,Ie=!1,ze=new Ei,ft=()=>{let u=a.Promise.resolve(void 0);be=()=>{u.then(vn)}};var vn=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(y){N(y)}var g=Ir;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}Ie=!1};function _t(){this.s=this.s,this.C=this.C}_t.prototype.s=!1,_t.prototype.ma=function(){this.s||(this.s=!0,this.N())},_t.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function It(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}It.prototype.h=function(){this.defaultPrevented=!0};var pt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{let y=()=>{};a.addEventListener("test",y,g),a.removeEventListener("test",y,g)}catch{}return u}();function Ii(u,g){if(It.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,w=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(ge){e:{try{Y(g.nodeName);var V=!0;break e}catch{}V=!1}V||(g=null)}}else y=="mouseover"?g=u.fromElement:y=="mouseout"&&(g=u.toElement);this.relatedTarget=g,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Gc[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ii.aa.h.call(this)}}C(Ii,It);var Gc={2:"touch",3:"pen",4:"mouse"};Ii.prototype.h=function(){Ii.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Dt="closure_listenable_"+(1e6*Math.random()|0),Li=0;function Zn(u,g,y,w,V){this.listener=u,this.proxy=null,this.src=g,this.type=y,this.capture=!!w,this.ha=V,this.key=++Li,this.da=this.fa=!1}function Vi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function nr(u){this.src=u,this.g={},this.h=0}nr.prototype.add=function(u,g,y,w,V){var H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);var le=vh(u,g,w,V);return-1<le?(g=u[le],y||(g.fa=!1)):(g=new Zn(g,this.src,H,!!w,V),g.fa=y,u.push(g)),g};function Ho(u,g){var y=g.type;if(y in u.g){var w=u.g[y],V=Array.prototype.indexOf.call(w,g,void 0),H;(H=0<=V)&&Array.prototype.splice.call(w,V,1),H&&(Vi(g),u.g[y].length==0&&(delete u.g[y],u.h--))}}function vh(u,g,y,w){for(var V=0;V<u.length;++V){var H=u[V];if(!H.da&&H.listener==g&&H.capture==!!y&&H.ha==w)return V}return-1}var Ln="closure_lm_"+(1e6*Math.random()|0),Bi={};function ig(u,g,y,w,V){if(w&&w.once)return wh(u,g,y,w,V);if(Array.isArray(g)){for(var H=0;H<g.length;H++)ig(u,g[H],y,w,V);return null}return y=cn(y),u&&u[Dt]?u.K(g,y,c(w)?!!w.capture:!!w,V):Yn(u,g,y,!1,w,V)}function Yn(u,g,y,w,V,H){if(!g)throw Error("Invalid event type");var le=c(V)?!!V.capture:!!V,nt=Dr(u);if(nt||(u[Ln]=nt=new nr(u)),y=nt.add(g,y,w,le,H),y.proxy)return y;if(w=qc(),y.proxy=w,w.src=u,w.listener=y,u.addEventListener)pt||(V=le),V===void 0&&(V=!1),u.addEventListener(g.toString(),w,V);else if(u.attachEvent)u.attachEvent(ui(g.toString()),w);else if(u.addListener&&u.removeListener)u.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return y}function qc(){function u(y){return g.call(u.src,u.listener,y)}let g=as;return u}function wh(u,g,y,w,V){if(Array.isArray(g)){for(var H=0;H<g.length;H++)wh(u,g[H],y,w,V);return null}return y=cn(y),u&&u[Dt]?u.L(g,y,c(w)?!!w.capture:!!w,V):Yn(u,g,y,!0,w,V)}function bh(u,g,y,w,V){if(Array.isArray(g))for(var H=0;H<g.length;H++)bh(u,g[H],y,w,V);else w=c(w)?!!w.capture:!!w,y=cn(y),u&&u[Dt]?(u=u.i,g=String(g).toString(),g in u.g&&(H=u.g[g],y=vh(H,y,w,V),-1<y&&(Vi(H[y]),Array.prototype.splice.call(H,y,1),H.length==0&&(delete u.g[g],u.h--)))):u&&(u=Dr(u))&&(g=u.g[g.toString()],u=-1,g&&(u=vh(g,y,w,V)),(y=-1<u?g[u]:null)&&Je(y))}function Je(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[Dt])Ho(g.i,u);else{var y=u.type,w=u.proxy;g.removeEventListener?g.removeEventListener(y,w,u.capture):g.detachEvent?g.detachEvent(ui(y),w):g.addListener&&g.removeListener&&g.removeListener(w),(y=Dr(g))?(Ho(y,u),y.h==0&&(y.src=null,g[Ln]=null)):Vi(u)}}}function ui(u){return u in Bi?Bi[u]:Bi[u]="on"+u}function as(u,g){if(u.da)u=!0;else{g=new Ii(g,this);var y=u.listener,w=u.ha||u.src;u.fa&&Je(u),u=y.call(w,g)}return u}function Dr(u){return u=u[Ln],u instanceof nr?u:null}var Zt="__closure_events_fn_"+(1e9*Math.random()>>>0);function cn(u){return typeof u=="function"?u:(u[Zt]||(u[Zt]=function(g){return u.handleEvent(g)}),u[Zt])}function un(){_t.call(this),this.i=new nr(this),this.M=this,this.F=null}C(un,_t),un.prototype[Dt]=!0,un.prototype.removeEventListener=function(u,g,y,w){bh(this,u,g,y,w)};function Sn(u,g){var y,w=u.F;if(w)for(y=[];w;w=w.F)y.push(w);if(u=u.M,w=g.type||g,typeof g=="string")g=new It(g,u);else if(g instanceof It)g.target=g.target||u;else{var V=g;g=new It(w,u),k(g,V)}if(V=!0,y)for(var H=y.length-1;0<=H;H--){var le=g.g=y[H];V=ls(le,w,!0,g)&&V}if(le=g.g=u,V=ls(le,w,!0,g)&&V,V=ls(le,w,!1,g)&&V,y)for(H=0;H<y.length;H++)le=g.g=y[H],V=ls(le,w,!1,g)&&V}un.prototype.N=function(){if(un.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var y=u.g[g],w=0;w<y.length;w++)Vi(y[w]);delete u.g[g],u.h--}}this.F=null},un.prototype.K=function(u,g,y,w){return this.i.add(String(u),g,!1,y,w)},un.prototype.L=function(u,g,y,w){return this.i.add(String(u),g,!0,y,w)};function ls(u,g,y,w){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var V=!0,H=0;H<g.length;++H){var le=g[H];if(le&&!le.da&&le.capture==y){var nt=le.listener,bn=le.ha||le.src;le.fa&&Ho(u.i,le),V=nt.call(bn,w)!==!1&&V}}return V&&!w.defaultPrevented}function Vn(u,g,y){if(typeof u=="function")y&&(u=m(u,y));else if(u&&typeof u.handleEvent=="function")u=m(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:a.setTimeout(u,g||0)}function rg(u){u.g=Vn(()=>{u.g=null,u.i&&(u.i=!1,rg(u))},u.l);let g=u.h;u.h=null,u.m.apply(null,g)}class sg extends _t{constructor(g,y){super(),this.m=g,this.l=y,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:rg(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Go(u){_t.call(this),this.h=u,this.g={}}C(Go,_t);var Wc=[];function og(u){ae(u.g,function(g,y){this.g.hasOwnProperty(y)&&Je(g)},u),u.g={}}Go.prototype.N=function(){Go.aa.N.call(this),og(this)},Go.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ch=a.JSON.stringify,gw=a.JSON.parse,mw=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function Tr(){}Tr.prototype.h=null;function ag(u){return u.h||(u.h=u.i())}function lg(){}var dl={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Eh(){It.call(this,"d")}C(Eh,It);function Ih(){It.call(this,"c")}C(Ih,It);var Sr={},cg=null;function Kc(){return cg=cg||new un}Sr.La="serverreachability";function ug(u){It.call(this,Sr.La,u)}C(ug,It);function hl(u){let g=Kc();Sn(g,new ug(g))}Sr.STAT_EVENT="statevent";function dg(u,g){It.call(this,Sr.STAT_EVENT,u),this.stat=g}C(dg,It);function wn(u){let g=Kc();Sn(g,new dg(g,u))}Sr.Ma="timingevent";function hg(u,g){It.call(this,Sr.Ma,u),this.size=g}C(hg,It);function fl(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},g)}function pl(){this.g=!0}pl.prototype.xa=function(){this.g=!1};function yw(u,g,y,w,V,H){u.info(function(){if(u.g)if(H)for(var le="",nt=H.split("&"),bn=0;bn<nt.length;bn++){var it=nt[bn].split("=");if(1<it.length){var An=it[0];it=it[1];var Cn=An.split("_");le=2<=Cn.length&&Cn[1]=="type"?le+(An+"="+it+"&"):le+(An+"=redacted&")}}else le=null;else le=H;return"XMLHTTP REQ ("+w+") [attempt "+V+"]: "+g+`
`+y+`
`+le})}function _w(u,g,y,w,V,H,le){u.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+V+"]: "+g+`
`+y+`
`+H+" "+le})}function ut(u,g,y,w){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+ww(u,y)+(w?" "+w:"")})}function vw(u,g){u.info(function(){return"TIMEOUT: "+g})}pl.prototype.info=function(){};function ww(u,g){if(!u.g)return g;if(!g)return null;try{var y=JSON.parse(g);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var w=y[u];if(!(2>w.length)){var V=w[1];if(Array.isArray(V)&&!(1>V.length)){var H=V[0];if(H!="noop"&&H!="stop"&&H!="close")for(var le=1;le<V.length;le++)V[le]=""}}}}return Ch(y)}catch{return g}}var Qc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},fg={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Dh;function Zc(){}C(Zc,Tr),Zc.prototype.g=function(){return new XMLHttpRequest},Zc.prototype.i=function(){return{}},Dh=new Zc;function ir(u,g,y,w){this.j=u,this.i=g,this.l=y,this.R=w||1,this.U=new Go(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new qo}function qo(){this.i=null,this.g="",this.h=!1}var Th={},Wo={};function Nt(u,g,y){u.L=1,u.v=vl(Mr(g)),u.m=y,u.P=!0,pg(u,null)}function pg(u,g){u.F=Date.now(),gl(u),u.A=Mr(u.v);var y=u.A,w=u.R;Array.isArray(w)||(w=[String(w)]),Tg(y.i,"t",w),u.C=0,y=u.j.J,u.h=new qo,u.g=Ph(u.j,y?g:null,!u.m),0<u.O&&(u.M=new sg(m(u.Y,u,u.g),u.O)),g=u.U,y=u.g,w=u.ca;var V="readystatechange";Array.isArray(V)||(V&&(Wc[0]=V.toString()),V=Wc);for(var H=0;H<V.length;H++){var le=ig(y,V[H],w||g.handleEvent,!1,g.h||g);if(!le)break;g.g[le.key]=le}g=u.H?D(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),hl(),yw(u.i,u.u,u.A,u.l,u.R,u.m)}ir.prototype.ca=function(u){u=u.target;let g=this.M;g&&Rr(u)==3?g.j():this.Y(u)},ir.prototype.Y=function(u){try{if(u==this.g)e:{let Cn=Rr(this.g);var g=this.g.Ba();let no=this.g.Z();if(!(3>Cn)&&(Cn!=3||this.g&&(this.h.h||this.g.oa()||Ng(this.g)))){this.J||Cn!=4||g==7||(g==8||0>=no?hl(3):hl(2)),Sh(this);var y=this.g.Z();this.X=y;t:if(gg(this)){var w=Ng(this.g);u="";var V=w.length,H=Rr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){cs(this),ml(this);var le="";break t}this.h.i=new a.TextDecoder}for(g=0;g<V;g++)this.h.h=!0,u+=this.h.i.decode(w[g],{stream:!(H&&g==V-1)});w.length=0,this.h.g+=u,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=y==200,_w(this.i,this.u,this.A,this.l,this.R,Cn,y),this.o){if(this.T&&!this.K){t:{if(this.g){var nt,bn=this.g;if((nt=bn.g?bn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Z(nt)){var it=nt;break t}}it=null}if(y=it)ut(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Mh(this,y);else{this.o=!1,this.s=3,wn(12),cs(this),ml(this);break e}}if(this.P){y=!0;let Di;for(;!this.J&&this.C<le.length;)if(Di=bw(this,le),Di==Wo){Cn==4&&(this.s=4,wn(14),y=!1),ut(this.i,this.l,null,"[Incomplete Response]");break}else if(Di==Th){this.s=4,wn(15),ut(this.i,this.l,le,"[Invalid Chunk]"),y=!1;break}else ut(this.i,this.l,Di,null),Mh(this,Di);if(gg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Cn!=4||le.length!=0||this.h.h||(this.s=1,wn(16),y=!1),this.o=this.o&&y,!y)ut(this.i,this.l,le,"[Invalid Chunked Response]"),cs(this),ml(this);else if(0<le.length&&!this.W){this.W=!0;var An=this.j;An.g==this&&An.ba&&!An.M&&(An.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),ta(An),An.M=!0,wn(11))}}else ut(this.i,this.l,le,null),Mh(this,le);Cn==4&&cs(this),this.o&&!this.J&&(Cn==4?Vg(this.j,this):(this.o=!1,gl(this)))}else Aw(this.g),y==400&&0<le.indexOf("Unknown SID")?(this.s=3,wn(12)):(this.s=0,wn(13)),cs(this),ml(this)}}}catch{}finally{}};function gg(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function bw(u,g){var y=u.C,w=g.indexOf(`
`,y);return w==-1?Wo:(y=Number(g.substring(y,w)),isNaN(y)?Th:(w+=1,w+y>g.length?Wo:(g=g.slice(w,w+y),u.C=w+y,g)))}ir.prototype.cancel=function(){this.J=!0,cs(this)};function gl(u){u.S=Date.now()+u.I,mg(u,u.I)}function mg(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=fl(m(u.ba,u),g)}function Sh(u){u.B&&(a.clearTimeout(u.B),u.B=null)}ir.prototype.ba=function(){this.B=null;let u=Date.now();0<=u-this.S?(vw(this.i,this.A),this.L!=2&&(hl(),wn(17)),cs(this),this.s=2,ml(this)):mg(this,this.S-u)};function ml(u){u.j.G==0||u.J||Vg(u.j,u)}function cs(u){Sh(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,og(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function Mh(u,g){try{var y=u.j;if(y.G!=0&&(y.g==u||Jc(y.h,u))){if(!u.K&&Jc(y.h,u)&&y.G==3){try{var w=y.Da.g.parse(g)}catch{w=null}if(Array.isArray(w)&&w.length==3){var V=w;if(V[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)ou(y),ru(y);else break e;Nh(y),wn(18)}}else y.za=V[1],0<y.za-y.T&&37500>V[2]&&y.F&&y.v==0&&!y.C&&(y.C=fl(m(y.Za,y),6e3));if(1>=Ah(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else hs(y,11)}else if((u.K||y.g==u)&&ou(y),!Z(g))for(V=y.Da.g.parse(g),g=0;g<V.length;g++){let it=V[g];if(y.T=it[0],it=it[1],y.G==2)if(it[0]=="c"){y.K=it[1],y.ia=it[2];let An=it[3];An!=null&&(y.la=An,y.j.info("VER="+y.la));let Cn=it[4];Cn!=null&&(y.Aa=Cn,y.j.info("SVER="+y.Aa));let no=it[5];no!=null&&typeof no=="number"&&0<no&&(w=1.5*no,y.L=w,y.j.info("backChannelRequestTimeoutMs_="+w)),w=y;let Di=u.g;if(Di){let lu=Di.g?Di.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(lu){var H=w.h;H.g||lu.indexOf("spdy")==-1&&lu.indexOf("quic")==-1&&lu.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Xc(H,H.h),H.h=null))}if(w.D){let Vh=Di.g?Di.g.getResponseHeader("X-HTTP-Session-Id"):null;Vh&&(w.ya=Vh,Tt(w.I,w.D,Vh))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),w=y;var le=u;if(w.qa=au(w,w.J?w.ia:null,w.W),le.K){xh(w.h,le);var nt=le,bn=w.L;bn&&(nt.I=bn),nt.B&&(Sh(nt),gl(nt)),w.g=le}else Lg(w);0<y.i.length&&su(y)}else it[0]!="stop"&&it[0]!="close"||hs(y,7);else y.G==3&&(it[0]=="stop"||it[0]=="close"?it[0]=="stop"?hs(y,7):Oh(y):it[0]!="noop"&&y.l&&y.l.ta(it),y.v=0)}}hl(4)}catch{}}var yg=class{constructor(u,g){this.g=u,this.map=g}};function _g(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Yc(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ah(u){return u.h?1:u.g?u.g.size:0}function Jc(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function Xc(u,g){u.g?u.g.add(g):u.h=g}function xh(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}_g.prototype.cancel=function(){if(this.i=vg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let u of this.g.values())u.cancel();this.g.clear()}};function vg(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(let y of u.g.values())g=g.concat(y.D);return g}return A(u.i)}function Cw(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var g=[],y=u.length,w=0;w<y;w++)g.push(u[w]);return g}g=[],y=0;for(w in u)g[y++]=u[w];return g}function eu(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var g=[];u=u.length;for(var y=0;y<u;y++)g.push(y);return g}g=[],y=0;for(let w in u)g[y++]=w;return g}}}function yl(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var y=eu(u),w=Cw(u),V=w.length,H=0;H<V;H++)g.call(void 0,w[H],y&&y[H],u)}var _l=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wg(u,g){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var w=u[y].indexOf("="),V=null;if(0<=w){var H=u[y].substring(0,w);V=u[y].substring(w+1)}else H=u[y];g(H,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Xs(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Xs){this.h=u.h,tu(this,u.j),this.o=u.o,this.g=u.g,nu(this,u.s),this.l=u.l;var g=u.i,y=new Zo;y.i=g.i,g.g&&(y.g=new Map(g.g),y.h=g.h),bg(this,y),this.m=u.m}else u&&(g=String(u).match(_l))?(this.h=!1,tu(this,g[1]||"",!0),this.o=wl(g[2]||""),this.g=wl(g[3]||"",!0),nu(this,g[4]),this.l=wl(g[5]||"",!0),bg(this,g[6]||"",!0),this.m=wl(g[7]||"")):(this.h=!1,this.i=new Zo(null,this.h))}Xs.prototype.toString=function(){var u=[],g=this.j;g&&u.push(Ko(g,Cg,!0),":");var y=this.g;return(y||g=="file")&&(u.push("//"),(g=this.o)&&u.push(Ko(g,Cg,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(Ko(y,y.charAt(0)=="/"?Eg:Qo,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",Ko(y,Rh)),u.join("")};function Mr(u){return new Xs(u)}function tu(u,g,y){u.j=y?wl(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function nu(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function bg(u,g,y){g instanceof Zo?(u.i=g,Dw(u.i,u.h)):(y||(g=Ko(g,Iw)),u.i=new Zo(g,u.h))}function Tt(u,g,y){u.i.set(g,y)}function vl(u){return Tt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function wl(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ko(u,g,y){return typeof u=="string"?(u=encodeURI(u).replace(g,Ew),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Ew(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Cg=/[#\/\?@]/g,Qo=/[#\?:]/g,Eg=/[#\?]/g,Iw=/[#\?@]/g,Rh=/#/g;function Zo(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function us(u){u.g||(u.g=new Map,u.h=0,u.i&&wg(u.i,function(g,y){u.add(decodeURIComponent(g.replace(/\+/g," ")),y)}))}n=Zo.prototype,n.add=function(u,g){us(this),this.i=null,u=Yo(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(g),this.h+=1,this};function Ig(u,g){us(u),g=Yo(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function Dg(u,g){return us(u),g=Yo(u,g),u.g.has(g)}n.forEach=function(u,g){us(this),this.g.forEach(function(y,w){y.forEach(function(V){u.call(g,V,w,this)},this)},this)},n.na=function(){us(this);let u=Array.from(this.g.values()),g=Array.from(this.g.keys()),y=[];for(let w=0;w<g.length;w++){let V=u[w];for(let H=0;H<V.length;H++)y.push(g[w])}return y},n.V=function(u){us(this);let g=[];if(typeof u=="string")Dg(this,u)&&(g=g.concat(this.g.get(Yo(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)g=g.concat(u[y])}return g},n.set=function(u,g){return us(this),this.i=null,u=Yo(this,u),Dg(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},n.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function Tg(u,g,y){Ig(u,g),0<y.length&&(u.i=null,u.g.set(Yo(u,g),A(y)),u.h+=y.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let u=[],g=Array.from(this.g.keys());for(var y=0;y<g.length;y++){var w=g[y];let H=encodeURIComponent(String(w)),le=this.V(w);for(w=0;w<le.length;w++){var V=H;le[w]!==""&&(V+="="+encodeURIComponent(String(le[w]))),u.push(V)}}return this.i=u.join("&")};function Yo(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function Dw(u,g){g&&!u.j&&(us(u),u.i=null,u.g.forEach(function(y,w){var V=w.toLowerCase();w!=V&&(Ig(this,w),Tg(this,V,y))},u)),u.j=g}function Jo(u,g){let y=new pl;if(a.Image){let w=new Image;w.onload=v(Ar,y,"TestLoadImage: loaded",!0,g,w),w.onerror=v(Ar,y,"TestLoadImage: error",!1,g,w),w.onabort=v(Ar,y,"TestLoadImage: abort",!1,g,w),w.ontimeout=v(Ar,y,"TestLoadImage: timeout",!1,g,w),a.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=u}else g(!1)}function Tw(u,g){let y=new pl,w=new AbortController,V=setTimeout(()=>{w.abort(),Ar(y,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:w.signal}).then(H=>{clearTimeout(V),H.ok?Ar(y,"TestPingServer: ok",!0,g):Ar(y,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(V),Ar(y,"TestPingServer: error",!1,g)})}function Ar(u,g,y,w,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),w(y)}catch{}}function Sg(){this.g=new mw}function Sw(u,g,y){let w=y||"";try{yl(u,function(V,H){let le=V;c(V)&&(le=Ch(V)),g.push(w+H+"="+encodeURIComponent(le))})}catch(V){throw g.push(w+"type="+encodeURIComponent("_badmap")),V}}function bl(u){this.l=u.Ub||null,this.j=u.eb||!1}C(bl,Tr),bl.prototype.g=function(){return new iu(this.l,this.j)},bl.prototype.i=function(u){return function(){return u}}({});function iu(u,g){un.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(iu,un),n=iu.prototype,n.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,El(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||a).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Cl(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,El(this)),this.g&&(this.readyState=3,El(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Mg(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Mg(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?Cl(this):El(this),this.readyState==3&&Mg(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,Cl(this))},n.Qa=function(u){this.g&&(this.response=u,Cl(this))},n.ga=function(){this.g&&Cl(this)};function Cl(u){u.readyState=4,u.l=null,u.j=null,u.v=null,El(u)}n.setRequestHeader=function(u,g){this.u.append(u,g)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let u=[],g=this.h.entries();for(var y=g.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=g.next();return u.join(`\r
`)};function El(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(iu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Ag(u){let g="";return ae(u,function(y,w){g+=w,g+=":",g+=y,g+=`\r
`}),g}function ds(u,g,y){e:{for(w in y){var w=!1;break e}w=!0}w||(y=Ag(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):Tt(u,g,y))}function Bt(u){un.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Bt,un);var Mw=/^https?$/i,xg=["POST","PUT"];n=Bt.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,g,y,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Dh.g(),this.v=this.o?ag(this.o):ag(Dh),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(H){Rg(this,H);return}if(u=y||"",y=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var V in w)y.set(V,w[V]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(let H of w.keys())y.set(H,w.get(H));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(y.keys()).find(H=>H.toLowerCase()=="content-type"),V=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(xg,g,void 0))||w||V||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[H,le]of y)this.g.setRequestHeader(H,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Xo(this),this.u=!0,this.g.send(u),this.u=!1}catch(H){Rg(this,H)}};function Rg(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,xr(u),Il(u)}function xr(u){u.A||(u.A=!0,Sn(u,"complete"),Sn(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Sn(this,"complete"),Sn(this,"abort"),Il(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Il(this,!0)),Bt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Og(this):this.bb())},n.bb=function(){Og(this)};function Og(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Rr(u)!=4||u.Z()!=2)){if(u.u&&Rr(u)==4)Vn(u.Ea,0,u);else if(Sn(u,"readystatechange"),Rr(u)==4){u.h=!1;try{let le=u.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var y;if(!(y=g)){var w;if(w=le===0){var V=String(u.D).match(_l)[1]||null;!V&&a.self&&a.self.location&&(V=a.self.location.protocol.slice(0,-1)),w=!Mw.test(V?V.toLowerCase():"")}y=w}if(y)Sn(u,"complete"),Sn(u,"success");else{u.m=6;try{var H=2<Rr(u)?u.g.statusText:""}catch{H=""}u.l=H+" ["+u.Z()+"]",xr(u)}}finally{Il(u)}}}}function Il(u,g){if(u.g){Xo(u);let y=u.g,w=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||Sn(u,"ready");try{y.onreadystatechange=w}catch{}}}function Xo(u){u.I&&(a.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function Rr(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<Rr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),gw(g)}};function Ng(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Aw(u){let g={};u=(u.g&&2<=Rr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<u.length;w++){if(Z(u[w]))continue;var y=P(u[w]);let V=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();let H=g[V]||[];g[V]=H,H.push(y)}x(g,function(w){return w.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ea(u,g,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||g}function eo(u){this.Aa=0,this.i=[],this.j=new pl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ea("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ea("baseRetryDelayMs",5e3,u),this.cb=ea("retryDelaySeedMs",1e4,u),this.Wa=ea("forwardChannelMaxRetries",2,u),this.wa=ea("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new _g(u&&u.concurrentRequestLimit),this.Da=new Sg,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=eo.prototype,n.la=8,n.G=1,n.connect=function(u,g,y,w){wn(0),this.W=u,this.H=g||{},y&&w!==void 0&&(this.H.OSID=y,this.H.OAID=w),this.F=this.X,this.I=au(this,null,this.W),su(this)};function Oh(u){if(kg(u),u.G==3){var g=u.U++,y=Mr(u.I);if(Tt(y,"SID",u.K),Tt(y,"RID",g),Tt(y,"TYPE","terminate"),Dl(u,y),g=new ir(u,u.j,g),g.L=2,g.v=vl(Mr(y)),y=!1,a.navigator&&a.navigator.sendBeacon)try{y=a.navigator.sendBeacon(g.v.toString(),"")}catch{}!y&&a.Image&&(new Image().src=g.v,y=!0),y||(g.g=Ph(g.j,null),g.g.ea(g.v)),g.F=Date.now(),gl(g)}Ug(u)}function ru(u){u.g&&(ta(u),u.g.cancel(),u.g=null)}function kg(u){ru(u),u.u&&(a.clearTimeout(u.u),u.u=null),ou(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function su(u){if(!Yc(u.h)&&!u.s){u.s=!0;var g=u.Ga;be||ft(),Ie||(be(),Ie=!0),ze.add(g,u),u.B=0}}function xw(u,g){return Ah(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=fl(m(u.Ga,u,g),Bg(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;let V=new ir(this,this.j,u),H=this.o;if(this.S&&(H?(H=D(H),k(H,this.S)):H=this.S),this.m!==null||this.O||(V.H=H,H=null),this.P)e:{for(var g=0,y=0;y<this.i.length;y++){t:{var w=this.i[y];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(g+=w,4096<g){g=y;break e}if(g===4096||y===this.i.length-1){g=y+1;break e}}g=1e3}else g=1e3;g=Fg(this,V,g),y=Mr(this.I),Tt(y,"RID",u),Tt(y,"CVER",22),this.D&&Tt(y,"X-HTTP-Session-Id",this.D),Dl(this,y),H&&(this.O?g="headers="+encodeURIComponent(String(Ag(H)))+"&"+g:this.m&&ds(y,this.m,H)),Xc(this.h,V),this.Ua&&Tt(y,"TYPE","init"),this.P?(Tt(y,"$req",g),Tt(y,"SID","null"),V.T=!0,Nt(V,y,null)):Nt(V,y,g),this.G=2}}else this.G==3&&(u?Pg(this,u):this.i.length==0||Yc(this.h)||Pg(this))};function Pg(u,g){var y;g?y=g.l:y=u.U++;let w=Mr(u.I);Tt(w,"SID",u.K),Tt(w,"RID",y),Tt(w,"AID",u.T),Dl(u,w),u.m&&u.o&&ds(w,u.m,u.o),y=new ir(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),g&&(u.i=g.D.concat(u.i)),g=Fg(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Xc(u.h,y),Nt(y,w,g)}function Dl(u,g){u.H&&ae(u.H,function(y,w){Tt(g,w,y)}),u.l&&yl({},function(y,w){Tt(g,w,y)})}function Fg(u,g,y){y=Math.min(u.i.length,y);var w=u.l?m(u.l.Na,u.l,u):null;e:{var V=u.i;let H=-1;for(;;){let le=["count="+y];H==-1?0<y?(H=V[0].g,le.push("ofs="+H)):H=0:le.push("ofs="+H);let nt=!0;for(let bn=0;bn<y;bn++){let it=V[bn].g,An=V[bn].map;if(it-=H,0>it)H=Math.max(0,V[bn].g-100),nt=!1;else try{Sw(An,le,"req"+it+"_")}catch{w&&w(An)}}if(nt){w=le.join("&");break e}}}return u=u.i.splice(0,y),g.D=u,w}function Lg(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;be||ft(),Ie||(be(),Ie=!0),ze.add(g,u),u.v=0}}function Nh(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=fl(m(u.Fa,u),Bg(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,kh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=fl(m(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,wn(10),ru(this),kh(this))};function ta(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function kh(u){u.g=new ir(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=Mr(u.qa);Tt(g,"RID","rpc"),Tt(g,"SID",u.K),Tt(g,"AID",u.T),Tt(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&Tt(g,"TO",u.ja),Tt(g,"TYPE","xmlhttp"),Dl(u,g),u.m&&u.o&&ds(g,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=vl(Mr(g)),y.m=null,y.P=!0,pg(y,u)}n.Za=function(){this.C!=null&&(this.C=null,ru(this),Nh(this),wn(19))};function ou(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function Vg(u,g){var y=null;if(u.g==g){ou(u),ta(u),u.g=null;var w=2}else if(Jc(u.h,g))y=g.D,xh(u.h,g),w=1;else return;if(u.G!=0){if(g.o)if(w==1){y=g.m?g.m.length:0,g=Date.now()-g.F;var V=u.B;w=Kc(),Sn(w,new hg(w,y)),su(u)}else Lg(u);else if(V=g.s,V==3||V==0&&0<g.X||!(w==1&&xw(u,g)||w==2&&Nh(u)))switch(y&&0<y.length&&(g=u.h,g.i=g.i.concat(y)),V){case 1:hs(u,5);break;case 4:hs(u,10);break;case 3:hs(u,6);break;default:hs(u,2)}}}function Bg(u,g){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*g}function hs(u,g){if(u.j.info("Error code "+g),g==2){var y=m(u.fb,u),w=u.Xa;let V=!w;w=new Xs(w||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||tu(w,"https"),vl(w),V?Jo(w.toString(),y):Tw(w.toString(),y)}else wn(2);u.G=0,u.l&&u.l.sa(g),Ug(u),kg(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),wn(2)):(this.j.info("Failed to ping google.com"),wn(1))};function Ug(u){if(u.G=0,u.ka=[],u.l){let g=vg(u.h);(g.length!=0||u.i.length!=0)&&(S(u.ka,g),S(u.ka,u.i),u.h.i.length=0,A(u.i),u.i.length=0),u.l.ra()}}function au(u,g,y){var w=y instanceof Xs?Mr(y):new Xs(y);if(w.g!="")g&&(w.g=g+"."+w.g),nu(w,w.s);else{var V=a.location;w=V.protocol,g=g?g+"."+V.hostname:V.hostname,V=+V.port;var H=new Xs(null);w&&tu(H,w),g&&(H.g=g),V&&nu(H,V),y&&(H.l=y),w=H}return y=u.D,g=u.ya,y&&g&&Tt(w,y,g),Tt(w,"VER",u.la),Dl(u,w),w}function Ph(u,g,y){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new Bt(new bl({eb:y})):new Bt(u.pa),g.Ha(u.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Fh(){}n=Fh.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function na(){}na.prototype.g=function(u,g){return new Mn(u,g)};function Mn(u,g){un.call(this),this.g=new eo(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!Z(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!Z(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new to(this)}C(Mn,un),Mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Mn.prototype.close=function(){Oh(this.g)},Mn.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=Ch(u),u=y);g.i.push(new yg(g.Ya++,u)),g.G==3&&su(g)},Mn.prototype.N=function(){this.g.l=null,delete this.j,Oh(this.g),delete this.g,Mn.aa.N.call(this)};function jg(u){Eh.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(let y in g){u=y;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}C(jg,Eh);function Lh(){Ih.call(this),this.status=1}C(Lh,Ih);function to(u){this.g=u}C(to,Fh),to.prototype.ua=function(){Sn(this.g,"a")},to.prototype.ta=function(u){Sn(this.g,new jg(u))},to.prototype.sa=function(u){Sn(this.g,new Lh)},to.prototype.ra=function(){Sn(this.g,"b")},na.prototype.createWebChannel=na.prototype.g,Mn.prototype.send=Mn.prototype.o,Mn.prototype.open=Mn.prototype.m,Mn.prototype.close=Mn.prototype.close,ME=To.createWebChannelTransport=function(){return new na},SE=To.getStatEventTarget=function(){return Kc()},TE=To.Event=Sr,Iy=To.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Qc.NO_ERROR=0,Qc.TIMEOUT=8,Qc.HTTP_ERROR=6,Tf=To.ErrorCode=Qc,fg.COMPLETE="complete",DE=To.EventType=fg,lg.EventType=dl,dl.OPEN="a",dl.CLOSE="b",dl.ERROR="c",dl.MESSAGE="d",un.prototype.listen=un.prototype.K,Yu=To.WebChannel=lg,IE=To.FetchXmlHttpFactory=bl,Bt.prototype.listenOnce=Bt.prototype.L,Bt.prototype.getLastError=Bt.prototype.Ka,Bt.prototype.getLastErrorCode=Bt.prototype.Ba,Bt.prototype.getStatus=Bt.prototype.Z,Bt.prototype.getResponseJson=Bt.prototype.Oa,Bt.prototype.getResponseText=Bt.prototype.oa,Bt.prototype.send=Bt.prototype.ea,Bt.prototype.setWithCredentials=Bt.prototype.Ha,EE=To.XhrIo=Bt}).apply(typeof Ey<"u"?Ey:typeof self<"u"?self:typeof window<"u"?window:{});var $k="@firebase/firestore";var mn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");var Md="10.12.1";var Va=new hu("@firebase/firestore");function nd(){return Va.logLevel}function $P(n){Va.setLogLevel(n)}function te(n,...e){if(Va.logLevel<=ps.DEBUG){let t=e.map(RD);Va.debug(`Firestore (${Md}): ${n}`,...t)}}function sn(n,...e){if(Va.logLevel<=ps.ERROR){let t=e.map(RD);Va.error(`Firestore (${Md}): ${n}`,...t)}}function vr(n,...e){if(Va.logLevel<=ps.WARN){let t=e.map(RD);Va.warn(`Firestore (${Md}): ${n}`,...t)}}function RD(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function _e(n="Unexpected state"){let e=`FIRESTORE (${Md}) INTERNAL ASSERTION FAILED: `+n;throw sn(e),new Error(e)}function Te(n,e){n||_e()}function HP(n,e){n||_e()}function pe(n,e){return n}var q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ee=class extends ia{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var yn=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Py=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},NE=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(mn.UNAUTHENTICATED))}shutdown(){}},kE=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},PE=class{constructor(e){this.t=e,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let i=this.i,r=l=>this.i!==i?(i=this.i,t(l)):Promise.resolve(),s=new yn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new yn,e.enqueueRetryable(()=>r(this.currentUser))};let o=()=>{let l=s;e.enqueueRetryable(()=>F(this,null,function*(){yield l.promise,yield r(this.currentUser)}))},a=l=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?a(l):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new yn)}},0),o()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Te(typeof i.accessToken=="string"),new Py(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Te(e===null||typeof e=="string"),new mn(e)}},FE=class{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},LE=class{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new FE(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(mn.FIRST_PARTY))}shutdown(){}invalidateToken(){}},VE=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},BE=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){let i=s=>{s.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,te("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};let r=s=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?r(s):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Te(typeof t.token=="string"),this.R=t.token,new VE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function $G(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}var Fy=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,i="";for(;i.length<20;){let r=$G(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+=e.charAt(r[s]%e.length))}return i}};function je(n,e){return n<e?-1:n>e?1:0}function dd(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function GP(n){return n+"\0"}var Kt=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ee(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ee(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ee(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ee(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new n(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var Me=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new Kt(0,0))}static max(){return new n(new Kt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Ly=class n{constructor(e,t,i){t===void 0?t=0:t>e.length&&_e(),i===void 0?i=e.length-t:i>e.length-t&&_e(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let i=Math.min(e.length,t.length);for(let r=0;r<i;r++){let s=e.get(r),o=t.get(r);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},lt=class n extends Ly{construct(e,t,i){return new n(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let i of e){if(i.indexOf("//")>=0)throw new ee(q.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new n(t)}static emptyPath(){return new n([])}},HG=/^[_a-zA-Z][_a-zA-Z0-9]*$/,on=class n extends Ly{construct(e,t,i){return new n(e,t,i)}static isValidIdentifier(e){return HG.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],i="",r=0,s=()=>{if(i.length===0)throw new ee(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""},o=!1;for(;r<e.length;){let a=e[r];if(a==="\\"){if(r+1===e.length)throw new ee(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ee(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new ee(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var fe=class n{constructor(e){this.path=e}static fromPath(e){return new n(lt.fromString(e))}static fromName(e){return new n(lt.fromString(e).popFirst(5))}static empty(){return new n(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return lt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new lt(e.slice()))}};var hd=class{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}};function UE(n){return n.fields.find(e=>e.kind===2)}function tc(n){return n.fields.filter(e=>e.kind!==2)}hd.UNKNOWN_ID=-1;var ld=class{constructor(e,t){this.fieldPath=e,this.kind=t}};var Vf=class n{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new n(0,wr.min())}};function qP(n,e){let t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Me.fromTimestamp(i===1e9?new Kt(t+1,0):new Kt(t,i));return new wr(r,fe.empty(),e)}function WP(n){return new wr(n.readTime,n.key,-1)}var wr=class n{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new n(Me.min(),fe.empty(),-1)}static max(){return new n(Me.max(),fe.empty(),-1)}};function OD(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=fe.comparator(n.documentKey,e.documentKey),t!==0?t:je(n.largestBatchId,e.largestBatchId))}var KP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Vy=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Ka(n){return F(this,null,function*(){if(n.code!==q.FAILED_PRECONDITION||n.message!==KP)throw n;te("LocalStore","Unexpectedly lost primary lease")})}var $=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&_e(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,i)=>{t(e)})}static reject(e){return new n((t,i)=>{i(e)})}static waitFor(e){return new n((t,i)=>{let r=0,s=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&t()},l=>i(l))}),o=!0,s===r&&t()})}static or(e){let t=n.resolve(!1);for(let i of e)t=t.next(r=>r?n.resolve(r):i());return t}static forEach(e,t){let i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}static mapArray(e,t){return new n((i,r)=>{let s=e.length,o=new Array(s),a=0;for(let l=0;l<s;l++){let c=l;t(e[c]).next(d=>{o[c]=d,++a,a===s&&i(o)},d=>r(d))}})}static doWhile(e,t){return new n((i,r)=>{let s=()=>{e()===!0?t().next(()=>{s()},r):i()};s()})}};var By=class n{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new yn,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new ac(e,t.error)):this.V.resolve()},this.transaction.onerror=i=>{let r=ND(i.target.error);this.V.reject(new ac(e,r))}}static open(e,t,i,r){try{return new n(t,e.transaction(r,i))}catch(s){throw new ac(t,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(te("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let t=this.transaction.objectStore(e);return new zE(t)}},Ba=class n{constructor(e,t,i){this.name=e,this.version=t,this.p=i,n.S(Uh())===12.2&&sn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return te("SimpleDb","Removing database:",e),nc(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!uu())return!1;if(n.C())return!0;let e=Uh(),t=n.S(e),i=0<t&&t<10,r=QP(e),s=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.v)==="YES"}static F(e,t){return e.store(t)}static S(e){let t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}M(e){return F(this,null,function*(){return this.db||(te("SimpleDb","Opening database:",this.name),this.db=yield new Promise((t,i)=>{let r=indexedDB.open(this.name,this.version);r.onsuccess=s=>{let o=s.target.result;t(o)},r.onblocked=()=>{i(new ac(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=s=>{let o=s.target.error;o.name==="VersionError"?i(new ee(q.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?i(new ee(q.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):i(new ac(e,o))},r.onupgradeneeded=s=>{te("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);let o=s.target.result;this.p.O(o,r.transaction,s.oldVersion,this.version).next(()=>{te("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=t=>this.N(t)),this.db})}L(e){this.N=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){return F(this,null,function*(){let s=t==="readonly",o=0;for(;;){++o;try{this.db=yield this.M(e);let a=By.open(this.db,e,s?"readonly":"readwrite",i),l=r(a).next(c=>(a.g(),c)).catch(c=>(a.abort(c),$.reject(c))).toPromise();return l.catch(()=>{}),yield a.m,l}catch(a){let l=a,c=l.name!=="FirebaseError"&&o<3;if(te("SimpleDb","Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}})}close(){this.db&&this.db.close(),this.db=void 0}};function QP(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}var jE=class{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return nc(this.B.delete())}},ac=class extends ee{constructor(e,t){super(q.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}};function Qa(n){return n.name==="IndexedDbTransactionError"}var zE=class{constructor(e){this.store=e}put(e,t){let i;return t!==void 0?(te("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(te("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),nc(i)}add(e){return te("SimpleDb","ADD",this.store.name,e,e),nc(this.store.add(e))}get(e){return nc(this.store.get(e)).next(t=>(t===void 0&&(t=null),te("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return te("SimpleDb","DELETE",this.store.name,e),nc(this.store.delete(e))}count(){return te("SimpleDb","COUNT",this.store.name),nc(this.store.count())}U(e,t){let i=this.options(e,t),r=i.index?this.store.index(i.index):this.store;if(typeof r.getAll=="function"){let s=r.getAll(i.range);return new $((o,a)=>{s.onerror=l=>{a(l.target.error)},s.onsuccess=l=>{o(l.target.result)}})}{let s=this.cursor(i),o=[];return this.W(s,(a,l)=>{o.push(l)}).next(()=>o)}}G(e,t){let i=this.store.getAll(e,t===null?void 0:t);return new $((r,s)=>{i.onerror=o=>{s(o.target.error)},i.onsuccess=o=>{r(o.target.result)}})}j(e,t){te("SimpleDb","DELETE ALL",this.store.name);let i=this.options(e,t);i.H=!1;let r=this.cursor(i);return this.W(r,(s,o,a)=>a.delete())}J(e,t){let i;t?i=e:(i={},t=e);let r=this.cursor(i);return this.W(r,t)}Y(e){let t=this.cursor({});return new $((i,r)=>{t.onerror=s=>{let o=ND(s.target.error);r(o)},t.onsuccess=s=>{let o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():i()}):i()}})}W(e,t){let i=[];return new $((r,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{let a=o.target.result;if(!a)return void r();let l=new jE(a),c=t(a.primaryKey,a.value,l);if(c instanceof $){let d=c.catch(f=>(l.done(),$.reject(f)));i.push(d)}l.isDone?r():l.K===null?a.continue():a.continue(l.K)}}).next(()=>$.waitFor(i))}options(e,t){let i;return e!==void 0&&(typeof e=="string"?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){let i=this.store.index(e.index);return e.H?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}};function nc(n){return new $((e,t)=>{n.onsuccess=i=>{let r=i.target.result;e(r)},n.onerror=i=>{let r=ND(i.target.error);t(r)}})}var Hk=!1;function ND(n){let e=Ba.S(Uh());if(e>=12.2&&e<13){let t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){let i=new ee("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Hk||(Hk=!0,setTimeout(()=>{throw i},0)),i}}return n}var $E=class{constructor(e,t){this.asyncQueue=e,this.Z=t,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){te("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,()=>F(this,null,function*(){this.task=null;try{te("IndexBackfiller",`Documents written: ${yield this.Z.ee()}`)}catch(t){Qa(t)?te("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",t):yield Ka(t)}yield this.X(6e4)}))}},HE=class{constructor(e,t){this.localStore=e,this.persistence=t}ee(e=50){return F(this,null,function*(){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.te(t,e))})}te(e,t){let i=new Set,r=t,s=!0;return $.doWhile(()=>s===!0&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!i.has(o))return te("IndexBackfiller",`Processing collection: ${o}`),this.ne(e,o,r).next(a=>{r-=a,i.add(o)});s=!1})).next(()=>t-r)}ne(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(s=>{let o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.re(r,s)).next(a=>(te("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,t,a))).next(()=>o.size)}))}re(e,t){let i=e;return t.changes.forEach((r,s)=>{let o=WP(s);OD(o,i)>0&&(i=o)}),new wr(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}};var Ki=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ie(r),this.se=r=>i.writeSequenceNumber(r))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function op(n){return n==null}function Bf(n){return n===0&&1/n==-1/0}function ZP(n){return typeof n=="number"&&Number.isInteger(n)&&!Bf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function vi(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Gk(e)),e=GG(n.get(t),e);return Gk(e)}function GG(n,e){let t=e,i=n.length;for(let r=0;r<i;r++){let s=n.charAt(r);switch(s){case"\0":t+="";break;case"":t+="";break;default:t+=s}}return t}function Gk(n){return n+""}function Os(n){let e=n.length;if(Te(e>=2),e===2)return Te(n.charAt(0)===""&&n.charAt(1)===""),lt.emptyPath();let t=e-2,i=[],r="";for(let s=0;s<e;){let o=n.indexOf("",s);switch((o<0||o>t)&&_e(),n.charAt(o+1)){case"":let a=n.substring(s,o),l;r.length===0?l=a:(r+=a,l=r,r=""),i.push(l);break;case"":r+=n.substring(s,o),r+="\0";break;case"":r+=n.substring(s,o+1);break;default:_e()}s=o+2}return new lt(i)}var qk=["userId","batchId"];function Ay(n,e){return[n,vi(e)]}function YP(n,e,t){return[n,vi(e),t]}var qG={},WG=["prefixPath","collectionGroup","readTime","documentId"],KG=["prefixPath","collectionGroup","documentId"],QG=["collectionGroup","readTime","prefixPath","documentId"],ZG=["canonicalId","targetId"],YG=["targetId","path"],JG=["path","targetId"],XG=["collectionId","parent"],e7=["indexId","uid"],t7=["uid","sequenceNumber"],n7=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],i7=["indexId","uid","orderedDocumentKey"],r7=["userId","collectionPath","documentId"],s7=["userId","collectionPath","largestBatchId"],o7=["userId","collectionGroup","largestBatchId"],JP=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],a7=[...JP,"documentOverlays"],XP=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],e2=XP,t2=[...e2,"indexConfiguration","indexState","indexEntries"],l7=t2;var Uf=class extends Vy{constructor(e,t){super(),this._e=e,this.currentSequenceNumber=t}};function kn(n,e){let t=pe(n);return Ba.F(t._e,e)}function Wk(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function vc(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function n2(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Lt=class n{constructor(e,t){this.comparator=e,this.root=t||ks.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ks.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ks.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){let e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ad(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ad(this.root,e,this.comparator,!1)}getReverseIterator(){return new ad(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ad(this.root,e,this.comparator,!0)}},ad=class{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},ks=class n{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??n.RED,this.left=r??n.EMPTY,this.right=s??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new n(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this,s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):s===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return n.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _e();let e=this.left.check();if(e!==this.right.check())throw _e();return e+(this.isRed()?0:1)}};ks.EMPTY=null,ks.RED=!0,ks.BLACK=!1;ks.EMPTY=new class{constructor(){this.size=0}get key(){throw _e()}get value(){throw _e()}get color(){throw _e()}get left(){throw _e()}get right(){throw _e()}copy(e,t,i,r,s){return this}insert(e,t,i){return new ks(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var At=class n{constructor(e){this.comparator=e,this.data=new Lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Uy(this.data.getIterator())}getIteratorFrom(e){return new Uy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){let r=t.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Uy=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};function Ju(n){return n.hasNext()?n.getNext():void 0}var Qi=class n{constructor(e){this.fields=e,e.sort(on.comparator)}static empty(){return new n([])}unionWith(e){let t=new At(on.comparator);for(let i of this.fields)t=t.add(i);for(let i of e)t=t.add(i);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return dd(this.fields,e.fields,(t,i)=>t.isEqual(i))}};var jy=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};function i2(){return typeof atob<"u"}var Nn=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new jy("Invalid base64 string: "+s):s}}(e);return new n(t)}static fromUint8Array(e){let t=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Nn.EMPTY_BYTE_STRING=new Nn("");var c7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ao(n){if(Te(!!n),typeof n=="string"){let e=0,t=c7.exec(n);if(Te(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Jt(n.seconds),nanos:Jt(n.nanos)}}function Jt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ua(n){return typeof n=="string"?Nn.fromBase64String(n):Nn.fromUint8Array(n)}function R_(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function kD(n){let e=n.mapValue.fields.__previous_value__;return R_(e)?kD(e):e}function jf(n){let e=Ao(n.mapValue.fields.__local_write_time__.timestampValue);return new Kt(e.seconds,e.nanos)}var GE=class{constructor(e,t,i,r,s,o,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}},ja=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var Fa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},xy={nullValue:"NULL_VALUE"};function lc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?R_(n)?4:r2(n)?9007199254740991:10:_e()}function Ls(n,e){if(n===e)return!0;let t=lc(n);if(t!==lc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return jf(n).isEqual(jf(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;let o=Ao(r.timestampValue),a=Ao(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(r,s){return Ua(r.bytesValue).isEqual(Ua(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,s){return Jt(r.geoPointValue.latitude)===Jt(s.geoPointValue.latitude)&&Jt(r.geoPointValue.longitude)===Jt(s.geoPointValue.longitude)}(n,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Jt(r.integerValue)===Jt(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){let o=Jt(r.doubleValue),a=Jt(s.doubleValue);return o===a?Bf(o)===Bf(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return dd(n.arrayValue.values||[],e.arrayValue.values||[],Ls);case 10:return function(r,s){let o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(Wk(o)!==Wk(a))return!1;for(let l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Ls(o[l],a[l])))return!1;return!0}(n,e);default:return _e()}}function zf(n,e){return(n.values||[]).find(t=>Ls(t,e))!==void 0}function za(n,e){if(n===e)return 0;let t=lc(n),i=lc(e);if(t!==i)return je(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return je(n.booleanValue,e.booleanValue);case 2:return function(s,o){let a=Jt(s.integerValue||s.doubleValue),l=Jt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return Kk(n.timestampValue,e.timestampValue);case 4:return Kk(jf(n),jf(e));case 5:return je(n.stringValue,e.stringValue);case 6:return function(s,o){let a=Ua(s),l=Ua(o);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){let d=je(a[c],l[c]);if(d!==0)return d}return je(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){let a=je(Jt(s.latitude),Jt(o.latitude));return a!==0?a:je(Jt(s.longitude),Jt(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(s,o){let a=s.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){let d=za(a[c],l[c]);if(d)return d}return je(a.length,l.length)}(n.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Fa.mapValue&&o===Fa.mapValue)return 0;if(s===Fa.mapValue)return 1;if(o===Fa.mapValue)return-1;let a=s.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){let m=je(l[f],d[f]);if(m!==0)return m;let v=za(a[l[f]],c[d[f]]);if(v!==0)return v}return je(l.length,d.length)}(n.mapValue,e.mapValue);default:throw _e()}}function Kk(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return je(n,e);let t=Ao(n),i=Ao(e),r=je(t.seconds,i.seconds);return r!==0?r:je(t.nanos,i.nanos)}function fd(n){return qE(n)}function qE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let i=Ao(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ua(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return fe.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",r=!0;for(let s of t.values||[])r?r=!1:i+=",",i+=qE(s);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){let i=Object.keys(t.fields||{}).sort(),r="{",s=!0;for(let o of i)s?s=!1:r+=",",r+=`${o}:${qE(t.fields[o])}`;return r+"}"}(n.mapValue):_e()}function cc(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function WE(n){return!!n&&"integerValue"in n}function $f(n){return!!n&&"arrayValue"in n}function Qk(n){return!!n&&"nullValue"in n}function Zk(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ry(n){return!!n&&"mapValue"in n}function Nf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return vc(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Nf(i)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Nf(n.arrayValue.values[t]);return e}return Object.assign({},n)}function r2(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function u7(n){return"nullValue"in n?xy:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?cc(ja.empty(),fe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:_e()}function d7(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?cc(ja.empty(),fe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Fa:_e()}function Yk(n,e){let t=za(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function Jk(n,e){let t=za(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}var si=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Ry(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nf(t)}setAll(e){let t=on.emptyPath(),i={},r=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){let l=this.getFieldsMap(t);this.applyChanges(l,i,r),i={},r=[],t=a.popLast()}o?i[a.lastSegment()]=Nf(o):r.push(a.lastSegment())});let s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){let t=this.field(e.popLast());Ry(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ls(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];Ry(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){vc(t,(r,s)=>e[r]=s);for(let r of i)delete e[r]}clone(){return new n(Nf(this.value))}};function s2(n){let e=[];return vc(n.fields,(t,i)=>{let r=new on([t]);if(Ry(i)){let s=s2(i.mapValue).fields;if(s.length===0)e.push(r);else for(let o of s)e.push(r.child(o))}else e.push(r)}),new Qi(e)}var _n=class n{constructor(e,t,i,r,s,o,a){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new n(e,0,Me.min(),Me.min(),Me.min(),si.empty(),0)}static newFoundDocument(e,t,i,r){return new n(e,1,t,Me.min(),i,r,0)}static newNoDocument(e,t){return new n(e,2,t,Me.min(),Me.min(),si.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,Me.min(),Me.min(),si.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=si.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=si.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Vs=class{constructor(e,t){this.position=e,this.inclusive=t}};function Xk(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){let s=e[r],o=n.position[r];if(s.field.isKeyField()?i=fe.comparator(fe.fromName(o.referenceValue),t.key):i=za(o,t.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function eP(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ls(n.position[t],e.position[t]))return!1;return!0}var uc=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function h7(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var zy=class{},et=class n extends zy{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new ZE(e,t,i):t==="array-contains"?new XE(e,i):t==="in"?new $y(e,i):t==="not-in"?new eI(e,i):t==="array-contains-any"?new tI(e,i):new n(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new YE(e,i):new JE(e,i)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(za(t,this.value)):t!==null&&lc(this.value)===lc(t)&&this.matchesComparison(za(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Ct=class n extends zy{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return pd(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function pd(n){return n.op==="and"}function KE(n){return n.op==="or"}function PD(n){return o2(n)&&pd(n)}function o2(n){for(let e of n.filters)if(e instanceof Ct)return!1;return!0}function QE(n){if(n instanceof et)return n.field.canonicalString()+n.op.toString()+fd(n.value);if(PD(n))return n.filters.map(e=>QE(e)).join(",");{let e=n.filters.map(t=>QE(t)).join(",");return`${n.op}(${e})`}}function a2(n,e){return n instanceof et?function(i,r){return r instanceof et&&i.op===r.op&&i.field.isEqual(r.field)&&Ls(i.value,r.value)}(n,e):n instanceof Ct?function(i,r){return r instanceof Ct&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,a)=>s&&a2(o,r.filters[a]),!0):!1}(n,e):void _e()}function l2(n,e){let t=n.filters.concat(e);return Ct.create(t,n.op)}function c2(n){return n instanceof et?function(t){return`${t.field.canonicalString()} ${t.op} ${fd(t.value)}`}(n):n instanceof Ct?function(t){return t.op.toString()+" {"+t.getFilters().map(c2).join(" ,")+"}"}(n):"Filter"}var ZE=class extends et{constructor(e,t,i){super(e,t,i),this.key=fe.fromName(i.referenceValue)}matches(e){let t=fe.comparator(e.key,this.key);return this.matchesComparison(t)}},YE=class extends et{constructor(e,t){super(e,"in",t),this.keys=u2("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},JE=class extends et{constructor(e,t){super(e,"not-in",t),this.keys=u2("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function u2(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>fe.fromName(i.referenceValue))}var XE=class extends et{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return $f(t)&&zf(t.arrayValue,this.value)}},$y=class extends et{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&zf(this.value.arrayValue,t)}},eI=class extends et{constructor(e,t){super(e,"not-in",t)}matches(e){if(zf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!zf(this.value.arrayValue,t)}},tI=class extends et{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!$f(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>zf(this.value.arrayValue,i))}};var nI=class{constructor(e,t=null,i=[],r=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function iI(n,e=null,t=[],i=[],r=null,s=null,o=null){return new nI(n,e,t,i,r,s,o)}function dc(n){let e=pe(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>QE(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),op(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>fd(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>fd(i)).join(",")),e.ue=t}return e.ue}function ap(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!h7(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!a2(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!eP(n.startAt,e.startAt)&&eP(n.endAt,e.endAt)}function Hy(n){return fe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function Gy(n,e){return n.filters.filter(t=>t instanceof et&&t.field.isEqual(e))}function tP(n,e,t){let i=xy,r=!0;for(let s of Gy(n,e)){let o=xy,a=!0;switch(s.op){case"<":case"<=":o=u7(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=xy}Yk({value:i,inclusive:r},{value:o,inclusive:a})<0&&(i=o,r=a)}if(t!==null){for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){let o=t.position[s];Yk({value:i,inclusive:r},{value:o,inclusive:t.inclusive})<0&&(i=o,r=t.inclusive);break}}return{value:i,inclusive:r}}function nP(n,e,t){let i=Fa,r=!0;for(let s of Gy(n,e)){let o=Fa,a=!0;switch(s.op){case">=":case">":o=d7(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=Fa}Jk({value:i,inclusive:r},{value:o,inclusive:a})>0&&(i=o,r=a)}if(t!==null){for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){let o=t.position[s];Jk({value:i,inclusive:r},{value:o,inclusive:t.inclusive})>0&&(i=o,r=t.inclusive);break}}return{value:i,inclusive:r}}var Yr=class{constructor(e,t=null,i=[],r=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function d2(n,e,t,i,r,s,o,a){return new Yr(n,e,t,i,r,s,o,a)}function Ad(n){return new Yr(n)}function iP(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function FD(n){return n.collectionGroup!==null}function cd(n){let e=pe(n);if(e.ce===null){e.ce=[];let t=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),t.add(s.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new At(on.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.ce.push(new uc(s,i))}),t.has(on.keyField().canonicalString())||e.ce.push(new uc(on.keyField(),i))}return e.ce}function wi(n){let e=pe(n);return e.le||(e.le=f7(e,cd(n))),e.le}function f7(n,e){if(n.limitType==="F")return iI(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(r=>{let s=r.dir==="desc"?"asc":"desc";return new uc(r.field,s)});let t=n.endAt?new Vs(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Vs(n.startAt.position,n.startAt.inclusive):null;return iI(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function rI(n,e){let t=n.filters.concat([e]);return new Yr(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function qy(n,e,t){return new Yr(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function lp(n,e){return ap(wi(n),wi(e))&&n.limitType===e.limitType}function h2(n){return`${dc(wi(n))}|lt:${n.limitType}`}function id(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(r=>c2(r)).join(", ")}]`),op(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>fd(r)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>fd(r)).join(",")),`Target(${i})`}(wi(n))}; limitType=${n.limitType})`}function cp(n,e){return e.isFoundDocument()&&function(i,r){let s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):fe.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(n,e)&&function(i,r){for(let s of cd(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(n,e)&&function(i,r){for(let s of i.filters)if(!s.matches(r))return!1;return!0}(n,e)&&function(i,r){return!(i.startAt&&!function(o,a,l){let c=Xk(o,a,l);return o.inclusive?c<=0:c<0}(i.startAt,cd(i),r)||i.endAt&&!function(o,a,l){let c=Xk(o,a,l);return o.inclusive?c>=0:c>0}(i.endAt,cd(i),r))}(n,e)}function f2(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function p2(n){return(e,t)=>{let i=!1;for(let r of cd(n)){let s=p7(r,e,t);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function p7(n,e,t){let i=n.field.isKeyField()?fe.comparator(e.key,t.key):function(s,o,a){let l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?za(l,c):_e()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return _e()}}var Bs=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(let[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){let i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){vc(this.inner,(t,i)=>{for(let[r,s]of i)e(r,s)})}isEmpty(){return n2(this.inner)}size(){return this.innerSize}};var g7=new Lt(fe.comparator);function Ni(){return g7}var g2=new Lt(fe.comparator);function Rf(...n){let e=g2;for(let t of n)e=e.insert(t.key,t);return e}function m2(n){let e=g2;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Ns(){return kf()}function y2(){return kf()}function kf(){return new Bs(n=>n.toString(),(n,e)=>n.isEqual(e))}var m7=new Lt(fe.comparator),y7=new At(fe.comparator);function He(...n){let e=y7;for(let t of n)e=e.add(t);return e}var _7=new At(je);function LD(){return _7}function _2(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bf(e)?"-0":e}}function v2(n){return{integerValue:""+n}}function w2(n,e){return ZP(e)?v2(e):_2(n,e)}var gd=class{constructor(){this._=void 0}};function v7(n,e,t){return n instanceof $a?function(r,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&R_(s)&&(s=kD(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,e):n instanceof xo?C2(n,e):n instanceof Ro?E2(n,e):function(r,s){let o=b2(r,s),a=rP(o)+rP(r.Pe);return WE(o)&&WE(r.Pe)?v2(a):_2(r.serializer,a)}(n,e)}function w7(n,e,t){return n instanceof xo?C2(n,e):n instanceof Ro?E2(n,e):t}function b2(n,e){return n instanceof Ha?function(i){return WE(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}var $a=class extends gd{},xo=class extends gd{constructor(e){super(),this.elements=e}};function C2(n,e){let t=I2(e);for(let i of n.elements)t.some(r=>Ls(r,i))||t.push(i);return{arrayValue:{values:t}}}var Ro=class extends gd{constructor(e){super(),this.elements=e}};function E2(n,e){let t=I2(e);for(let i of n.elements)t=t.filter(r=>!Ls(r,i));return{arrayValue:{values:t}}}var Ha=class extends gd{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function rP(n){return Jt(n.integerValue||n.doubleValue)}function I2(n){return $f(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}var hc=class{constructor(e,t){this.field=e,this.transform=t}};function b7(n,e){return n.field.isEqual(e.field)&&function(i,r){return i instanceof xo&&r instanceof xo||i instanceof Ro&&r instanceof Ro?dd(i.elements,r.elements,Ls):i instanceof Ha&&r instanceof Ha?Ls(i.Pe,r.Pe):i instanceof $a&&r instanceof $a}(n.transform,e.transform)}var sI=class{constructor(e,t){this.version=e,this.transformResults=t}},Xt=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Oy(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var md=class{};function D2(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new qa(n.key,Xt.none()):new Ga(n.key,n.data,Xt.none());{let t=n.data,i=si.empty(),r=new At(on.comparator);for(let s of e.fields)if(!r.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new Jr(n.key,i,new Qi(r.toArray()),Xt.none())}}function C7(n,e,t){n instanceof Ga?function(r,s,o){let a=r.value.clone(),l=oP(r.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Jr?function(r,s,o){if(!Oy(r.precondition,s))return void s.convertToUnknownDocument(o.version);let a=oP(r.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(T2(r)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,e,t):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function Pf(n,e,t,i){return n instanceof Ga?function(s,o,a,l){if(!Oy(s.precondition,o))return a;let c=s.value.clone(),d=aP(s.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(n,e,t,i):n instanceof Jr?function(s,o,a,l){if(!Oy(s.precondition,o))return a;let c=aP(s.fieldTransforms,l,o),d=o.data;return d.setAll(T2(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(n,e,t,i):function(s,o,a){return Oy(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(n,e,t)}function E7(n,e){let t=null;for(let i of n.fieldTransforms){let r=e.data.field(i.field),s=b2(i.transform,r||null);s!=null&&(t===null&&(t=si.empty()),t.set(i.field,s))}return t||null}function sP(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&dd(i,r,(s,o)=>b7(s,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Ga=class extends md{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},Jr=class extends md{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function T2(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let i=n.data.field(t);e.set(t,i)}}),e}function oP(n,e,t){let i=new Map;Te(n.length===t.length);for(let r=0;r<t.length;r++){let s=n[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,w7(o,a,t[r]))}return i}function aP(n,e,t){let i=new Map;for(let r of n){let s=r.transform,o=t.data.field(r.field);i.set(r.field,v7(s,o,e))}return i}var qa=class extends md{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Hf=class extends md{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Gf=class{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){let i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){let s=this.mutations[r];s.key.isEqual(e.key)&&C7(s,e,i[r])}}applyToLocalView(e,t){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(t=Pf(i,e,t,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(t=Pf(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let i=y2();return this.mutations.forEach(r=>{let s=e.get(r.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=t.has(r.key)?null:a;let l=D2(o,a);l!==null&&i.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(Me.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),He())}isEqual(e){return this.batchId===e.batchId&&dd(this.mutations,e.mutations,(t,i)=>sP(t,i))&&dd(this.baseMutations,e.baseMutations,(t,i)=>sP(t,i))}},oI=class n{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Te(e.mutations.length===i.length);let r=function(){return m7}(),s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new n(e,t,i,r)}};var qf=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var aI=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var pn,at;function S2(n){switch(n){default:return _e();case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0}}function M2(n){if(n===void 0)return sn("GRPC error has no .code"),q.UNKNOWN;switch(n){case pn.OK:return q.OK;case pn.CANCELLED:return q.CANCELLED;case pn.UNKNOWN:return q.UNKNOWN;case pn.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case pn.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case pn.INTERNAL:return q.INTERNAL;case pn.UNAVAILABLE:return q.UNAVAILABLE;case pn.UNAUTHENTICATED:return q.UNAUTHENTICATED;case pn.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case pn.NOT_FOUND:return q.NOT_FOUND;case pn.ALREADY_EXISTS:return q.ALREADY_EXISTS;case pn.PERMISSION_DENIED:return q.PERMISSION_DENIED;case pn.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case pn.ABORTED:return q.ABORTED;case pn.OUT_OF_RANGE:return q.OUT_OF_RANGE;case pn.UNIMPLEMENTED:return q.UNIMPLEMENTED;case pn.DATA_LOSS:return q.DATA_LOSS;default:return _e()}}(at=pn||(pn={}))[at.OK=0]="OK",at[at.CANCELLED=1]="CANCELLED",at[at.UNKNOWN=2]="UNKNOWN",at[at.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",at[at.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",at[at.NOT_FOUND=5]="NOT_FOUND",at[at.ALREADY_EXISTS=6]="ALREADY_EXISTS",at[at.PERMISSION_DENIED=7]="PERMISSION_DENIED",at[at.UNAUTHENTICATED=16]="UNAUTHENTICATED",at[at.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",at[at.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",at[at.ABORTED=10]="ABORTED",at[at.OUT_OF_RANGE=11]="OUT_OF_RANGE",at[at.UNIMPLEMENTED=12]="UNIMPLEMENTED",at[at.INTERNAL=13]="INTERNAL",at[at.UNAVAILABLE=14]="UNAVAILABLE",at[at.DATA_LOSS=15]="DATA_LOSS";var lP=null;function A2(){return new TextEncoder}var I7=new Ra([4294967295,4294967295],0);function cP(n){let e=A2().encode(n),t=new CE;return t.update(e),new Uint8Array(t.digest())}function uP(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ra([t,i],0),new Ra([r,s],0)]}var lI=class n{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new oc(`Invalid padding: ${t}`);if(i<0)throw new oc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new oc(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new oc(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Ra.fromNumber(this.Ie)}Ee(e,t,i){let r=e.add(t.multiply(Ra.fromNumber(i)));return r.compare(I7)===1&&(r=new Ra([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=cP(e),[i,r]=uP(t);for(let s=0;s<this.hashCount;s++){let o=this.Ee(i,r,s);if(!this.de(o))return!1}return!0}static create(e,t,i){let r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new n(s,r,t);return i.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let t=cP(e),[i,r]=uP(t);for(let s=0;s<this.hashCount;s++){let o=this.Ee(i,r,s);this.Ae(o)}}Ae(e){let t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}},oc=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Wf=class n{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,i){let r=new Map;return r.set(e,Kf.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new n(Me.min(),r,new Lt(je),Ni(),He())}},Kf=class n{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new n(i,t,He(),He(),He())}};var ud=class{constructor(e,t,i,r){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=r}},Wy=class{constructor(e,t){this.targetId=e,this.me=t}},Ky=class{constructor(e,t,i=Nn.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}},Qy=class{constructor(){this.fe=0,this.ge=hP(),this.pe=Nn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=He(),t=He(),i=He();return this.ge.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:_e()}}),new Kf(this.pe,this.ye,e,t,i)}ve(){this.we=!1,this.ge=hP()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Te(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},cI=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ni(),this.qe=dP(),this.Qe=new Lt(je)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let i=this.Ge(t);switch(e.state){case 0:this.ze(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.ve(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),i.De(e.resumeToken));break;default:_e()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,r)=>{this.ze(r)&&t(r)})}He(e){let t=e.targetId,i=e.me.count,r=this.Je(t);if(r){let s=r.target;if(Hy(s))if(i===0){let o=new fe(s.path);this.Ue(t,o,_n.newNoDocument(o,Me.min()))}else Te(i===1);else{let o=this.Ye(t);if(o!==i){let a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(t);let c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,c)}lP?.et(function(d,f,m,v,C){var A,S,j,Z,W,Y;let ge={localCacheCount:d,existenceFilterCount:f.count,databaseId:m.database,projectId:m.projectId},ae=f.unchangedNames;return ae&&(ge.bloomFilter={applied:C===0,hashCount:(A=ae?.hashCount)!==null&&A!==void 0?A:0,bitmapLength:(Z=(j=(S=ae?.bits)===null||S===void 0?void 0:S.bitmap)===null||j===void 0?void 0:j.length)!==null&&Z!==void 0?Z:0,padding:(Y=(W=ae?.bits)===null||W===void 0?void 0:W.padding)!==null&&Y!==void 0?Y:0,mightContain:x=>{var D;return(D=v?.mightContain(x))!==null&&D!==void 0&&D}}),ge}(o,e.me,this.Le.tt(),a,l))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=t,o,a;try{o=Ua(i).toUint8Array()}catch(l){if(l instanceof jy)return vr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new lI(o,r,s)}catch(l){return vr(l instanceof oc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,t,i){return t.me.count===i-this.nt(e,t.targetId)?0:2}nt(e,t){let i=this.Le.getRemoteKeysForTarget(t),r=0;return i.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,s,null),r++)}),r}rt(e){let t=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&Hy(a.target)){let l=new fe(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,_n.newNoDocument(l,e))}s.be&&(t.set(o,s.Ce()),s.ve())}});let i=He();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{let c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let r=new Wf(e,t,this.Qe,this.ke,i);return this.ke=Ni(),this.qe=dP(),this.Qe=new Lt(je),r}$e(e,t){if(!this.ze(e))return;let i=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,i){if(!this.ze(e))return;let r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Qy,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new At(je),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||te("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Qy),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function dP(){return new Lt(fe.comparator)}function hP(){return new Lt(fe.comparator)}var D7={asc:"ASCENDING",desc:"DESCENDING"},T7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},S7={and:"AND",or:"OR"},uI=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function dI(n,e){return n.useProto3Json||op(e)?e:{value:e}}function yd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function x2(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function M7(n,e){return yd(n,e.toTimestamp())}function an(n){return Te(!!n),Me.fromTimestamp(function(t){let i=Ao(t);return new Kt(i.seconds,i.nanos)}(n))}function VD(n,e){return hI(n,e).canonicalString()}function hI(n,e){let t=function(r){return new lt(["projects",r.projectId,"databases",r.database])}(n).child("documents");return e===void 0?t:t.child(e)}function R2(n){let e=lt.fromString(n);return Te(j2(e)),e}function Qf(n,e){return VD(n.databaseId,e.path)}function Ps(n,e){let t=R2(e);if(t.get(1)!==n.databaseId.projectId)throw new ee(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ee(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new fe(k2(t))}function O2(n,e){return VD(n.databaseId,e)}function N2(n){let e=R2(n);return e.length===4?lt.emptyPath():k2(e)}function fI(n){return new lt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function k2(n){return Te(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function fP(n,e,t){return{name:Qf(n,e),fields:t.value.mapValue.fields}}function P2(n,e,t){let i=Ps(n,e.name),r=an(e.updateTime),s=e.createTime?an(e.createTime):Me.min(),o=new si({mapValue:{fields:e.fields}}),a=_n.newFoundDocument(i,r,s,o);return t&&a.setHasCommittedMutations(),t?a.setHasCommittedMutations():a}function A7(n,e){return"found"in e?function(i,r){Te(!!r.found),r.found.name,r.found.updateTime;let s=Ps(i,r.found.name),o=an(r.found.updateTime),a=r.found.createTime?an(r.found.createTime):Me.min(),l=new si({mapValue:{fields:r.found.fields}});return _n.newFoundDocument(s,o,a,l)}(n,e):"missing"in e?function(i,r){Te(!!r.missing),Te(!!r.readTime);let s=Ps(i,r.missing),o=an(r.readTime);return _n.newNoDocument(s,o)}(n,e):_e()}function x7(n,e){let t;if("targetChange"in e){e.targetChange;let i=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:_e()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(Te(d===void 0||typeof d=="string"),Nn.fromBase64String(d||"")):(Te(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Nn.fromUint8Array(d||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){let d=c.code===void 0?q.UNKNOWN:M2(c.code);return new ee(d,c.message||"")}(o);t=new Ky(i,r,s,a||null)}else if("documentChange"in e){e.documentChange;let i=e.documentChange;i.document,i.document.name,i.document.updateTime;let r=Ps(n,i.document.name),s=an(i.document.updateTime),o=i.document.createTime?an(i.document.createTime):Me.min(),a=new si({mapValue:{fields:i.document.fields}}),l=_n.newFoundDocument(r,s,o,a),c=i.targetIds||[],d=i.removedTargetIds||[];t=new ud(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;let i=e.documentDelete;i.document;let r=Ps(n,i.document),s=i.readTime?an(i.readTime):Me.min(),o=_n.newNoDocument(r,s),a=i.removedTargetIds||[];t=new ud([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let i=e.documentRemove;i.document;let r=Ps(n,i.document),s=i.removedTargetIds||[];t=new ud([],s,r,null)}else{if(!("filter"in e))return _e();{e.filter;let i=e.filter;i.targetId;let{count:r=0,unchangedNames:s}=i,o=new aI(r,s),a=i.targetId;t=new Wy(a,o)}}return t}function Zf(n,e){let t;if(e instanceof Ga)t={update:fP(n,e.key,e.value)};else if(e instanceof qa)t={delete:Qf(n,e.key)};else if(e instanceof Jr)t={update:fP(n,e.key,e.data),updateMask:F7(e.fieldMask)};else{if(!(e instanceof Hf))return _e();t={verify:Qf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(s,o){let a=o.transform;if(a instanceof $a)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof xo)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ro)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ha)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw _e()}(0,i))),e.precondition.isNone||(t.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:M7(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:_e()}(n,e.precondition)),t}function pI(n,e){let t=e.currentDocument?function(s){return s.updateTime!==void 0?Xt.updateTime(an(s.updateTime)):s.exists!==void 0?Xt.exists(s.exists):Xt.none()}(e.currentDocument):Xt.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(o,a){let l=null;if("setToServerValue"in a)Te(a.setToServerValue==="REQUEST_TIME"),l=new $a;else if("appendMissingElements"in a){let d=a.appendMissingElements.values||[];l=new xo(d)}else if("removeAllFromArray"in a){let d=a.removeAllFromArray.values||[];l=new Ro(d)}else"increment"in a?l=new Ha(o,a.increment):_e();let c=on.fromServerFormat(a.fieldPath);return new hc(c,l)}(n,r)):[];if(e.update){e.update.name;let r=Ps(n,e.update.name),s=new si({mapValue:{fields:e.update.fields}});if(e.updateMask){let o=function(l){let c=l.fieldPaths||[];return new Qi(c.map(d=>on.fromServerFormat(d)))}(e.updateMask);return new Jr(r,s,o,t,i)}return new Ga(r,s,t,i)}if(e.delete){let r=Ps(n,e.delete);return new qa(r,t)}if(e.verify){let r=Ps(n,e.verify);return new Hf(r,t)}return _e()}function R7(n,e){return n&&n.length>0?(Te(e!==void 0),n.map(t=>function(r,s){let o=r.updateTime?an(r.updateTime):an(s);return o.isEqual(Me.min())&&(o=an(s)),new sI(o,r.transformResults||[])}(t,e))):[]}function F2(n,e){return{documents:[O2(n,e.path)]}}function L2(n,e){let t={structuredQuery:{}},i=e.path,r;e.collectionGroup!==null?(r=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=O2(n,r);let s=function(c){if(c.length!==0)return U2(Ct.create(c,"and"))}(e.filters);s&&(t.structuredQuery.where=s);let o=function(c){if(c.length!==0)return c.map(d=>function(m){return{field:rd(m.field),direction:N7(m.dir)}}(d))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);let a=dI(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:t,parent:r}}function V2(n){let e=N2(n.parent),t=n.structuredQuery,i=t.from?t.from.length:0,r=null;if(i>0){Te(i===1);let d=t.from[0];d.allDescendants?r=d.collectionId:e=e.child(d.collectionId)}let s=[];t.where&&(s=function(f){let m=B2(f);return m instanceof Ct&&PD(m)?m.getFilters():[m]}(t.where));let o=[];t.orderBy&&(o=function(f){return f.map(m=>function(C){return new uc(sd(C.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(m))}(t.orderBy));let a=null;t.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,op(m)?null:m}(t.limit));let l=null;t.startAt&&(l=function(f){let m=!!f.before,v=f.values||[];return new Vs(v,m)}(t.startAt));let c=null;return t.endAt&&(c=function(f){let m=!f.before,v=f.values||[];return new Vs(v,m)}(t.endAt)),d2(e,r,o,s,a,"F",l,c)}function O7(n,e){let t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function B2(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let i=sd(t.unaryFilter.field);return et.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=sd(t.unaryFilter.field);return et.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=sd(t.unaryFilter.field);return et.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=sd(t.unaryFilter.field);return et.create(o,"!=",{nullValue:"NULL_VALUE"});default:return _e()}}(n):n.fieldFilter!==void 0?function(t){return et.create(sd(t.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _e()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Ct.create(t.compositeFilter.filters.map(i=>B2(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return _e()}}(t.compositeFilter.op))}(n):_e()}function N7(n){return D7[n]}function k7(n){return T7[n]}function P7(n){return S7[n]}function rd(n){return{fieldPath:n.canonicalString()}}function sd(n){return on.fromServerFormat(n.fieldPath)}function U2(n){return n instanceof et?function(t){if(t.op==="=="){if(Zk(t.value))return{unaryFilter:{field:rd(t.field),op:"IS_NAN"}};if(Qk(t.value))return{unaryFilter:{field:rd(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Zk(t.value))return{unaryFilter:{field:rd(t.field),op:"IS_NOT_NAN"}};if(Qk(t.value))return{unaryFilter:{field:rd(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rd(t.field),op:k7(t.op),value:t.value}}}(n):n instanceof Ct?function(t){let i=t.getFilters().map(r=>U2(r));return i.length===1?i[0]:{compositeFilter:{op:P7(t.op),filters:i}}}(n):_e()}function F7(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function j2(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var _d=class n{constructor(e,t,i,r,s=Me.min(),o=Me.min(),a=Nn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Zy=class{constructor(e){this.ct=e}};function L7(n,e){let t;if(e.document)t=P2(n.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){let i=fe.fromSegments(e.noDocument.path),r=pc(e.noDocument.readTime);t=_n.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return _e();{let i=fe.fromSegments(e.unknownDocument.path),r=pc(e.unknownDocument.version);t=_n.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(r){let s=new Kt(r[0],r[1]);return Me.fromTimestamp(s)}(e.readTime)),t}function pP(n,e){let t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Yy(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document=function(s,o){return{name:Qf(s,o.key),fields:o.data.value.mapValue.fields,updateTime:yd(s,o.version.toTimestamp()),createTime:yd(s,o.createTime.toTimestamp())}}(n.ct,e);else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:fc(e.version)};else{if(!e.isUnknownDocument())return _e();i.unknownDocument={path:t.path.toArray(),version:fc(e.version)}}return i}function Yy(n){let e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function fc(n){let e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function pc(n){let e=new Kt(n.seconds,n.nanoseconds);return Me.fromTimestamp(e)}function ic(n,e){let t=(e.baseMutations||[]).map(s=>pI(n.ct,s));for(let s=0;s<e.mutations.length-1;++s){let o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){let a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}let i=e.mutations.map(s=>pI(n.ct,s)),r=Kt.fromMillis(e.localWriteTimeMs);return new Gf(e.batchId,r,t,i)}function Of(n){let e=pc(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?pc(n.lastLimboFreeSnapshotVersion):Me.min(),i;return i=function(s){return s.documents!==void 0}(n.query)?function(s){return Te(s.documents.length===1),wi(Ad(N2(s.documents[0])))}(n.query):function(s){return wi(V2(s))}(n.query),new _d(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Nn.fromBase64String(n.resumeToken))}function z2(n,e){let t=fc(e.snapshotVersion),i=fc(e.lastLimboFreeSnapshotVersion),r;r=Hy(e.target)?F2(n.ct,e.target):L2(n.ct,e.target)._t;let s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:dc(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function BD(n){let e=V2({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?qy(e,e.limit,"L"):e}function AE(n,e){return new qf(e.largestBatchId,pI(n.ct,e.overlayMutation))}function gP(n,e){let t=e.path.lastSegment();return[n,vi(e.path.popLast()),t]}function mP(n,e,t,i){return{indexId:n,uid:e,sequenceNumber:t,readTime:fc(i.readTime),documentKey:vi(i.documentKey.path),largestBatchId:i.largestBatchId}}var gI=class{getBundleMetadata(e,t){return yP(e).get(t).next(i=>{if(i)return function(s){return{id:s.bundleId,createTime:pc(s.createTime),version:s.version}}(i)})}saveBundleMetadata(e,t){return yP(e).put(function(r){return{bundleId:r.id,createTime:fc(an(r.createTime)),version:r.version}}(t))}getNamedQuery(e,t){return _P(e).get(t).next(i=>{if(i)return function(s){return{name:s.name,query:BD(s.bundledQuery),readTime:pc(s.readTime)}}(i)})}saveNamedQuery(e,t){return _P(e).put(function(r){return{name:r.name,readTime:fc(an(r.readTime)),bundledQuery:r.bundledQuery}}(t))}};function yP(n){return kn(n,"bundles")}function _P(n){return kn(n,"namedQueries")}var Jy=class n{constructor(e,t){this.serializer=e,this.userId=t}static lt(e,t){let i=t.uid||"";return new n(e,i)}getOverlay(e,t){return Sf(e).get(gP(this.userId,t)).next(i=>i?AE(this.serializer,i):null)}getOverlays(e,t){let i=Ns();return $.forEach(t,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){let r=[];return i.forEach((s,o)=>{let a=new qf(t,o);r.push(this.ht(e,a))}),$.waitFor(r)}removeOverlaysForBatchId(e,t,i){let r=new Set;t.forEach(o=>r.add(vi(o.getCollectionPath())));let s=[];return r.forEach(o=>{let a=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,i+1],!1,!0);s.push(Sf(e).j("collectionPathOverlayIndex",a))}),$.waitFor(s)}getOverlaysForCollection(e,t,i){let r=Ns(),s=vi(t),o=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Sf(e).U("collectionPathOverlayIndex",o).next(a=>{for(let l of a){let c=AE(this.serializer,l);r.set(c.getKey(),c)}return r})}getOverlaysForCollectionGroup(e,t,i,r){let s=Ns(),o,a=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Sf(e).J({index:"collectionGroupOverlayIndex",range:a},(l,c,d)=>{let f=AE(this.serializer,c);s.size()<r||f.largestBatchId===o?(s.set(f.getKey(),f),o=f.largestBatchId):d.done()}).next(()=>s)}ht(e,t){return Sf(e).put(function(r,s,o){let[a,l,c]=gP(s,o.mutation.key);return{userId:s,collectionPath:l,documentId:c,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Zf(r.ct,o.mutation)}}(this.serializer,this.userId,t))}};function Sf(n){return kn(n,"documentOverlays")}var So=class{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(Jt(e.integerValue));else if("doubleValue"in e){let i=Jt(e.doubleValue);isNaN(i)?this.Et(t,13):(this.Et(t,15),Bf(i)?t.dt(0):t.dt(i))}else if("timestampValue"in e){let i=e.timestampValue;this.Et(t,20),typeof i=="string"&&(i=Ao(i)),t.At(`${i.seconds||""}`),t.dt(i.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(Ua(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){let i=e.geoPointValue;this.Et(t,45),t.dt(i.latitude||0),t.dt(i.longitude||0)}else"mapValue"in e?r2(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):_e()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){let i=e.fields||{};this.Et(t,55);for(let r of Object.keys(i))this.Rt(r,t),this.It(i[r],t)}wt(e,t){let i=e.values||[];this.Et(t,50);for(let r of i)this.It(r,t)}gt(e,t){this.Et(t,37),fe.fromName(e).path.forEach(i=>{this.Et(t,60),this.St(i,t)})}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}};So.bt=new So;function V7(n){if(n===0)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function vP(n){let e=64-function(i){let r=0;for(let s=0;s<8;++s){let o=V7(255&i[s]);if(r+=o,o!==8)break}return r}(n);return Math.ceil(e/8)}var mI=class{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){let t=e[Symbol.iterator](),i=t.next();for(;!i.done;)this.Ct(i.value),i=t.next();this.vt()}Ft(e){let t=e[Symbol.iterator](),i=t.next();for(;!i.done;)this.Mt(i.value),i=t.next();this.xt()}Ot(e){for(let t of e){let i=t.charCodeAt(0);if(i<128)this.Ct(i);else if(i<2048)this.Ct(960|i>>>6),this.Ct(128|63&i);else if(t<"\uD800"||"\uDBFF"<t)this.Ct(480|i>>>12),this.Ct(128|63&i>>>6),this.Ct(128|63&i);else{let r=t.codePointAt(0);this.Ct(240|r>>>18),this.Ct(128|63&r>>>12),this.Ct(128|63&r>>>6),this.Ct(128|63&r)}}this.vt()}Nt(e){for(let t of e){let i=t.charCodeAt(0);if(i<128)this.Mt(i);else if(i<2048)this.Mt(960|i>>>6),this.Mt(128|63&i);else if(t<"\uD800"||"\uDBFF"<t)this.Mt(480|i>>>12),this.Mt(128|63&i>>>6),this.Mt(128|63&i);else{let r=t.codePointAt(0);this.Mt(240|r>>>18),this.Mt(128|63&r>>>12),this.Mt(128|63&r>>>6),this.Mt(128|63&r)}}this.xt()}Lt(e){let t=this.Bt(e),i=vP(t);this.kt(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}qt(e){let t=this.Bt(e),i=vP(t);this.kt(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){let t=function(s){let o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),i=(128&t[0])!=0;t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}Ct(e){let t=255&e;t===0?(this.Kt(0),this.Kt(255)):t===255?(this.Kt(255),this.Kt(0)):this.Kt(t)}Mt(e){let t=255&e;t===0?(this.Ut(0),this.Ut(255)):t===255?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){let t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);let r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}},yI=class{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}},_I=class{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}},rc=class{constructor(){this.Gt=new mI,this.zt=new yI(this.Gt),this.jt=new _I(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return e===0?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}};var sc=class n{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Jt(){let e=this.directionalValue.length,t=e===0||this.directionalValue[e-1]===255?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new n(this.indexId,this.documentKey,this.arrayValue,i)}};function Oa(n,e){let t=n.indexId-e.indexId;return t!==0?t:(t=wP(n.arrayValue,e.arrayValue),t!==0?t:(t=wP(n.directionalValue,e.directionalValue),t!==0?t:fe.comparator(n.documentKey,e.documentKey)))}function wP(n,e){for(let t=0;t<n.length&&t<e.length;++t){let i=n[t]-e[t];if(i!==0)return i}return n.length-e.length}var Xy=class{constructor(e){this.Yt=new At((t,i)=>on.comparator(t.field,i.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(let t of e.filters){let i=t;i.isInequality()?this.Yt=this.Yt.add(i):this.Xt.push(i)}}get en(){return this.Yt.size>1}tn(e){if(Te(e.collectionGroup===this.collectionId),this.en)return!1;let t=UE(e);if(t!==void 0&&!this.nn(t))return!1;let i=tc(e),r=new Set,s=0,o=0;for(;s<i.length&&this.nn(i[s]);++s)r=r.add(i[s].fieldPath.canonicalString());if(s===i.length)return!0;if(this.Yt.size>0){let a=this.Yt.getIterator().getNext();if(!r.has(a.field.canonicalString())){let l=i[s];if(!this.rn(a,l)||!this.sn(this.Zt[o++],l))return!1}++s}for(;s<i.length;++s){let a=i[s];if(o>=this.Zt.length||!this.sn(this.Zt[o++],a))return!1}return!0}on(){if(this.en)return null;let e=new At(on.comparator),t=[];for(let i of this.Xt)if(!i.field.isKeyField())if(i.op==="array-contains"||i.op==="array-contains-any")t.push(new ld(i.field,2));else{if(e.has(i.field))continue;e=e.add(i.field),t.push(new ld(i.field,0))}for(let i of this.Zt)i.field.isKeyField()||e.has(i.field)||(e=e.add(i.field),t.push(new ld(i.field,i.dir==="asc"?0:1)));return new hd(hd.UNKNOWN_ID,this.collectionId,t,Vf.empty())}nn(e){for(let t of this.Xt)if(this.rn(t,e))return!0;return!1}rn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;let i=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===i}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}};function $2(n){var e,t;if(Te(n instanceof et||n instanceof Ct),n instanceof et){if(n instanceof $y){let r=((t=(e=n.value.arrayValue)===null||e===void 0?void 0:e.values)===null||t===void 0?void 0:t.map(s=>et.create(n.field,"==",s)))||[];return Ct.create(r,"or")}return n}let i=n.filters.map(r=>$2(r));return Ct.create(i,n.op)}function B7(n){if(n.getFilters().length===0)return[];let e=bI($2(n));return Te(H2(e)),vI(e)||wI(e)?[e]:e.getFilters()}function vI(n){return n instanceof et}function wI(n){return n instanceof Ct&&PD(n)}function H2(n){return vI(n)||wI(n)||function(t){if(t instanceof Ct&&KE(t)){for(let i of t.getFilters())if(!vI(i)&&!wI(i))return!1;return!0}return!1}(n)}function bI(n){if(Te(n instanceof et||n instanceof Ct),n instanceof et)return n;if(n.filters.length===1)return bI(n.filters[0]);let e=n.filters.map(i=>bI(i)),t=Ct.create(e,n.op);return t=e_(t),H2(t)?t:(Te(t instanceof Ct),Te(pd(t)),Te(t.filters.length>1),t.filters.reduce((i,r)=>UD(i,r)))}function UD(n,e){let t;return Te(n instanceof et||n instanceof Ct),Te(e instanceof et||e instanceof Ct),t=n instanceof et?e instanceof et?function(r,s){return Ct.create([r,s],"and")}(n,e):bP(n,e):e instanceof et?bP(e,n):function(r,s){if(Te(r.filters.length>0&&s.filters.length>0),pd(r)&&pd(s))return l2(r,s.getFilters());let o=KE(r)?r:s,a=KE(r)?s:r,l=o.filters.map(c=>UD(c,a));return Ct.create(l,"or")}(n,e),e_(t)}function bP(n,e){if(pd(e))return l2(e,n.getFilters());{let t=e.filters.map(i=>UD(n,i));return Ct.create(t,"or")}}function e_(n){if(Te(n instanceof et||n instanceof Ct),n instanceof et)return n;let e=n.getFilters();if(e.length===1)return e_(e[0]);if(o2(n))return n;let t=e.map(r=>e_(r)),i=[];return t.forEach(r=>{r instanceof et?i.push(r):r instanceof Ct&&(r.op===n.op?i.push(...r.filters):i.push(r))}),i.length===1?i[0]:Ct.create(i,n.op)}var CI=class{constructor(){this._n=new Yf}addToCollectionParentIndex(e,t){return this._n.add(t),$.resolve()}getCollectionParents(e,t){return $.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return $.resolve()}deleteFieldIndex(e,t){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,t){return $.resolve()}getDocumentsMatchingTarget(e,t){return $.resolve(null)}getIndexType(e,t){return $.resolve(0)}getFieldIndexes(e,t){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,t){return $.resolve(wr.min())}getMinOffsetFromCollectionGroup(e,t){return $.resolve(wr.min())}updateCollectionGroup(e,t,i){return $.resolve()}updateIndexEntries(e,t){return $.resolve()}},Yf=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new At(lt.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){let t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new At(lt.comparator)).toArray()}};var Dy=new Uint8Array(0),EI=class{constructor(e,t){this.databaseId=t,this.an=new Yf,this.un=new Bs(i=>dc(i),(i,r)=>ap(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.an.has(t)){let i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.an.add(t)});let s={collectionId:i,parent:vi(r)};return CP(e).put(s)}return $.resolve()}getCollectionParents(e,t){let i=[],r=IDBKeyRange.bound([t,""],[GP(t),""],!1,!0);return CP(e).U(r).next(s=>{for(let o of s){if(o.collectionId!==t)break;i.push(Os(o.parent))}return i})}addFieldIndex(e,t){let i=Mf(e),r=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(t);delete r.indexId;let s=i.add(r);if(t.indexState){let o=ed(e);return s.next(a=>{o.put(mP(a,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){let i=Mf(e),r=ed(e),s=Xu(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){let t=Mf(e),i=Xu(e),r=ed(e);return t.j().next(()=>i.j()).next(()=>r.j())}createTargetIndexes(e,t){return $.forEach(this.cn(t),i=>this.getIndexType(e,i).next(r=>{if(r===0||r===1){let s=new Xy(i).on();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,t){let i=Xu(e),r=!0,s=new Map;return $.forEach(this.cn(t),o=>this.ln(e,o).next(a=>{r&&(r=!!a),s.set(o,a)})).next(()=>{if(r){let o=He(),a=[];return $.forEach(s,(l,c)=>{te("IndexedDbIndexManager",`Using index ${function(W){return`id=${W.indexId}|cg=${W.collectionGroup}|f=${W.fields.map(Y=>`${Y.fieldPath}:${Y.kind}`).join(",")}`}(l)} to execute ${dc(t)}`);let d=function(W,Y){let ge=UE(Y);if(ge===void 0)return null;for(let ae of Gy(W,ge.fieldPath))switch(ae.op){case"array-contains-any":return ae.value.arrayValue.values||[];case"array-contains":return[ae.value]}return null}(c,l),f=function(W,Y){let ge=new Map;for(let ae of tc(Y))for(let x of Gy(W,ae.fieldPath))switch(x.op){case"==":case"in":ge.set(ae.fieldPath.canonicalString(),x.value);break;case"not-in":case"!=":return ge.set(ae.fieldPath.canonicalString(),x.value),Array.from(ge.values())}return null}(c,l),m=function(W,Y){let ge=[],ae=!0;for(let x of tc(Y)){let D=x.kind===0?tP(W,x.fieldPath,W.startAt):nP(W,x.fieldPath,W.startAt);ge.push(D.value),ae&&(ae=D.inclusive)}return new Vs(ge,ae)}(c,l),v=function(W,Y){let ge=[],ae=!0;for(let x of tc(Y)){let D=x.kind===0?nP(W,x.fieldPath,W.endAt):tP(W,x.fieldPath,W.endAt);ge.push(D.value),ae&&(ae=D.inclusive)}return new Vs(ge,ae)}(c,l),C=this.hn(l,c,m),A=this.hn(l,c,v),S=this.Pn(l,c,f),j=this.In(l.indexId,d,C,m.inclusive,A,v.inclusive,S);return $.forEach(j,Z=>i.G(Z,t.limit).next(W=>{W.forEach(Y=>{let ge=fe.fromSegments(Y.documentKey);o.has(ge)||(o=o.add(ge),a.push(ge))})}))}).next(()=>a)}return $.resolve(null)})}cn(e){let t=this.un.get(e);return t||(e.filters.length===0?t=[e]:t=B7(Ct.create(e.filters,"and")).map(i=>iI(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}In(e,t,i,r,s,o,a){let l=(t!=null?t.length:1)*Math.max(i.length,s.length),c=l/(t!=null?t.length:1),d=[];for(let f=0;f<l;++f){let m=t?this.Tn(t[f/c]):Dy,v=this.En(e,m,i[f%c],r),C=this.dn(e,m,s[f%c],o),A=a.map(S=>this.En(e,m,S,!0));d.push(...this.createRange(v,C,A))}return d}En(e,t,i,r){let s=new sc(e,fe.empty(),t,i);return r?s:s.Jt()}dn(e,t,i,r){let s=new sc(e,fe.empty(),t,i);return r?s.Jt():s}ln(e,t){let i=new Xy(t),r=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(s=>{let o=null;for(let a of s)i.tn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,t){let i=2,r=this.cn(t);return $.forEach(r,s=>this.ln(e,s).next(o=>{o?i!==0&&o.fields.length<function(l){let c=new At(on.comparator),d=!1;for(let f of l.filters)for(let m of f.getFlattenedFilters())m.field.isKeyField()||(m.op==="array-contains"||m.op==="array-contains-any"?d=!0:c=c.add(m.field));for(let f of l.orderBy)f.field.isKeyField()||(c=c.add(f.field));return c.size+(d?1:0)}(s)&&(i=1):i=0})).next(()=>function(o){return o.limit!==null}(t)&&r.length>1&&i===2?1:i)}An(e,t){let i=new rc;for(let r of tc(e)){let s=t.data.field(r.fieldPath);if(s==null)return null;let o=i.Ht(r.kind);So.bt.Pt(s,o)}return i.Wt()}Tn(e){let t=new rc;return So.bt.Pt(e,t.Ht(0)),t.Wt()}Rn(e,t){let i=new rc;return So.bt.Pt(cc(this.databaseId,t),i.Ht(function(s){let o=tc(s);return o.length===0?0:o[o.length-1].kind}(e))),i.Wt()}Pn(e,t,i){if(i===null)return[];let r=[];r.push(new rc);let s=0;for(let o of tc(e)){let a=i[s++];for(let l of r)if(this.Vn(t,o.fieldPath)&&$f(a))r=this.mn(r,o,a);else{let c=l.Ht(o.kind);So.bt.Pt(a,c)}}return this.fn(r)}hn(e,t,i){return this.Pn(e,t,i.position)}fn(e){let t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Wt();return t}mn(e,t,i){let r=[...e],s=[];for(let o of i.arrayValue.values||[])for(let a of r){let l=new rc;l.seed(a.Wt()),So.bt.Pt(o,l.Ht(t.kind)),s.push(l)}return s}Vn(e,t){return!!e.filters.find(i=>i instanceof et&&i.field.isEqual(t)&&(i.op==="in"||i.op==="not-in"))}getFieldIndexes(e,t){let i=Mf(e),r=ed(e);return(t?i.U("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.U()).next(s=>{let o=[];return $.forEach(s,a=>r.get([a.indexId,this.uid]).next(l=>{o.push(function(d,f){let m=f?new Vf(f.sequenceNumber,new wr(pc(f.readTime),new fe(Os(f.documentKey)),f.largestBatchId)):Vf.empty(),v=d.fields.map(([C,A])=>new ld(on.fromServerFormat(C),A));return new hd(d.indexId,d.collectionGroup,v,m)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>t.length===0?null:(t.sort((i,r)=>{let s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return s!==0?s:je(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){let r=Mf(e),s=ed(e);return this.gn(e).next(o=>r.U("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(a=>$.forEach(a,l=>s.put(mP(l.indexId,this.uid,o,i)))))}updateIndexEntries(e,t){let i=new Map;return $.forEach(t,(r,s)=>{let o=i.get(r.collectionGroup);return(o?$.resolve(o):this.getFieldIndexes(e,r.collectionGroup)).next(a=>(i.set(r.collectionGroup,a),$.forEach(a,l=>this.pn(e,r,l).next(c=>{let d=this.yn(s,l);return c.isEqual(d)?$.resolve():this.wn(e,s,l,c,d)}))))})}Sn(e,t,i,r){return Xu(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.Rn(i,t.key),documentKey:t.key.path.toArray()})}bn(e,t,i,r){return Xu(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.Rn(i,t.key),t.key.path.toArray()])}pn(e,t,i){let r=Xu(e),s=new At(Oa);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.Rn(i,t)])},(o,a)=>{s=s.add(new sc(i.indexId,t,a.arrayValue,a.directionalValue))}).next(()=>s)}yn(e,t){let i=new At(Oa),r=this.An(t,e);if(r==null)return i;let s=UE(t);if(s!=null){let o=e.data.field(s.fieldPath);if($f(o))for(let a of o.arrayValue.values||[])i=i.add(new sc(t.indexId,e.key,this.Tn(a),r))}else i=i.add(new sc(t.indexId,e.key,Dy,r));return i}wn(e,t,i,r,s){te("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);let o=[];return function(l,c,d,f,m){let v=l.getIterator(),C=c.getIterator(),A=Ju(v),S=Ju(C);for(;A||S;){let j=!1,Z=!1;if(A&&S){let W=d(A,S);W<0?Z=!0:W>0&&(j=!0)}else A!=null?Z=!0:j=!0;j?(f(S),S=Ju(C)):Z?(m(A),A=Ju(v)):(A=Ju(v),S=Ju(C))}}(r,s,Oa,a=>{o.push(this.Sn(e,t,i,a))},a=>{o.push(this.bn(e,t,i,a))}),$.waitFor(o)}gn(e){let t=1;return ed(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((o,a)=>Oa(o,a)).filter((o,a,l)=>!a||Oa(o,l[a-1])!==0);let r=[];r.push(e);for(let o of i){let a=Oa(o,e),l=Oa(o,t);if(a===0)r[0]=e.Jt();else if(a>0&&l<0)r.push(o),r.push(o.Jt());else if(l>0)break}r.push(t);let s=[];for(let o=0;o<r.length;o+=2){if(this.Dn(r[o],r[o+1]))return[];let a=[r[o].indexId,this.uid,r[o].arrayValue,r[o].directionalValue,Dy,[]],l=[r[o+1].indexId,this.uid,r[o+1].arrayValue,r[o+1].directionalValue,Dy,[]];s.push(IDBKeyRange.bound(a,l))}return s}Dn(e,t){return Oa(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(EP)}getMinOffset(e,t){return $.mapArray(this.cn(t),i=>this.ln(e,i).next(r=>r||_e())).next(EP)}};function CP(n){return kn(n,"collectionParents")}function Xu(n){return kn(n,"indexEntries")}function Mf(n){return kn(n,"indexConfiguration")}function ed(n){return kn(n,"indexState")}function EP(n){Te(n.length!==0);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){let r=n[i].indexState.offset;OD(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new wr(e.readTime,e.documentKey,t)}var IP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_r=class n{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};function G2(n,e,t){let i=n.store("mutations"),r=n.store("documentMutations"),s=[],o=IDBKeyRange.only(t.batchId),a=0,l=i.J({range:o},(d,f,m)=>(a++,m.delete()));s.push(l.next(()=>{Te(a===1)}));let c=[];for(let d of t.mutations){let f=YP(e,d.key.path,t.batchId);s.push(r.delete(f)),c.push(d.key)}return $.waitFor(s).next(()=>c)}function t_(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw _e();e=n.noDocument}return JSON.stringify(e).length}_r.DEFAULT_COLLECTION_PERCENTILE=10,_r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_r.DEFAULT=new _r(41943040,_r.DEFAULT_COLLECTION_PERCENTILE,_r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_r.DISABLED=new _r(-1,0,0);var n_=class n{constructor(e,t,i,r){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=r,this.Cn={}}static lt(e,t,i,r){Te(e.uid!=="");let s=e.isAuthenticated()?e.uid:"";return new n(s,t,i,r)}checkEmpty(e){let t=!0,i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Na(e).J({index:"userMutationsIndex",range:i},(r,s,o)=>{t=!1,o.done()}).next(()=>t)}addMutationBatch(e,t,i,r){let s=od(e),o=Na(e);return o.add({}).next(a=>{Te(typeof a=="number");let l=new Gf(a,t,i,r),c=function(v,C,A){let S=A.baseMutations.map(Z=>Zf(v.ct,Z)),j=A.mutations.map(Z=>Zf(v.ct,Z));return{userId:C,batchId:A.batchId,localWriteTimeMs:A.localWriteTime.toMillis(),baseMutations:S,mutations:j}}(this.serializer,this.userId,l),d=[],f=new At((m,v)=>je(m.canonicalString(),v.canonicalString()));for(let m of r){let v=YP(this.userId,m.key.path,a);f=f.add(m.key.path.popLast()),d.push(o.put(c)),d.push(s.put(v,qG))}return f.forEach(m=>{d.push(this.indexManager.addToCollectionParentIndex(e,m))}),e.addOnCommittedListener(()=>{this.Cn[a]=l.keys()}),$.waitFor(d).next(()=>l)})}lookupMutationBatch(e,t){return Na(e).get(t).next(i=>i?(Te(i.userId===this.userId),ic(this.serializer,i)):null)}vn(e,t){return this.Cn[t]?$.resolve(this.Cn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){let r=i.keys();return this.Cn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){let i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]),s=null;return Na(e).J({index:"userMutationsIndex",range:r},(o,a,l)=>{a.userId===this.userId&&(Te(a.batchId>=i),s=ic(this.serializer,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){let t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),i=-1;return Na(e).J({index:"userMutationsIndex",range:t,reverse:!0},(r,s,o)=>{i=s.batchId,o.done()}).next(()=>i)}getAllMutationBatches(e){let t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Na(e).U("userMutationsIndex",t).next(i=>i.map(r=>ic(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){let i=Ay(this.userId,t.path),r=IDBKeyRange.lowerBound(i),s=[];return od(e).J({range:r},(o,a,l)=>{let[c,d,f]=o,m=Os(d);if(c===this.userId&&t.path.isEqual(m))return Na(e).get(f).next(v=>{if(!v)throw _e();Te(v.userId===this.userId),s.push(ic(this.serializer,v))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new At(je),r=[];return t.forEach(s=>{let o=Ay(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=od(e).J({range:a},(c,d,f)=>{let[m,v,C]=c,A=Os(v);m===this.userId&&s.path.isEqual(A)?i=i.add(C):f.done()});r.push(l)}),$.waitFor(r).next(()=>this.Fn(e,i))}getAllMutationBatchesAffectingQuery(e,t){let i=t.path,r=i.length+1,s=Ay(this.userId,i),o=IDBKeyRange.lowerBound(s),a=new At(je);return od(e).J({range:o},(l,c,d)=>{let[f,m,v]=l,C=Os(m);f===this.userId&&i.isPrefixOf(C)?C.length===r&&(a=a.add(v)):d.done()}).next(()=>this.Fn(e,a))}Fn(e,t){let i=[],r=[];return t.forEach(s=>{r.push(Na(e).get(s).next(o=>{if(o===null)throw _e();Te(o.userId===this.userId),i.push(ic(this.serializer,o))}))}),$.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return G2(e._e,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.Mn(t.batchId)}),$.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return $.resolve();let i=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),r=[];return od(e).J({range:i},(s,o,a)=>{if(s[0]===this.userId){let l=Os(s[1]);r.push(l)}else a.done()}).next(()=>{Te(r.length===0)})})}containsKey(e,t){return q2(e,this.userId,t)}xn(e){return W2(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}};function q2(n,e,t){let i=Ay(e,t.path),r=i[1],s=IDBKeyRange.lowerBound(i),o=!1;return od(n).J({range:s,H:!0},(a,l,c)=>{let[d,f,m]=a;d===e&&f===r&&(o=!0),c.done()}).next(()=>o)}function Na(n){return kn(n,"mutations")}function od(n){return kn(n,"documentMutations")}function W2(n){return kn(n,"mutationQueues")}var vd=class n{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new n(0)}static Ln(){return new n(-1)}};var II=class{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Bn(e).next(t=>{let i=new vd(t.highestTargetId);return t.highestTargetId=i.next(),this.kn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(t=>Me.fromTimestamp(new Kt(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.Bn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.kn(e,r)))}addTargetData(e,t){return this.qn(e,t).next(()=>this.Bn(e).next(i=>(i.targetCount+=1,this.Qn(t,i),this.kn(e,i))))}updateTargetData(e,t){return this.qn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>td(e).delete(t.targetId)).next(()=>this.Bn(e)).next(i=>(Te(i.targetCount>0),i.targetCount-=1,this.kn(e,i)))}removeTargets(e,t,i){let r=0,s=[];return td(e).J((o,a)=>{let l=Of(a);l.sequenceNumber<=t&&i.get(l.targetId)===null&&(r++,s.push(this.removeTargetData(e,l)))}).next(()=>$.waitFor(s)).next(()=>r)}forEachTarget(e,t){return td(e).J((i,r)=>{let s=Of(r);t(s)})}Bn(e){return DP(e).get("targetGlobalKey").next(t=>(Te(t!==null),t))}kn(e,t){return DP(e).put("targetGlobalKey",t)}qn(e,t){return td(e).put(z2(this.serializer,t))}Qn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Bn(e).next(t=>t.targetCount)}getTargetData(e,t){let i=dc(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]),s=null;return td(e).J({range:r,index:"queryTargetsIndex"},(o,a,l)=>{let c=Of(a);ap(t,c.target)&&(s=c,l.done())}).next(()=>s)}addMatchingKeys(e,t,i){let r=[],s=ka(e);return t.forEach(o=>{let a=vi(o.path);r.push(s.put({targetId:i,path:a})),r.push(this.referenceDelegate.addReference(e,i,o))}),$.waitFor(r)}removeMatchingKeys(e,t,i){let r=ka(e);return $.forEach(t,s=>{let o=vi(s.path);return $.waitFor([r.delete([i,o]),this.referenceDelegate.removeReference(e,i,s)])})}removeMatchingKeysForTargetId(e,t){let i=ka(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){let i=IDBKeyRange.bound([t],[t+1],!1,!0),r=ka(e),s=He();return r.J({range:i,H:!0},(o,a,l)=>{let c=Os(o[1]),d=new fe(c);s=s.add(d)}).next(()=>s)}containsKey(e,t){let i=vi(t.path),r=IDBKeyRange.bound([i],[GP(i)],!1,!0),s=0;return ka(e).J({index:"documentTargetsIndex",H:!0,range:r},([o,a],l,c)=>{o!==0&&(s++,c.done())}).next(()=>s>0)}ot(e,t){return td(e).get(t).next(i=>i?Of(i):null)}};function td(n){return kn(n,"targets")}function DP(n){return kn(n,"targetGlobal")}function ka(n){return kn(n,"targetDocuments")}function TP([n,e],[t,i]){let r=je(n,t);return r===0?je(e,i):r}var DI=class{constructor(e){this.Kn=e,this.buffer=new At(TP),this.$n=0}Un(){return++this.$n}Wn(e){let t=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(t);else{let i=this.buffer.last();TP(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}},TI=class{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Gn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return this.Gn!==null}zn(e){te("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>F(this,null,function*(){this.Gn=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){Qa(t)?te("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):yield Ka(t)}yield this.zn(3e5)}))}},SI=class{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.Hn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return $.resolve(Ki.oe);let i=new DI(t);return this.jn.forEachTarget(e,r=>i.Wn(r.sequenceNumber)).next(()=>this.jn.Jn(e,r=>i.Wn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.jn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(te("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(IP)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),IP):this.Yn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,t){let i,r,s,o,a,l,c,d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),r=this.params.maximumSequenceNumbersToCollect):r=f,o=Date.now(),this.nthSequenceNumber(e,r))).next(f=>(i=f,a=Date.now(),this.removeTargets(e,i,t))).next(f=>(s=f,l=Date.now(),this.removeOrphanedDocuments(e,i))).next(f=>(c=Date.now(),nd()<=ps.DEBUG&&te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${r} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:f})))}};function U7(n,e){return new SI(n,e)}var MI=class{constructor(e,t){this.db=e,this.garbageCollector=U7(this,t)}Hn(e){let t=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Zn(e){let t=0;return this.Jn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Jn(e,t){return this.Xn(e,(i,r)=>t(r))}addReference(e,t,i){return Ty(e,i)}removeReference(e,t,i){return Ty(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return Ty(e,t)}er(e,t){return function(r,s){let o=!1;return W2(r).Y(a=>q2(r,a,s).next(l=>(l&&(o=!0),$.resolve(!l)))).next(()=>o)}(e,t)}removeOrphanedDocuments(e,t){let i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[],s=0;return this.Xn(e,(o,a)=>{if(a<=t){let l=this.er(e,o).next(c=>{if(!c)return s++,i.getEntry(e,o).next(()=>(i.removeEntry(o,Me.min()),ka(e).delete(function(f){return[0,vi(f.path)]}(o))))});r.push(l)}}).next(()=>$.waitFor(r)).next(()=>i.apply(e)).next(()=>s)}removeTarget(e,t){let i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return Ty(e,t)}Xn(e,t){let i=ka(e),r,s=Ki.oe;return i.J({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:c})=>{o===0?(s!==Ki.oe&&t(new fe(Os(r)),s),s=c,r=l):s=Ki.oe}).next(()=>{s!==Ki.oe&&t(new fe(Os(r)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}};function Ty(n,e){return ka(n).put(function(i,r){return{targetId:0,path:vi(i.path),sequenceNumber:r}}(e,n.currentSequenceNumber))}var i_=class{constructor(){this.changes=new Bs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,_n.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let i=this.changes.get(t);return i!==void 0?$.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var AI=class{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return ec(e).put(i)}removeEntry(e,t,i){return ec(e).delete(function(s,o){let a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],Yy(o),a[a.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.tr(e,i)))}getEntry(e,t){let i=_n.newInvalidDocument(t);return ec(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Af(t))},(r,s)=>{i=this.nr(t,s)}).next(()=>i)}rr(e,t){let i={size:0,document:_n.newInvalidDocument(t)};return ec(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Af(t))},(r,s)=>{i={document:this.nr(t,s),size:t_(s)}}).next(()=>i)}getEntries(e,t){let i=Ni();return this.ir(e,t,(r,s)=>{let o=this.nr(r,s);i=i.insert(r,o)}).next(()=>i)}sr(e,t){let i=Ni(),r=new Lt(fe.comparator);return this.ir(e,t,(s,o)=>{let a=this.nr(s,o);i=i.insert(s,a),r=r.insert(s,t_(o))}).next(()=>({documents:i,_r:r}))}ir(e,t,i){if(t.isEmpty())return $.resolve();let r=new At(AP);t.forEach(l=>r=r.add(l));let s=IDBKeyRange.bound(Af(r.first()),Af(r.last())),o=r.getIterator(),a=o.getNext();return ec(e).J({index:"documentKeyIndex",range:s},(l,c,d)=>{let f=fe.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&AP(a,f)<0;)i(a,null),a=o.getNext();a&&a.isEqual(f)&&(i(a,c),a=o.hasNext()?o.getNext():null),a?d.$(Af(a)):d.done()}).next(()=>{for(;a;)i(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,t,i,r,s){let o=t.path,a=[o.popLast().toArray(),o.lastSegment(),Yy(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ec(e).U(IDBKeyRange.bound(a,l,!0)).next(c=>{s?.incrementDocumentReadCount(c.length);let d=Ni();for(let f of c){let m=this.nr(fe.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);m.isFoundDocument()&&(cp(t,m)||r.has(m.key))&&(d=d.insert(m.key,m))}return d})}getAllFromCollectionGroup(e,t,i,r){let s=Ni(),o=MP(t,i),a=MP(t,wr.max());return ec(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,c,d)=>{let f=this.nr(fe.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);s=s.insert(f.key,f),s.size===r&&d.done()}).next(()=>s)}newChangeBuffer(e){return new xI(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return SP(e).get("remoteDocumentGlobalKey").next(t=>(Te(!!t),t))}tr(e,t){return SP(e).put("remoteDocumentGlobalKey",t)}nr(e,t){if(t){let i=L7(this.serializer,t);if(!(i.isNoDocument()&&i.version.isEqual(Me.min())))return i}return _n.newInvalidDocument(e)}};function K2(n){return new AI(n)}var xI=class extends i_{constructor(e,t){super(),this.ar=e,this.trackRemovals=t,this.ur=new Bs(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){let t=[],i=0,r=new At((s,o)=>je(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{let a=this.ur.get(s);if(t.push(this.ar.removeEntry(e,s,a.readTime)),o.isValidDocument()){let l=pP(this.ar.serializer,o);r=r.add(s.path.popLast());let c=t_(l);i+=c-a.size,t.push(this.ar.addEntry(e,s,l))}else if(i-=a.size,this.trackRemovals){let l=pP(this.ar.serializer,o.convertToNoDocument(Me.min()));t.push(this.ar.addEntry(e,s,l))}}),r.forEach(s=>{t.push(this.ar.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.ar.updateMetadata(e,i)),$.waitFor(t)}getFromCache(e,t){return this.ar.rr(e,t).next(i=>(this.ur.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.ar.sr(e,t).next(({documents:i,_r:r})=>(r.forEach((s,o)=>{this.ur.set(s,{size:o,readTime:i.get(s).readTime})}),i))}};function SP(n){return kn(n,"remoteDocumentGlobal")}function ec(n){return kn(n,"remoteDocumentsV14")}function Af(n){let e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function MP(n,e){let t=e.documentKey.path.toArray();return[n,Yy(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function AP(n,e){let t=n.path.toArray(),i=e.path.toArray(),r=0;for(let s=0;s<t.length-2&&s<i.length-2;++s)if(r=je(t[s],i[s]),r)return r;return r=je(t.length,i.length),r||(r=je(t[t.length-2],i[i.length-2]),r||je(t[t.length-1],i[i.length-1]))}var RI=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var r_=class{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(i!==null&&Pf(i.mutation,r,Qi.empty(),Kt.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,He()).next(()=>i))}getLocalViewOfDocuments(e,t,i=He()){let r=Ns();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(s=>{let o=Rf();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){let i=Ns();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,He()))}populateOverlays(e,t,i){let r=[];return i.forEach(s=>{t.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,i,r){let s=Ni(),o=kf(),a=function(){return kf()}();return t.forEach((l,c)=>{let d=i.get(c.key);r.has(c.key)&&(d===void 0||d.mutation instanceof Jr)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),Pf(d.mutation,c,d.mutation.getFieldMask(),Kt.now())):o.set(c.key,Qi.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,d)=>o.set(c,d)),t.forEach((c,d)=>{var f;return a.set(c,new RI(d,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,t){let i=kf(),r=new Lt((o,a)=>o-a),s=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(let a of o)a.keys().forEach(l=>{let c=t.get(l);if(c===null)return;let d=i.get(l)||Qi.empty();d=a.applyToLocalView(c,d),i.set(l,d);let f=(r.get(a.batchId)||He()).add(l);r=r.insert(a.batchId,f)})}).next(()=>{let o=[],a=r.getReverseIterator();for(;a.hasNext();){let l=a.getNext(),c=l.key,d=l.value,f=y2();d.forEach(m=>{if(!s.has(m)){let v=D2(t.get(m),i.get(m));v!==null&&f.set(m,v),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return $.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,r){return function(o){return fe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):FD(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r)}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(s=>{let o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-s.size):$.resolve(Ns()),a=-1,l=s;return o.next(c=>$.forEach(c,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(d)?$.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{l=l.insert(d,m)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,He())).next(d=>({batchId:a,changes:m2(d)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new fe(t)).next(i=>{let r=Rf();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){let s=t.collectionGroup,o=Rf();return this.indexManager.getCollectionParents(e,s).next(a=>$.forEach(a,l=>{let c=function(f,m){return new Yr(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(t,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,i,r).next(d=>{d.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,s,r))).next(o=>{s.forEach((l,c)=>{let d=c.getKey();o.get(d)===null&&(o=o.insert(d,_n.newInvalidDocument(d)))});let a=Rf();return o.forEach((l,c)=>{let d=s.get(l);d!==void 0&&Pf(d.mutation,c,Qi.empty(),Kt.now()),cp(t,c)&&(a=a.insert(l,c))}),a})}};var OI=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return $.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,function(r){return{id:r.id,version:r.version,createTime:an(r.createTime)}}(t)),$.resolve()}getNamedQuery(e,t){return $.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,function(r){return{name:r.name,query:BD(r.bundledQuery),readTime:an(r.readTime)}}(t)),$.resolve()}};var NI=class{constructor(){this.overlays=new Lt(fe.comparator),this.hr=new Map}getOverlay(e,t){return $.resolve(this.overlays.get(t))}getOverlays(e,t){let i=Ns();return $.forEach(t,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.ht(e,t,s)}),$.resolve()}removeOverlaysForBatchId(e,t,i){let r=this.hr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(i)),$.resolve()}getOverlaysForCollection(e,t,i){let r=Ns(),s=t.length+1,o=new fe(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let l=a.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return $.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new Lt((c,d)=>c-d),o=this.overlays.getIterator();for(;o.hasNext();){let c=o.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>i){let d=s.get(c.largestBatchId);d===null&&(d=Ns(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}let a=Ns(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=r)););return $.resolve(a)}ht(e,t,i){let r=this.overlays.get(i.key);if(r!==null){let o=this.hr.get(r.largestBatchId).delete(i.key);this.hr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new qf(t,i));let s=this.hr.get(t);s===void 0&&(s=He(),this.hr.set(t,s)),this.hr.set(t,s.add(i.key))}};var Jf=class{constructor(){this.Pr=new At(gn.Ir),this.Tr=new At(gn.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){let i=new gn(e,t);this.Pr=this.Pr.add(i),this.Tr=this.Tr.add(i)}dr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Ar(new gn(e,t))}Rr(e,t){e.forEach(i=>this.removeReference(i,t))}Vr(e){let t=new fe(new lt([])),i=new gn(t,e),r=new gn(t,e+1),s=[];return this.Tr.forEachInRange([i,r],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let t=new fe(new lt([])),i=new gn(t,e),r=new gn(t,e+1),s=He();return this.Tr.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){let t=new gn(e,0),i=this.Pr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}},gn=class{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return fe.comparator(e.key,t.key)||je(e.pr,t.pr)}static Er(e,t){return je(e.pr,t.pr)||fe.comparator(e.key,t.key)}};var kI=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new At(gn.Ir)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,r){let s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new Gf(s,t,i,r);this.mutationQueue.push(o);for(let a of r)this.wr=this.wr.add(new gn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $.resolve(o)}lookupMutationBatch(e,t){return $.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){let i=t+1,r=this.br(i),s=r<0?0:r;return $.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let i=new gn(t,0),r=new gn(t,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([i,r],o=>{let a=this.Sr(o.pr);s.push(a)}),$.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new At(je);return t.forEach(r=>{let s=new gn(r,0),o=new gn(r,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{i=i.add(a.pr)})}),$.resolve(this.Dr(i))}getAllMutationBatchesAffectingQuery(e,t){let i=t.path,r=i.length+1,s=i;fe.isDocumentKey(s)||(s=s.child(""));let o=new gn(new fe(s),0),a=new At(je);return this.wr.forEachWhile(l=>{let c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.pr)),!0)},o),$.resolve(this.Dr(a))}Dr(e){let t=[];return e.forEach(i=>{let r=this.Sr(i);r!==null&&t.push(r)}),t}removeMutationBatch(e,t){Te(this.Cr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.wr;return $.forEach(t.mutations,r=>{let s=new gn(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.wr=i})}Mn(e){}containsKey(e,t){let i=new gn(t,0),r=this.wr.firstAfterOrEqual(i);return $.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}Cr(e,t){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var PI=class{constructor(e){this.vr=e,this.docs=function(){return new Lt(fe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let i=t.key,r=this.docs.get(i),s=r?r.size:0,o=this.vr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let i=this.docs.get(t);return $.resolve(i?i.document.mutableCopy():_n.newInvalidDocument(t))}getEntries(e,t){let i=Ni();return t.forEach(r=>{let s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():_n.newInvalidDocument(r))}),$.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let s=Ni(),o=t.path,a=new fe(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){let{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||OD(WP(d),i)<=0||(r.has(d.key)||cp(t,d))&&(s=s.insert(d.key,d.mutableCopy()))}return $.resolve(s)}getAllFromCollectionGroup(e,t,i,r){_e()}Fr(e,t){return $.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new FI(this)}getSize(e){return $.resolve(this.size)}},FI=class extends i_{constructor(e){super(),this.ar=e}applyChanges(e){let t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.ar.addEntry(e,r)):this.ar.removeEntry(i)}),$.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}};var LI=class{constructor(e){this.persistence=e,this.Mr=new Bs(t=>dc(t),ap),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Jf,this.targetCount=0,this.Lr=vd.Nn()}forEachTarget(e,t){return this.Mr.forEach((i,r)=>t(r)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Or&&(this.Or=t),$.resolve()}qn(e){this.Mr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.Lr=new vd(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,$.resolve()}updateTargetData(e,t){return this.qn(t),$.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,t,i){let r=0,s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=t&&i.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),$.waitFor(s).next(()=>r)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,t){let i=this.Mr.get(t)||null;return $.resolve(i)}addMatchingKeys(e,t,i){return this.Nr.dr(t,i),$.resolve()}removeMatchingKeys(e,t,i){this.Nr.Rr(t,i);let r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),$.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),$.resolve()}getMatchingKeysForTargetId(e,t){let i=this.Nr.gr(t);return $.resolve(i)}containsKey(e,t){return $.resolve(this.Nr.containsKey(t))}};var s_=class{constructor(e,t){this.Br={},this.overlays={},this.kr=new Ki(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new LI(this),this.indexManager=new CI,this.remoteDocumentCache=function(r){return new PI(r)}(i=>this.referenceDelegate.Kr(i)),this.serializer=new Zy(t),this.$r=new OI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new NI,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Br[e.toKey()];return i||(i=new kI(t,this.referenceDelegate),this.Br[e.toKey()]=i),i}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,i){te("MemoryPersistence","Starting transaction:",e);let r=new VI(this.kr.next());return this.referenceDelegate.Ur(),i(r).next(s=>this.referenceDelegate.Wr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Gr(e,t){return $.or(Object.values(this.Br).map(i=>()=>i.containsKey(e,t)))}},VI=class extends Vy{constructor(e){super(),this.currentSequenceNumber=e}},o_=class n{constructor(e){this.persistence=e,this.zr=new Jf,this.jr=null}static Hr(e){return new n(e)}get Jr(){if(this.jr)return this.jr;throw _e()}addReference(e,t,i){return this.zr.addReference(i,t),this.Jr.delete(i.toString()),$.resolve()}removeReference(e,t,i){return this.zr.removeReference(i,t),this.Jr.add(i.toString()),$.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),$.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach(r=>this.Jr.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.Jr.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}Ur(){this.jr=new Set}Wr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.Jr,i=>{let r=fe.fromPath(i);return this.Yr(e,r).next(s=>{s||t.removeEntry(r,Me.min())})}).next(()=>(this.jr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Yr(e,t).next(i=>{i?this.Jr.delete(t.toString()):this.Jr.add(t.toString())})}Kr(e){return 0}Yr(e,t){return $.or([()=>$.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}};var BI=class{constructor(e){this.serializer=e}O(e,t,i,r){let s=new By("createOrUpgrade",t);i<1&&r>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",qk,{unique:!0}),l.createObjectStore("documentMutations")}(e),xP(e),function(l){l.createObjectStore("remoteDocuments")}(e));let o=$.resolve();return i<3&&r>=3&&(i!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),xP(e)),o=o.next(()=>function(l){let c=l.store("targetGlobal"),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Me.min().toTimestamp(),targetCount:0};return c.put("targetGlobalKey",d)}(s))),i<4&&r>=4&&(i!==0&&(o=o.next(()=>function(l,c){return c.store("mutations").U().next(d=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",qk,{unique:!0});let f=c.store("mutations"),m=d.map(v=>f.put(v));return $.waitFor(m)})}(e,s))),o=o.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),i<5&&r>=5&&(o=o.next(()=>this.Xr(s))),i<6&&r>=6&&(o=o.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.ei(s)))),i<7&&r>=7&&(o=o.next(()=>this.ti(s))),i<8&&r>=8&&(o=o.next(()=>this.ni(e,s))),i<9&&r>=9&&(o=o.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),i<10&&r>=10&&(o=o.next(()=>this.ri(s))),i<11&&r>=11&&(o=o.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(o=o.next(()=>{(function(l){let c=l.createObjectStore("documentOverlays",{keyPath:r7});c.createIndex("collectionPathOverlayIndex",s7,{unique:!1}),c.createIndex("collectionGroupOverlayIndex",o7,{unique:!1})})(e)})),i<13&&r>=13&&(o=o.next(()=>function(l){let c=l.createObjectStore("remoteDocumentsV14",{keyPath:WG});c.createIndex("documentKeyIndex",KG),c.createIndex("collectionGroupIndex",QG)}(e)).next(()=>this.ii(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(o=o.next(()=>this.si(e,s))),i<15&&r>=15&&(o=o.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:e7}).createIndex("sequenceNumberIndex",t7,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:n7}).createIndex("documentKeyIndex",i7,{unique:!1})}(e))),i<16&&r>=16&&(o=o.next(()=>{t.objectStore("indexState").clear()}).next(()=>{t.objectStore("indexEntries").clear()})),o}ei(e){let t=0;return e.store("remoteDocuments").J((i,r)=>{t+=t_(r)}).next(()=>{let i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Xr(e){let t=e.store("mutationQueues"),i=e.store("mutations");return t.U().next(r=>$.forEach(r,s=>{let o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.U("userMutationsIndex",o).next(a=>$.forEach(a,l=>{Te(l.userId===s.userId);let c=ic(this.serializer,l);return G2(e,s.userId,c).next(()=>{})}))}))}ti(e){let t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{let s=[];return i.J((o,a)=>{let l=new lt(o),c=function(f){return[0,vi(f)]}(l);s.push(t.get(c).next(d=>d?$.resolve():(f=>t.put({targetId:0,path:vi(f),sequenceNumber:r.highestListenSequenceNumber}))(l)))}).next(()=>$.waitFor(s))})}ni(e,t){e.createObjectStore("collectionParents",{keyPath:XG});let i=t.store("collectionParents"),r=new Yf,s=o=>{if(r.add(o)){let a=o.lastSegment(),l=o.popLast();return i.put({collectionId:a,parent:vi(l)})}};return t.store("remoteDocuments").J({H:!0},(o,a)=>{let l=new lt(o);return s(l.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([o,a,l],c)=>{let d=Os(a);return s(d.popLast())}))}ri(e){let t=e.store("targets");return t.J((i,r)=>{let s=Of(r),o=z2(this.serializer,s);return t.put(o)})}ii(e,t){let i=t.store("remoteDocuments"),r=[];return i.J((s,o)=>{let a=t.store("remoteDocumentsV14"),l=function(f){return f.document?new fe(lt.fromString(f.document.name).popFirst(5)):f.noDocument?fe.fromSegments(f.noDocument.path):f.unknownDocument?fe.fromSegments(f.unknownDocument.path):_e()}(o).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};r.push(a.put(c))}).next(()=>$.waitFor(r))}si(e,t){let i=t.store("mutations"),r=K2(this.serializer),s=new s_(o_.Hr,this.serializer.ct);return i.U().next(o=>{let a=new Map;return o.forEach(l=>{var c;let d=(c=a.get(l.userId))!==null&&c!==void 0?c:He();ic(this.serializer,l).keys().forEach(f=>d=d.add(f)),a.set(l.userId,d)}),$.forEach(a,(l,c)=>{let d=new mn(c),f=Jy.lt(this.serializer,d),m=s.getIndexManager(d),v=n_.lt(d,this.serializer,m,s.referenceDelegate);return new r_(r,v,f,m).recalculateAndSaveOverlaysForDocumentKeys(new Uf(t,Ki.oe),l).next()})})}};function xP(n){n.createObjectStore("targetDocuments",{keyPath:YG}).createIndex("documentTargetsIndex",JG,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",ZG,{unique:!0}),n.createObjectStore("targetGlobal")}var xE="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",UI=class n{constructor(e,t,i,r,s,o,a,l,c,d,f=16){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.oi=s,this.window=o,this.document=a,this._i=c,this.ai=d,this.ui=f,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=m=>Promise.resolve(),!n.D())throw new ee(q.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new MI(this,r),this.Ti=t+"main",this.serializer=new Zy(l),this.Ei=new Ba(this.Ti,this.ui,new BI(this.serializer)),this.Qr=new II(this.referenceDelegate,this.serializer),this.remoteDocumentCache=K2(this.serializer),this.$r=new gI,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,d===!1&&sn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ee(q.FAILED_PRECONDITION,xE);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new Ki(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){return this.Ii=t=>F(this,null,function*(){if(this.started)return e(t)}),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L(t=>F(this,null,function*(){t.newVersion===null&&(yield e())}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget(()=>F(this,null,function*(){this.started&&(yield this.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Sy(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(t=>{t||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(t=>this.isPrimary&&!t?this.yi(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Qa(e))return te("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return te("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return xf(e).get("owner").next(t=>$.resolve(this.Si(t)))}bi(e){return Sy(e).delete(this.clientId)}Di(){return F(this,null,function*(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();let e=yield this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{let i=kn(t,"clientMetadata");return i.U().next(r=>{let s=this.vi(r,18e5),o=r.filter(a=>s.indexOf(a)===-1);return $.forEach(o,a=>i.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.di)for(let t of e)this.di.removeItem(this.Fi(t.clientId))}})}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?$.resolve(!0):xf(e).get("owner").next(t=>{if(t!==null&&this.Ci(t.leaseTimestampMs,5e3)&&!this.Mi(t.ownerId)){if(this.Si(t)&&this.networkEnabled)return!0;if(!this.Si(t)){if(!t.allowTabSynchronization)throw new ee(q.FAILED_PRECONDITION,xE);return!1}}return!(!this.networkEnabled||!this.inForeground)||Sy(e).U().next(i=>this.vi(i,5e3).find(r=>{if(this.clientId!==r.clientId){let s=!this.networkEnabled&&r.networkEnabled,o=!this.inForeground&&r.inForeground,a=this.networkEnabled===r.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(t=>(this.isPrimary!==t&&te("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){return F(this,null,function*(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),yield this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{let t=new Uf(e,Ki.oe);return this.yi(t).next(()=>this.bi(t))}),this.Ei.close(),this.Li()})}vi(e,t){return e.filter(i=>this.Ci(i.updateTimeMs,t)&&!this.Mi(i.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>Sy(e).U().next(t=>this.vi(t,18e5).map(i=>i.clientId)))}get started(){return this.qr}getMutationQueue(e,t){return n_.lt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new EI(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Jy.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,t,i){te("IndexedDbPersistence","Starting transaction:",e);let r=t==="readonly"?"readonly":"readwrite",s=function(l){return l===16?l7:l===15?t2:l===14?e2:l===13?XP:l===12?a7:l===11?JP:void _e()}(this.ui),o;return this.Ei.runTransaction(e,r,s,a=>(o=new Uf(a,this.kr?this.kr.next():Ki.oe),t==="readwrite-primary"?this.gi(o).next(l=>!!l||this.pi(o)).next(l=>{if(!l)throw sn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new ee(q.FAILED_PRECONDITION,KP);return i(o)}).next(l=>this.wi(o).next(()=>l)):this.ki(o).next(()=>i(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}ki(e){return xf(e).get("owner").next(t=>{if(t!==null&&this.Ci(t.leaseTimestampMs,5e3)&&!this.Mi(t.ownerId)&&!this.Si(t)&&!(this.ai||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ee(q.FAILED_PRECONDITION,xE)})}wi(e){let t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return xf(e).put("owner",t)}static D(){return Ba.D()}yi(e){let t=xf(e);return t.get("owner").next(i=>this.Si(i)?(te("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):$.resolve())}Ci(e,t){let i=Date.now();return!(e<i-t)&&(!(e>i)||(sn(`Detected an update time that is in the future: ${e} > ${i}`),!1))}Ri(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground=this.document.visibilityState==="visible")}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ci=()=>{this.xi();let t=/(?:Version|Mobile)\/1[456]/;Fw()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var t;try{let i=((t=this.di)===null||t===void 0?void 0:t.getItem(this.Fi(e)))!==null;return te("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return sn("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){sn("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}};function xf(n){return kn(n,"owner")}function Sy(n){return kn(n,"clientMetadata")}function jD(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}var jI=class n{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.qi=i,this.Qi=r}static Ki(e,t){let i=He(),r=He();for(let s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new n(e,t.fromCache,i,r)}};var zI=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var a_=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return Fw()?8:QP(Uh())>0?6:4}()}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,i,r){let s={result:null};return this.ji(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,t,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new zI;return this.Ji(e,t,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,t,o,a.size)})}).next(()=>s.result)}Yi(e,t,i,r){return i.documentReadCount<this.Wi?(nd()<=ps.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",id(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),$.resolve()):(nd()<=ps.DEBUG&&te("QueryEngine","Query:",id(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Gi*r?(nd()<=ps.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",id(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,wi(t))):$.resolve())}ji(e,t){if(iP(t))return $.resolve(null);let i=wi(t);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(t.limit!==null&&r===1&&(t=qy(t,null,"F"),i=wi(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{let o=He(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,i).next(l=>{let c=this.Zi(t,a);return this.Xi(t,c,o,l.readTime)?this.ji(e,qy(t,null,"F")):this.es(e,c,t,l)}))})))}Hi(e,t,i,r){return iP(t)||r.isEqual(Me.min())?$.resolve(null):this.zi.getDocuments(e,i).next(s=>{let o=this.Zi(t,s);return this.Xi(t,o,i,r)?$.resolve(null):(nd()<=ps.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),id(t)),this.es(e,o,t,qP(r,-1)).next(a=>a))})}Zi(e,t){let i=new At(p2(e));return t.forEach((r,s)=>{cp(e,s)&&(i=i.add(s))}),i}Xi(e,t,i,r){if(e.limit===null)return!1;if(i.size!==t.size)return!0;let s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ji(e,t,i){return nd()<=ps.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",id(t)),this.zi.getDocumentsMatchingQuery(e,t,wr.min(),i)}es(e,t,i,r){return this.zi.getDocumentsMatchingQuery(e,i,r).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}};var $I=class{constructor(e,t,i,r){this.persistence=e,this.ts=t,this.serializer=r,this.ns=new Lt(je),this.rs=new Bs(s=>dc(s),ap),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(i)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new r_(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ns))}};function Q2(n,e,t,i){return new $I(n,e,t,i)}function Z2(n,e){return F(this,null,function*(){let t=pe(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,t._s(e),t.mutationQueue.getAllMutationBatches(i))).next(s=>{let o=[],a=[],l=He();for(let c of r){o.push(c.batchId);for(let d of c.mutations)l=l.add(d.key)}for(let c of s){a.push(c.batchId);for(let d of c.mutations)l=l.add(d.key)}return t.localDocuments.getDocuments(i,l).next(c=>({us:c,removedBatchIds:o,addedBatchIds:a}))})})})}function j7(n,e){let t=pe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let r=e.batch.keys(),s=t.os.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){let f=c.batch,m=f.keys(),v=$.resolve();return m.forEach(C=>{v=v.next(()=>d.getEntry(l,C)).next(A=>{let S=c.docVersions.get(C);Te(S!==null),A.version.compareTo(S)<0&&(f.applyToRemoteDocument(A,c),A.isValidDocument()&&(A.setReadTime(c.commitVersion),d.addEntry(A)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=He();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function Y2(n){let e=pe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Qr.getLastRemoteSnapshotVersion(t))}function z7(n,e){let t=pe(n),i=e.snapshotVersion,r=t.ns;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=t.os.newChangeBuffer({trackRemovals:!0});r=t.ns;let a=[];e.targetChanges.forEach((d,f)=>{let m=r.get(f);if(!m)return;a.push(t.Qr.removeMatchingKeys(s,d.removedDocuments,f).next(()=>t.Qr.addMatchingKeys(s,d.addedDocuments,f)));let v=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?v=v.withResumeToken(Nn.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):d.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(d.resumeToken,i)),r=r.insert(f,v),function(A,S,j){return A.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=3e8?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(m,v,d)&&a.push(t.Qr.updateTargetData(s,v))});let l=Ni(),c=He();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(J2(s,o,e.documentUpdates).next(d=>{l=d.cs,c=d.ls})),!i.isEqual(Me.min())){let d=t.Qr.getLastRemoteSnapshotVersion(s).next(f=>t.Qr.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(d)}return $.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(t.ns=r,s))}function J2(n,e,t){let i=He(),r=He();return t.forEach(s=>i=i.add(s)),e.getEntries(n,i).next(s=>{let o=Ni();return t.forEach((a,l)=>{let c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(Me.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):te("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{cs:o,ls:r}})}function $7(n,e){let t=pe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function wd(n,e){let t=pe(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Qr.getTargetData(i,e).next(s=>s?(r=s,$.resolve(r)):t.Qr.allocateTargetId(i).next(o=>(r=new _d(e,o,"TargetPurposeListen",i.currentSequenceNumber),t.Qr.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=t.ns.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.ns=t.ns.insert(i.targetId,i),t.rs.set(e,i.targetId)),i})}function bd(n,e,t){return F(this,null,function*(){let i=pe(n),r=i.ns.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!Qa(o))throw o;te("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}i.ns=i.ns.remove(e),i.rs.delete(r.target)})}function l_(n,e,t){let i=pe(n),r=Me.min(),s=He();return i.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){let f=pe(l),m=f.rs.get(d);return m!==void 0?$.resolve(f.ns.get(m)):f.Qr.getTargetData(c,d)}(i,o,wi(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>i.ts.getDocumentsMatchingQuery(o,e,t?r:Me.min(),t?s:He())).next(a=>(tF(i,f2(e),a),{documents:a,hs:s})))}function X2(n,e){let t=pe(n),i=pe(t.Qr),r=t.ns.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",s=>i.ot(s,e).next(o=>o?o.target:null))}function eF(n,e){let t=pe(n),i=t.ss.get(e)||Me.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.os.getAllFromCollectionGroup(r,e,qP(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(tF(t,e,r),r))}function tF(n,e,t){let i=n.ss.get(e)||Me.min();t.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.ss.set(e,i)}function H7(n,e,t,i){return F(this,null,function*(){let r=pe(n),s=He(),o=Ni();for(let c of t){let d=e.Ps(c.metadata.name);c.document&&(s=s.add(d));let f=e.Is(c);f.setReadTime(e.Ts(c.metadata.readTime)),o=o.insert(d,f)}let a=r.os.newChangeBuffer({trackRemovals:!0}),l=yield wd(r,function(d){return wi(Ad(lt.fromString(`__bundle__/docs/${d}`)))}(i));return r.persistence.runTransaction("Apply bundle documents","readwrite",c=>J2(c,a,o).next(d=>(a.apply(c),d)).next(d=>r.Qr.removeMatchingKeysForTargetId(c,l.targetId).next(()=>r.Qr.addMatchingKeys(c,s,l.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(c,d.cs,d.ls)).next(()=>d.cs)))})}function G7(i,r){return F(this,arguments,function*(n,e,t=He()){let s=yield wd(n,wi(BD(e.bundledQuery))),o=pe(n);return o.persistence.runTransaction("Save named query","readwrite",a=>{let l=an(e.readTime);if(s.snapshotVersion.compareTo(l)>=0)return o.$r.saveNamedQuery(a,e);let c=s.withResumeToken(Nn.EMPTY_BYTE_STRING,l);return o.ns=o.ns.insert(c.targetId,c),o.Qr.updateTargetData(a,c).next(()=>o.Qr.removeMatchingKeysForTargetId(a,s.targetId)).next(()=>o.Qr.addMatchingKeys(a,t,s.targetId)).next(()=>o.$r.saveNamedQuery(a,e))})})}function RP(n,e){return`firestore_clients_${n}_${e}`}function OP(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function RE(n,e){return`firestore_targets_${n}_${e}`}var c_=class n{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Es(e,t,i){let r=JSON.parse(i),s,o=typeof r=="object"&&["pending","acknowledged","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return o&&r.error&&(o=typeof r.error.message=="string"&&typeof r.error.code=="string",o&&(s=new ee(r.error.code,r.error.message))),o?new n(e,t,r.state,s):(sn("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}ds(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},Ff=class n{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Es(e,t){let i=JSON.parse(t),r,s=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return s&&i.error&&(s=typeof i.error.message=="string"&&typeof i.error.code=="string",s&&(r=new ee(i.error.code,i.error.message))),s?new n(e,i.state,r):(sn("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}ds(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},u_=class n{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Es(e,t){let i=JSON.parse(t),r=typeof i=="object"&&i.activeTargetIds instanceof Array,s=LD();for(let o=0;r&&o<i.activeTargetIds.length;++o)r=ZP(i.activeTargetIds[o]),s=s.add(i.activeTargetIds[o]);return r?new n(e,s):(sn("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}},HI=class n{constructor(e,t){this.clientId=e,this.onlineState=t}static Es(e){let t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new n(t.clientId,t.onlineState):(sn("SharedClientState",`Failed to parse online state: ${e}`),null)}},Xf=class{constructor(){this.activeTargetIds=LD()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}},Lf=class{constructor(e,t,i,r,s){this.window=e,this.oi=t,this.persistenceKey=i,this.Vs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new Lt(je),this.started=!1,this.ys=[];let o=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ws=RP(this.persistenceKey,this.Vs),this.Ss=function(l){return`firestore_sequence_number_${l}`}(this.persistenceKey),this.ps=this.ps.insert(this.Vs,new Xf),this.bs=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.vs=function(l){return`firestore_online_state_${l}`}(this.persistenceKey),this.Fs=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}start(){return F(this,null,function*(){let e=yield this.syncEngine.Bi();for(let i of e){if(i===this.Vs)continue;let r=this.getItem(RP(this.persistenceKey,i));if(r){let s=u_.Es(i,r);s&&(this.ps=this.ps.insert(s.clientId,s))}}this.Ms();let t=this.storage.getItem(this.vs);if(t){let i=this.xs(t);i&&this.Os(i)}for(let i of this.ys)this.gs(i);this.ys=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0})}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let t=!1;return this.ps.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,t,i){this.Ls(e,t,i),this.Bs(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){let i=this.storage.getItem(RE(this.persistenceKey,e));if(i){let r=Ff.Es(e,i);r&&(t=r.state)}}return this.ks.As(e),this.Ms(),t}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(RE(this.persistenceKey,e))}updateQueryState(e,t,i){this.qs(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Bs(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){let t=this.storage.getItem(e);return te("SharedClientState","READ",e,t),t}setItem(e,t){te("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){te("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){let t=e;if(t.storageArea===this.storage){if(te("SharedClientState","EVENT",t.key,t.newValue),t.key===this.ws)return void sn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable(()=>F(this,null,function*(){if(this.started){if(t.key!==null){if(this.bs.test(t.key)){if(t.newValue==null){let i=this.$s(t.key);return this.Us(i,null)}{let i=this.Ws(t.key,t.newValue);if(i)return this.Us(i.clientId,i)}}else if(this.Ds.test(t.key)){if(t.newValue!==null){let i=this.Gs(t.key,t.newValue);if(i)return this.zs(i)}}else if(this.Cs.test(t.key)){if(t.newValue!==null){let i=this.js(t.key,t.newValue);if(i)return this.Hs(i)}}else if(t.key===this.vs){if(t.newValue!==null){let i=this.xs(t.newValue);if(i)return this.Os(i)}}else if(t.key===this.Ss){let i=function(s){let o=Ki.oe;if(s!=null)try{let a=JSON.parse(s);Te(typeof a=="number"),o=a}catch(a){sn("SharedClientState","Failed to read sequence number from WebStorage",a)}return o}(t.newValue);i!==Ki.oe&&this.sequenceNumberHandler(i)}else if(t.key===this.Fs){let i=this.Js(t.newValue);yield Promise.all(i.map(r=>this.syncEngine.Ys(r)))}}}else this.ys.push(t)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,t,i){let r=new c_(this.currentUser,e,t,i),s=OP(this.persistenceKey,this.currentUser,e);this.setItem(s,r.ds())}Bs(e){let t=OP(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Qs(e){let t={clientId:this.Vs,onlineState:e};this.storage.setItem(this.vs,JSON.stringify(t))}qs(e,t,i){let r=RE(this.persistenceKey,e),s=new Ff(e,t,i);this.setItem(r,s.ds())}Ks(e){let t=JSON.stringify(Array.from(e));this.setItem(this.Fs,t)}$s(e){let t=this.bs.exec(e);return t?t[1]:null}Ws(e,t){let i=this.$s(e);return u_.Es(i,t)}Gs(e,t){let i=this.Ds.exec(e),r=Number(i[1]),s=i[2]!==void 0?i[2]:null;return c_.Es(new mn(s),r,t)}js(e,t){let i=this.Cs.exec(e),r=Number(i[1]);return Ff.Es(r,t)}xs(e){return HI.Es(e)}Js(e){return JSON.parse(e)}zs(e){return F(this,null,function*(){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Zs(e.batchId,e.state,e.error);te("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,t){let i=t?this.ps.insert(e,t):this.ps.remove(e),r=this.Ns(this.ps),s=this.Ns(i),o=[],a=[];return s.forEach(l=>{r.has(l)||o.push(l)}),r.forEach(l=>{s.has(l)||a.push(l)}),this.syncEngine.eo(o,a).then(()=>{this.ps=i})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let t=LD();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}},d_=class{constructor(){this.no=new Xf,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,i){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Xf,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var GI=class{io(e){}shutdown(){}};var h_=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var My=null;function OE(){return My===null?My=function(){return 268435456+Math.round(2147483648*Math.random())}():My++,"0x"+My.toString(16)}var q7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var qI=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}};var ri="WebChannelConnection",WI=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=i+"://"+t.host,this.So=`projects/${r}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get Do(){return!1}Co(t,i,r,s,o){let a=OE(),l=this.vo(t,i.toUriEncodedString());te("RestConnection",`Sending RPC '${t}' ${a}:`,l,r);let c={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(c,s,o),this.Mo(t,l,c,r).then(d=>(te("RestConnection",`Received RPC '${t}' ${a}: `,d),d),d=>{throw vr("RestConnection",`RPC '${t}' ${a} failed with error: `,d,"url: ",l,"request:",r),d})}xo(t,i,r,s,o,a){return this.Co(t,i,r,s,o)}Fo(t,i,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Md}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>t[o]=s),r&&r.headers.forEach((s,o)=>t[o]=s)}vo(t,i){let r=q7[t];return`${this.wo}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,t,i,r){let s=OE();return new Promise((o,a)=>{let l=new EE;l.setWithCredentials(!0),l.listenOnce(DE.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Tf.NO_ERROR:let d=l.getResponseJson();te(ri,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case Tf.TIMEOUT:te(ri,`RPC '${e}' ${s} timed out`),a(new ee(q.DEADLINE_EXCEEDED,"Request time out"));break;case Tf.HTTP_ERROR:let f=l.getStatus();if(te(ri,`RPC '${e}' ${s} failed with status:`,f,"response text:",l.getResponseText()),f>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);let v=m?.error;if(v&&v.status&&v.message){let C=function(S){let j=S.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(j)>=0?j:q.UNKNOWN}(v.status);a(new ee(C,v.message))}else a(new ee(q.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ee(q.UNAVAILABLE,"Connection failed."));break;default:_e()}}finally{te(ri,`RPC '${e}' ${s} completed.`)}});let c=JSON.stringify(r);te(ri,`RPC '${e}' ${s} sending request:`,r),l.send(t,"POST",c,i,15)})}Oo(e,t,i){let r=OE(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=ME(),a=SE(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new IE({})),this.Fo(l.initMessageHeaders,t,i),l.encodeInitMessageHeaders=!0;let d=s.join("");te(ri,`Creating RPC '${e}' stream ${r}: ${d}`,l);let f=o.createWebChannel(d,l),m=!1,v=!1,C=new qI({lo:S=>{v?te(ri,`Not sending because RPC '${e}' stream ${r} is closed:`,S):(m||(te(ri,`Opening RPC '${e}' stream ${r} transport.`),f.open(),m=!0),te(ri,`RPC '${e}' stream ${r} sending:`,S),f.send(S))},ho:()=>f.close()}),A=(S,j,Z)=>{S.listen(j,W=>{try{Z(W)}catch(Y){setTimeout(()=>{throw Y},0)}})};return A(f,Yu.EventType.OPEN,()=>{v||(te(ri,`RPC '${e}' stream ${r} transport opened.`),C.mo())}),A(f,Yu.EventType.CLOSE,()=>{v||(v=!0,te(ri,`RPC '${e}' stream ${r} transport closed`),C.po())}),A(f,Yu.EventType.ERROR,S=>{v||(v=!0,vr(ri,`RPC '${e}' stream ${r} transport errored:`,S),C.po(new ee(q.UNAVAILABLE,"The operation could not be completed")))}),A(f,Yu.EventType.MESSAGE,S=>{var j;if(!v){let Z=S.data[0];Te(!!Z);let W=Z,Y=W.error||((j=W[0])===null||j===void 0?void 0:j.error);if(Y){te(ri,`RPC '${e}' stream ${r} received error:`,Y);let ge=Y.status,ae=function(M){let k=pn[M];if(k!==void 0)return M2(k)}(ge),x=Y.message;ae===void 0&&(ae=q.INTERNAL,x="Unknown error status: "+ge+" with message "+Y.message),v=!0,C.po(new ee(ae,x)),f.close()}else te(ri,`RPC '${e}' stream ${r} received:`,Z),C.yo(Z)}}),A(a,TE.STAT_EVENT,S=>{S.stat===Iy.PROXY?te(ri,`RPC '${e}' stream ${r} detected buffering proxy`):S.stat===Iy.NOPROXY&&te(ri,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{C.fo()},0),C}};function nF(){return typeof window<"u"?window:null}function Ny(){return typeof document<"u"?document:null}function up(n){return new uI(n,!0)}var ep=class{constructor(e,t,i=1e3,r=1.5,s=6e4){this.oi=e,this.timerId=t,this.No=i,this.Lo=r,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();let t=Math.floor(this.ko+this.Uo()),i=Math.max(0,Date.now()-this.Qo),r=Math.max(0,t-i);r>0&&te("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.ko} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,r,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}};var f_=class{constructor(e,t,i,r,s,o,a,l){this.oi=e,this.Go=i,this.zo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new ep(e,t)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}stop(){return F(this,null,function*(){this.Zo()&&(yield this.close(0))})}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){return F(this,null,function*(){if(this.Xo())return this.close(0)})}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,t){return F(this,null,function*(){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():t&&t.code===q.RESOURCE_EXHAUSTED?(sn(t.toString()),sn("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):t&&t.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Ao(t)})}__(){}auth(){this.state=1;let e=this.a_(this.jo),t=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.jo===t&&this.u_(i,r)},i=>{e(()=>{let r=new ee(q.UNKNOWN,"Fetching auth token failed: "+i.message);return this.c_(r)})})}u_(e,t){let i=this.a_(this.jo);this.stream=this.l_(e,t),this.stream.Po(()=>{i(()=>this.listener.Po())}),this.stream.To(()=>{i(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(r=>{i(()=>this.c_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}e_(){this.state=5,this.Yo.$o(()=>F(this,null,function*(){this.state=0,this.start()}))}c_(e){return te("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return t=>{this.oi.enqueueAndForget(()=>this.jo===e?t():(te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},KI=class extends f_{constructor(e,t,i,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,o),this.serializer=s}l_(e,t){return this.connection.Oo("Listen",e,t)}onMessage(e){this.Yo.reset();let t=x7(this.serializer,e),i=function(s){if(!("targetChange"in s))return Me.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?Me.min():o.readTime?an(o.readTime):Me.min()}(e);return this.listener.h_(t,i)}P_(e){let t={};t.database=fI(this.serializer),t.addTarget=function(s,o){let a,l=o.target;if(a=Hy(l)?{documents:F2(s,l)}:{query:L2(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=x2(s,o.resumeToken);let c=dI(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Me.min())>0){a.readTime=yd(s,o.snapshotVersion.toTimestamp());let c=dI(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);let i=O7(this.serializer,e);i&&(t.labels=i),this.i_(t)}I_(e){let t={};t.database=fI(this.serializer),t.removeTarget=e,this.i_(t)}},QI=class extends f_{constructor(e,t,i,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,o),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,t){return this.connection.Oo("Write",e,t)}onMessage(e){if(Te(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();let t=R7(e.writeResults,e.commitTime),i=an(e.commitTime);return this.listener.A_(i,t)}return Te(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){let e={};e.database=fI(this.serializer),this.i_(e)}d_(e){let t={streamToken:this.lastStreamToken,writes:e.map(i=>Zf(this.serializer,i))};this.i_(t)}};var ZI=class extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.m_=!1}f_(){if(this.m_)throw new ee(q.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,t,i,r){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,hI(t,i),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ee(q.UNKNOWN,s.toString())})}xo(e,t,i,r,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.xo(e,hI(t,i),r,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ee(q.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}},YI=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(sn(t),this.y_=!1):te("OnlineStateTracker",t)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}};var JI=class{constructor(e,t,i,r,s){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(o=>{i.enqueueAndForget(()=>F(this,null,function*(){Za(this)&&(te("RemoteStore","Restarting streams for network reachability change."),yield function(l){return F(this,null,function*(){let c=pe(l);c.M_.add(4),yield xd(c),c.N_.set("Unknown"),c.M_.delete(4),yield dp(c)})}(this))}))}),this.N_=new YI(i,r)}};function dp(n){return F(this,null,function*(){if(Za(n))for(let e of n.x_)yield e(!0)})}function xd(n){return F(this,null,function*(){for(let e of n.x_)yield e(!1)})}function O_(n,e){let t=pe(n);t.F_.has(e.targetId)||(t.F_.set(e.targetId,e),HD(t)?$D(t):Od(t).Xo()&&zD(t,e))}function Cd(n,e){let t=pe(n),i=Od(t);t.F_.delete(e),i.Xo()&&iF(t,e),t.F_.size===0&&(i.Xo()?i.n_():Za(t)&&t.N_.set("Unknown"))}function zD(n,e){if(n.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Od(n).P_(e)}function iF(n,e){n.L_.xe(e),Od(n).I_(e)}function $D(n){n.L_=new cI({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.F_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),Od(n).start(),n.N_.w_()}function HD(n){return Za(n)&&!Od(n).Zo()&&n.F_.size>0}function Za(n){return pe(n).M_.size===0}function rF(n){n.L_=void 0}function W7(n){return F(this,null,function*(){n.N_.set("Online")})}function K7(n){return F(this,null,function*(){n.F_.forEach((e,t)=>{zD(n,e)})})}function Q7(n,e){return F(this,null,function*(){rF(n),HD(n)?(n.N_.D_(e),$D(n)):n.N_.set("Unknown")})}function Z7(n,e,t){return F(this,null,function*(){if(n.N_.set("Online"),e instanceof Ky&&e.state===2&&e.cause)try{yield function(r,s){return F(this,null,function*(){let o=s.cause;for(let a of s.targetIds)r.F_.has(a)&&(yield r.remoteSyncer.rejectListen(a,o),r.F_.delete(a),r.L_.removeTarget(a))})}(n,e)}catch(i){te("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield p_(n,i)}else if(e instanceof ud?n.L_.Ke(e):e instanceof Wy?n.L_.He(e):n.L_.We(e),!t.isEqual(Me.min()))try{let i=yield Y2(n.localStore);t.compareTo(i)>=0&&(yield function(s,o){let a=s.L_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){let d=s.F_.get(c);d&&s.F_.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{let d=s.F_.get(l);if(!d)return;s.F_.set(l,d.withResumeToken(Nn.EMPTY_BYTE_STRING,d.snapshotVersion)),iF(s,l);let f=new _d(d.target,l,c,d.sequenceNumber);zD(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(i){te("RemoteStore","Failed to raise snapshot:",i),yield p_(n,i)}})}function p_(n,e,t){return F(this,null,function*(){if(!Qa(e))throw e;n.M_.add(1),yield xd(n),n.N_.set("Offline"),t||(t=()=>Y2(n.localStore)),n.asyncQueue.enqueueRetryable(()=>F(this,null,function*(){te("RemoteStore","Retrying IndexedDB access"),yield t(),n.M_.delete(1),yield dp(n)}))})}function sF(n,e){return e().catch(t=>p_(n,t,e))}function Rd(n){return F(this,null,function*(){let e=pe(n),t=Wa(e),i=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;Y7(e);)try{let r=yield $7(e.localStore,i);if(r===null){e.v_.length===0&&t.n_();break}i=r.batchId,J7(e,r)}catch(r){yield p_(e,r)}oF(e)&&aF(e)})}function Y7(n){return Za(n)&&n.v_.length<10}function J7(n,e){n.v_.push(e);let t=Wa(n);t.Xo()&&t.E_&&t.d_(e.mutations)}function oF(n){return Za(n)&&!Wa(n).Zo()&&n.v_.length>0}function aF(n){Wa(n).start()}function X7(n){return F(this,null,function*(){Wa(n).V_()})}function eq(n){return F(this,null,function*(){let e=Wa(n);for(let t of n.v_)e.d_(t.mutations)})}function tq(n,e,t){return F(this,null,function*(){let i=n.v_.shift(),r=oI.from(i,e,t);yield sF(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Rd(n)})}function nq(n,e){return F(this,null,function*(){e&&Wa(n).E_&&(yield function(i,r){return F(this,null,function*(){if(function(o){return S2(o)&&o!==q.ABORTED}(r.code)){let s=i.v_.shift();Wa(i).t_(),yield sF(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),yield Rd(i)}})}(n,e)),oF(n)&&aF(n)})}function NP(n,e){return F(this,null,function*(){let t=pe(n);t.asyncQueue.verifyOperationInProgress(),te("RemoteStore","RemoteStore received new credentials");let i=Za(t);t.M_.add(3),yield xd(t),i&&t.N_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.M_.delete(3),yield dp(t)})}function XI(n,e){return F(this,null,function*(){let t=pe(n);e?(t.M_.delete(2),yield dp(t)):e||(t.M_.add(2),yield xd(t),t.N_.set("Unknown"))})}function Od(n){return n.B_||(n.B_=function(t,i,r){let s=pe(t);return s.f_(),new KI(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{Po:W7.bind(null,n),To:K7.bind(null,n),Ao:Q7.bind(null,n),h_:Z7.bind(null,n)}),n.x_.push(e=>F(this,null,function*(){e?(n.B_.t_(),HD(n)?$D(n):n.N_.set("Unknown")):(yield n.B_.stop(),rF(n))}))),n.B_}function Wa(n){return n.k_||(n.k_=function(t,i,r){let s=pe(t);return s.f_(),new QI(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{Po:()=>Promise.resolve(),To:X7.bind(null,n),Ao:nq.bind(null,n),R_:eq.bind(null,n),A_:tq.bind(null,n)}),n.x_.push(e=>F(this,null,function*(){e?(n.k_.t_(),yield Rd(n)):(yield n.k_.stop(),n.v_.length>0&&(te("RemoteStore",`Stopping write stream with ${n.v_.length} pending writes`),n.v_=[]))}))),n.k_}var eD=class n{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new yn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,s){let o=Date.now()+i,a=new n(e,t,o,r,s);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ee(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Nd(n,e){if(sn("AsyncQueue",`${e}: ${n}`),Qa(n))return new ee(q.UNAVAILABLE,`${e}: ${n}`);throw n}var g_=class n{constructor(e){this.comparator=e?(t,i)=>e(t,i)||fe.comparator(t.key,i.key):(t,i)=>fe.comparator(t.key,i.key),this.keyedMap=Rf(),this.sortedSet=new Lt(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){let r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let i=new n;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}};var m_=class{constructor(){this.q_=new Lt(fe.comparator)}track(e){let t=e.doc.key,i=this.q_.get(t);i?e.type!==0&&i.type===3?this.q_=this.q_.insert(t,e):e.type===3&&i.type!==1?this.q_=this.q_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.q_=this.q_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.q_=this.q_.remove(t):e.type===1&&i.type===2?this.q_=this.q_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):_e():this.q_=this.q_.insert(t,e)}Q_(){let e=[];return this.q_.inorderTraversal((t,i)=>{e.push(i)}),e}},Ed=class n{constructor(e,t,i,r,s,o,a,l,c){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,i,r,s){let o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new n(e,t,g_.emptySet(t),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}};var tD=class{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}},nD=class{constructor(){this.queries=new Bs(e=>h2(e),lp),this.onlineState="Unknown",this.z_=new Set}};function GD(n,e){return F(this,null,function*(){let t=pe(n),i=3,r=e.query,s=t.queries.get(r);s?!s.W_()&&e.G_()&&(i=2):(s=new tD,i=e.G_()?0:1);try{switch(i){case 0:s.K_=yield t.onListen(r,!0);break;case 1:s.K_=yield t.onListen(r,!1);break;case 2:yield t.onFirstRemoteStoreListen(r)}}catch(o){let a=Nd(o,`Initialization of query '${id(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.U_.push(e),e.j_(t.onlineState),s.K_&&e.H_(s.K_)&&WD(t)})}function qD(n,e){return F(this,null,function*(){let t=pe(n),i=e.query,r=3,s=t.queries.get(i);if(s){let o=s.U_.indexOf(e);o>=0&&(s.U_.splice(o,1),s.U_.length===0?r=e.G_()?0:1:!s.W_()&&e.G_()&&(r=2))}switch(r){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}})}function iq(n,e){let t=pe(n),i=!1;for(let r of e){let s=r.query,o=t.queries.get(s);if(o){for(let a of o.U_)a.H_(r)&&(i=!0);o.K_=r}}i&&WD(t)}function rq(n,e,t){let i=pe(n),r=i.queries.get(e);if(r)for(let s of r.U_)s.onError(t);i.queries.delete(e)}function WD(n){n.z_.forEach(e=>{e.next()})}var iD,kP;(kP=iD||(iD={})).J_="default",kP.Cache="cache";var tp=class{constructor(e,t,i){this.query=e,this.Y_=t,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=i||{}}H_(e){if(!this.options.includeMetadataChanges){let i=[];for(let r of e.docChanges)r.type!==3&&i.push(r);e=new Ed(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),t=!0):this.ta(e,this.onlineState)&&(this.na(e),t=!0),this.X_=e,t}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let t=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),t=!0),t}ta(e,t){if(!e.fromCache||!this.G_())return!0;let i=t!=="Offline";return(!this.options.ra||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ea(e){if(e.docChanges.length>0)return!0;let t=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}na(e){e=Ed.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==iD.Cache}};var rD=class{constructor(e,t){this.ia=e,this.byteLength=t}sa(){return"metadata"in this.ia}};var y_=class{constructor(e){this.serializer=e}Ps(e){return Ps(this.serializer,e)}Is(e){return e.metadata.exists?P2(this.serializer,e.document,!1):_n.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return an(e)}},sD=class{constructor(e,t,i){this.oa=e,this.localStore=t,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=lF(e)}_a(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ia.namedQuery)this.queries.push(e.ia.namedQuery);else if(e.ia.documentMetadata){this.documents.push({metadata:e.ia.documentMetadata}),e.ia.documentMetadata.exists||++t;let i=lt.fromString(e.ia.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.ia.document&&(this.documents[this.documents.length-1].document=e.ia.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}aa(e){let t=new Map,i=new y_(this.serializer);for(let r of e)if(r.metadata.queries){let s=i.Ps(r.metadata.name);for(let o of r.metadata.queries){let a=(t.get(o)||He()).add(s);t.set(o,a)}}return t}complete(){return F(this,null,function*(){let e=yield H7(this.localStore,new y_(this.serializer),this.documents,this.oa.id),t=this.aa(this.documents);for(let i of this.queries)yield G7(this.localStore,i,t.get(i.name));return this.progress.taskState="Success",{progress:this.progress,ua:this.collectionGroups,ca:e}})}};function lF(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}var __=class{constructor(e){this.key=e}},v_=class{constructor(e){this.key=e}},w_=class{constructor(e,t){this.query=e,this.la=t,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=He(),this.mutatedKeys=He(),this.Ia=p2(e),this.Ta=new g_(this.Ia)}get Ea(){return this.la}da(e,t){let i=t?t.Aa:new m_,r=t?t.Ta:this.Ta,s=t?t.mutatedKeys:this.mutatedKeys,o=r,a=!1,l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((d,f)=>{let m=r.get(d),v=cp(this.query,f)?f:null,C=!!m&&this.mutatedKeys.has(m.key),A=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations),S=!1;m&&v?m.data.isEqual(v.data)?C!==A&&(i.track({type:3,doc:v}),S=!0):this.Ra(m,v)||(i.track({type:2,doc:v}),S=!0,(l&&this.Ia(v,l)>0||c&&this.Ia(v,c)<0)&&(a=!0)):!m&&v?(i.track({type:0,doc:v}),S=!0):m&&!v&&(i.track({type:1,doc:m}),S=!0,(l||c)&&(a=!0)),S&&(v?(o=o.add(v),s=A?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),i.track({type:1,doc:d})}return{Ta:o,Aa:i,Xi:a,mutatedKeys:s}}Ra(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){let s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;let o=e.Aa.Q_();o.sort((d,f)=>function(v,C){let A=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e()}};return A(v)-A(C)}(d.type,f.type)||this.Ia(d.doc,f.doc)),this.Va(i),r=r!=null&&r;let a=t&&!r?this.ma():[],l=this.Pa.size===0&&this.current&&!r?1:0,c=l!==this.ha;return this.ha=l,o.length!==0||c?{snapshot:new Ed(this.query,e.Ta,s,o,e.mutatedKeys,l===0,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new m_,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(t=>this.la=this.la.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.la=this.la.delete(t)),this.current=e.current)}ma(){if(!this.current)return[];let e=this.Pa;this.Pa=He(),this.Ta.forEach(i=>{this.ga(i.key)&&(this.Pa=this.Pa.add(i.key))});let t=[];return e.forEach(i=>{this.Pa.has(i)||t.push(new v_(i))}),this.Pa.forEach(i=>{e.has(i)||t.push(new __(i))}),t}pa(e){this.la=e.hs,this.Pa=He();let t=this.da(e.documents);return this.applyChanges(t,!0)}ya(){return Ed.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}},oD=class{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}},aD=class{constructor(e){this.key=e,this.wa=!1}},lD=class{constructor(e,t,i,r,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new Bs(a=>h2(a),lp),this.Da=new Map,this.Ca=new Set,this.va=new Lt(fe.comparator),this.Fa=new Map,this.Ma=new Jf,this.xa={},this.Oa=new Map,this.Na=vd.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}};function sq(n,e,t=!0){return F(this,null,function*(){let i=N_(n),r,s=i.ba.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.ya()):r=yield cF(i,e,t,!0),r})}function oq(n,e){return F(this,null,function*(){let t=N_(n);yield cF(t,e,!0,!1)})}function cF(n,e,t,i){return F(this,null,function*(){let r=yield wd(n.localStore,wi(e)),s=r.targetId,o=t?n.sharedClientState.addLocalQueryTarget(s):"not-current",a;return i&&(a=yield KD(n,e,s,o==="current",r.resumeToken)),n.isPrimaryClient&&t&&O_(n.remoteStore,r),a})}function KD(n,e,t,i,r){return F(this,null,function*(){n.Ba=(f,m,v)=>function(A,S,j,Z){return F(this,null,function*(){let W=S.view.da(j);W.Xi&&(W=yield l_(A.localStore,S.query,!1).then(({documents:x})=>S.view.da(x,W)));let Y=Z&&Z.targetChanges.get(S.targetId),ge=Z&&Z.targetMismatches.get(S.targetId)!=null,ae=S.view.applyChanges(W,A.isPrimaryClient,Y,ge);return cD(A,S.targetId,ae.fa),ae.snapshot})}(n,f,m,v);let s=yield l_(n.localStore,e,!0),o=new w_(e,s.hs),a=o.da(s.documents),l=Kf.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",r),c=o.applyChanges(a,n.isPrimaryClient,l);cD(n,t,c.fa);let d=new oD(e,t,o);return n.ba.set(e,d),n.Da.has(t)?n.Da.get(t).push(e):n.Da.set(t,[e]),c.snapshot})}function aq(n,e,t){return F(this,null,function*(){let i=pe(n),r=i.ba.get(e),s=i.Da.get(r.targetId);if(s.length>1)return i.Da.set(r.targetId,s.filter(o=>!lp(o,e))),void i.ba.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||(yield bd(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),t&&Cd(i.remoteStore,r.targetId),Id(i,r.targetId)}).catch(Ka))):(Id(i,r.targetId),yield bd(i.localStore,r.targetId,!0))})}function lq(n,e){return F(this,null,function*(){let t=pe(n),i=t.ba.get(e),r=t.Da.get(i.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Cd(t.remoteStore,i.targetId))})}function cq(n,e,t){return F(this,null,function*(){let i=JD(n);try{let r=yield function(o,a){let l=pe(o),c=Kt.now(),d=a.reduce((v,C)=>v.add(C.key),He()),f,m;return l.persistence.runTransaction("Locally write mutations","readwrite",v=>{let C=Ni(),A=He();return l.os.getEntries(v,d).next(S=>{C=S,C.forEach((j,Z)=>{Z.isValidDocument()||(A=A.add(j))})}).next(()=>l.localDocuments.getOverlayedDocuments(v,C)).next(S=>{f=S;let j=[];for(let Z of a){let W=E7(Z,f.get(Z.key).overlayedDocument);W!=null&&j.push(new Jr(Z.key,W,s2(W.value.mapValue),Xt.exists(!0)))}return l.mutationQueue.addMutationBatch(v,c,j,a)}).next(S=>{m=S;let j=S.applyToLocalDocumentSet(f,A);return l.documentOverlayCache.saveOverlays(v,S.batchId,j)})}).then(()=>({batchId:m.batchId,changes:m2(f)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,l){let c=o.xa[o.currentUser.toKey()];c||(c=new Lt(je)),c=c.insert(a,l),o.xa[o.currentUser.toKey()]=c}(i,r.batchId,t),yield ko(i,r.changes),yield Rd(i.remoteStore)}catch(r){let s=Nd(r,"Failed to persist write");t.reject(s)}})}function uF(n,e){return F(this,null,function*(){let t=pe(n);try{let i=yield z7(t.localStore,e);e.targetChanges.forEach((r,s)=>{let o=t.Fa.get(s);o&&(Te(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.wa=!0:r.modifiedDocuments.size>0?Te(o.wa):r.removedDocuments.size>0&&(Te(o.wa),o.wa=!1))}),yield ko(t,i,e)}catch(i){yield Ka(i)}})}function PP(n,e,t){let i=pe(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){let r=[];i.ba.forEach((s,o)=>{let a=o.view.j_(e);a.snapshot&&r.push(a.snapshot)}),function(o,a){let l=pe(o);l.onlineState=a;let c=!1;l.queries.forEach((d,f)=>{for(let m of f.U_)m.j_(a)&&(c=!0)}),c&&WD(l)}(i.eventManager,e),r.length&&i.Sa.h_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function uq(n,e,t){return F(this,null,function*(){let i=pe(n);i.sharedClientState.updateQueryState(e,"rejected",t);let r=i.Fa.get(e),s=r&&r.key;if(s){let o=new Lt(fe.comparator);o=o.insert(s,_n.newNoDocument(s,Me.min()));let a=He().add(s),l=new Wf(Me.min(),new Map,new Lt(je),o,a);yield uF(i,l),i.va=i.va.remove(s),i.Fa.delete(e),YD(i)}else yield bd(i.localStore,e,!1).then(()=>Id(i,e,t)).catch(Ka)})}function dq(n,e){return F(this,null,function*(){let t=pe(n),i=e.batch.batchId;try{let r=yield j7(t.localStore,e);ZD(t,i,null),QD(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield ko(t,r)}catch(r){yield Ka(r)}})}function hq(n,e,t){return F(this,null,function*(){let i=pe(n);try{let r=yield function(o,a){let l=pe(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(Te(f!==null),d=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(i.localStore,e);ZD(i,e,t),QD(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield ko(i,r)}catch(r){yield Ka(r)}})}function fq(n,e){return F(this,null,function*(){let t=pe(n);Za(t.remoteStore)||te("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{let i=yield function(o){let a=pe(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(t.localStore);if(i===-1)return void e.resolve();let r=t.Oa.get(i)||[];r.push(e),t.Oa.set(i,r)}catch(i){let r=Nd(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}})}function QD(n,e){(n.Oa.get(e)||[]).forEach(t=>{t.resolve()}),n.Oa.delete(e)}function ZD(n,e,t){let i=pe(n),r=i.xa[i.currentUser.toKey()];if(r){let s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.xa[i.currentUser.toKey()]=r}}function Id(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let i of n.Da.get(e))n.ba.delete(i),t&&n.Sa.ka(i,t);n.Da.delete(e),n.isPrimaryClient&&n.Ma.Vr(e).forEach(i=>{n.Ma.containsKey(i)||dF(n,i)})}function dF(n,e){n.Ca.delete(e.path.canonicalString());let t=n.va.get(e);t!==null&&(Cd(n.remoteStore,t),n.va=n.va.remove(e),n.Fa.delete(t),YD(n))}function cD(n,e,t){for(let i of t)i instanceof __?(n.Ma.addReference(i.key,e),pq(n,i)):i instanceof v_?(te("SyncEngine","Document no longer in limbo: "+i.key),n.Ma.removeReference(i.key,e),n.Ma.containsKey(i.key)||dF(n,i.key)):_e()}function pq(n,e){let t=e.key,i=t.path.canonicalString();n.va.get(t)||n.Ca.has(i)||(te("SyncEngine","New document in limbo: "+t),n.Ca.add(i),YD(n))}function YD(n){for(;n.Ca.size>0&&n.va.size<n.maxConcurrentLimboResolutions;){let e=n.Ca.values().next().value;n.Ca.delete(e);let t=new fe(lt.fromString(e)),i=n.Na.next();n.Fa.set(i,new aD(t)),n.va=n.va.insert(t,i),O_(n.remoteStore,new _d(wi(Ad(t.path)),i,"TargetPurposeLimboResolution",Ki.oe))}}function ko(n,e,t){return F(this,null,function*(){let i=pe(n),r=[],s=[],o=[];i.ba.isEmpty()||(i.ba.forEach((a,l)=>{o.push(i.Ba(l,e,t).then(c=>{if((c||t)&&i.isPrimaryClient){let d=c&&!c.fromCache;i.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){r.push(c);let d=jI.Ki(l.targetId,c);s.push(d)}}))}),yield Promise.all(o),i.Sa.h_(r),yield function(l,c){return F(this,null,function*(){let d=pe(l);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>$.forEach(c,m=>$.forEach(m.qi,v=>d.persistence.referenceDelegate.addReference(f,m.targetId,v)).next(()=>$.forEach(m.Qi,v=>d.persistence.referenceDelegate.removeReference(f,m.targetId,v)))))}catch(f){if(!Qa(f))throw f;te("LocalStore","Failed to update sequence numbers: "+f)}for(let f of c){let m=f.targetId;if(!f.fromCache){let v=d.ns.get(m),C=v.snapshotVersion,A=v.withLastLimboFreeSnapshotVersion(C);d.ns=d.ns.insert(m,A)}}})}(i.localStore,s))})}function gq(n,e){return F(this,null,function*(){let t=pe(n);if(!t.currentUser.isEqual(e)){te("SyncEngine","User change. New user:",e.toKey());let i=yield Z2(t.localStore,e);t.currentUser=e,function(s,o){s.Oa.forEach(a=>{a.forEach(l=>{l.reject(new ee(q.CANCELLED,o))})}),s.Oa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield ko(t,i.us)}})}function mq(n,e){let t=pe(n),i=t.Fa.get(e);if(i&&i.wa)return He().add(i.key);{let r=He(),s=t.Da.get(e);if(!s)return r;for(let o of s){let a=t.ba.get(o);r=r.unionWith(a.view.Ea)}return r}}function yq(n,e){return F(this,null,function*(){let t=pe(n),i=yield l_(t.localStore,e.query,!0),r=e.view.pa(i);return t.isPrimaryClient&&cD(t,e.targetId,r.fa),r})}function _q(n,e){return F(this,null,function*(){let t=pe(n);return eF(t.localStore,e).then(i=>ko(t,i))})}function vq(n,e,t,i){return F(this,null,function*(){let r=pe(n),s=yield function(a,l){let c=pe(a),d=pe(c.mutationQueue);return c.persistence.runTransaction("Lookup mutation documents","readonly",f=>d.vn(f,l).next(m=>m?c.localDocuments.getDocuments(f,m):$.resolve(null)))}(r.localStore,e);s!==null?(t==="pending"?yield Rd(r.remoteStore):t==="acknowledged"||t==="rejected"?(ZD(r,e,i||null),QD(r,e),function(a,l){pe(pe(a).mutationQueue).Mn(l)}(r.localStore,e)):_e(),yield ko(r,s)):te("SyncEngine","Cannot apply mutation batch with id: "+e)})}function wq(n,e){return F(this,null,function*(){let t=pe(n);if(N_(t),JD(t),e===!0&&t.La!==!0){let i=t.sharedClientState.getAllActiveQueryTargets(),r=yield FP(t,i.toArray());t.La=!0,yield XI(t.remoteStore,!0);for(let s of r)O_(t.remoteStore,s)}else if(e===!1&&t.La!==!1){let i=[],r=Promise.resolve();t.Da.forEach((s,o)=>{t.sharedClientState.isLocalQueryTarget(o)?i.push(o):r=r.then(()=>(Id(t,o),bd(t.localStore,o,!0))),Cd(t.remoteStore,o)}),yield r,yield FP(t,i),function(o){let a=pe(o);a.Fa.forEach((l,c)=>{Cd(a.remoteStore,c)}),a.Ma.mr(),a.Fa=new Map,a.va=new Lt(fe.comparator)}(t),t.La=!1,yield XI(t.remoteStore,!1)}})}function FP(n,e,t){return F(this,null,function*(){let i=pe(n),r=[],s=[];for(let o of e){let a,l=i.Da.get(o);if(l&&l.length!==0){a=yield wd(i.localStore,wi(l[0]));for(let c of l){let d=i.ba.get(c),f=yield yq(i,d);f.snapshot&&s.push(f.snapshot)}}else{let c=yield X2(i.localStore,o);a=yield wd(i.localStore,c),yield KD(i,hF(c),o,!1,a.resumeToken)}r.push(a)}return i.Sa.h_(s),r})}function hF(n){return d2(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function bq(n){return function(t){return pe(pe(t).persistence).Bi()}(pe(n).localStore)}function Cq(n,e,t,i){return F(this,null,function*(){let r=pe(n);if(r.La)return void te("SyncEngine","Ignoring unexpected query state notification.");let s=r.Da.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{let o=yield eF(r.localStore,f2(s[0])),a=Wf.createSynthesizedRemoteEventForCurrentChange(e,t==="current",Nn.EMPTY_BYTE_STRING);yield ko(r,o,a);break}case"rejected":yield bd(r.localStore,e,!0),Id(r,e,i);break;default:_e()}})}function Eq(n,e,t){return F(this,null,function*(){let i=N_(n);if(i.La){for(let r of e){if(i.Da.has(r)&&i.sharedClientState.isActiveQueryTarget(r)){te("SyncEngine","Adding an already active target "+r);continue}let s=yield X2(i.localStore,r),o=yield wd(i.localStore,s);yield KD(i,hF(s),o.targetId,!1,o.resumeToken),O_(i.remoteStore,o)}for(let r of t)i.Da.has(r)&&(yield bd(i.localStore,r,!1).then(()=>{Cd(i.remoteStore,r),Id(i,r)}).catch(Ka))}})}function N_(n){let e=pe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=uF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uq.bind(null,e),e.Sa.h_=iq.bind(null,e.eventManager),e.Sa.ka=rq.bind(null,e.eventManager),e}function JD(n){let e=pe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hq.bind(null,e),e}function Iq(n,e,t){let i=pe(n);(function(s,o,a){return F(this,null,function*(){try{let l=yield o.getMetadata();if(yield function(v,C){let A=pe(v),S=an(C.createTime);return A.persistence.runTransaction("hasNewerBundle","readonly",j=>A.$r.getBundleMetadata(j,C.id)).then(j=>!!j&&j.createTime.compareTo(S)>=0)}(s.localStore,l))return yield o.close(),a._completeWith(function(v){return{taskState:"Success",documentsLoaded:v.totalDocuments,bytesLoaded:v.totalBytes,totalDocuments:v.totalDocuments,totalBytes:v.totalBytes}}(l)),Promise.resolve(new Set);a._updateProgress(lF(l));let c=new sD(l,s.localStore,o.serializer),d=yield o.qa();for(;d;){let m=yield c._a(d);m&&a._updateProgress(m),d=yield o.qa()}let f=yield c.complete();return yield ko(s,f.ca,void 0),yield function(v,C){let A=pe(v);return A.persistence.runTransaction("Save bundle","readwrite",S=>A.$r.saveBundleMetadata(S,C))}(s.localStore,l),a._completeWith(f.progress),Promise.resolve(f.ua)}catch(l){return vr("SyncEngine",`Loading bundle failed with ${l}`),a._failWith(l),Promise.resolve(new Set)}})})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}var np=class{constructor(){this.synchronizeTabs=!1}initialize(e){return F(this,null,function*(){this.serializer=up(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Q2(this.persistence,new a_,e.initialUser,this.serializer)}createPersistence(e){return new s_(o_.Hr,this.serializer)}createSharedClientState(e){return new d_}terminate(){return F(this,null,function*(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var b_=class n extends np{constructor(e,t,i){super(),this.Qa=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){return F(this,null,function*(){yield kw(n.prototype,this,"initialize").call(this,e),yield this.Qa.initialize(this,e),yield JD(this.Qa.syncEngine),yield Rd(this.Qa.remoteStore),yield this.persistence.fi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))})}createLocalStore(e){return Q2(this.persistence,new a_,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){let i=this.persistence.referenceDelegate.garbageCollector;return new TI(i,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){let i=new HE(t,this.persistence);return new $E(e.asyncQueue,i)}createPersistence(e){let t=jD(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?_r.withCacheSize(this.cacheSizeBytes):_r.DEFAULT;return new UI(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,nF(),Ny(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new d_}},uD=class n extends b_{constructor(e,t){super(e,t,!1),this.Qa=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){return F(this,null,function*(){yield kw(n.prototype,this,"initialize").call(this,e);let t=this.Qa.syncEngine;this.sharedClientState instanceof Lf&&(this.sharedClientState.syncEngine={Zs:vq.bind(null,t),Xs:Cq.bind(null,t),eo:Eq.bind(null,t),Bi:bq.bind(null,t),Ys:_q.bind(null,t)},yield this.sharedClientState.start()),yield this.persistence.fi(i=>F(this,null,function*(){yield wq(this.Qa.syncEngine,i),this.gcScheduler&&(i&&!this.gcScheduler.started?this.gcScheduler.start():i||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(i&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():i||this.indexBackfillerScheduler.stop())}))})}createSharedClientState(e){let t=nF();if(!Lf.D(t))throw new ee(q.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");let i=jD(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Lf(t,e.asyncQueue,i,e.clientId,e.initialUser)}},ip=class{initialize(e,t){return F(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>PP(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=gq.bind(null,this.syncEngine),yield XI(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new nD}()}createDatastore(e){let t=up(e.databaseInfo.databaseId),i=function(s){return new WI(s)}(e.databaseInfo);return function(s,o,a,l){return new ZI(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,r,s,o,a){return new JI(i,r,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,t=>PP(this.syncEngine,t,0),function(){return h_.D()?new h_:new GI}())}createSyncEngine(e,t){return function(r,s,o,a,l,c,d){let f=new lD(r,s,o,a,l,c);return d&&(f.La=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return F(this,null,function*(){var e;yield function(i){return F(this,null,function*(){let r=pe(i);te("RemoteStore","RemoteStore shutting down."),r.M_.add(5),yield xd(r),r.O_.shutdown(),r.N_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};function LP(n,e=10240){let t=0;return{read(){return F(this,null,function*(){if(t<n.byteLength){let r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})},cancel(){return F(this,null,function*(){})},releaseLock(){},closed:Promise.resolve()}}var Dd=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):sn("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}};var dD=class{constructor(e,t){this.Ua=e,this.serializer=t,this.metadata=new yn,this.buffer=new Uint8Array,this.Wa=function(){return new TextDecoder("utf-8")}(),this.Ga().then(i=>{i&&i.sa()?this.metadata.resolve(i.ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(i?.ia)}`))},i=>this.metadata.reject(i))}close(){return this.Ua.cancel()}getMetadata(){return F(this,null,function*(){return this.metadata.promise})}qa(){return F(this,null,function*(){return yield this.getMetadata(),this.Ga()})}Ga(){return F(this,null,function*(){let e=yield this.za();if(e===null)return null;let t=this.Wa.decode(e),i=Number(t);isNaN(i)&&this.ja(`length string (${t}) is not valid number`);let r=yield this.Ha(i);return new rD(JSON.parse(r),e.length+i)})}Ja(){return this.buffer.findIndex(e=>e===123)}za(){return F(this,null,function*(){for(;this.Ja()<0&&!(yield this.Ya()););if(this.buffer.length===0)return null;let e=this.Ja();e<0&&this.ja("Reached the end of bundle when a length string is expected.");let t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t})}Ha(e){return F(this,null,function*(){for(;this.buffer.length<e;)(yield this.Ya())&&this.ja("Reached the end of bundle when more is expected.");let t=this.Wa.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t})}ja(e){throw this.Ua.cancel(),new Error(`Invalid bundle format: ${e}`)}Ya(){return F(this,null,function*(){let e=yield this.Ua.read();if(!e.done){let t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done})}};var hD=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){return F(this,null,function*(){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ee(q.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;let t=yield function(r,s){return F(this,null,function*(){let o=pe(r),a={documents:s.map(f=>Qf(o.serializer,f))},l=yield o.xo("BatchGetDocuments",o.serializer.databaseId,lt.emptyPath(),a,s.length),c=new Map;l.forEach(f=>{let m=A7(o.serializer,f);c.set(m.key.toString(),m)});let d=[];return s.forEach(f=>{let m=c.get(f.toString());Te(!!m),d.push(m)}),d})}(this.datastore,e);return t.forEach(i=>this.recordVersion(i)),t})}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastTransactionError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new qa(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){return F(this,null,function*(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;let e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,i)=>{let r=fe.fromPath(i);this.mutations.push(new Hf(r,this.precondition(r)))}),yield function(i,r){return F(this,null,function*(){let s=pe(i),o={writes:r.map(a=>Zf(s.serializer,a))};yield s.Co("Commit",s.serializer.databaseId,lt.emptyPath(),o)})}(this.datastore,this.mutations),this.committed=!0})}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw _e();t=Me.min()}let i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new ee(q.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){let t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Me.min())?Xt.exists(!1):Xt.updateTime(t):Xt.none()}preconditionForUpdate(e){let t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Me.min()))throw new ee(q.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Xt.updateTime(t)}return Xt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};var fD=class{constructor(e,t,i,r,s){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=s,this.Za=i.maxAttempts,this.Yo=new ep(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){this.Yo.$o(()=>F(this,null,function*(){let e=new hD(this.datastore),t=this.tu(e);t&&t.then(i=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(i)}).catch(r=>{this.nu(r)}))}).catch(i=>{this.nu(i)})}))}tu(e){try{let t=this.updateFunction(e);return!op(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}nu(e){this.Za>0&&this.ru(e)?(this.Za-=1,this.asyncQueue.enqueueAndForget(()=>(this.eu(),Promise.resolve()))):this.deferred.reject(e)}ru(e){if(e.name==="FirebaseError"){let t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!S2(t)}return!1}};var pD=class{constructor(e,t,i,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=mn.UNAUTHENTICATED,this.clientId=Fy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,s=>F(this,null,function*(){te("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(i,s=>(te("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ee(q.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new yn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>F(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let i=Nd(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}};function ky(n,e){return F(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),te("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(r=>F(this,null,function*(){i.isEqual(r)||(yield Z2(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function gD(n,e){return F(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield XD(n);te("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>NP(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>NP(e.remoteStore,r)),n._onlineComponents=e})}function fF(n){return n.name==="FirebaseError"?n.code===q.FAILED_PRECONDITION||n.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||n.code===22||n.code===20||n.code===11}function XD(n){return F(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){te("FirestoreClient","Using user provided OfflineComponentProvider");try{yield ky(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!fF(t))throw t;vr("Error using user provided cache. Falling back to memory cache: "+t),yield ky(n,new np)}}else te("FirestoreClient","Using default OfflineComponentProvider"),yield ky(n,new np);return n._offlineComponents})}function k_(n){return F(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(te("FirestoreClient","Using user provided OnlineComponentProvider"),yield gD(n,n._uninitializedComponentsProvider._online)):(te("FirestoreClient","Using default OnlineComponentProvider"),yield gD(n,new ip))),n._onlineComponents})}function pF(n){return XD(n).then(e=>e.persistence)}function eT(n){return XD(n).then(e=>e.localStore)}function gF(n){return k_(n).then(e=>e.remoteStore)}function tT(n){return k_(n).then(e=>e.syncEngine)}function Dq(n){return k_(n).then(e=>e.datastore)}function Td(n){return F(this,null,function*(){let e=yield k_(n),t=e.eventManager;return t.onListen=sq.bind(null,e.syncEngine),t.onUnlisten=aq.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=oq.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=lq.bind(null,e.syncEngine),t})}function Tq(n){return n.asyncQueue.enqueue(()=>F(this,null,function*(){let e=yield pF(n),t=yield gF(n);return e.setNetworkEnabled(!0),function(r){let s=pe(r);return s.M_.delete(0),dp(s)}(t)}))}function Sq(n){return n.asyncQueue.enqueue(()=>F(this,null,function*(){let e=yield pF(n),t=yield gF(n);return e.setNetworkEnabled(!1),function(r){return F(this,null,function*(){let s=pe(r);s.M_.add(0),yield xd(s),s.N_.set("Offline")})}(t)}))}function Mq(n,e){let t=new yn;return n.asyncQueue.enqueueAndForget(()=>F(this,null,function*(){return function(r,s,o){return F(this,null,function*(){try{let a=yield function(c,d){let f=pe(c);return f.persistence.runTransaction("read document","readonly",m=>f.localDocuments.getDocument(m,d))}(r,s);a.isFoundDocument()?o.resolve(a):a.isNoDocument()?o.resolve(null):o.reject(new ee(q.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){let l=Nd(a,`Failed to get document '${s} from cache`);o.reject(l)}})}(yield eT(n),e,t)})),t.promise}function mF(n,e,t={}){let i=new yn;return n.asyncQueue.enqueueAndForget(()=>F(this,null,function*(){return function(s,o,a,l,c){let d=new Dd({next:m=>{o.enqueueAndForget(()=>qD(s,f));let v=m.docs.has(a);!v&&m.fromCache?c.reject(new ee(q.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&m.fromCache&&l&&l.source==="server"?c.reject(new ee(q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(m)},error:m=>c.reject(m)}),f=new tp(Ad(a.path),d,{includeMetadataChanges:!0,ra:!0});return GD(s,f)}(yield Td(n),n.asyncQueue,e,t,i)})),i.promise}function Aq(n,e){let t=new yn;return n.asyncQueue.enqueueAndForget(()=>F(this,null,function*(){return function(r,s,o){return F(this,null,function*(){try{let a=yield l_(r,s,!0),l=new w_(s,a.hs),c=l.da(a.documents),d=l.applyChanges(c,!1);o.resolve(d.snapshot)}catch(a){let l=Nd(a,`Failed to execute query '${s} against cache`);o.reject(l)}})}(yield eT(n),e,t)})),t.promise}function yF(n,e,t={}){let i=new yn;return n.asyncQueue.enqueueAndForget(()=>F(this,null,function*(){return function(s,o,a,l,c){let d=new Dd({next:m=>{o.enqueueAndForget(()=>qD(s,f)),m.fromCache&&l.source==="server"?c.reject(new ee(q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(m)},error:m=>c.reject(m)}),f=new tp(a,d,{includeMetadataChanges:!0,ra:!0});return GD(s,f)}(yield Td(n),n.asyncQueue,e,t,i)})),i.promise}function xq(n,e){let t=new Dd(e);return n.asyncQueue.enqueueAndForget(()=>F(this,null,function*(){return function(r,s){pe(r).z_.add(s),s.next()}(yield Td(n),t)})),()=>{t.$a(),n.asyncQueue.enqueueAndForget(()=>F(this,null,function*(){return function(r,s){pe(r).z_.delete(s)}(yield Td(n),t)}))}}function Rq(n,e,t,i){let r=function(o,a){let l;return l=typeof o=="string"?A2().encode(o):o,function(d,f){return new dD(d,f)}(function(d,f){if(d instanceof Uint8Array)return LP(d,f);if(d instanceof ArrayBuffer)return LP(new Uint8Array(d),f);if(d instanceof ReadableStream)return d.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),a)}(t,up(e));n.asyncQueue.enqueueAndForget(()=>F(this,null,function*(){Iq(yield tT(n),r,i)}))}function Oq(n,e){return n.asyncQueue.enqueue(()=>F(this,null,function*(){return function(i,r){let s=pe(i);return s.persistence.runTransaction("Get named query","readonly",o=>s.$r.getNamedQuery(o,r))}(yield eT(n),e)}))}function _F(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var VP=new Map;function nT(n,e,t){if(!t)throw new ee(q.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function iT(n,e,t,i){if(e===!0&&i===!0)throw new ee(q.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function BP(n){if(!fe.isDocumentKey(n))throw new ee(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function UP(n){if(fe.isDocumentKey(n))throw new ee(q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function P_(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":_e()}function ct(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ee(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=P_(n);throw new ee(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function vF(n,e){if(e<=0)throw new ee(q.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}var C_=class{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ee(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ee(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}iT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_F((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ee(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ee(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ee(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},gc=class{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new C_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ee(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ee(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new C_(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new NE;switch(i.type){case"firstParty":return new LE(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ee(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let i=VP.get(t);i&&(te("ComponentProvider","Removing Datastore"),VP.delete(t),i.terminate())}(this),Promise.resolve()}};function wF(n,e,t,i={}){var r;let s=(n=ct(n,gc))._getSettings(),o=`${e}:${t}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&vr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let a,l;if(typeof i.mockUserToken=="string")a=i.mockUserToken,l=mn.MOCK_USER;else{a=Kg(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);let c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new ee(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new mn(c)}n._authCredentials=new kE(new Py(a,l))}}var Kn=class n{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Ot=class n{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},Fs=class n extends Kn{constructor(e,t,i){super(e,t,Ad(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Ot(this.firestore,null,new fe(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function rT(n,e,...t){if(n=tt(n),nT("collection","path",e),n instanceof gc){let i=lt.fromString(e,...t);return UP(i),new Fs(n,null,i)}{if(!(n instanceof Ot||n instanceof Fs))throw new ee(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=n._path.child(lt.fromString(e,...t));return UP(i),new Fs(n.firestore,null,i)}}function bF(n,e){if(n=ct(n,gc),nT("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ee(q.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Kn(n,null,function(i){return new Yr(lt.emptyPath(),i)}(e))}function hp(n,e,...t){if(n=tt(n),arguments.length===1&&(e=Fy.newId()),nT("doc","path",e),n instanceof gc){let i=lt.fromString(e,...t);return BP(i),new Ot(n,null,new fe(i))}{if(!(n instanceof Ot||n instanceof Fs))throw new ee(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=n._path.child(lt.fromString(e,...t));return BP(i),new Ot(n.firestore,n instanceof Fs?n.converter:null,new fe(i))}}function sT(n,e){return n=tt(n),e=tt(e),(n instanceof Ot||n instanceof Fs)&&(e instanceof Ot||e instanceof Fs)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function oT(n,e){return n=tt(n),e=tt(e),n instanceof Kn&&e instanceof Kn&&n.firestore===e.firestore&&lp(n._query,e._query)&&n.converter===e.converter}var mD=class{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new ep(this,"async_queue_retry"),this.hu=()=>{let t=Ny();t&&te("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Yo.Wo()};let e=Ny();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;let t=Ny();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});let t=new yn;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){return F(this,null,function*(){if(this.su.length!==0){try{yield this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!Qa(e))throw e;te("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}})}Iu(e){let t=this.iu.then(()=>(this.uu=!0,e().catch(i=>{this.au=i,this.uu=!1;let r=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i);throw sn("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.uu=!1,i))));return this.iu=t,t}enqueueAfterDelay(e,t,i){this.Pu(),this.lu.indexOf(e)>-1&&(t=0);let r=eD.createAndSchedule(this,e,t,i,s=>this.Eu(s));return this._u.push(r),r}Pu(){this.au&&_e()}verifyOperationInProgress(){}du(){return F(this,null,function*(){let e;do e=this.iu,yield e;while(e!==this.iu)})}Au(e){for(let t of this._u)if(t.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(let t of this._u)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){let t=this._u.indexOf(e);this._u.splice(t,1)}};function yD(n){return function(t,i){if(typeof t!="object"||t===null)return!1;let r=t;for(let s of i)if(s in r&&typeof r[s]=="function")return!0;return!1}(n,["next","error","complete"])}var _D=class{constructor(){this._progressObserver={},this._taskCompletionResolver=new yn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}};var CF=-1,zt=class extends gc{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=function(){return new mD}(),this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||EF(this),this._firestoreClient.terminate()}};function Tn(n){return n._firestoreClient||EF(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function EF(n){var e,t,i;let r=n._freezeSettings(),s=function(a,l,c,d){return new GE(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,_F(d.experimentalLongPollingOptions),d.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,r);n._firestoreClient=new pD(n._authCredentials,n._appCheckCredentials,n._queue,s),!((t=r.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}function IF(n,e){NF(n=ct(n,zt));let t=Tn(n);if(t._uninitializedComponentsProvider)throw new ee(q.FAILED_PRECONDITION,"SDK cache is already specified.");vr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let i=n._freezeSettings(),r=new ip;return TF(t,r,new b_(r,i.cacheSizeBytes,e?.forceOwnership))}function DF(n){NF(n=ct(n,zt));let e=Tn(n);if(e._uninitializedComponentsProvider)throw new ee(q.FAILED_PRECONDITION,"SDK cache is already specified.");vr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let t=n._freezeSettings(),i=new ip;return TF(e,i,new uD(i,t.cacheSizeBytes))}function TF(n,e,t){let i=new yn;return n.asyncQueue.enqueue(()=>F(this,null,function*(){try{yield ky(n,t),yield gD(n,e),i.resolve()}catch(r){let s=r;if(!fF(s))throw s;vr("Error enabling indexeddb cache. Falling back to memory cache: "+s),i.reject(s)}})).then(()=>i.promise)}function SF(n){if(n._initialized&&!n._terminated)throw new ee(q.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");let e=new yn;return n._queue.enqueueAndForgetEvenWhileRestricted(()=>F(this,null,function*(){try{yield function(i){return F(this,null,function*(){if(!Ba.D())return Promise.resolve();let r=i+"main";yield Ba.delete(r)})}(jD(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}})),e.promise}function MF(n){return function(t){let i=new yn;return t.asyncQueue.enqueueAndForget(()=>F(this,null,function*(){return fq(yield tT(t),i)})),i.promise}(Tn(n=ct(n,zt)))}function AF(n){return Tq(Tn(n=ct(n,zt)))}function xF(n){return Sq(Tn(n=ct(n,zt)))}function RF(n,e){let t=Tn(n=ct(n,zt)),i=new _D;return Rq(t,n._databaseId,e,i),i}function OF(n,e){return Oq(Tn(n=ct(n,zt)),e).then(t=>t?new Kn(n,null,t.query):null)}function NF(n){if(n._initialized||n._terminated)throw new ee(q.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Us=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Nn.fromBase64String(e))}catch(t){throw new ee(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Xr=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ee(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new on(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Oo=class{constructor(e){this._methodName=e}};var mc=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ee(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ee(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}};var Nq=/^__.*__$/,vD=class{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Jr(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ga(e,this.data,t,this.fieldTransforms)}},E_=class{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Jr(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function kF(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e()}}var I_=class n{constructor(e,t,i,r,s,o){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var t;let i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.gu({path:i,yu:!1});return r.wu(e),r}Su(e){var t;let i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.gu({path:i,yu:!1});return r.mu(),r}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return D_(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(kF(this.fu)&&Nq.test(e))throw this.Du('Document fields cannot begin and end with "__"')}},wD=class{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||up(e)}Fu(e,t,i,r=!1){return new I_({fu:e,methodName:t,vu:i,path:on.emptyPath(),yu:!1,Cu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function wc(n){let e=n._freezeSettings(),t=up(n._databaseId);return new wD(n._databaseId,!!e.ignoreUndefinedProperties,t)}function F_(n,e,t,i,r,s={}){let o=n.Fu(s.merge||s.mergeFields?2:0,e,t,r);cT("Data must be an object, but it was:",o,i);let a=LF(i,o),l,c;if(s.merge)l=new Qi(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){let d=[];for(let f of s.mergeFields){let m=DD(e,f,t);if(!o.contains(m))throw new ee(q.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);BF(d,m)||d.push(m)}l=new Qi(d),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new vD(new si(a),l,c)}var rp=class n extends Oo{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function PF(n,e,t){return new I_({fu:3,vu:e.settings.vu,methodName:n._methodName,yu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}var bD=class n extends Oo{_toFieldTransform(e){return new hc(e.path,new $a)}isEqual(e){return e instanceof n}},CD=class n extends Oo{constructor(e,t){super(e),this.Mu=t}_toFieldTransform(e){let t=PF(this,e,!0),i=this.Mu.map(s=>bc(s,t)),r=new xo(i);return new hc(e.path,r)}isEqual(e){return e instanceof n&&jh(this.Mu,e.Mu)}},ED=class n extends Oo{constructor(e,t){super(e),this.Mu=t}_toFieldTransform(e){let t=PF(this,e,!0),i=this.Mu.map(s=>bc(s,t)),r=new Ro(i);return new hc(e.path,r)}isEqual(e){return e instanceof n&&jh(this.Mu,e.Mu)}},ID=class n extends Oo{constructor(e,t){super(e),this.xu=t}_toFieldTransform(e){let t=new Ha(e.serializer,w2(e.serializer,this.xu));return new hc(e.path,t)}isEqual(e){return e instanceof n&&this.xu===e.xu}};function aT(n,e,t,i){let r=n.Fu(1,e,t);cT("Data must be an object, but it was:",r,i);let s=[],o=si.empty();vc(i,(l,c)=>{let d=uT(e,l,t);c=tt(c);let f=r.Su(d);if(c instanceof rp)s.push(d);else{let m=bc(c,f);m!=null&&(s.push(d),o.set(d,m))}});let a=new Qi(s);return new E_(o,a,r.fieldTransforms)}function lT(n,e,t,i,r,s){let o=n.Fu(1,e,t),a=[DD(e,i,t)],l=[r];if(s.length%2!=0)throw new ee(q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)a.push(DD(e,s[m])),l.push(s[m+1]);let c=[],d=si.empty();for(let m=a.length-1;m>=0;--m)if(!BF(c,a[m])){let v=a[m],C=l[m];C=tt(C);let A=o.Su(v);if(C instanceof rp)c.push(v);else{let S=bc(C,A);S!=null&&(c.push(v),d.set(v,S))}}let f=new Qi(c);return new E_(d,f,o.fieldTransforms)}function FF(n,e,t,i=!1){return bc(t,n.Fu(i?4:3,e))}function bc(n,e){if(VF(n=tt(n)))return cT("Unsupported field value:",e,n),LF(n,e);if(n instanceof Oo)return function(i,r){if(!kF(r.fu))throw r.Du(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Du(`${i._methodName}() is not currently supported inside arrays`);let s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(i,r){let s=[],o=0;for(let a of i){let l=bc(a,r.bu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(n,e)}return function(i,r){if((i=tt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return w2(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let s=Kt.fromDate(i);return{timestampValue:yd(r.serializer,s)}}if(i instanceof Kt){let s=new Kt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:yd(r.serializer,s)}}if(i instanceof mc)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Us)return{bytesValue:x2(r.serializer,i._byteString)};if(i instanceof Ot){let s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:VD(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.Du(`Unsupported field value: ${P_(i)}`)}(n,e)}function LF(n,e){let t={};return n2(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vc(n,(i,r)=>{let s=bc(r,e.pu(i));s!=null&&(t[i]=s)}),{mapValue:{fields:t}}}function VF(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Kt||n instanceof mc||n instanceof Us||n instanceof Ot||n instanceof Oo)}function cT(n,e,t){if(!VF(t)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(t)){let i=P_(t);throw i==="an object"?e.Du(n+" a custom object"):e.Du(n+" "+i)}}function DD(n,e,t){if((e=tt(e))instanceof Xr)return e._internalPath;if(typeof e=="string")return uT(n,e);throw D_("Field path arguments must be of type string or ",n,!1,void 0,t)}var kq=new RegExp("[~\\*/\\[\\]]");function uT(n,e,t){if(e.search(kq)>=0)throw D_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Xr(...e.split("."))._internalPath}catch{throw D_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function D_(n,e,t,i,r){let s=i&&!i.isEmpty(),o=r!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new ee(q.INVALID_ARGUMENT,a+n+l)}function BF(n,e){return n.some(t=>t.isEqual(e))}var yc=class{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new TD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(L_("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},TD=class extends yc{data(){return super.data()}};function L_(n,e){return typeof e=="string"?uT(n,e):e instanceof Xr?e._internalPath:e._delegate._internalPath}function UF(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ee(q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var sp=class{},_c=class extends sp{};function Po(n,e,...t){let i=[];e instanceof sp&&i.push(e),i=i.concat(t),function(s){let o=s.filter(l=>l instanceof SD).length,a=s.filter(l=>l instanceof T_).length;if(o>1||o>0&&a>0)throw new ee(q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(let r of i)n=r._apply(n);return n}var T_=class n extends _c{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new n(e,t,i)}_apply(e){let t=this._parse(e);return ZF(e._query,t),new Kn(e.firestore,e.converter,rI(e._query,t))}_parse(e){let t=wc(e.firestore);return function(s,o,a,l,c,d,f){let m;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new ee(q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){zP(f,d);let v=[];for(let C of f)v.push(jP(l,s,C));m={arrayValue:{values:v}}}else m=jP(l,s,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||zP(f,d),m=FF(a,o,f,d==="in"||d==="not-in");return et.create(c,d,m)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function jF(n,e,t){let i=e,r=L_("where",n);return T_._create(r,i,t)}var SD=class n extends sp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:Ct.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(r,s){let o=r,a=s.getFlattenedFilters();for(let l of a)ZF(o,l),o=rI(o,l)}(e._query,t),new Kn(e.firestore,e.converter,rI(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var MD=class n extends _c{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n(e,t)}_apply(e){let t=function(r,s,o){if(r.startAt!==null)throw new ee(q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new ee(q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new uc(s,o)}(e._query,this._field,this._direction);return new Kn(e.firestore,e.converter,function(r,s){let o=r.explicitOrderBy.concat([s]);return new Yr(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}};function zF(n,e="asc"){let t=e,i=L_("orderBy",n);return MD._create(i,t)}var S_=class n extends _c{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new n(e,t,i)}_apply(e){return new Kn(e.firestore,e.converter,qy(e._query,this._limit,this._limitType))}};function $F(n){return vF("limit",n),S_._create("limit",n,"F")}function HF(n){return vF("limitToLast",n),S_._create("limitToLast",n,"L")}var M_=class n extends _c{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new n(e,t,i)}_apply(e){let t=QF(e,this.type,this._docOrFields,this._inclusive);return new Kn(e.firestore,e.converter,function(r,s){return new Yr(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,s,r.endAt)}(e._query,t))}};function GF(...n){return M_._create("startAt",n,!0)}function qF(...n){return M_._create("startAfter",n,!1)}var A_=class n extends _c{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new n(e,t,i)}_apply(e){let t=QF(e,this.type,this._docOrFields,this._inclusive);return new Kn(e.firestore,e.converter,function(r,s){return new Yr(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,s)}(e._query,t))}};function WF(...n){return A_._create("endBefore",n,!1)}function KF(...n){return A_._create("endAt",n,!0)}function QF(n,e,t,i){if(t[0]=tt(t[0]),t[0]instanceof yc)return function(s,o,a,l,c){if(!l)throw new ee(q.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);let d=[];for(let f of cd(s))if(f.field.isKeyField())d.push(cc(o,l.key));else{let m=l.data.field(f.field);if(R_(m))throw new ee(q.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(m===null){let v=f.field.canonicalString();throw new ee(q.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${v}' (used as the orderBy) does not exist.`)}d.push(m)}return new Vs(d,c)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{let r=wc(n.firestore);return function(o,a,l,c,d,f){let m=o.explicitOrderBy;if(d.length>m.length)throw new ee(q.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);let v=[];for(let C=0;C<d.length;C++){let A=d[C];if(m[C].field.isKeyField()){if(typeof A!="string")throw new ee(q.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof A}`);if(!FD(o)&&A.indexOf("/")!==-1)throw new ee(q.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${A}' contains a slash.`);let S=o.path.child(lt.fromString(A));if(!fe.isDocumentKey(S))throw new ee(q.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${S}' is not because it contains an odd number of segments.`);let j=new fe(S);v.push(cc(a,j))}else{let S=FF(l,c,A);v.push(S)}}return new Vs(v,f)}(n._query,n.firestore._databaseId,r,e,t,i)}}function jP(n,e,t){if(typeof(t=tt(t))=="string"){if(t==="")throw new ee(q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!FD(e)&&t.indexOf("/")!==-1)throw new ee(q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let i=e.path.child(lt.fromString(t));if(!fe.isDocumentKey(i))throw new ee(q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return cc(n,new fe(i))}if(t instanceof Ot)return cc(n,t._key);throw new ee(q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${P_(t)}.`)}function zP(n,e){if(!Array.isArray(n)||n.length===0)throw new ee(q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ZF(n,e){let t=function(r,s){for(let o of r)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ee(q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ee(q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var Sd=class{convertValue(e,t="none"){switch(lc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Jt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ua(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw _e()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let i={};return vc(e,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertGeoPoint(e){return new mc(Jt(e.latitude),Jt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":let i=kD(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(jf(e));default:return null}}convertTimestamp(e){let t=Ao(e);return new Kt(t.seconds,t.nanos)}convertDocumentKey(e,t){let i=lt.fromString(e);Te(j2(i));let r=new ja(i.get(1),i.get(3)),s=new fe(i.popFirst(5));return r.isEqual(t)||sn(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}};function V_(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}var AD=class extends Sd{constructor(e){super(),this.firestore=e}convertBytes(e){return new Us(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ot(this.firestore,null,t)}};var Mo=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},br=class extends yc{constructor(e,t,i,r,s,o){super(e,t,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new La(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let i=this._document.data.field(L_("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}},La=class extends br{data(e={}){return super.data(e)}},es=class{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Mo(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new La(this._firestore,this._userDataWriter,i.key,i,new Mo(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ee(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>{let l=new La(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Mo(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let l=new La(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Mo(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:Pq(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function Pq(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e()}}function dT(n,e){return n instanceof br&&e instanceof br?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(n._document===null?e._document===null:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof es&&e instanceof es&&n._firestore===e._firestore&&oT(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function YF(n){n=ct(n,Ot);let e=ct(n.firestore,zt);return mF(Tn(e),n._key).then(t=>gT(e,n,t))}var No=class extends Sd{constructor(e){super(),this.firestore=e}convertBytes(e){return new Us(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ot(this.firestore,null,t)}};function JF(n){n=ct(n,Ot);let e=ct(n.firestore,zt),t=Tn(e),i=new No(e);return Mq(t,n._key).then(r=>new br(e,i,n._key,r,new Mo(r!==null&&r.hasLocalMutations,!0),n.converter))}function XF(n){n=ct(n,Ot);let e=ct(n.firestore,zt);return mF(Tn(e),n._key,{source:"server"}).then(t=>gT(e,n,t))}function eL(n){n=ct(n,Kn);let e=ct(n.firestore,zt),t=Tn(e),i=new No(e);return UF(n._query),yF(t,n._query).then(r=>new es(e,i,n,r))}function tL(n){n=ct(n,Kn);let e=ct(n.firestore,zt),t=Tn(e),i=new No(e);return Aq(t,n._query).then(r=>new es(e,i,n,r))}function nL(n){n=ct(n,Kn);let e=ct(n.firestore,zt),t=Tn(e),i=new No(e);return yF(t,n._query,{source:"server"}).then(r=>new es(e,i,n,r))}function hT(n,e,t){n=ct(n,Ot);let i=ct(n.firestore,zt),r=V_(n.converter,e,t);return kd(i,[F_(wc(i),"setDoc",n._key,r,n.converter!==null,t).toMutation(n._key,Xt.none())])}function fT(n,e,t,...i){n=ct(n,Ot);let r=ct(n.firestore,zt),s=wc(r),o;return o=typeof(e=tt(e))=="string"||e instanceof Xr?lT(s,"updateDoc",n._key,e,t,i):aT(s,"updateDoc",n._key,e),kd(r,[o.toMutation(n._key,Xt.exists(!0))])}function iL(n){return kd(ct(n.firestore,zt),[new qa(n._key,Xt.none())])}function rL(n,e){let t=ct(n.firestore,zt),i=hp(n),r=V_(n.converter,e);return kd(t,[F_(wc(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,Xt.exists(!1))]).then(()=>i)}function pT(n,...e){var t,i,r;n=tt(n);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||yD(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(yD(e[o])){let f=e[o];e[o]=(t=f.next)===null||t===void 0?void 0:t.bind(f),e[o+1]=(i=f.error)===null||i===void 0?void 0:i.bind(f),e[o+2]=(r=f.complete)===null||r===void 0?void 0:r.bind(f)}let l,c,d;if(n instanceof Ot)c=ct(n.firestore,zt),d=Ad(n._key.path),l={next:f=>{e[o]&&e[o](gT(c,n,f))},error:e[o+1],complete:e[o+2]};else{let f=ct(n,Kn);c=ct(f.firestore,zt),d=f._query;let m=new No(c);l={next:v=>{e[o]&&e[o](new es(c,m,f,v))},error:e[o+1],complete:e[o+2]},UF(n._query)}return function(m,v,C,A){let S=new Dd(A),j=new tp(v,S,C);return m.asyncQueue.enqueueAndForget(()=>F(this,null,function*(){return GD(yield Td(m),j)})),()=>{S.$a(),m.asyncQueue.enqueueAndForget(()=>F(this,null,function*(){return qD(yield Td(m),j)}))}}(Tn(c),d,a,l)}function sL(n,e){return xq(Tn(n=ct(n,zt)),yD(e)?e:{next:e})}function kd(n,e){return function(i,r){let s=new yn;return i.asyncQueue.enqueueAndForget(()=>F(this,null,function*(){return cq(yield tT(i),r,s)})),s.promise}(Tn(n),e)}function gT(n,e,t){let i=t.docs.get(e._key),r=new No(n);return new br(n,r,e._key,i,new Mo(t.hasPendingWrites,t.fromCache),e.converter)}var Fq={maxAttempts:5};var x_=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=wc(e)}set(e,t,i){this._verifyNotCommitted();let r=Pa(e,this._firestore),s=V_(r.converter,t,i),o=F_(this._dataReader,"WriteBatch.set",r._key,s,r.converter!==null,i);return this._mutations.push(o.toMutation(r._key,Xt.none())),this}update(e,t,i,...r){this._verifyNotCommitted();let s=Pa(e,this._firestore),o;return o=typeof(t=tt(t))=="string"||t instanceof Xr?lT(this._dataReader,"WriteBatch.update",s._key,t,i,r):aT(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(o.toMutation(s._key,Xt.exists(!0))),this}delete(e){this._verifyNotCommitted();let t=Pa(e,this._firestore);return this._mutations=this._mutations.concat(new qa(t._key,Xt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ee(q.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Pa(n,e){if((n=tt(n)).firestore!==e)throw new ee(q.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}var xD=class extends class{constructor(t,i){this._firestore=t,this._transaction=i,this._dataReader=wc(t)}get(t){let i=Pa(t,this._firestore),r=new AD(this._firestore);return this._transaction.lookup([i._key]).then(s=>{if(!s||s.length!==1)return _e();let o=s[0];if(o.isFoundDocument())return new yc(this._firestore,r,o.key,o,i.converter);if(o.isNoDocument())return new yc(this._firestore,r,i._key,null,i.converter);throw _e()})}set(t,i,r){let s=Pa(t,this._firestore),o=V_(s.converter,i,r),a=F_(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,r);return this._transaction.set(s._key,a),this}update(t,i,r,...s){let o=Pa(t,this._firestore),a;return a=typeof(i=tt(i))=="string"||i instanceof Xr?lT(this._dataReader,"Transaction.update",o._key,i,r,s):aT(this._dataReader,"Transaction.update",o._key,i),this._transaction.update(o._key,a),this}delete(t){let i=Pa(t,this._firestore);return this._transaction.delete(i._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){let t=Pa(e,this._firestore),i=new No(this._firestore);return super.get(e).then(r=>new br(this._firestore,i,t._key,r._document,new Mo(!1,!1),t.converter))}};function oL(n,e,t){n=ct(n,zt);let i=Object.assign(Object.assign({},Fq),t);return function(s){if(s.maxAttempts<1)throw new ee(q.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(s,o,a){let l=new yn;return s.asyncQueue.enqueueAndForget(()=>F(this,null,function*(){let c=yield Dq(s);new fD(s.asyncQueue,c,a,o,l).Xa()})),l.promise}(Tn(n),r=>e(new xD(n,r)),i)}function aL(){return new rp("deleteField")}function lL(){return new bD("serverTimestamp")}function cL(...n){return new CD("arrayUnion",n)}function uL(...n){return new ED("arrayRemove",n)}function dL(n){return new ID("increment",n)}(function(e,t=!0){(function(r){Md=r})(Zg),Ui(new Bn("firestore",(i,{instanceIdentifier:r,options:s})=>{let o=i.getProvider("app").getImmediate(),a=new zt(new PE(i.getProvider("auth-internal")),new BE(i.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ee(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ja(c.options.projectId,d)}(o,r),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Un($k,"4.6.3",e),Un($k,"4.6.3","esm2017")})();var Lq="@firebase/firestore-compat",Vq="0.3.32";function bT(n,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new ee("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function hL(){if(typeof Uint8Array>"u")throw new ee("unimplemented","Uint8Arrays are not available in this environment.")}function fL(){if(!i2())throw new ee("unimplemented","Blobs are unavailable in Firestore in this environment.")}var B_=class n{constructor(e){this._delegate=e}static fromBase64String(e){return fL(),new n(Us.fromBase64String(e))}static fromUint8Array(e){return hL(),new n(Us.fromUint8Array(e))}toBase64(){return fL(),this._delegate.toBase64()}toUint8Array(){return hL(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};function mT(n){return Bq(n,["next","error","complete"])}function Bq(n,e){if(typeof n!="object"||n===null)return!1;let t=n;for(let i of e)if(i in t&&typeof t[i]=="function")return!0;return!1}var yT=class{enableIndexedDbPersistence(e,t){return IF(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return DF(e._delegate)}clearIndexedDbPersistence(e){return SF(e._delegate)}},U_=class{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof ja||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){let t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&vr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},t),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,t,i={}){wF(this._delegate,e,t,i)}enableNetwork(){return AF(this._delegate)}disableNetwork(){return xF(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,iT("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return MF(this._delegate)}onSnapshotsInSync(e){return sL(this._delegate,e)}get app(){if(!this._appCompat)throw new ee("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Ld(this,rT(this._delegate,e))}catch(t){throw bi(t,"collection()","Firestore.collection()")}}doc(e){try{return new js(this,hp(this._delegate,e))}catch(t){throw bi(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Dc(this,bF(this._delegate,e))}catch(t){throw bi(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return oL(this._delegate,t=>e(new j_(this,t)))}batch(){return Tn(this._delegate),new z_(new x_(this._delegate,e=>kd(this._delegate,e)))}loadBundle(e){return RF(this._delegate,e)}namedQuery(e){return OF(this._delegate,e).then(t=>t?new Dc(this,t):null)}},Pd=class extends Sd{constructor(e){super(),this.firestore=e}convertBytes(e){return new B_(new Us(e))}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return js.forKey(t,this.firestore,null)}};function Uq(n){$P(n)}var j_=class{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Pd(e)}get(e){let t=Cc(e);return this._delegate.get(t).then(i=>new Ec(this._firestore,new br(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){let r=Cc(e);return i?(bT("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){let s=Cc(e);return arguments.length===2?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){let t=Cc(e);return this._delegate.delete(t),this}},z_=class{constructor(e){this._delegate=e}set(e,t,i){let r=Cc(e);return i?(bT("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){let s=Cc(e);return arguments.length===2?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){let t=Cc(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}},Fd=class n{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){let i=new La(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Ic(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){let i=n.INSTANCES,r=i.get(e);r||(r=new WeakMap,i.set(e,r));let s=r.get(t);return s||(s=new n(e,new Pd(e),t),r.set(t,s)),s}};Fd.INSTANCES=new WeakMap;var js=class n{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Pd(e)}static forPath(e,t,i){if(e.length%2!==0)throw new ee("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new n(t,new Ot(t._delegate,i,new fe(e)))}static forKey(e,t,i){return new n(t,new Ot(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new Ld(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Ld(this.firestore,rT(this._delegate,e))}catch(t){throw bi(t,"collection()","DocumentReference.collection()")}}isEqual(e){return e=tt(e),e instanceof Ot?sT(this._delegate,e):!1}set(e,t){t=bT("DocumentReference.set",t);try{return t?hT(this._delegate,e,t):hT(this._delegate,e)}catch(i){throw bi(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return arguments.length===1?fT(this._delegate,e):fT(this._delegate,e,t,...i)}catch(r){throw bi(r,"updateDoc()","DocumentReference.update()")}}delete(){return iL(this._delegate)}onSnapshot(...e){let t=pL(e),i=gL(e,r=>new Ec(this.firestore,new br(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return pT(this._delegate,t,i)}get(e){let t;return e?.source==="cache"?t=JF(this._delegate):e?.source==="server"?t=XF(this._delegate):t=YF(this._delegate),t.then(i=>new Ec(this.firestore,new br(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new n(this.firestore,e?this._delegate.withConverter(Fd.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function bi(n,e,t){return n.message=n.message.replace(e,t),n}function pL(n){for(let e of n)if(typeof e=="object"&&!mT(e))return e;return{}}function gL(n,e){var t,i;let r;return mT(n[0])?r=n[0]:mT(n[1])?r=n[1]:typeof n[0]=="function"?r={next:n[0],error:n[1],complete:n[2]}:r={next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(e(s))},error:(t=r.error)===null||t===void 0?void 0:t.bind(r),complete:(i=r.complete)===null||i===void 0?void 0:i.bind(r)}}var Ec=class{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new js(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return dT(this._delegate,e._delegate)}},Ic=class extends Ec{data(e){let t=this._delegate.data(e);return this._delegate._converter||HP(t!==void 0,"Document in a QueryDocumentSnapshot should exist"),t}},Dc=class n{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Pd(e)}where(e,t,i){try{return new n(this.firestore,Po(this._delegate,jF(e,t,i)))}catch(r){throw bi(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new n(this.firestore,Po(this._delegate,zF(e,t)))}catch(i){throw bi(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new n(this.firestore,Po(this._delegate,$F(e)))}catch(t){throw bi(t,"limit()","Query.limit()")}}limitToLast(e){try{return new n(this.firestore,Po(this._delegate,HF(e)))}catch(t){throw bi(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new n(this.firestore,Po(this._delegate,GF(...e)))}catch(t){throw bi(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new n(this.firestore,Po(this._delegate,qF(...e)))}catch(t){throw bi(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new n(this.firestore,Po(this._delegate,WF(...e)))}catch(t){throw bi(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new n(this.firestore,Po(this._delegate,KF(...e)))}catch(t){throw bi(t,"endAt()","Query.endAt()")}}isEqual(e){return oT(this._delegate,e._delegate)}get(e){let t;return e?.source==="cache"?t=tL(this._delegate):e?.source==="server"?t=nL(this._delegate):t=eL(this._delegate),t.then(i=>new fp(this.firestore,new es(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){let t=pL(e),i=gL(e,r=>new fp(this.firestore,new es(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return pT(this._delegate,t,i)}withConverter(e){return new n(this.firestore,e?this._delegate.withConverter(Fd.getInstance(this.firestore,e)):this._delegate.withConverter(null))}},_T=class{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Ic(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}},fp=class{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Dc(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Ic(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new _T(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new Ic(this._firestore,i))})}isEqual(e){return dT(this._delegate,e._delegate)}},Ld=class n extends Dc{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){let e=this._delegate.parent;return e?new js(this.firestore,e):null}doc(e){try{return e===void 0?new js(this.firestore,hp(this._delegate)):new js(this.firestore,hp(this._delegate,e))}catch(t){throw bi(t,"doc()","CollectionReference.doc()")}}add(e){return rL(this._delegate,e).then(t=>new js(this.firestore,t))}isEqual(e){return sT(this._delegate,e._delegate)}withConverter(e){return new n(this.firestore,e?this._delegate.withConverter(Fd.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function Cc(n){return ct(n,Ot)}var vT=class n{constructor(...e){this._delegate=new Xr(...e)}static documentId(){return new n(on.keyField().canonicalString())}isEqual(e){return e=tt(e),e instanceof Xr?this._delegate._internalPath.isEqual(e._internalPath):!1}};var wT=class n{constructor(e){this._delegate=e}static serverTimestamp(){let e=lL();return e._methodName="FieldValue.serverTimestamp",new n(e)}static delete(){let e=aL();return e._methodName="FieldValue.delete",new n(e)}static arrayUnion(...e){let t=cL(...e);return t._methodName="FieldValue.arrayUnion",new n(t)}static arrayRemove(...e){let t=uL(...e);return t._methodName="FieldValue.arrayRemove",new n(t)}static increment(e){let t=dL(e);return t._methodName="FieldValue.increment",new n(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}};var jq={Firestore:U_,GeoPoint:mc,Timestamp:Kt,Blob:B_,Transaction:j_,WriteBatch:z_,DocumentReference:js,DocumentSnapshot:Ec,Query:Dc,QueryDocumentSnapshot:Ic,QuerySnapshot:fp,CollectionReference:Ld,FieldPath:vT,FieldValue:wT,setLogLevel:Uq,CACHE_SIZE_UNLIMITED:CF};function zq(n,e){n.INTERNAL.registerComponent(new Bn("firestore-compat",t=>{let i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},jq)))}function $q(n){zq(n,(e,t)=>new U_(e,t,new yT)),n.registerVersion(Lq,Vq)}$q(wt);function Hq(n,e=ra){return new Se(t=>{let i;return e!=null?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}function mL(n,e){return Hq(n,e)}function Gq(n,e){return mL(n,e).pipe(kr(void 0),Wh(),se(t=>{let[i,r]=t;return r.exists?i?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}}))}function IT(n,e){return mL(n,e).pipe(se(t=>({payload:t,type:"query"})))}var $_=class{ref;afs;constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){let i=this.ref.collection(e),{ref:r,query:s}=bL(i,t);return new G_(r,s,this.afs)}snapshotChanges(){return Gq(this.ref,this.afs.schedulers.outsideAngular).pipe(Wn)}valueChanges(e={}){return this.snapshotChanges().pipe(se(({payload:t})=>e.idField?Ee(Q({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return Ge(this.ref.get(e)).pipe(Wn)}};function H_(n,e){return IT(n,e).pipe(kr(void 0),Wh(),se(t=>{let[i,r]=t,s=r.payload.docChanges(),o=s.map(a=>({type:a.type,payload:a}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((a,l)=>{let c=s.find(f=>f.doc.ref.isEqual(a.ref)),d=i?.payload.docs.find(f=>f.ref.isEqual(a.ref));c&&JSON.stringify(c.doc.metadata)===JSON.stringify(a.metadata)||!c&&d&&JSON.stringify(d.metadata)===JSON.stringify(a.metadata)||o.push({type:"modified",payload:{oldIndex:l,newIndex:l,type:"modified",doc:a}})}),o}))}function yL(n,e,t){return H_(n,t).pipe(Rl((i,r)=>qq(i,r.map(s=>s.payload),e),[]),Sm(),se(i=>i.map(r=>({type:r.type,payload:r}))))}function qq(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=Wq(n,i))}),n}function CT(n,e,t,...i){let r=n.slice();return r.splice(e,t,...i),r}function Wq(n,e){switch(e.type){case"added":if(!(n[e.newIndex]&&n[e.newIndex].doc.ref.isEqual(e.doc.ref)))return CT(n,e.newIndex,0,e);break;case"modified":if(n[e.oldIndex]==null||n[e.oldIndex].doc.ref.isEqual(e.doc.ref))if(e.oldIndex!==e.newIndex){let t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}else return CT(n,e.newIndex,1,e);break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return CT(n,e.oldIndex,1);break}return n}function _L(n){return(!n||n.length===0)&&(n=["added","removed","modified"]),n}var G_=class{ref;query;afs;constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=H_(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe(se(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(kr(void 0),Wh(),Ut(([i,r])=>r.length>0||!i),se(([,i])=>i),Wn)}auditTrail(e){return this.stateChanges(e).pipe(Rl((t,i)=>[...t,...i],[]))}snapshotChanges(e){let t=_L(e);return yL(this.query,t,this.afs.schedulers.outsideAngular).pipe(Wn)}valueChanges(e={}){return IT(this.query,this.afs.schedulers.outsideAngular).pipe(se(t=>t.payload.docs.map(i=>e.idField?Ee(Q({},i.data()),{[e.idField]:i.id}):i.data())),Wn)}get(e){return Ge(this.query.get(e)).pipe(Wn)}add(e){return this.ref.add(e)}doc(e){return new $_(this.ref.doc(e),this.afs)}},ET=class{query;afs;constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return!e||e.length===0?H_(this.query,this.afs.schedulers.outsideAngular).pipe(Wn):H_(this.query,this.afs.schedulers.outsideAngular).pipe(se(t=>t.filter(i=>e.indexOf(i.type)>-1)),Ut(t=>t.length>0),Wn)}auditTrail(e){return this.stateChanges(e).pipe(Rl((t,i)=>[...t,...i],[]))}snapshotChanges(e){let t=_L(e);return yL(this.query,t,this.afs.schedulers.outsideAngular).pipe(Wn)}valueChanges(e={}){return IT(this.query,this.afs.schedulers.outsideAngular).pipe(se(i=>i.payload.docs.map(r=>e.idField?Q({[e.idField]:r.id},r.data()):r.data())),Wn)}get(e){return Ge(this.query.get(e)).pipe(Wn)}},vL=new oe("angularfire2.enableFirestorePersistence"),wL=new oe("angularfire2.firestore.persistenceSettings"),Kq=new oe("angularfire2.firestore.settings"),Qq=new oe("angularfire2.firestore.use-emulator");function bL(n,e=t=>t){return{query:e(n),ref:n}}var ln=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(t,i,r,s,o,a,l,c,d,f,m,v,C,A,S,j,Z){this.schedulers=l;let W=Xl(t,a,i),Y=d;f&&bE(W,a,m,C,A,S,v,j),[this.firestore,this.persistenceEnabled$]=Zu(`${W.name}.firestore`,"AngularFirestore",W.name,()=>{let ge=a.runOutsideAngular(()=>W.firestore());if(s&&ge.settings(s),Y&&ge.useEmulator(...Y),r&&!Ia(o)){let ae=()=>{try{return Ge(ge.enablePersistence(c||void 0).then(()=>!0,()=>!1))}catch(x){return typeof console<"u"&&console.warn(x),ce(!1)}};return[ge,a.runOutsideAngular(ae)]}else return[ge,ce(!1)]},[s,Y,r])}collection(t,i){let r;typeof t=="string"?r=this.firestore.collection(t):r=t;let{ref:s,query:o}=bL(r,i),a=this.schedulers.ngZone.run(()=>s);return new G_(a,o,this)}collectionGroup(t,i){let r=i||(o=>o),s=this.firestore.collectionGroup(t);return new ET(r(s),this)}doc(t){let i;typeof t=="string"?i=this.firestore.doc(t):i=t;let r=this.schedulers.ngZone.run(()=>i);return new $_(r,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(i){return new(i||n)(G(Ma),G(Aa,8),G(vL,8),G(Kq,8),G(bt),G(De),G(Qu),G(wL,8),G(Qq,8),G(Zr,8),G(gE,8),G(mE,8),G(yE,8),G(_E,8),G(vE,8),G(wE,8),G(Io,8))};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),CL=(()=>{class n{constructor(){wt.registerVersion("angularfire",Do.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:vL,useValue:!0},{provide:wL,useValue:t}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=we({type:n});static \u0275inj=ve({providers:[ln]})}return n})();var RL="firebasestorage.googleapis.com",OL="storageBucket",Zq=2*60*1e3,Yq=10*60*1e3,Jq=1e3;var Qt=class n extends ia{constructor(e,t,i=0){super(DT(e),`Firebase Storage: ${t} (${DT(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,n.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return DT(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},$t=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}($t||{});function DT(n){return"storage/"+n}function NT(){let n="An unknown error occurred, please check the error payload for server response.";return new Qt($t.UNKNOWN,n)}function Xq(n){return new Qt($t.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function eW(n){return new Qt($t.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function tW(){let n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Qt($t.UNAUTHENTICATED,n)}function nW(){return new Qt($t.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function iW(n){return new Qt($t.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function NL(){return new Qt($t.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function kL(){return new Qt($t.CANCELED,"User canceled the upload/download.")}function rW(n){return new Qt($t.INVALID_URL,"Invalid URL '"+n+"'.")}function sW(n){return new Qt($t.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function oW(){return new Qt($t.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+OL+"' property when initializing the app?")}function PL(){return new Qt($t.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function aW(){return new Qt($t.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function lW(){return new Qt($t.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function cW(n){return new Qt($t.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Tc(n){return new Qt($t.INVALID_ARGUMENT,n)}function FL(){return new Qt($t.APP_DELETED,"The Firebase app was deleted.")}function kT(n){return new Qt($t.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function gp(n,e){return new Qt($t.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function pp(n){throw new Qt($t.INTERNAL_ERROR,"Internal error: "+n)}var Ci=class n{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=n.makeFromUrl(e,t)}catch{return new n(e,"")}if(i.path==="")return i;throw sW(e)}static makeFromUrl(e,t){let i=null,r="([A-Za-z0-9.\\-_]+)";function s(Y){Y.path.charAt(Y.path.length-1)==="/"&&(Y.path_=Y.path_.slice(0,-1))}let o="(/(.*))?$",a=new RegExp("^gs://"+r+o,"i"),l={bucket:1,path:3};function c(Y){Y.path_=decodeURIComponent(Y.path)}let d="v[A-Za-z0-9_]+",f=t.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",v=new RegExp(`^https?://${f}/${d}/b/${r}/o${m}`,"i"),C={bucket:1,path:3},A=t===RL?"(?:storage.googleapis.com|storage.cloud.google.com)":t,S="([^?#]*)",j=new RegExp(`^https?://${A}/${r}/${S}`,"i"),W=[{regex:a,indices:l,postModify:s},{regex:v,indices:C,postModify:c},{regex:j,indices:{bucket:1,path:2},postModify:c}];for(let Y=0;Y<W.length;Y++){let ge=W[Y],ae=ge.regex.exec(e);if(ae){let x=ae[ge.indices.bucket],D=ae[ge.indices.path];D||(D=""),i=new n(x,D),ge.postModify(i);break}}if(i==null)throw rW(e);return i}},ST=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function uW(n,e,t){let i=1,r=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function d(...S){c||(c=!0,e.apply(null,S))}function f(S){r=setTimeout(()=>{r=null,n(v,l())},S)}function m(){s&&clearTimeout(s)}function v(S,...j){if(c){m();return}if(S){m(),d.call(null,S,...j);return}if(l()||o){m(),d.call(null,S,...j);return}i<64&&(i*=2);let W;a===1?(a=2,W=0):W=(i+Math.random())*1e3,f(W)}let C=!1;function A(S){C||(C=!0,m(),!c&&(r!==null?(S||(a=2),clearTimeout(r),f(0)):S||(a=1)))}return f(0),s=setTimeout(()=>{o=!0,A(!0)},t),A}function dW(n){n(!1)}function hW(n){return n!==void 0}function fW(n){return typeof n=="function"}function pW(n){return typeof n=="object"&&!Array.isArray(n)}function K_(n){return typeof n=="string"||n instanceof String}function EL(n){return PT()&&n instanceof Blob}function PT(){return typeof Blob<"u"}function MT(n,e,t,i){if(i<e)throw Tc(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw Tc(`Invalid value for '${n}'. Expected ${t} or less.`)}function Ya(n,e,t){let i=e;return t==null&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function LL(n){let e=encodeURIComponent,t="?";for(let i in n)if(n.hasOwnProperty(i)){let r=e(i)+"="+e(n[i]);t=t+r+"&"}return t=t.slice(0,-1),t}var Ud=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(Ud||{});function VL(n,e){let t=n>=500&&n<600,r=[408,429].indexOf(n)!==-1,s=e.indexOf(n)!==-1;return t||r||s}var AT=class{constructor(e,t,i,r,s,o,a,l,c,d,f,m=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=f,this.retry=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,C)=>{this.resolve_=v,this.reject_=C,this.start_()})}start_(){let e=(i,r)=>{if(r){i(!1,new Bd(!1,null,!0));return}let s=this.connectionFactory_();this.pendingConnection_=s;let o=a=>{let l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;let a=s.getErrorCode()===Ud.NO_ERROR,l=s.getStatus();if(!a||VL(l,this.additionalRetryCodes_)&&this.retry){let d=s.getErrorCode()===Ud.ABORT;i(!1,new Bd(!1,null,d));return}let c=this.successCodes_.indexOf(l)!==-1;i(!0,new Bd(c,s))})},t=(i,r)=>{let s=this.resolve_,o=this.reject_,a=r.connection;if(r.wasSuccessCode)try{let l=this.callback_(a,a.getResponse());hW(l)?s(l):s()}catch(l){o(l)}else if(a!==null){let l=NT();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(r.canceled){let l=this.appDelete_?FL():kL();o(l)}else{let l=NL();o(l)}};this.canceled_?t(!1,new Bd(!1,null,!0)):this.backoffId_=uW(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&dW(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},Bd=class{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}};function gW(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function mW(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function yW(n,e){e&&(n["X-Firebase-GMPID"]=e)}function _W(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function vW(n,e,t,i,r,s,o=!0){let a=LL(n.urlParams),l=n.url+a,c=Object.assign({},n.headers);return yW(c,e),gW(c,t),mW(c,s),_W(c,i),new AT(l,n.method,c,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,o)}function wW(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function bW(...n){let e=wW();if(e!==void 0){let t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}else{if(PT())return new Blob(n);throw new Qt($t.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function CW(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}function EW(n){if(typeof atob>"u")throw cW("base-64");return atob(n)}var Zi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},mp=class{constructor(e,t){this.data=e,this.contentType=t||null}};function FT(n,e){switch(n){case Zi.RAW:return new mp(BL(e));case Zi.BASE64:case Zi.BASE64URL:return new mp(UL(n,e));case Zi.DATA_URL:return new mp(DW(e),TW(e))}throw NT()}function BL(n){let e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{let s=i,o=n.charCodeAt(++t);i=65536|(s&1023)<<10|o&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function IW(n){let e;try{e=decodeURIComponent(n)}catch{throw gp(Zi.DATA_URL,"Malformed data URL.")}return BL(e)}function UL(n,e){switch(n){case Zi.BASE64:{let r=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(r||s)throw gp(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Zi.BASE64URL:{let r=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(r||s)throw gp(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=EW(e)}catch(r){throw r.message.includes("polyfill")?r:gp(n,"Invalid character found")}let i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}var W_=class{constructor(e){this.base64=!1,this.contentType=null;let t=e.match(/^data:([^,]+)?,/);if(t===null)throw gp(Zi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let i=t[1]||null;i!=null&&(this.base64=SW(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}};function DW(n){let e=new W_(n);return e.base64?UL(Zi.BASE64,e.rest):IW(e.rest)}function TW(n){return new W_(n).contentType}function SW(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}var jd=class n{constructor(e,t){let i=0,r="";EL(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(EL(this.data_)){let i=this.data_,r=CW(i,e,t);return r===null?null:new n(r)}else{let i=new Uint8Array(this.data_.buffer,e,t-e);return new n(i,!0)}}static getBlob(...e){if(PT()){let t=e.map(i=>i instanceof n?i.data_:i);return new n(bW.apply(null,t))}else{let t=e.map(o=>K_(o)?FT(Zi.RAW,o).data:o.data_),i=0;t.forEach(o=>{i+=o.byteLength});let r=new Uint8Array(i),s=0;return t.forEach(o=>{for(let a=0;a<o.length;a++)r[s++]=o[a]}),new n(r,!0)}}uploadData(){return this.data_}};function LT(n){let e;try{e=JSON.parse(n)}catch{return null}return pW(e)?e:null}function MW(n){if(n.length===0)return null;let e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function AW(n,e){let t=e.split("/").filter(i=>i.length>0).join("/");return n.length===0?t:n+"/"+t}function jL(n){let e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}function xW(n,e){return e}var Qn=class{constructor(e,t,i,r){this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||xW}},q_=null;function RW(n){return!K_(n)||n.length<2?n:jL(n)}function Q_(){if(q_)return q_;let n=[];n.push(new Qn("bucket")),n.push(new Qn("generation")),n.push(new Qn("metageneration")),n.push(new Qn("name","fullPath",!0));function e(s,o){return RW(o)}let t=new Qn("name");t.xform=e,n.push(t);function i(s,o){return o!==void 0?Number(o):o}let r=new Qn("size");return r.xform=i,n.push(r),n.push(new Qn("timeCreated")),n.push(new Qn("updated")),n.push(new Qn("md5Hash",null,!0)),n.push(new Qn("cacheControl",null,!0)),n.push(new Qn("contentDisposition",null,!0)),n.push(new Qn("contentEncoding",null,!0)),n.push(new Qn("contentLanguage",null,!0)),n.push(new Qn("contentType",null,!0)),n.push(new Qn("metadata","customMetadata",!0)),q_=n,q_}function OW(n,e){function t(){let i=n.bucket,r=n.fullPath,s=new Ci(i,r);return e._makeStorageReference(s)}Object.defineProperty(n,"ref",{get:t})}function NW(n,e,t){let i={};i.type="file";let r=t.length;for(let s=0;s<r;s++){let o=t[s];i[o.local]=o.xform(i,e[o.server])}return OW(i,n),i}function zL(n,e,t){let i=LT(e);return i===null?null:NW(n,i,t)}function kW(n,e,t,i){let r=LT(e);if(r===null||!K_(r.downloadTokens))return null;let s=r.downloadTokens;if(s.length===0)return null;let o=encodeURIComponent;return s.split(",").map(c=>{let d=n.bucket,f=n.fullPath,m="/b/"+o(d)+"/o/"+o(f),v=Ya(m,t,i),C=LL({alt:"media",token:c});return v+C})[0]}function VT(n,e){let t={},i=e.length;for(let r=0;r<i;r++){let s=e[r];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}var IL="prefixes",DL="items";function PW(n,e,t){let i={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[IL])for(let r of t[IL]){let s=r.replace(/\/$/,""),o=n._makeStorageReference(new Ci(e,s));i.prefixes.push(o)}if(t[DL])for(let r of t[DL]){let s=n._makeStorageReference(new Ci(e,r.name));i.items.push(s)}return i}function FW(n,e,t){let i=LT(t);return i===null?null:PW(n,e,i)}var ts=class{constructor(e,t,i,r){this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function Hs(n){if(!n)throw NT()}function Z_(n,e){function t(i,r){let s=zL(n,r,e);return Hs(s!==null),s}return t}function LW(n,e){function t(i,r){let s=FW(n,e,r);return Hs(s!==null),s}return t}function VW(n,e){function t(i,r){let s=zL(n,r,e);return Hs(s!==null),kW(s,r,n.host,n._protocol)}return t}function Hd(n){function e(t,i){let r;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?r=nW():r=tW():t.getStatus()===402?r=eW(n.bucket):t.getStatus()===403?r=iW(n.path):r=i,r.status=t.getStatus(),r.serverResponse=i.serverResponse,r}return e}function Y_(n){let e=Hd(n);function t(i,r){let s=e(i,r);return i.getStatus()===404&&(s=Xq(n.path)),s.serverResponse=r.serverResponse,s}return t}function $L(n,e,t){let i=e.fullServerUrl(),r=Ya(i,n.host,n._protocol),s="GET",o=n.maxOperationRetryTime,a=new ts(r,s,Z_(n,t),o);return a.errorHandler=Y_(e),a}function BW(n,e,t,i,r){let s={};e.isRoot?s.prefix="":s.prefix=e.path+"/",t&&t.length>0&&(s.delimiter=t),i&&(s.pageToken=i),r&&(s.maxResults=r);let o=e.bucketOnlyServerUrl(),a=Ya(o,n.host,n._protocol),l="GET",c=n.maxOperationRetryTime,d=new ts(a,l,LW(n,e.bucket),c);return d.urlParams=s,d.errorHandler=Hd(e),d}function UW(n,e,t){let i=e.fullServerUrl(),r=Ya(i,n.host,n._protocol),s="GET",o=n.maxOperationRetryTime,a=new ts(r,s,VW(n,t),o);return a.errorHandler=Y_(e),a}function jW(n,e,t,i){let r=e.fullServerUrl(),s=Ya(r,n.host,n._protocol),o="PATCH",a=VT(t,i),l={"Content-Type":"application/json; charset=utf-8"},c=n.maxOperationRetryTime,d=new ts(s,o,Z_(n,i),c);return d.headers=l,d.body=a,d.errorHandler=Y_(e),d}function zW(n,e){let t=e.fullServerUrl(),i=Ya(t,n.host,n._protocol),r="DELETE",s=n.maxOperationRetryTime;function o(l,c){}let a=new ts(i,r,o,s);return a.successCodes=[200,204],a.errorHandler=Y_(e),a}function $W(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function HL(n,e,t){let i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=$W(null,e)),i}function HW(n,e,t,i,r){let s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let W="";for(let Y=0;Y<2;Y++)W=W+Math.random().toString().slice(2);return W}let l=a();o["Content-Type"]="multipart/related; boundary="+l;let c=HL(e,i,r),d=VT(c,t),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,m=`\r
--`+l+"--",v=jd.getBlob(f,i,m);if(v===null)throw PL();let C={name:c.fullPath},A=Ya(s,n.host,n._protocol),S="POST",j=n.maxUploadRetryTime,Z=new ts(A,S,Z_(n,t),j);return Z.urlParams=C,Z.headers=o,Z.body=v.uploadData(),Z.errorHandler=Hd(e),Z}var zd=class{constructor(e,t,i,r){this.current=e,this.total=t,this.finalized=!!i,this.metadata=r||null}};function BT(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{Hs(!1)}return Hs(!!t&&(e||["active"]).indexOf(t)!==-1),t}function GW(n,e,t,i,r){let s=e.bucketOnlyServerUrl(),o=HL(e,i,r),a={name:o.fullPath},l=Ya(s,n.host,n._protocol),c="POST",d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},f=VT(o,t),m=n.maxUploadRetryTime;function v(A){BT(A);let S;try{S=A.getResponseHeader("X-Goog-Upload-URL")}catch{Hs(!1)}return Hs(K_(S)),S}let C=new ts(l,c,v,m);return C.urlParams=a,C.headers=d,C.body=f,C.errorHandler=Hd(e),C}function qW(n,e,t,i){let r={"X-Goog-Upload-Command":"query"};function s(c){let d=BT(c,["active","final"]),f=null;try{f=c.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Hs(!1)}f||Hs(!1);let m=Number(f);return Hs(!isNaN(m)),new zd(m,i.size(),d==="final")}let o="POST",a=n.maxUploadRetryTime,l=new ts(t,o,s,a);return l.headers=r,l.errorHandler=Hd(e),l}var TL=256*1024;function WW(n,e,t,i,r,s,o,a){let l=new zd(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=i.size()),i.size()!==l.total)throw aW();let c=l.total-l.current,d=c;r>0&&(d=Math.min(d,r));let f=l.current,m=f+d,v="";d===0?v="finalize":c===d?v="upload, finalize":v="upload";let C={"X-Goog-Upload-Command":v,"X-Goog-Upload-Offset":`${l.current}`},A=i.slice(f,m);if(A===null)throw PL();function S(Y,ge){let ae=BT(Y,["active","final"]),x=l.current+d,D=i.size(),M;return ae==="final"?M=Z_(e,s)(Y,ge):M=null,new zd(x,D,ae==="final",M)}let j="POST",Z=e.maxUploadRetryTime,W=new ts(t,j,S,Z);return W.headers=C,W.body=A.uploadData(),W.progressCallback=a||null,W.errorHandler=Hd(n),W}var GL={STATE_CHANGED:"state_changed"},oi={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function TT(n){switch(n){case"running":case"pausing":case"canceling":return oi.RUNNING;case"paused":return oi.PAUSED;case"success":return oi.SUCCESS;case"canceled":return oi.CANCELED;case"error":return oi.ERROR;default:return oi.ERROR}}var xT=class{constructor(e,t,i){if(fW(e)||t!=null||i!=null)this.next=e,this.error=t??void 0,this.complete=i??void 0;else{let s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}};function Vd(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}var SL=null,RT=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ud.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ud.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ud.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,r){if(this.sent_)throw pp("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),r!==void 0)for(let s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw pp("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw pp("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw pp("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw pp("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},OT=class extends RT{initXhr(){this.xhr_.responseType="text"}};function $s(){return SL?SL():new OT}var yp=class{constructor(e,t,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=i,this._mappings=Q_(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals($t.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{let s=this.isExponentialBackoffExpired();if(VL(r.status,[]))if(s)r=NL();else{this.sleepTime=Math.max(this.sleepTime*2,Jq),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals($t.CANCELED)?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){let e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,i])=>{switch(this._state){case"running":e(t,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,t)=>{let i=GW(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,$s,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){let e=this._uploadUrl;this._resolveToken((t,i)=>{let r=qW(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(r,$s,t,i);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){let e=TL*this._chunkMultiplier,t=new zd(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,s)=>{let o;try{o=WW(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}let a=this._ref.storage._makeRequest(o,$s,r,s,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){TL*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{let i=$L(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,$s,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{let i=HW(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,$s,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){let t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":let t=this._state==="paused";this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=kL(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){let e=TT(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,i,r){let s=new xT(t||void 0,i||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){let t=this._observers.indexOf(e);t!==-1&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(TT(this._state)){case oi.SUCCESS:Vd(this._resolve.bind(null,this.snapshot))();break;case oi.CANCELED:case oi.ERROR:let t=this._reject;Vd(t.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(TT(this._state)){case oi.RUNNING:case oi.PAUSED:e.next&&Vd(e.next.bind(e,this.snapshot))();break;case oi.SUCCESS:e.complete&&Vd(e.complete.bind(e))();break;case oi.CANCELED:case oi.ERROR:e.error&&Vd(e.error.bind(e,this._error))();break;default:e.error&&Vd(e.error.bind(e,this._error))()}}resume(){let e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){let e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){let e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}};var $d=class n{constructor(e,t){this._service=e,t instanceof Ci?this._location=t:this._location=Ci.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new n(e,t)}get root(){let e=new Ci(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return jL(this._location.path)}get storage(){return this._service}get parent(){let e=MW(this._location.path);if(e===null)return null;let t=new Ci(this._location.bucket,e);return new n(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw kT(e)}};function KW(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new yp(n,new jd(e),t)}function QW(n){let e={prefixes:[],items:[]};return qL(n,e).then(()=>e)}function qL(n,e,t){return F(this,null,function*(){let r=yield WL(n,{pageToken:t});e.prefixes.push(...r.prefixes),e.items.push(...r.items),r.nextPageToken!=null&&(yield qL(n,e,r.nextPageToken))})}function WL(n,e){e!=null&&typeof e.maxResults=="number"&&MT("options.maxResults",1,1e3,e.maxResults);let t=e||{},i=BW(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(i,$s)}function ZW(n){n._throwIfRoot("getMetadata");let e=$L(n.storage,n._location,Q_());return n.storage.makeRequestWithTokens(e,$s)}function YW(n,e){n._throwIfRoot("updateMetadata");let t=jW(n.storage,n._location,e,Q_());return n.storage.makeRequestWithTokens(t,$s)}function JW(n){n._throwIfRoot("getDownloadURL");let e=UW(n.storage,n._location,Q_());return n.storage.makeRequestWithTokens(e,$s).then(t=>{if(t===null)throw lW();return t})}function XW(n){n._throwIfRoot("deleteObject");let e=zW(n.storage,n._location);return n.storage.makeRequestWithTokens(e,$s)}function KL(n,e){let t=AW(n._location.path,e),i=new Ci(n._location.bucket,t);return new $d(n.storage,i)}function eK(n){return/^[A-Za-z]+:\/\//.test(n)}function tK(n,e){return new $d(n,e)}function QL(n,e){if(n instanceof _p){let t=n;if(t._bucket==null)throw oW();let i=new $d(t,t._bucket);return e!=null?QL(i,e):i}else return e!==void 0?KL(n,e):n}function nK(n,e){if(e&&eK(e)){if(n instanceof _p)return tK(n,e);throw Tc("To use ref(service, url), the first argument must be a Storage instance.")}else return QL(n,e)}function ML(n,e){let t=e?.[OL];return t==null?null:Ci.makeFromBucketSpec(t,n)}function iK(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";let{mockUserToken:r}=i;r&&(n._overrideAuthToken=typeof r=="string"?r:Kg(r,n.app.options.projectId))}var _p=class{constructor(e,t,i,r,s){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=RL,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Zq,this._maxUploadRetryTime=Yq,this._requests=new Set,r!=null?this._bucket=Ci.makeFromBucketSpec(r,this._host):this._bucket=ML(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ci.makeFromBucketSpec(this._url,e):this._bucket=ML(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){MT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){MT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return F(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let t=yield e.getToken();if(t!==null)return t.accessToken}return null})}_getAppCheckToken(){return F(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new $d(this,e)}_makeRequest(e,t,i,r,s=!0){if(this._deleted)return new ST(FL());{let o=vW(e,this._appId,i,r,t,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,t){return F(this,null,function*(){let[i,r]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,r).getPromise()})}},AL="@firebase/storage",xL="0.12.5";var rK="storage";function ZL(n,e,t){return n=tt(n),KW(n,e,t)}function YL(n){return n=tt(n),ZW(n)}function JL(n,e){return n=tt(n),YW(n,e)}function XL(n,e){return n=tt(n),WL(n,e)}function eV(n){return n=tt(n),QW(n)}function tV(n){return n=tt(n),JW(n)}function nV(n){return n=tt(n),XW(n)}function UT(n,e){return n=tt(n),nK(n,e)}function iV(n,e){return KL(n,e)}function rV(n,e,t,i={}){iK(n,e,t,i)}function sK(n,{instanceIdentifier:e}){let t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new _p(t,i,r,e,Zg)}function oK(){Ui(new Bn(rK,sK,"PUBLIC").setMultipleInstances(!0)),Un(AL,xL,""),Un(AL,xL,"esm2017")}oK();var Gd=class{constructor(e,t,i){this._delegate=e,this.task=t,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}};var J_=class{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Gd(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(i=>{if(e)return e(new Gd(i,this,this._ref))},t)}on(e,t,i,r){let s;return t&&(typeof t=="function"?s=o=>t(new Gd(o,this,this._ref)):s={next:t.next?o=>t.next(new Gd(o,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,s,i||void 0,r||void 0)}},X_=class{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new Sc(e,this._service))}get items(){return this._delegate.items.map(e=>new Sc(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}};var Sc=class n{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){let t=iV(this._delegate,e);return new n(t,this.storage)}get root(){return new n(this._delegate.root,this.storage)}get parent(){let e=this._delegate.parent;return e==null?null:new n(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new J_(ZL(this._delegate,e,t),this)}putString(e,t=Zi.RAW,i){this._throwIfRoot("putString");let r=FT(t,e),s=Object.assign({},i);return s.contentType==null&&r.contentType!=null&&(s.contentType=r.contentType),new J_(new yp(this._delegate,new jd(r.data,!0),s),this)}listAll(){return eV(this._delegate).then(e=>new X_(e,this.storage))}list(e){return XL(this._delegate,e||void 0).then(t=>new X_(t,this.storage))}getMetadata(){return YL(this._delegate)}updateMetadata(e){return JL(this._delegate,e)}getDownloadURL(){return tV(this._delegate)}delete(){return this._throwIfRoot("delete"),nV(this._delegate)}_throwIfRoot(e){if(this._delegate._location.path==="")throw kT(e)}};var ev=class{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(sV(e))throw Tc("ref() expected a child path but got a URL, use refFromURL instead.");return new Sc(UT(this._delegate,e),this)}refFromURL(e){if(!sV(e))throw Tc("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ci.makeFromUrl(e,this._delegate.host)}catch{throw Tc("refFromUrl() expected a valid full URL but got an invalid one.")}return new Sc(UT(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,i={}){rV(this._delegate,e,t,i)}};function sV(n){return/^[A-Za-z]+:\/\//.test(n)}var aK="@firebase/storage-compat",lK="0.3.8";var cK="storage-compat";function uK(n,{instanceIdentifier:e}){let t=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:e});return new ev(t,i)}function dK(n){let e={TaskState:oi,TaskEvent:GL,StringFormat:Zi,Storage:ev,Reference:Sc};n.INTERNAL.registerComponent(new Bn(cK,uK,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion(aK,lK)}dK(wt);function hK(n){return new Se(e=>{let t=o=>e.next(o),i=o=>e.error(o),r=()=>e.complete();t(n.snapshot);let s=n.on("state_changed",t);return n.then(o=>{t(o),r()},o=>{t(n.snapshot),i(o)}),function(){s()}}).pipe(ob(0))}function oV(n){let e=hK(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(se(t=>t.bytesTransferred/t.totalBytes*100))}}function tv(n){return{getDownloadURL:()=>ce(void 0).pipe(oE,Le(()=>n.getDownloadURL()),Wn),getMetadata:()=>ce(void 0).pipe(oE,Le(()=>n.getMetadata()),Wn),delete:()=>Ge(n.delete()),child:e=>tv(n.child(e)),updateMetadata:e=>Ge(n.updateMetadata(e)),put:(e,t)=>{let i=n.put(e,t);return oV(i)},putString:(e,t,i)=>{let r=n.putString(e,t,i);return oV(r)},list:e=>Ge(n.list(e)),listAll:()=>Ge(n.listAll())}}var fK=new oe("angularfire2.storageBucket"),pK=new oe("angularfire2.storage.maxUploadRetryTime"),gK=new oe("angularfire2.storage.maxOperationRetryTime"),mK=new oe("angularfire2.storage.use-emulator"),Mc=(()=>{class n{storage;constructor(t,i,r,s,o,a,l,c,d,f){let m=Xl(t,o,i);this.storage=Zu(`${m.name}.storage.${r}`,"AngularFireStorage",m.name,()=>{let v=o.runOutsideAngular(()=>m.storage(r||void 0)),C=d;return C&&v.useEmulator(...C),l&&v.setMaxUploadRetryTime(l),c&&v.setMaxOperationRetryTime(c),v},[l,c])}ref(t){return tv(this.storage.ref(t))}refFromURL(t){return tv(this.storage.refFromURL(t))}upload(t,i,r){let s=this.storage.ref(t);return tv(s).put(i,r)}static \u0275fac=function(i){return new(i||n)(G(Ma),G(Aa,8),G(fK,8),G(bt),G(De),G(Qu),G(pK,8),G(gK,8),G(mK,8),G(Io,8))};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})();var yK=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=we({type:n});static \u0275inj=ve({})}return n})(),aV=(()=>{class n{constructor(){wt.registerVersion("angularfire",Do.full,"gcs-compat")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=we({type:n});static \u0275inj=ve({providers:[Mc],imports:[yK]})}return n})();var mV=(()=>{let e=class e{constructor(i,r){this._renderer=i,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(i,r){this._renderer.setProperty(this._elementRef.nativeElement,i,r)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}};e.\u0275fac=function(r){return new(r||e)(B(ei),B(ht))},e.\u0275dir=Ze({type:e});let n=e;return n})(),yV=(()=>{let e=class e extends mV{};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=pi(e)))(s||e)}})(),e.\u0275dir=Ze({type:e,features:[hn]});let n=e;return n})(),uv=new oe("");var _K={provide:uv,useExisting:Es(()=>Pn),multi:!0};function vK(){let n=As()?As().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var wK=new oe(""),Pn=(()=>{let e=class e extends mV{constructor(i,r,s){super(i,r),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!vK())}writeValue(i){let r=i??"";this.setProperty("value",r)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}};e.\u0275fac=function(r){return new(r||e)(B(ei),B(ht),B(wK,8))},e.\u0275dir=Ze({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,s){r&1&&re("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[wa([_K]),hn]});let n=e;return n})();function Ja(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function _V(n){return n!=null&&typeof n.length=="number"}var dv=new oe(""),hv=new oe(""),bK=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,xt=class{static min(e){return CK(e)}static max(e){return EK(e)}static required(e){return IK(e)}static requiredTrue(e){return DK(e)}static email(e){return TK(e)}static minLength(e){return SK(e)}static maxLength(e){return MK(e)}static pattern(e){return AK(e)}static nullValidator(e){return vV(e)}static compose(e){return DV(e)}static composeAsync(e){return TV(e)}};function CK(n){return e=>{if(Ja(e.value)||Ja(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function EK(n){return e=>{if(Ja(e.value)||Ja(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function IK(n){return Ja(n.value)?{required:!0}:null}function DK(n){return n.value===!0?null:{required:!0}}function TK(n){return Ja(n.value)||bK.test(n.value)?null:{email:!0}}function SK(n){return e=>Ja(e.value)||!_V(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function MK(n){return e=>_V(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function AK(n){if(!n)return vV;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(Ja(i.value))return null;let r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}function vV(n){return null}function wV(n){return n!=null}function bV(n){return ba(n)?Ge(n):n}function CV(n){let e={};return n.forEach(t=>{e=t!=null?Q(Q({},e),t):e}),Object.keys(e).length===0?null:e}function EV(n,e){return e.map(t=>t(n))}function xK(n){return!n.validate}function IV(n){return n.map(e=>xK(e)?e:t=>e.validate(t))}function DV(n){if(!n)return null;let e=n.filter(wV);return e.length==0?null:function(t){return CV(EV(t,e))}}function WT(n){return n!=null?DV(IV(n)):null}function TV(n){if(!n)return null;let e=n.filter(wV);return e.length==0?null:function(t){let i=EV(t,e).map(bV);return ib(i).pipe(se(CV))}}function KT(n){return n!=null?TV(IV(n)):null}function lV(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function SV(n){return n._rawValidators}function MV(n){return n._rawAsyncValidators}function zT(n){return n?Array.isArray(n)?n:[n]:[]}function iv(n,e){return Array.isArray(n)?n.includes(e):n===e}function cV(n,e){let t=zT(e);return zT(n).forEach(r=>{iv(t,r)||t.push(r)}),t}function uV(n,e){return zT(e).filter(t=>!iv(n,t))}var rv=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=WT(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=KT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Fo=class extends rv{get formDirective(){return null}get path(){return null}},xc=class extends rv{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},sv=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},RK={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Vpe=Ee(Q({},RK),{"[class.ng-submitted]":"isSubmitted"}),ai=(()=>{let e=class e extends sv{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(B(xc,2))},e.\u0275dir=Ze({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,s){r&2&&jr("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[hn]});let n=e;return n})(),ki=(()=>{let e=class e extends sv{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(B(Fo,10))},e.\u0275dir=Ze({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,s){r&2&&jr("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[hn]});let n=e;return n})();var vp="VALID",nv="INVALID",qd="PENDING",wp="DISABLED",Xa=class{},ov=class extends Xa{constructor(e,t){super(),this.value=e,this.source=t}},Cp=class extends Xa{constructor(e,t){super(),this.pristine=e,this.source=t}},Ep=class extends Xa{constructor(e,t){super(),this.touched=e,this.source=t}},Wd=class extends Xa{constructor(e,t){super(),this.status=e,this.source=t}},$T=class extends Xa{constructor(e){super(),this.source=e}},HT=class extends Xa{constructor(e){super(),this.source=e}};function QT(n){return(fv(n)?n.validators:n)||null}function OK(n){return Array.isArray(n)?WT(n):n||null}function ZT(n,e){return(fv(e)?e.asyncValidators:n)||null}function NK(n){return Array.isArray(n)?KT(n):n||null}function fv(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function AV(n,e,t){let i=n.controls;if(!(e?Object.keys(i):i).length)throw new ne(1e3,"");if(!i[t])throw new ne(1001,"")}function xV(n,e,t){n._forEachChild((i,r)=>{if(t[r]===void 0)throw new ne(1002,"")})}var Kd=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Gu(()=>this.statusReactive()),this.statusReactive=xi(void 0),this._pristine=Gu(()=>this.pristineReactive()),this.pristineReactive=xi(!0),this._touched=Gu(()=>this.touchedReactive()),this.touchedReactive=xi(!1),this._events=new ke,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return gr(this.statusReactive)}set status(e){gr(()=>this.statusReactive.set(e))}get valid(){return this.status===vp}get invalid(){return this.status===nv}get pending(){return this.status==qd}get disabled(){return this.status===wp}get enabled(){return this.status!==wp}get pristine(){return gr(this.pristineReactive)}set pristine(e){gr(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return gr(this.touchedReactive)}set touched(e){gr(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(cV(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(cV(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(uV(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(uV(e,this._rawAsyncValidators))}hasValidator(e){return iv(this._rawValidators,e)}hasAsyncValidator(e){return iv(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(Ee(Q({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new Ep(!0,i))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:i})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i),t&&e.emitEvent!==!1&&this._events.next(new Ep(!1,i))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(Ee(Q({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new Cp(!1,i))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),t&&e.emitEvent!==!1&&this._events.next(new Cp(!0,i))}markAsPending(e={}){this.status=qd;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Wd(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(Ee(Q({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=wp,this.errors=null,this._forEachChild(r=>{r.disable(Ee(Q({},e),{onlySelf:!0}))}),this._updateValue();let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ov(this.value,i)),this._events.next(new Wd(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Ee(Q({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=vp,this._forEachChild(i=>{i.enable(Ee(Q({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Ee(Q({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===vp||this.status===qd)&&this._runAsyncValidator(i,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ov(this.value,t)),this._events.next(new Wd(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(Ee(Q({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?wp:vp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=qd,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let i=bV(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,i){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||i)&&this._events.next(new Wd(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,i)}_initObservables(){this.valueChanges=new xe,this.statusChanges=new xe}_calculateStatus(){return this._allControlsDisabled()?wp:this.errors?nv:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(qd)?qd:this._anyControlsHaveStatus(nv)?nv:vp}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),r&&this._events.next(new Cp(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Ep(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){fv(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=OK(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=NK(this._rawAsyncValidators)}},Qd=class extends Kd{constructor(e,t,i){super(QT(t),ZT(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){xV(this,!0,e),Object.keys(e).forEach(i=>{AV(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>i._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var GT=class extends Qd{};var Ip=new oe("CallSetDisabledState",{providedIn:"root",factory:()=>pv}),pv="always";function RV(n,e){return[...e.path,n]}function av(n,e,t=pv){YT(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),PK(n,e),LK(n,e),FK(n,e),kK(n,e)}function dV(n,e,t=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),cv(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function lv(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function kK(n,e){if(e.valueAccessor.setDisabledState){let t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function YT(n,e){let t=SV(n);e.validator!==null?n.setValidators(lV(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let i=MV(n);e.asyncValidator!==null?n.setAsyncValidators(lV(i,e.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();lv(e._rawValidators,r),lv(e._rawAsyncValidators,r)}function cv(n,e){let t=!1;if(n!==null){if(e.validator!==null){let r=SV(n);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==e.validator);s.length!==r.length&&(t=!0,n.setValidators(s))}}if(e.asyncValidator!==null){let r=MV(n);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==e.asyncValidator);s.length!==r.length&&(t=!0,n.setAsyncValidators(s))}}}let i=()=>{};return lv(e._rawValidators,i),lv(e._rawAsyncValidators,i),t}function PK(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&OV(n,e)})}function FK(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&OV(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function OV(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function LK(n,e){let t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function NV(n,e){n==null,YT(n,e)}function VK(n,e){return cv(n,e)}function kV(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function BK(n){return Object.getPrototypeOf(n.constructor)===yV}function PV(n,e){n._syncPendingControls(),e.forEach(t=>{let i=t.control;i.updateOn==="submit"&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function FV(n,e){if(!e)return null;Array.isArray(e);let t,i,r;return e.forEach(s=>{s.constructor===Pn?t=s:BK(s)?i=s:r=s}),r||i||t||null}function UK(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var jK={provide:Fo,useExisting:Es(()=>Rc)},bp=Promise.resolve(),Rc=(()=>{let e=class e extends Fo{get submitted(){return gr(this.submittedReactive)}constructor(i,r,s){super(),this.callSetDisabledState=s,this._submitted=Gu(()=>this.submittedReactive()),this.submittedReactive=xi(!1),this._directives=new Set,this.ngSubmit=new xe,this.form=new Qd({},WT(i),KT(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(i){bp.then(()=>{let r=this._findContainer(i.path);i.control=r.registerControl(i.name,i.control),av(i.control,i,this.callSetDisabledState),i.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(i)})}getControl(i){return this.form.get(i.path)}removeControl(i){bp.then(()=>{let r=this._findContainer(i.path);r&&r.removeControl(i.name),this._directives.delete(i)})}addFormGroup(i){bp.then(()=>{let r=this._findContainer(i.path),s=new Qd({});NV(s,i),r.registerControl(i.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(i){bp.then(()=>{let r=this._findContainer(i.path);r&&r.removeControl(i.name)})}getFormGroup(i){return this.form.get(i.path)}updateModel(i,r){bp.then(()=>{this.form.get(i.path).setValue(r)})}setValue(i){this.control.setValue(i)}onSubmit(i){return this.submittedReactive.set(!0),PV(this.form,this._directives),this.ngSubmit.emit(i),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(i){return i.pop(),i.length?this.form.get(i):this.form}};e.\u0275fac=function(r){return new(r||e)(B(dv,10),B(hv,10),B(Ip,8))},e.\u0275dir=Ze({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,s){r&1&&re("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[wa([jK]),hn]});let n=e;return n})();function hV(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function fV(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Ac=class extends Kd{constructor(e=null,t,i){super(QT(t),ZT(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),fv(t)&&(t.nonNullable||t.initialValueIsDefault)&&(fV(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){hV(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){hV(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){fV(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var zK=n=>n instanceof Ac;var $K={provide:xc,useExisting:Es(()=>Lo)},pV=Promise.resolve(),Lo=(()=>{let e=class e extends xc{constructor(i,r,s,o,a,l){super(),this._changeDetectorRef=a,this.callSetDisabledState=l,this.control=new Ac,this._registered=!1,this.name="",this.update=new xe,this._parent=i,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=FV(this,o)}ngOnChanges(i){if(this._checkForErrors(),!this._registered||"name"in i){if(this._registered&&(this._checkName(),this.formDirective)){let r=i.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in i&&this._updateDisabled(i),kV(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){av(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(i){pV.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(i){let r=i.isDisabled.currentValue,s=r!==0&&Ue(r);pV.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(i){return this._parent?RV(i,this._parent):[i]}};e.\u0275fac=function(r){return new(r||e)(B(Fo,9),B(dv,10),B(hv,10),B(uv,10),B(Ri,8),B(Ip,8))},e.\u0275dir=Ze({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[wa([$K]),hn,Dn]});let n=e;return n})(),Pi=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Ze({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let n=e;return n})(),HK={provide:uv,useExisting:Es(()=>JT),multi:!0},JT=(()=>{let e=class e extends yV{writeValue(i){let r=i??"";this.setProperty("value",r)}registerOnChange(i){this.onChange=r=>{i(r==""?null:parseFloat(r))}}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=pi(e)))(s||e)}})(),e.\u0275dir=Ze({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,s){r&1&&re("input",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},features:[wa([HK]),hn]});let n=e;return n})();var LV=new oe("");var GK={provide:Fo,useExisting:Es(()=>Vo)},Vo=(()=>{let e=class e extends Fo{get submitted(){return gr(this._submittedReactive)}set submitted(i){this._submittedReactive.set(i)}constructor(i,r,s){super(),this.callSetDisabledState=s,this._submitted=Gu(()=>this._submittedReactive()),this._submittedReactive=xi(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new xe,this._setValidators(i),this._setAsyncValidators(r)}ngOnChanges(i){this._checkFormPresent(),i.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(cv(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(i){let r=this.form.get(i.path);return av(r,i,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(i),r}getControl(i){return this.form.get(i.path)}removeControl(i){dV(i.control||null,i,!1),UK(this.directives,i)}addFormGroup(i){this._setUpFormContainer(i)}removeFormGroup(i){this._cleanUpFormContainer(i)}getFormGroup(i){return this.form.get(i.path)}addFormArray(i){this._setUpFormContainer(i)}removeFormArray(i){this._cleanUpFormContainer(i)}getFormArray(i){return this.form.get(i.path)}updateModel(i,r){this.form.get(i.path).setValue(r)}onSubmit(i){return this._submittedReactive.set(!0),PV(this.form,this.directives),this.ngSubmit.emit(i),this.form._events.next(new $T(this.control)),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this._submittedReactive.set(!1),this.form._events.next(new HT(this.form))}_updateDomValue(){this.directives.forEach(i=>{let r=i.control,s=this.form.get(i.path);r!==s&&(dV(r||null,i),zK(s)&&(av(s,i,this.callSetDisabledState),i.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(i){let r=this.form.get(i.path);NV(r,i),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(i){if(this.form){let r=this.form.get(i.path);r&&VK(r,i)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){YT(this.form,this),this._oldForm&&cv(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(r){return new(r||e)(B(dv,10),B(hv,10),B(Ip,8))},e.\u0275dir=Ze({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,s){r&1&&re("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[wa([GK]),hn,Dn]});let n=e;return n})();var qK={provide:xc,useExisting:Es(()=>Bo)},Bo=(()=>{let e=class e extends xc{set isDisabled(i){}constructor(i,r,s,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new xe,this._ngModelWarningSent=!1,this._parent=i,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=FV(this,o)}ngOnChanges(i){this._added||this._setUpControl(),kV(i,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}get path(){return RV(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(r){return new(r||e)(B(Fo,13),B(dv,10),B(hv,10),B(uv,10),B(LV,8))},e.\u0275dir=Ze({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[wa([qK]),hn,Dn]});let n=e;return n})();var VV=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({});let n=e;return n})(),qT=class extends Kd{constructor(e,t,i){super(QT(t),ZT(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){xV(this,!1,e),e.forEach((i,r)=>{AV(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>i._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function gV(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var el=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let i=new e;return i.useNonNullable=!0,i}group(i,r=null){let s=this._reduceControls(i),o={};return gV(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Qd(s,o)}record(i,r=null){let s=this._reduceControls(i);return new GT(s,r)}control(i,r,s){let o={};return this.useNonNullable?(gV(r)?o=r:(o.validators=r,o.asyncValidators=s),new Ac(i,Ee(Q({},o),{nonNullable:!0}))):new Ac(i,r,s)}array(i,r,s){let o=i.map(a=>this._createControl(a));return new qT(o,r,s)}_reduceControls(i){let r={};return Object.keys(i).forEach(s=>{r[s]=this._createControl(i[s])}),r}_createControl(i){if(i instanceof Ac)return i;if(i instanceof Kd)return i;if(Array.isArray(i)){let r=i[0],s=i.length>1?i[1]:null,o=i.length>2?i[2]:null;return this.control(r,s,o)}else return this.control(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var BV=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:Ip,useValue:i.callSetDisabledState??pv}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({imports:[VV]});let n=e;return n})(),UV=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:LV,useValue:i.warnOnNgModelWithFormControl??"always"},{provide:Ip,useValue:i.callSetDisabledState??pv}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({imports:[VV]});let n=e;return n})();var WK=["*"],Tp=class{_clearListeners(){for(let e of this._listeners)e.remove();this._listeners=[]}constructor(e){this._ngZone=e,this._pending=[],this._listeners=[],this._targetStream=new kt(void 0)}getLazyEmitter(e){return this._targetStream.pipe(Le(t=>{let i=new Se(r=>{if(!t){this._pending.push({observable:i,observer:r});return}let s=t.addListener(e,o=>{this._ngZone.run(()=>r.next(o))});if(!s){r.complete();return}return this._listeners.push(s),()=>s.remove()});return i}))}setTarget(e){let t=this._targetStream.value;e!==t&&(t&&(this._clearListeners(),this._pending=[]),this._targetStream.next(e),this._pending.forEach(i=>i.observable.subscribe(i.observer)),this._pending=[])}destroy(){this._clearListeners(),this._pending=[],this._targetStream.complete()}},Dp={center:{lat:37.421995,lng:-122.084092},zoom:17,mapTypeId:"roadmap"},jV="500px",zV="500px",gv=(()=>{let e=class e{set center(i){this._center=i}set zoom(i){this._zoom=i}set options(i){this._options=i||Dp}constructor(i,r,s){if(this._elementRef=i,this._ngZone=r,this._eventManager=new Tp(K(De)),this.height=jV,this.width=zV,this._options=Dp,this.mapInitialized=new xe,this.authFailure=new xe,this.boundsChanged=this._eventManager.getLazyEmitter("bounds_changed"),this.centerChanged=this._eventManager.getLazyEmitter("center_changed"),this.mapClick=this._eventManager.getLazyEmitter("click"),this.mapDblclick=this._eventManager.getLazyEmitter("dblclick"),this.mapDrag=this._eventManager.getLazyEmitter("drag"),this.mapDragend=this._eventManager.getLazyEmitter("dragend"),this.mapDragstart=this._eventManager.getLazyEmitter("dragstart"),this.headingChanged=this._eventManager.getLazyEmitter("heading_changed"),this.idle=this._eventManager.getLazyEmitter("idle"),this.maptypeidChanged=this._eventManager.getLazyEmitter("maptypeid_changed"),this.mapMousemove=this._eventManager.getLazyEmitter("mousemove"),this.mapMouseout=this._eventManager.getLazyEmitter("mouseout"),this.mapMouseover=this._eventManager.getLazyEmitter("mouseover"),this.projectionChanged=this._eventManager.getLazyEmitter("projection_changed"),this.mapRightclick=this._eventManager.getLazyEmitter("rightclick"),this.tilesloaded=this._eventManager.getLazyEmitter("tilesloaded"),this.tiltChanged=this._eventManager.getLazyEmitter("tilt_changed"),this.zoomChanged=this._eventManager.getLazyEmitter("zoom_changed"),this._isBrowser=Wi(s),this._isBrowser){let o=window;o.google,this._existingAuthFailureCallback=o.gm_authFailure,o.gm_authFailure=()=>{this._existingAuthFailureCallback&&this._existingAuthFailureCallback(),this.authFailure.emit()}}}ngOnChanges(i){(i.height||i.width)&&this._setSize();let r=this.googleMap;r&&(i.options&&r.setOptions(this._combineOptions()),i.center&&this._center&&r.setCenter(this._center),i.zoom&&this._zoom!=null&&r.setZoom(this._zoom),i.mapTypeId&&this.mapTypeId&&r.setMapTypeId(this.mapTypeId))}ngOnInit(){this._isBrowser&&(this._mapEl=this._elementRef.nativeElement.querySelector(".map-container"),this._setSize(),google.maps.Map?this._initialize(google.maps.Map):this._ngZone.runOutsideAngular(()=>{google.maps.importLibrary("maps").then(i=>this._initialize(i.Map))}))}_initialize(i){this._ngZone.runOutsideAngular(()=>{this.googleMap=new i(this._mapEl,this._combineOptions()),this._eventManager.setTarget(this.googleMap),this.mapInitialized.emit(this.googleMap)})}ngOnDestroy(){if(this.mapInitialized.complete(),this._eventManager.destroy(),this._isBrowser){let i=window;i.gm_authFailure=this._existingAuthFailureCallback}}fitBounds(i,r){this._assertInitialized(),this.googleMap.fitBounds(i,r)}panBy(i,r){this._assertInitialized(),this.googleMap.panBy(i,r)}panTo(i){this._assertInitialized(),this.googleMap.panTo(i)}panToBounds(i,r){this._assertInitialized(),this.googleMap.panToBounds(i,r)}getBounds(){return this._assertInitialized(),this.googleMap.getBounds()||null}getCenter(){return this._assertInitialized(),this.googleMap.getCenter()}getClickableIcons(){return this._assertInitialized(),this.googleMap.getClickableIcons()}getHeading(){return this._assertInitialized(),this.googleMap.getHeading()}getMapTypeId(){return this._assertInitialized(),this.googleMap.getMapTypeId()}getProjection(){return this._assertInitialized(),this.googleMap.getProjection()||null}getStreetView(){return this._assertInitialized(),this.googleMap.getStreetView()}getTilt(){return this._assertInitialized(),this.googleMap.getTilt()}getZoom(){return this._assertInitialized(),this.googleMap.getZoom()}get controls(){return this._assertInitialized(),this.googleMap.controls}get data(){return this._assertInitialized(),this.googleMap.data}get mapTypes(){return this._assertInitialized(),this.googleMap.mapTypes}get overlayMapTypes(){return this._assertInitialized(),this.googleMap.overlayMapTypes}_resolveMap(){return this.googleMap?Promise.resolve(this.googleMap):this.mapInitialized.pipe(tn(1)).toPromise()}_setSize(){if(this._mapEl){let i=this._mapEl.style;i.height=this.height===null?"":$V(this.height)||jV,i.width=this.width===null?"":$V(this.width)||zV}}_combineOptions(){let i=this._options||{};return Ee(Q({},i),{center:this._center||i.center||Dp.center,zoom:this._zoom??i.zoom??Dp.zoom,mapTypeId:this.mapTypeId||i.mapTypeId||Dp.mapTypeId,mapId:this.mapId||i.mapId})}_assertInitialized(){this.googleMap}};e.\u0275fac=function(r){return new(r||e)(B(ht),B(De),B(bt))},e.\u0275cmp=Oe({type:e,selectors:[["google-map"]],inputs:{height:"height",width:"width",mapId:"mapId",mapTypeId:"mapTypeId",center:"center",zoom:"zoom",options:"options"},outputs:{mapInitialized:"mapInitialized",authFailure:"authFailure",boundsChanged:"boundsChanged",centerChanged:"centerChanged",mapClick:"mapClick",mapDblclick:"mapDblclick",mapDrag:"mapDrag",mapDragend:"mapDragend",mapDragstart:"mapDragstart",headingChanged:"headingChanged",idle:"idle",maptypeidChanged:"maptypeidChanged",mapMousemove:"mapMousemove",mapMouseout:"mapMouseout",mapMouseover:"mapMouseover",projectionChanged:"projectionChanged",mapRightclick:"mapRightclick",tilesloaded:"tilesloaded",tiltChanged:"tiltChanged",zoomChanged:"zoomChanged"},exportAs:["googleMap"],standalone:!0,features:[Dn,Pt],ngContentSelectors:WK,decls:2,vars:0,consts:[[1,"map-container"]],template:function(r,s){r&1&&(Gi(),ie(0,"div",0),mi(1))},encapsulation:2,changeDetection:0});let n=e;return n})(),KK=/([A-Za-z%]+)$/;function $V(n){return n==null?"":KK.test(n)?n:`${n}px`}var HV=(()=>{let e=class e{set options(i){this._options.next(i||{})}set center(i){this._center.next(i)}set radius(i){this._radius.next(i)}constructor(i,r){this._map=i,this._ngZone=r,this._eventManager=new Tp(K(De)),this._options=new kt({}),this._center=new kt(void 0),this._radius=new kt(void 0),this._destroyed=new ke,this.centerChanged=this._eventManager.getLazyEmitter("center_changed"),this.circleClick=this._eventManager.getLazyEmitter("click"),this.circleDblclick=this._eventManager.getLazyEmitter("dblclick"),this.circleDrag=this._eventManager.getLazyEmitter("drag"),this.circleDragend=this._eventManager.getLazyEmitter("dragend"),this.circleDragstart=this._eventManager.getLazyEmitter("dragstart"),this.circleMousedown=this._eventManager.getLazyEmitter("mousedown"),this.circleMousemove=this._eventManager.getLazyEmitter("mousemove"),this.circleMouseout=this._eventManager.getLazyEmitter("mouseout"),this.circleMouseover=this._eventManager.getLazyEmitter("mouseover"),this.circleMouseup=this._eventManager.getLazyEmitter("mouseup"),this.radiusChanged=this._eventManager.getLazyEmitter("radius_changed"),this.circleRightclick=this._eventManager.getLazyEmitter("rightclick"),this.circleInitialized=new xe}ngOnInit(){this._map._isBrowser&&this._combineOptions().pipe(tn(1)).subscribe(i=>{google.maps.Circle&&this._map.googleMap?this._initialize(this._map.googleMap,google.maps.Circle,i):this._ngZone.runOutsideAngular(()=>{Promise.all([this._map._resolveMap(),google.maps.importLibrary("maps")]).then(([r,s])=>{this._initialize(r,s.Circle,i)})})})}_initialize(i,r,s){this._ngZone.runOutsideAngular(()=>{this.circle=new r(s),this._assertInitialized(),this.circle.setMap(i),this._eventManager.setTarget(this.circle),this.circleInitialized.emit(this.circle),this._watchForOptionsChanges(),this._watchForCenterChanges(),this._watchForRadiusChanges()})}ngOnDestroy(){this._eventManager.destroy(),this._destroyed.next(),this._destroyed.complete(),this.circle?.setMap(null)}getBounds(){return this._assertInitialized(),this.circle.getBounds()}getCenter(){return this._assertInitialized(),this.circle.getCenter()}getDraggable(){return this._assertInitialized(),this.circle.getDraggable()}getEditable(){return this._assertInitialized(),this.circle.getEditable()}getRadius(){return this._assertInitialized(),this.circle.getRadius()}getVisible(){return this._assertInitialized(),this.circle.getVisible()}_combineOptions(){return rr([this._options,this._center,this._radius]).pipe(se(([i,r,s])=>Ee(Q({},i),{center:r||i.center,radius:s!==void 0?s:i.radius})))}_watchForOptionsChanges(){this._options.pipe(dn(this._destroyed)).subscribe(i=>{this._assertInitialized(),this.circle.setOptions(i)})}_watchForCenterChanges(){this._center.pipe(dn(this._destroyed)).subscribe(i=>{i&&(this._assertInitialized(),this.circle.setCenter(i))})}_watchForRadiusChanges(){this._radius.pipe(dn(this._destroyed)).subscribe(i=>{i!==void 0&&(this._assertInitialized(),this.circle.setRadius(i))})}_assertInitialized(){}};e.\u0275fac=function(r){return new(r||e)(B(gv),B(De))},e.\u0275dir=Ze({type:e,selectors:[["map-circle"]],inputs:{options:"options",center:"center",radius:"radius"},outputs:{centerChanged:"centerChanged",circleClick:"circleClick",circleDblclick:"circleDblclick",circleDrag:"circleDrag",circleDragend:"circleDragend",circleDragstart:"circleDragstart",circleMousedown:"circleMousedown",circleMousemove:"circleMousemove",circleMouseout:"circleMouseout",circleMouseover:"circleMouseover",circleMouseup:"circleMouseup",radiusChanged:"radiusChanged",circleRightclick:"circleRightclick",circleInitialized:"circleInitialized"},exportAs:["mapCircle"],standalone:!0});let n=e;return n})();var QK={position:{lat:37.421995,lng:-122.084092}},GV=(()=>{let e=class e{set title(i){this._title=i}set position(i){this._position=i}set label(i){this._label=i}set clickable(i){this._clickable=i}set options(i){this._options=i}set icon(i){this._icon=i}set visible(i){this._visible=i}constructor(i,r){this._googleMap=i,this._ngZone=r,this._eventManager=new Tp(K(De)),this.animationChanged=this._eventManager.getLazyEmitter("animation_changed"),this.mapClick=this._eventManager.getLazyEmitter("click"),this.clickableChanged=this._eventManager.getLazyEmitter("clickable_changed"),this.cursorChanged=this._eventManager.getLazyEmitter("cursor_changed"),this.mapDblclick=this._eventManager.getLazyEmitter("dblclick"),this.mapDrag=this._eventManager.getLazyEmitter("drag"),this.mapDragend=this._eventManager.getLazyEmitter("dragend"),this.draggableChanged=this._eventManager.getLazyEmitter("draggable_changed"),this.mapDragstart=this._eventManager.getLazyEmitter("dragstart"),this.flatChanged=this._eventManager.getLazyEmitter("flat_changed"),this.iconChanged=this._eventManager.getLazyEmitter("icon_changed"),this.mapMousedown=this._eventManager.getLazyEmitter("mousedown"),this.mapMouseout=this._eventManager.getLazyEmitter("mouseout"),this.mapMouseover=this._eventManager.getLazyEmitter("mouseover"),this.mapMouseup=this._eventManager.getLazyEmitter("mouseup"),this.positionChanged=this._eventManager.getLazyEmitter("position_changed"),this.mapRightclick=this._eventManager.getLazyEmitter("rightclick"),this.shapeChanged=this._eventManager.getLazyEmitter("shape_changed"),this.titleChanged=this._eventManager.getLazyEmitter("title_changed"),this.visibleChanged=this._eventManager.getLazyEmitter("visible_changed"),this.zindexChanged=this._eventManager.getLazyEmitter("zindex_changed"),this.markerInitialized=new xe}ngOnInit(){this._googleMap._isBrowser&&(google.maps.Marker&&this._googleMap.googleMap?this._initialize(this._googleMap.googleMap,google.maps.Marker):this._ngZone.runOutsideAngular(()=>{Promise.all([this._googleMap._resolveMap(),google.maps.importLibrary("marker")]).then(([i,r])=>{this._initialize(i,r.Marker)})}))}_initialize(i,r){this._ngZone.runOutsideAngular(()=>{this.marker=new r(this._combineOptions()),this._assertInitialized(),this.marker.setMap(i),this._eventManager.setTarget(this.marker),this.markerInitialized.next(this.marker)})}ngOnChanges(i){let{marker:r,_title:s,_position:o,_label:a,_clickable:l,_icon:c,_visible:d}=this;r&&(i.options&&r.setOptions(this._combineOptions()),i.title&&s!==void 0&&r.setTitle(s),i.position&&o&&r.setPosition(o),i.label&&a!==void 0&&r.setLabel(a),i.clickable&&l!==void 0&&r.setClickable(l),i.icon&&c&&r.setIcon(c),i.visible&&d!==void 0&&r.setVisible(d))}ngOnDestroy(){this.markerInitialized.complete(),this._eventManager.destroy(),this.marker?.setMap(null)}getAnimation(){return this._assertInitialized(),this.marker.getAnimation()||null}getClickable(){return this._assertInitialized(),this.marker.getClickable()}getCursor(){return this._assertInitialized(),this.marker.getCursor()||null}getDraggable(){return this._assertInitialized(),!!this.marker.getDraggable()}getIcon(){return this._assertInitialized(),this.marker.getIcon()||null}getLabel(){return this._assertInitialized(),this.marker.getLabel()||null}getOpacity(){return this._assertInitialized(),this.marker.getOpacity()||null}getPosition(){return this._assertInitialized(),this.marker.getPosition()||null}getShape(){return this._assertInitialized(),this.marker.getShape()||null}getTitle(){return this._assertInitialized(),this.marker.getTitle()||null}getVisible(){return this._assertInitialized(),this.marker.getVisible()}getZIndex(){return this._assertInitialized(),this.marker.getZIndex()||null}getAnchor(){return this._assertInitialized(),this.marker}_resolveMarker(){return this.marker?Promise.resolve(this.marker):this.markerInitialized.pipe(tn(1)).toPromise()}_combineOptions(){let i=this._options||QK;return Ee(Q({},i),{title:this._title||i.title,position:this._position||i.position,label:this._label||i.label,clickable:this._clickable??i.clickable,map:this._googleMap.googleMap,icon:this._icon||i.icon,visible:this._visible??i.visible})}_assertInitialized(){}};e.\u0275fac=function(r){return new(r||e)(B(gv),B(De))},e.\u0275dir=Ze({type:e,selectors:[["map-marker"]],inputs:{title:"title",position:"position",label:"label",clickable:"clickable",options:"options",icon:"icon",visible:"visible"},outputs:{animationChanged:"animationChanged",mapClick:"mapClick",clickableChanged:"clickableChanged",cursorChanged:"cursorChanged",mapDblclick:"mapDblclick",mapDrag:"mapDrag",mapDragend:"mapDragend",draggableChanged:"draggableChanged",mapDragstart:"mapDragstart",flatChanged:"flatChanged",iconChanged:"iconChanged",mapMousedown:"mapMousedown",mapMouseout:"mapMouseout",mapMouseover:"mapMouseover",mapMouseup:"mapMouseup",positionChanged:"positionChanged",mapRightclick:"mapRightclick",shapeChanged:"shapeChanged",titleChanged:"titleChanged",visibleChanged:"visibleChanged",zindexChanged:"zindexChanged",markerInitialized:"markerInitialized"},exportAs:["mapMarker"],standalone:!0,features:[Dn]});let n=e;return n})();var qV=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({});let n=e;return n})();var Be=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(Be||{}),Gs="*";function mv(n,e){return{type:Be.Trigger,name:n,definitions:e,options:{}}}function Zd(n,e=null){return{type:Be.Animate,styles:e,timings:n}}function WV(n,e=null){return{type:Be.Sequence,steps:n,options:e}}function qs(n){return{type:Be.Style,styles:n,offset:null}}function yv(n,e,t){return{type:Be.State,name:n,styles:e,options:t}}function Yd(n,e,t=null){return{type:Be.Transition,expr:n,animation:e,options:t}}function XT(n,e=null){return{type:Be.Reference,animation:n,options:e}}function eS(n,e=null){return{type:Be.AnimateRef,animation:n,options:e}}var nl=class{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}},Sp=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++i==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(i=>{let r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){let e=this.players.reduce((t,i)=>t===null||i.totalTime>t.totalTime?i:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}},_v="!";function KV(n){return new ne(3e3,!1)}function YK(){return new ne(3100,!1)}function JK(){return new ne(3101,!1)}function XK(n){return new ne(3001,!1)}function eQ(n){return new ne(3003,!1)}function tQ(n){return new ne(3004,!1)}function nQ(n,e){return new ne(3005,!1)}function iQ(){return new ne(3006,!1)}function rQ(){return new ne(3007,!1)}function sQ(n,e){return new ne(3008,!1)}function oQ(n){return new ne(3002,!1)}function aQ(n,e,t,i,r){return new ne(3010,!1)}function lQ(){return new ne(3011,!1)}function cQ(){return new ne(3012,!1)}function uQ(){return new ne(3200,!1)}function dQ(){return new ne(3202,!1)}function hQ(){return new ne(3013,!1)}function fQ(n){return new ne(3014,!1)}function pQ(n){return new ne(3015,!1)}function gQ(n){return new ne(3016,!1)}function mQ(n,e){return new ne(3404,!1)}function yQ(n){return new ne(3502,!1)}function _Q(n){return new ne(3503,!1)}function vQ(){return new ne(3300,!1)}function wQ(n){return new ne(3504,!1)}function bQ(n){return new ne(3301,!1)}function CQ(n,e){return new ne(3302,!1)}function EQ(n){return new ne(3303,!1)}function IQ(n,e){return new ne(3400,!1)}function DQ(n){return new ne(3401,!1)}function TQ(n){return new ne(3402,!1)}function SQ(n,e){return new ne(3505,!1)}function il(n){switch(n.length){case 0:return new nl;case 1:return n[0];default:return new Sp(n)}}function lB(n,e,t=new Map,i=new Map){let r=[],s=[],o=-1,a=null;if(e.forEach(l=>{let c=l.get("offset"),d=c==o,f=d&&a||new Map;l.forEach((m,v)=>{let C=v,A=m;if(v!=="offset")switch(C=n.normalizePropertyName(C,r),A){case _v:A=t.get(v);break;case Gs:A=i.get(v);break;default:A=n.normalizeStyleValue(v,C,A,r);break}f.set(C,A)}),d||s.push(f),a=f,o=c}),r.length)throw yQ(r);return s}function ES(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&tS(t,"start",n)));break;case"done":n.onDone(()=>i(t&&tS(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&tS(t,"destroy",n)));break}}function tS(n,e,t){let i=t.totalTime,r=!!t.disabled,s=IS(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,i??n.totalTime,r),o=n._data;return o!=null&&(s._data=o),s}function IS(n,e,t,i,r="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function Ji(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function QV(n){let e=n.indexOf(":"),t=n.substring(1,e),i=n.slice(e+1);return[t,i]}var MQ=typeof document>"u"?null:document.documentElement;function DS(n){let e=n.parentNode||n.host||null;return e===MQ?null:e}function AQ(n){return n.substring(1,6)=="ebkit"}var Oc=null,ZV=!1;function xQ(n){Oc||(Oc=RQ()||{},ZV=Oc.style?"WebkitAppearance"in Oc.style:!1);let e=!0;return Oc.style&&!AQ(n)&&(e=n in Oc.style,!e&&ZV&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Oc.style)),e}function RQ(){return typeof document<"u"?document.body:null}function cB(n,e){for(;e;){if(e===n)return!0;e=DS(e)}return!1}function uB(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let i=n.querySelector(e);return i?[i]:[]}var TS=(()=>{let e=class e{validateStyleProperty(i){return xQ(i)}containsElement(i,r){return cB(i,r)}getParentElement(i){return DS(i)}query(i,r,s){return uB(i,r,s)}computeStyle(i,r,s){return s||""}animate(i,r,s,o,a,l=[],c){return new nl(s,o)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=X({token:e,factory:e.\u0275fac});let n=e;return n})(),xS=class xS{};xS.NOOP=new TS;var Pc=xS,Fc=class{};var OQ=1e3,dB="{{",NQ="}}",hB="ng-enter",aS="ng-leave",vv="ng-trigger",Iv=".ng-trigger",YV="ng-animating",lS=".ng-animating";function Uo(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:cS(parseFloat(e[1]),e[2])}function cS(n,e){switch(e){case"s":return n*OQ;default:return n}}function Dv(n,e,t){return n.hasOwnProperty("duration")?n:kQ(n,e,t)}function kQ(n,e,t){let i=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,s=0,o="";if(typeof n=="string"){let a=n.match(i);if(a===null)return e.push(KV(n)),{duration:0,delay:0,easing:""};r=cS(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(s=cS(parseFloat(l),a[4]));let c=a[5];c&&(o=c)}else r=n;if(!t){let a=!1,l=e.length;r<0&&(e.push(YK()),a=!0),s<0&&(e.push(JK()),a=!0),a&&e.splice(l,0,KV(n))}return{duration:r,delay:s,easing:o}}function PQ(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function Ws(n,e,t){e.forEach((i,r)=>{let s=SS(r);t&&!t.has(r)&&t.set(r,n.style[s]),n.style[s]=i})}function kc(n,e){e.forEach((t,i)=>{let r=SS(i);n.style[r]=""})}function Mp(n){return Array.isArray(n)?n.length==1?n[0]:WV(n):n}function FQ(n,e,t){let i=e.params||{},r=fB(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push(XK(s))})}var uS=new RegExp(`${dB}\\s*(.+?)\\s*${NQ}`,"g");function fB(n){let e=[];if(typeof n=="string"){let t;for(;t=uS.exec(n);)e.push(t[1]);uS.lastIndex=0}return e}function xp(n,e,t){let i=`${n}`,r=i.replace(uS,(s,o)=>{let a=e[o];return a==null&&(t.push(eQ(o)),a=""),a.toString()});return r==i?n:r}var LQ=/-+([a-z0-9])/g;function SS(n){return n.replace(LQ,(...e)=>e[1].toUpperCase())}function VQ(n,e){return n===0||e===0}function BQ(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((s,o)=>{i.has(o)||r.push(o),i.set(o,s)}),r.length)for(let s=1;s<e.length;s++){let o=e[s];r.forEach(a=>o.set(a,MS(n,a)))}}return e}function Yi(n,e,t){switch(e.type){case Be.Trigger:return n.visitTrigger(e,t);case Be.State:return n.visitState(e,t);case Be.Transition:return n.visitTransition(e,t);case Be.Sequence:return n.visitSequence(e,t);case Be.Group:return n.visitGroup(e,t);case Be.Animate:return n.visitAnimate(e,t);case Be.Keyframes:return n.visitKeyframes(e,t);case Be.Style:return n.visitStyle(e,t);case Be.Reference:return n.visitReference(e,t);case Be.AnimateChild:return n.visitAnimateChild(e,t);case Be.AnimateRef:return n.visitAnimateRef(e,t);case Be.Query:return n.visitQuery(e,t);case Be.Stagger:return n.visitStagger(e,t);default:throw tQ(e.type)}}function MS(n,e){return window.getComputedStyle(n)[e]}var UQ=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Tv=class extends Fc{normalizePropertyName(e,t){return SS(e)}normalizeStyleValue(e,t,i,r){let s="",o=i.toString().trim();if(UQ.has(t)&&i!==0&&i!=="0")if(typeof i=="number")s="px";else{let a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&r.push(nQ(e,i))}return o+s}};var Sv="*";function jQ(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(i=>zQ(i,t,e)):t.push(n),t}function zQ(n,e,t){if(n[0]==":"){let l=$Q(n,t);if(typeof l=="function"){e.push(l);return}n=l}let i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return t.push(pQ(n)),e;let r=i[1],s=i[2],o=i[3];e.push(JV(r,o));let a=r==Sv&&o==Sv;s[0]=="<"&&!a&&e.push(JV(o,r))}function $Q(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(gQ(n)),"* => *"}}var wv=new Set(["true","1"]),bv=new Set(["false","0"]);function JV(n,e){let t=wv.has(n)||bv.has(n),i=wv.has(e)||bv.has(e);return(r,s)=>{let o=n==Sv||n==r,a=e==Sv||e==s;return!o&&t&&typeof r=="boolean"&&(o=r?wv.has(n):bv.has(n)),!a&&i&&typeof s=="boolean"&&(a=s?wv.has(e):bv.has(e)),o&&a}}var pB=":self",HQ=new RegExp(`s*${pB}s*,?`,"g");function gB(n,e,t,i){return new dS(n).build(e,t,i)}var XV="",dS=class{constructor(e){this._driver=e}build(e,t,i){let r=new hS(t);return this._resetContextStyleTimingState(r),Yi(this,Mp(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector=XV,e.collectedStyles=new Map,e.collectedStyles.set(XV,new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0,s=[],o=[];return e.name.charAt(0)=="@"&&t.errors.push(iQ()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==Be.State){let l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(d=>{l.name=d,s.push(this.visitState(l,t))}),l.name=c}else if(a.type==Be.Transition){let l=this.visitTransition(a,t);i+=l.queryCount,r+=l.depCount,o.push(l)}else t.errors.push(rQ())}),{type:Be.Trigger,name:e.name,states:s,transitions:o,queryCount:i,depCount:r,options:null}}visitState(e,t){let i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){let s=new Set,o=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{fB(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&t.errors.push(sQ(e.name,[...s.values()]))}return{type:Be.State,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let i=Yi(this,Mp(e.animation),t),r=jQ(e.expr,t.errors);return{type:Be.Transition,matchers:r,animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Nc(e.options)}}visitSequence(e,t){return{type:Be.Sequence,steps:e.steps.map(i=>Yi(this,i,t)),options:Nc(e.options)}}visitGroup(e,t){let i=t.currentTime,r=0,s=e.steps.map(o=>{t.currentTime=i;let a=Yi(this,o,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:Be.Group,steps:s,options:Nc(e.options)}}visitAnimate(e,t){let i=KQ(e.timings,t.errors);t.currentAnimateTimings=i;let r,s=e.styles?e.styles:qs({});if(s.type==Be.Keyframes)r=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;let c={};i.easing&&(c.easing=i.easing),o=qs(c)}t.currentTime+=i.duration+i.delay;let l=this.visitStyle(o,t);l.isEmptyStep=a,r=l}return t.currentAnimateTimings=null,{type:Be.Animate,timings:i,style:r,options:null}}visitStyle(e,t){let i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){let i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)typeof a=="string"?a===Gs?i.push(a):t.errors.push(oQ(a)):i.push(new Map(Object.entries(a)));let s=!1,o=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s)){for(let l of a.values())if(l.toString().indexOf(dB)>=0){s=!0;break}}}),{type:Be.Style,styles:i,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){let i=t.currentAnimateTimings,r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,l)=>{let c=t.collectedStyles.get(t.currentQuerySelector),d=c.get(l),f=!0;d&&(s!=r&&s>=d.startTime&&r<=d.endTime&&(t.errors.push(aQ(l,d.startTime,d.endTime,s,r)),f=!1),s=d.startTime),f&&c.set(l,{startTime:s,endTime:r}),t.options&&FQ(a,t.options,t.errors)})})}visitKeyframes(e,t){let i={type:Be.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(lQ()),i;let r=1,s=0,o=[],a=!1,l=!1,c=0,d=e.steps.map(j=>{let Z=this._makeStyleAst(j,t),W=Z.offset!=null?Z.offset:WQ(Z.styles),Y=0;return W!=null&&(s++,Y=Z.offset=W),l=l||Y<0||Y>1,a=a||Y<c,c=Y,o.push(Y),Z});l&&t.errors.push(cQ()),a&&t.errors.push(uQ());let f=e.steps.length,m=0;s>0&&s<f?t.errors.push(dQ()):s==0&&(m=r/(f-1));let v=f-1,C=t.currentTime,A=t.currentAnimateTimings,S=A.duration;return d.forEach((j,Z)=>{let W=m>0?Z==v?1:m*Z:o[Z],Y=W*S;t.currentTime=C+A.delay+Y,A.duration=Y,this._validateStyleAst(j,t),j.offset=W,i.styles.push(j)}),i}visitReference(e,t){return{type:Be.Reference,animation:Yi(this,Mp(e.animation),t),options:Nc(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:Be.AnimateChild,options:Nc(e.options)}}visitAnimateRef(e,t){return{type:Be.AnimateRef,animation:this.visitReference(e.animation,t),options:Nc(e.options)}}visitQuery(e,t){let i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;let[s,o]=GQ(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,Ji(t.collectedStyles,t.currentQuerySelector,new Map);let a=Yi(this,Mp(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:Be.Query,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:Nc(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(hQ());let i=e.timings==="full"?{duration:0,delay:0,easing:"full"}:Dv(e.timings,t.errors,!0);return{type:Be.Stagger,animation:Yi(this,Mp(e.animation),t),timings:i,options:null}}};function GQ(n){let e=!!n.split(/\s*,\s*/).find(t=>t==pB);return e&&(n=n.replace(HQ,"")),n=n.replace(/@\*/g,Iv).replace(/@\w+/g,t=>Iv+"-"+t.slice(1)).replace(/:animating/g,lS),[n,e]}function qQ(n){return n?Q({},n):null}var hS=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function WQ(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function KQ(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let s=Dv(n,e).duration;return nS(s,0,"")}let t=n;if(t.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=nS(0,0,"");return s.dynamic=!0,s.strValue=t,s}let r=Dv(t,e);return nS(r.duration,r.delay,r.easing)}function Nc(n){return n?(n=Q({},n),n.params&&(n.params=qQ(n.params))):n={},n}function nS(n,e,t){return{duration:n,delay:e,easing:t}}function AS(n,e,t,i,r,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}var Rp=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},QQ=1,ZQ=":enter",YQ=new RegExp(ZQ,"g"),JQ=":leave",XQ=new RegExp(JQ,"g");function mB(n,e,t,i,r,s=new Map,o=new Map,a,l,c=[]){return new fS().buildKeyframes(n,e,t,i,r,s,o,a,l,c)}var fS=class{buildKeyframes(e,t,i,r,s,o,a,l,c,d=[]){c=c||new Rp;let f=new pS(e,t,c,r,s,d,[]);f.options=l;let m=l.delay?Uo(l.delay):0;f.currentTimeline.delayNextStep(m),f.currentTimeline.setStyles([o],null,f.errors,l),Yi(this,i,f);let v=f.timelines.filter(C=>C.containsAnimation());if(v.length&&a.size){let C;for(let A=v.length-1;A>=0;A--){let S=v[A];if(S.element===t){C=S;break}}C&&!C.allowOnlyTimelineStyles()&&C.setStyles([a],null,f.errors,l)}return v.length?v.map(C=>C.buildKeyframes()):[AS(t,[],[],[],0,m,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let i=t.subInstructions.get(t.element);if(i){let r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(i,r,r.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){let i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(let r of e){let s=r?.delay;if(s){let o=typeof s=="number"?s:Uo(xp(s,r?.params??{},t.errors));i.delayNextStep(o)}}}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime,o=i.duration!=null?Uo(i.duration):null,a=i.delay!=null?Uo(i.delay):null;return o!==0&&e.forEach(l=>{let c=t.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Yi(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let i=t.subContextCount,r=t,s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),s.delay!=null)){r.previousNode.type==Be.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Mv);let o=Uo(s.delay);r.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>Yi(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let i=[],r=t.currentTimeline.currentTime,s=e.options&&e.options.delay?Uo(e.options.delay):0;e.steps.forEach(o=>{let a=t.createSubContext(e.options);s&&a.delayNextStep(s),Yi(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let i=e.strValue,r=t.params?xp(i,t.params,t.errors):i;return Dv(r,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());let s=e.style;s.type==Be.Keyframes?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();let s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(l=>{let c=l.offset||0;a.forwardTime(c*s),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){let i=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?Uo(r.delay):0;s&&(t.previousNode.type===Be.Style||i==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Mv);let o=i,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,d)=>{t.currentQueryIndex=d;let f=t.createSubContext(e.options,c);s&&f.delayNextStep(s),c===t.element&&(l=f.currentTimeline),Yi(this,e.animation,f),f.currentTimeline.applyStylesToKeyframe();let m=f.currentTimeline.currentTime;o=Math.max(o,m)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let i=t.parentContext,r=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1),l=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime;break}let d=t.currentTimeline;l&&d.delayNextStep(l);let f=d.currentTime;Yi(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-f+(r.startTime-i.currentTimeline.startTime)}},Mv={},pS=class n{constructor(e,t,i,r,s,o,a,l){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Mv,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Av(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let i=e,r=this.options;i.duration!=null&&(r.duration=Uo(i.duration)),i.delay!=null&&(r.delay=Uo(i.delay));let s=i.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=xp(s[a],o,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){let r=t||this.element,s=new n(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Mv,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){let r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},s=new gS(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,s,o){let a=[];if(r&&a.push(this.element),e.length>0){e=e.replace(YQ,"."+this._enterClassName),e=e.replace(XQ,"."+this._leaveClassName);let l=i!=1,c=this._driver.query(this.element,e,l);i!==0&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!s&&a.length==0&&o.push(fQ(t)),a}},Av=class n{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=QQ,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Gs),this._currentKeyframe.set(t,Gs);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);let s=r&&r.params||{},o=eZ(e,this._globalTimelineStyles);for(let[a,l]of o){let c=xp(l,s,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Gs),this._updateStyle(a,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{let r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,i=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((a,l)=>{let c=new Map([...this._backFill,...a]);c.forEach((d,f)=>{d===_v?e.add(f):d===Gs&&t.add(f)}),i||c.set("offset",l/this.duration),r.push(c)});let s=[...e.values()],o=[...t.values()];if(i){let a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return AS(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}},gS=class extends Av{constructor(e,t,i,r,s,o,a=!1){super(e,t,o.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){let s=[],o=i+t,a=t/o,l=new Map(e[0]);l.set("offset",0),s.push(l);let c=new Map(e[0]);c.set("offset",eB(a)),s.push(c);let d=e.length-1;for(let f=1;f<=d;f++){let m=new Map(e[f]),v=m.get("offset"),C=t+v*i;m.set("offset",eB(C/o)),s.push(m)}i=o,t=0,r="",e=s}return AS(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}};function eB(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function eZ(n,e){let t=new Map,i;return n.forEach(r=>{if(r==="*"){i??=e.keys();for(let s of i)t.set(s,Gs)}else for(let[s,o]of r)t.set(s,o)}),t}function tB(n,e,t,i,r,s,o,a,l,c,d,f,m){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:d,totalTime:f,errors:m}}var iS={},xv=class{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return tZ(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return e!==void 0&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,s,o,a,l,c,d){let f=[],m=this.ast.options&&this.ast.options.params||iS,v=a&&a.params||iS,C=this.buildStyles(i,v,f),A=l&&l.params||iS,S=this.buildStyles(r,A,f),j=new Set,Z=new Map,W=new Map,Y=r==="void",ge={params:yB(A,m),delay:this.ast.options?.delay},ae=d?[]:mB(e,t,this.ast.animation,s,o,C,S,ge,c,f),x=0;return ae.forEach(D=>{x=Math.max(D.duration+D.delay,x)}),f.length?tB(t,this._triggerName,i,r,Y,C,S,[],[],Z,W,x,f):(ae.forEach(D=>{let M=D.element,k=Ji(Z,M,new Set);D.preStyleProps.forEach(N=>k.add(N));let P=Ji(W,M,new Set);D.postStyleProps.forEach(N=>P.add(N)),M!==t&&j.add(M)}),tB(t,this._triggerName,i,r,Y,C,S,ae,[...j.values()],Z,W,x))}};function tZ(n,e,t,i,r){return n.some(s=>s(e,t,i,r))}function yB(n,e){let t=Q({},e);return Object.entries(n).forEach(([i,r])=>{r!=null&&(t[i]=r)}),t}var mS=class{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){let i=new Map,r=yB(e,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((o,a)=>{o&&(o=xp(o,r,t));let l=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,l,o,t),i.set(a,o)})}),i}};function nZ(n,e,t){return new yS(n,e,t)}var yS=class{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{let s=r.options&&r.options.params||{};this.states.set(r.name,new mS(r.style,s,i))}),nB(this.states,"true","1"),nB(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new xv(e,r,this.states))}),this.fallbackTransition=iZ(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(o=>o.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}};function iZ(n,e,t){let i=[(o,a)=>!0],r={type:Be.Sequence,steps:[],options:null},s={type:Be.Transition,animation:r,matchers:i,options:null,queryCount:0,depCount:0};return new xv(n,s,e)}function nB(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}var rZ=new Rp,_S=class{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){let i=[],r=[],s=gB(this._driver,t,i,r);if(i.length)throw _Q(i);r.length&&void 0,this._animations.set(e,s)}_buildPlayer(e,t,i){let r=e.element,s=lB(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){let r=[],s=this._animations.get(e),o,a=new Map;if(s?(o=mB(this._driver,t,s,hB,aS,new Map,new Map,i,rZ,r),o.forEach(d=>{let f=Ji(a,d.element,new Map);d.postStyleProps.forEach(m=>f.set(m,null))})):(r.push(vQ()),o=[]),r.length)throw wQ(r);a.forEach((d,f)=>{d.forEach((m,v)=>{d.set(v,this._driver.computeStyle(f,v,Gs))})});let l=o.map(d=>{let f=a.get(d.element);return this._buildPlayer(d,new Map,f)}),c=il(l);return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw bQ(e);return t}listen(e,t,i,r){let s=IS(t,"","","");return ES(this._getPlayer(e),i,s,r),()=>{}}command(e,t,i,r){if(i=="register"){this.register(e,r[0]);return}if(i=="create"){let o=r[0]||{};this.create(e,t,o);return}let s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e);break}}},iB="ng-animate-queued",sZ=".ng-animate-queued",rS="ng-animate-disabled",oZ=".ng-animate-disabled",aZ="ng-star-inserted",lZ=".ng-star-inserted",cZ=[],_B={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},uZ={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ns="__ng_removed",Op=class{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let i=e&&e.hasOwnProperty("value"),r=i?e.value:e;if(this.value=hZ(r),i){let s=e,{value:o}=s,a=Bh(s,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let i=this.options.params;Object.keys(t).forEach(r=>{i[r]==null&&(i[r]=t[r])})}}},Ap="void",sS=new Op(Ap),vS=class{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Cr(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw CQ(i,t);if(i==null||i.length==0)throw EQ(t);if(!fZ(i))throw IQ(i,t);let s=Ji(this._elementListeners,e,[]),o={name:t,phase:i,callback:r};s.push(o);let a=Ji(this._engine.statesByElement,e,new Map);return a.has(t)||(Cr(e,vv),Cr(e,vv+"-"+t),a.set(t,sS)),()=>{this._engine.afterFlush(()=>{let l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw DQ(e);return t}trigger(e,t,i,r=!0){let s=this._getTrigger(t),o=new Np(this.id,t,e),a=this._engine.statesByElement.get(e);a||(Cr(e,vv),Cr(e,vv+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t),c=new Op(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(t,c),l||(l=sS),!(c.value===Ap)&&l.value===c.value){if(!mZ(l.params,c.params)){let A=[],S=s.matchStyles(l.value,l.params,A),j=s.matchStyles(c.value,c.params,A);A.length?this._engine.reportError(A):this._engine.afterFlush(()=>{kc(e,S),Ws(e,j)})}return}let m=Ji(this._engine.playersByElement,e,[]);m.forEach(A=>{A.namespaceId==this.id&&A.triggerName==t&&A.queued&&A.destroy()});let v=s.matchTransition(l.value,c.value,e,c.params),C=!1;if(!v){if(!r)return;v=s.fallbackTransition,C=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:v,fromState:l,toState:c,player:o,isFallbackTransition:C}),C||(Cr(e,iB),o.onStart(()=>{Jd(e,iB)})),o.onDone(()=>{let A=this.players.indexOf(o);A>=0&&this.players.splice(A,1);let S=this._engine.playersByElement.get(e);if(S){let j=S.indexOf(o);j>=0&&S.splice(j,1)}}),this.players.push(o),m.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let i=this._engine.driver.query(e,Iv,!0);i.forEach(r=>{if(r[ns])return;let s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){let s=this._engine.statesByElement.get(e),o=new Map;if(s){let a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){let d=this.trigger(e,c,Ap,r);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),i&&il(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){let r=new Set;t.forEach(s=>{let o=s.name;if(r.has(o))return;r.add(o);let l=this._triggers.get(o).fallbackTransition,c=i.get(o)||sS,d=new Op(Ap),f=new Np(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:d,player:f,isFallbackTransition:!0})})}}removeNode(e,t){let i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){let s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let o=e;for(;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{let s=e[ns];(!s||s===_B)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Cr(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(i=>{let r=i.player;if(r.destroyed)return;let s=i.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==i.triggerName){let l=IS(s,i.triggerName,i.fromState.value,i.toState.value);l._data=e,ES(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{let s=i.transition.ast.depCount,o=r.transition.ast.depCount;return s==0||o==0?s-o:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},wS=class{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){let i=new vS(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){let i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){let l=r.get(a);if(l){let c=i.indexOf(l);i.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);let r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,i=this.statesByElement.get(e);if(i){for(let r of i.values())if(r.namespaceId){let s=this._fetchNamespace(r.namespaceId);s&&t.add(s)}}return t}trigger(e,t,i,r){if(Cv(t)){let s=this._fetchNamespace(e);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!Cv(t))return;let s=t[ns];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){let o=this._fetchNamespace(e);o&&o.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Cr(e,rS)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Jd(e,rS))}removeNode(e,t,i){if(Cv(t)){let r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);let s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,s){this.collectedLeaveElements.push(t),t[ns]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,i,r,s){return Cv(t)?this._fetchNamespace(e).listen(t,i,r,s):()=>{}}_buildInstruction(e,t,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,Iv,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,lS,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return il(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[ns];if(t&&t.setForRemoval){if(e[ns]=_B,t.namespaceId){this.destroyInnerAnimations(e);let i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(rS)&&this.markElementAsDisabled(e,!1),this.driver.query(e,oZ,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let r=this.collectedEnterElements[i];Cr(r,aZ)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let r=this.collectedLeaveElements[i];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],t.length?il(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw TQ(e)}_flushAnimations(e,t){let i=new Rp,r=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,d=new Set;this.disabledNodes.forEach(ye=>{d.add(ye);let be=this.driver.query(ye,sZ,!0);for(let Ie=0;Ie<be.length;Ie++)d.add(be[Ie])});let f=this.bodyNode,m=Array.from(this.statesByElement.keys()),v=oB(m,this.collectedEnterElements),C=new Map,A=0;v.forEach((ye,be)=>{let Ie=hB+A++;C.set(be,Ie),ye.forEach(ze=>Cr(ze,Ie))});let S=[],j=new Set,Z=new Set;for(let ye=0;ye<this.collectedLeaveElements.length;ye++){let be=this.collectedLeaveElements[ye],Ie=be[ns];Ie&&Ie.setForRemoval&&(S.push(be),j.add(be),Ie.hasAnimation?this.driver.query(be,lZ,!0).forEach(ze=>j.add(ze)):Z.add(be))}let W=new Map,Y=oB(m,Array.from(j));Y.forEach((ye,be)=>{let Ie=aS+A++;W.set(be,Ie),ye.forEach(ze=>Cr(ze,Ie))}),e.push(()=>{v.forEach((ye,be)=>{let Ie=C.get(be);ye.forEach(ze=>Jd(ze,Ie))}),Y.forEach((ye,be)=>{let Ie=W.get(be);ye.forEach(ze=>Jd(ze,Ie))}),S.forEach(ye=>{this.processLeaveNode(ye)})});let ge=[],ae=[];for(let ye=this._namespaceList.length-1;ye>=0;ye--)this._namespaceList[ye].drainQueuedTransitions(t).forEach(Ie=>{let ze=Ie.player,ft=Ie.element;if(ge.push(ze),this.collectedEnterElements.length){let Dt=ft[ns];if(Dt&&Dt.setForMove){if(Dt.previousTriggersValues&&Dt.previousTriggersValues.has(Ie.triggerName)){let Li=Dt.previousTriggersValues.get(Ie.triggerName),Zn=this.statesByElement.get(Ie.element);if(Zn&&Zn.has(Ie.triggerName)){let Vi=Zn.get(Ie.triggerName);Vi.value=Li,Zn.set(Ie.triggerName,Vi)}}ze.destroy();return}}let vn=!f||!this.driver.containsElement(f,ft),_t=W.get(ft),It=C.get(ft),pt=this._buildInstruction(Ie,i,It,_t,vn);if(pt.errors&&pt.errors.length){ae.push(pt);return}if(vn){ze.onStart(()=>kc(ft,pt.fromStyles)),ze.onDestroy(()=>Ws(ft,pt.toStyles)),r.push(ze);return}if(Ie.isFallbackTransition){ze.onStart(()=>kc(ft,pt.fromStyles)),ze.onDestroy(()=>Ws(ft,pt.toStyles)),r.push(ze);return}let Ii=[];pt.timelines.forEach(Dt=>{Dt.stretchStartingKeyframe=!0,this.disabledNodes.has(Dt.element)||Ii.push(Dt)}),pt.timelines=Ii,i.append(ft,pt.timelines);let Gc={instruction:pt,player:ze,element:ft};o.push(Gc),pt.queriedElements.forEach(Dt=>Ji(a,Dt,[]).push(ze)),pt.preStyleProps.forEach((Dt,Li)=>{if(Dt.size){let Zn=l.get(Li);Zn||l.set(Li,Zn=new Set),Dt.forEach((Vi,nr)=>Zn.add(nr))}}),pt.postStyleProps.forEach((Dt,Li)=>{let Zn=c.get(Li);Zn||c.set(Li,Zn=new Set),Dt.forEach((Vi,nr)=>Zn.add(nr))})});if(ae.length){let ye=[];ae.forEach(be=>{ye.push(SQ(be.triggerName,be.errors))}),ge.forEach(be=>be.destroy()),this.reportError(ye)}let x=new Map,D=new Map;o.forEach(ye=>{let be=ye.element;i.has(be)&&(D.set(be,be),this._beforeAnimationBuild(ye.player.namespaceId,ye.instruction,x))}),r.forEach(ye=>{let be=ye.element;this._getPreviousPlayers(be,!1,ye.namespaceId,ye.triggerName,null).forEach(ze=>{Ji(x,be,[]).push(ze),ze.destroy()})});let M=S.filter(ye=>aB(ye,l,c)),k=new Map;sB(k,this.driver,Z,c,Gs).forEach(ye=>{aB(ye,l,c)&&M.push(ye)});let N=new Map;v.forEach((ye,be)=>{sB(N,this.driver,new Set(ye),l,_v)}),M.forEach(ye=>{let be=k.get(ye),Ie=N.get(ye);k.set(ye,new Map([...be?.entries()??[],...Ie?.entries()??[]]))});let R=[],Ei=[],Ir={};o.forEach(ye=>{let{element:be,player:Ie,instruction:ze}=ye;if(i.has(be)){if(d.has(be)){Ie.onDestroy(()=>Ws(be,ze.toStyles)),Ie.disabled=!0,Ie.overrideTotalTime(ze.totalTime),r.push(Ie);return}let ft=Ir;if(D.size>1){let _t=be,It=[];for(;_t=_t.parentNode;){let pt=D.get(_t);if(pt){ft=pt;break}It.push(_t)}It.forEach(pt=>D.set(pt,ft))}let vn=this._buildAnimation(Ie.namespaceId,ze,x,s,N,k);if(Ie.setRealPlayer(vn),ft===Ir)R.push(Ie);else{let _t=this.playersByElement.get(ft);_t&&_t.length&&(Ie.parentPlayer=il(_t)),r.push(Ie)}}else kc(be,ze.fromStyles),Ie.onDestroy(()=>Ws(be,ze.toStyles)),Ei.push(Ie),d.has(be)&&r.push(Ie)}),Ei.forEach(ye=>{let be=s.get(ye.element);if(be&&be.length){let Ie=il(be);ye.setRealPlayer(Ie)}}),r.forEach(ye=>{ye.parentPlayer?ye.syncPlayerEvents(ye.parentPlayer):ye.destroy()});for(let ye=0;ye<S.length;ye++){let be=S[ye],Ie=be[ns];if(Jd(be,aS),Ie&&Ie.hasAnimation)continue;let ze=[];if(a.size){let vn=a.get(be);vn&&vn.length&&ze.push(...vn);let _t=this.driver.query(be,lS,!0);for(let It=0;It<_t.length;It++){let pt=a.get(_t[It]);pt&&pt.length&&ze.push(...pt)}}let ft=ze.filter(vn=>!vn.destroyed);ft.length?pZ(this,be,ft):this.processLeaveNode(be)}return S.length=0,R.forEach(ye=>{this.players.push(ye),ye.onDone(()=>{ye.destroy();let be=this.players.indexOf(ye);this.players.splice(be,1)}),ye.play()}),R}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,s){let o=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(o=a)}else{let a=this.playersByElement.get(e);if(a){let l=!s||s==Ap;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||o.push(c)})}}return(i||r)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(e,t,i){let r=t.triggerName,s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:r;for(let l of t.timelines){let c=l.element,d=c!==s,f=Ji(i,c,[]);this._getPreviousPlayers(c,d,o,a,t.toState).forEach(v=>{let C=v.getRealPlayer();C.beforeDestroy&&C.beforeDestroy(),v.destroy(),f.push(v)})}kc(s,t.fromStyles)}_buildAnimation(e,t,i,r,s,o){let a=t.triggerName,l=t.element,c=[],d=new Set,f=new Set,m=t.timelines.map(C=>{let A=C.element;d.add(A);let S=A[ns];if(S&&S.removedBeforeQueried)return new nl(C.duration,C.delay);let j=A!==l,Z=gZ((i.get(A)||cZ).map(x=>x.getRealPlayer())).filter(x=>{let D=x;return D.element?D.element===A:!1}),W=s.get(A),Y=o.get(A),ge=lB(this._normalizer,C.keyframes,W,Y),ae=this._buildPlayer(C,ge,Z);if(C.subTimeline&&r&&f.add(A),j){let x=new Np(e,a,A);x.setRealPlayer(ae),c.push(x)}return ae});c.forEach(C=>{Ji(this.playersByQueriedElement,C.element,[]).push(C),C.onDone(()=>dZ(this.playersByQueriedElement,C.element,C))}),d.forEach(C=>Cr(C,YV));let v=il(m);return v.onDestroy(()=>{d.forEach(C=>Jd(C,YV)),Ws(l,t.toStyles)}),f.forEach(C=>{Ji(r,C,[]).push(v)}),v}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new nl(e.duration,e.delay)}},Np=class{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new nl,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>ES(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Ji(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function dZ(n,e,t){let i=n.get(e);if(i){if(i.length){let r=i.indexOf(t);i.splice(r,1)}i.length==0&&n.delete(e)}return i}function hZ(n){return n??null}function Cv(n){return n&&n.nodeType===1}function fZ(n){return n=="start"||n=="done"}function rB(n,e){let t=n.style.display;return n.style.display=e??"none",t}function sB(n,e,t,i,r){let s=[];t.forEach(l=>s.push(rB(l)));let o=[];i.forEach((l,c)=>{let d=new Map;l.forEach(f=>{let m=e.computeStyle(c,f,r);d.set(f,m),(!m||m.length==0)&&(c[ns]=uZ,o.push(c))}),n.set(c,d)});let a=0;return t.forEach(l=>rB(l,s[a++])),o}function oB(n,e){let t=new Map;if(n.forEach(a=>t.set(a,[])),e.length==0)return t;let i=1,r=new Set(e),s=new Map;function o(a){if(!a)return i;let l=s.get(a);if(l)return l;let c=a.parentNode;return t.has(c)?l=c:r.has(c)?l=i:l=o(c),s.set(a,l),l}return e.forEach(a=>{let l=o(a);l!==i&&t.get(l).push(a)}),t}function Cr(n,e){n.classList?.add(e)}function Jd(n,e){n.classList?.remove(e)}function pZ(n,e,t){il(t).onDone(()=>n.processLeaveNode(e))}function gZ(n){let e=[];return vB(n,e),e}function vB(n,e){for(let t=0;t<n.length;t++){let i=n[t];i instanceof Sp?vB(i.players,e):e.push(i)}}function mZ(n,e){let t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){let s=t[r];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}function aB(n,e,t){let i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(s=>r.add(s)):e.set(n,i),t.delete(n),!0}var eh=class{constructor(e,t,i){this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new wS(e.body,t,i),this._timelineEngine=new _S(e.body,t,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,i,r,s){let o=e+"-"+r,a=this._triggerCache[o];if(!a){let l=[],c=[],d=gB(this._driver,s,l,c);if(l.length)throw mQ(r,l);c.length&&void 0,a=nZ(r,d,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if(i.charAt(0)=="@"){let[s,o]=QV(i),a=r;this._timelineEngine.command(s,t,o,a)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,s){if(i.charAt(0)=="@"){let[o,a]=QV(i);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function yZ(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=oS(e[0]),e.length>1&&(i=oS(e[e.length-1]))):e instanceof Map&&(t=oS(e)),t||i?new bS(n,t,i):null}var Xd=class Xd{constructor(e,t,i){this._element=e,this._startStyles=t,this._endStyles=i,this._state=0;let r=Xd.initialStylesByElement.get(e);r||Xd.initialStylesByElement.set(e,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&Ws(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ws(this._element,this._initialStyles),this._endStyles&&(Ws(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Xd.initialStylesByElement.delete(this._element),this._startStyles&&(kc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(kc(this._element,this._endStyles),this._endStyles=null),Ws(this._element,this._initialStyles),this._state=3)}};Xd.initialStylesByElement=new WeakMap;var bS=Xd;function oS(n){let e=null;return n.forEach((t,i)=>{_Z(i)&&(e=e||new Map,e.set(i,t))}),e}function _Z(n){return n==="display"||n==="position"}var Rv=class{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{r!=="offset"&&e.set(r,this._finished?i:MS(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}},Ov=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return cB(e,t)}getParentElement(e){return DS(e)}query(e,t,i){return uB(e,t,i)}computeStyle(e,t,i){return MS(e,t)}animate(e,t,i,r,s,o=[]){let a=r==0?"both":"forwards",l={duration:i,delay:r,fill:a};s&&(l.easing=s);let c=new Map,d=o.filter(v=>v instanceof Rv);VQ(i,r)&&d.forEach(v=>{v.currentSnapshot.forEach((C,A)=>c.set(A,C))});let f=PQ(t).map(v=>new Map(v));f=BQ(e,f,c);let m=yZ(e,f);return new Rv(e,f,l,m)}};var Ev="@",wB="@.disabled",Nv=class{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){t.charAt(0)==Ev&&t==wB?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},CS=class extends Nv{constructor(e,t,i,r,s){super(t,i,r,s),this.factory=e,this.namespaceId=t}setProperty(e,t,i){t.charAt(0)==Ev?t.charAt(1)=="."&&t==wB?(i=i===void 0?!0:!!i,this.disableAnimations(e,i)):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if(t.charAt(0)==Ev){let r=vZ(e),s=t.slice(1),o="";return s.charAt(0)!=Ev&&([s,o]=wZ(s)),this.engine.listen(this.namespaceId,r,s,o,a=>{let l=a._data||-1;this.factory.scheduleListenerCallback(l,i,a)})}return this.delegate.listen(e,t,i)}};function vZ(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function wZ(n){let e=n.indexOf("."),t=n.substring(0,e),i=n.slice(e+1);return[t,i]}var kv=class{constructor(e,t,i){this.delegate=e,this.engine=t,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(r,s)=>{s?.removeChild(null,r)}}createRenderer(e,t){let i="",r=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let c=this._rendererCache,d=c.get(r);if(!d){let f=()=>c.delete(r);d=new Nv(i,r,this.engine,f),c.set(r,d)}return d}let s=t.id,o=t.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);let a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(s,o,e,c.name,c)};return t.data.animation.forEach(a),new CS(this,o,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,i){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(i));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(s=>{let[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),r.push([t,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var CZ=(()=>{let e=class e extends eh{constructor(i,r,s){super(i,r,s)}ngOnDestroy(){this.flush()}};e.\u0275fac=function(r){return new(r||e)(G(Ye),G(Pc),G(Fc))},e.\u0275prov=X({token:e,factory:e.\u0275fac});let n=e;return n})();function EZ(){return new Tv}function IZ(n,e,t){return new kv(n,e,t)}var CB=[{provide:Fc,useFactory:EZ},{provide:eh,useClass:CZ},{provide:pa,useFactory:IZ,deps:[yy,eh,De]}],bB=[{provide:Pc,useFactory:()=>new Ov},{provide:Y1,useValue:"BrowserAnimations"},...CB],DZ=[{provide:Pc,useClass:TS},{provide:Y1,useValue:"NoopAnimations"},...CB],EB=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:i.disableAnimations?DZ:bB}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({providers:bB,imports:[vy]});let n=e;return n})();var We="primary",Wp=Symbol("RouteTitle"),PS=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function oh(n){return new PS(n)}function TZ(n,e,t){let i=t.path.split("/");if(i.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||i.length<n.length))return null;let r={};for(let s=0;s<i.length;s++){let o=i[s],a=n[s];if(o[0]===":")r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function SZ(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ks(n[t],e[t]))return!1;return!0}function Ks(n,e){let t=n?FS(n):void 0,i=e?FS(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!kB(n[r],e[r]))return!1;return!0}function FS(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function kB(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}else return n===e}function PB(n){return n.length>0?n[n.length-1]:null}function sl(n){return nb(n)?n:ba(n)?Ge(Promise.resolve(n)):ce(n)}var MZ={exact:LB,subset:VB},FB={exact:AZ,subset:xZ,ignored:()=>!0};function IB(n,e,t){return MZ[t.paths](n.root,e.root,t.matrixParams)&&FB[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function AZ(n,e){return Ks(n,e)}function LB(n,e,t){if(!Vc(n.segments,e.segments)||!Lv(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!n.children[i]||!LB(n.children[i],e.children[i],t))return!1;return!0}function xZ(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>kB(n[t],e[t]))}function VB(n,e,t){return BB(n,e,e.segments,t)}function BB(n,e,t,i){if(n.segments.length>t.length){let r=n.segments.slice(0,t.length);return!(!Vc(r,t)||e.hasChildren()||!Lv(r,t,i))}else if(n.segments.length===t.length){if(!Vc(n.segments,t)||!Lv(n.segments,t,i))return!1;for(let r in e.children)if(!n.children[r]||!VB(n.children[r],e.children[r],i))return!1;return!0}else{let r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!Vc(n.segments,r)||!Lv(n.segments,r,i)||!n.children[We]?!1:BB(n.children[We],e,s,i)}}function Lv(n,e,t){return e.every((i,r)=>FB[t](n[r].parameters,i.parameters))}var zo=class{constructor(e=new vt([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap??=oh(this.queryParams),this._queryParamMap}toString(){return NZ.serialize(this)}},vt=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Vv(this)}},Lc=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=oh(this.parameters),this._parameterMap}toString(){return jB(this)}};function RZ(n,e){return Vc(n,e)&&n.every((t,i)=>Ks(t.parameters,e[i].parameters))}function Vc(n,e){return n.length!==e.length?!1:n.every((t,i)=>t.path===e[i].path)}function OZ(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===We&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==We&&(t=t.concat(e(r,i)))}),t}var Kp=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=X({token:e,factory:()=>new ah,providedIn:"root"});let n=e;return n})(),ah=class{parse(e){let t=new VS(e);return new zo(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${kp(e.root,!0)}`,i=FZ(e.queryParams),r=typeof e.fragment=="string"?`#${kZ(e.fragment)}`:"";return`${t}${i}${r}`}},NZ=new ah;function Vv(n){return n.segments.map(e=>jB(e)).join("/")}function kp(n,e){if(!n.hasChildren())return Vv(n);if(e){let t=n.children[We]?kp(n.children[We],!1):"",i=[];return Object.entries(n.children).forEach(([r,s])=>{r!==We&&i.push(`${r}:${kp(s,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}else{let t=OZ(n,(i,r)=>r===We?[kp(n.children[We],!1)]:[`${r}:${kp(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[We]!=null?`${Vv(n)}/${t[0]}`:`${Vv(n)}/(${t.join("//")})`}}function UB(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Pv(n){return UB(n).replace(/%3B/gi,";")}function kZ(n){return encodeURI(n)}function LS(n){return UB(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Bv(n){return decodeURIComponent(n)}function DB(n){return Bv(n.replace(/\+/g,"%20"))}function jB(n){return`${LS(n.path)}${PZ(n.parameters)}`}function PZ(n){return Object.entries(n).map(([e,t])=>`;${LS(e)}=${LS(t)}`).join("")}function FZ(n){let e=Object.entries(n).map(([t,i])=>Array.isArray(i)?i.map(r=>`${Pv(t)}=${Pv(r)}`).join("&"):`${Pv(t)}=${Pv(i)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var LZ=/^[^\/()?;#]+/;function RS(n){let e=n.match(LZ);return e?e[0]:""}var VZ=/^[^\/()?;=#]+/;function BZ(n){let e=n.match(VZ);return e?e[0]:""}var UZ=/^[^=?&#]+/;function jZ(n){let e=n.match(UZ);return e?e[0]:""}var zZ=/^[^&#]+/;function $Z(n){let e=n.match(zZ);return e?e[0]:""}var VS=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new vt([],{}):new vt([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[We]=new vt(e,t)),i}parseSegment(){let e=RS(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new ne(4009,!1);return this.capture(e),new Lc(Bv(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=BZ(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let r=RS(this.remaining);r&&(i=r,this.capture(i))}e[Bv(t)]=Bv(i)}parseQueryParam(e){let t=jZ(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let o=$Z(this.remaining);o&&(i=o,this.capture(i))}let r=DB(t),s=DB(i);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=RS(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new ne(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=We);let o=this.parseChildren();t[s]=Object.keys(o).length===1?o[We]:new vt([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new ne(4011,!1)}};function zB(n){return n.segments.length>0?new vt([],{[We]:n}):n}function $B(n){let e={};for(let[i,r]of Object.entries(n.children)){let s=$B(r);if(i===We&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[i]=s)}let t=new vt(n.segments,e);return HZ(t)}function HZ(n){if(n.numberOfChildren===1&&n.children[We]){let e=n.children[We];return new vt(n.segments.concat(e.segments),e.children)}return n}function Bc(n){return n instanceof zo}function GZ(n,e,t=null,i=null){let r=HB(n);return GB(r,e,t,i)}function HB(n){let e;function t(s){let o={};for(let l of s.children){let c=t(l);o[l.outlet]=c}let a=new vt(s.url,o);return s===n&&(e=a),a}let i=t(n.root),r=zB(i);return e??r}function GB(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(e.length===0)return OS(r,r,r,t,i);let s=qZ(e);if(s.toRoot())return OS(r,r,new vt([],{}),t,i);let o=WZ(s,r,n),a=o.processChildren?Lp(o.segmentGroup,o.index,s.commands):WB(o.segmentGroup,o.index,s.commands);return OS(r,o.segmentGroup,a,t,i)}function Uv(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Up(n){return typeof n=="object"&&n!=null&&n.outlets}function OS(n,e,t,i,r){let s={};i&&Object.entries(i).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`});let o;n===e?o=t:o=qB(n,e,t);let a=zB($B(o));return new zo(a,s,r)}function qB(n,e,t){let i={};return Object.entries(n.children).forEach(([r,s])=>{s===e?i[r]=t:i[r]=qB(s,e,t)}),new vt(n.segments,i)}var jv=class{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Uv(i[0]))throw new ne(4003,!1);let r=i.find(Up);if(r&&r!==PB(i))throw new ne(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function qZ(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new jv(!0,0,n);let e=0,t=!1,i=n.reduce((r,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return typeof s!="string"?[...r,s]:o===0?(s.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,s]},[]);return new jv(t,e,i)}var ih=class{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}};function WZ(n,e,t){if(n.isAbsolute)return new ih(e,!0,0);if(!t)return new ih(e,!1,NaN);if(t.parent===null)return new ih(t,!0,0);let i=Uv(n.commands[0])?0:1,r=t.segments.length-1+i;return KZ(t,r,n.numberOfDoubleDots)}function KZ(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new ne(4005,!1);r=i.segments.length}return new ih(i,!1,r-s)}function QZ(n){return Up(n[0])?n[0].outlets:{[We]:n}}function WB(n,e,t){if(n??=new vt([],{}),n.segments.length===0&&n.hasChildren())return Lp(n,e,t);let i=ZZ(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let s=new vt(n.segments.slice(0,i.pathIndex),{});return s.children[We]=new vt(n.segments.slice(i.pathIndex),n.children),Lp(s,0,r)}else return i.match&&r.length===0?new vt(n.segments,{}):i.match&&!n.hasChildren()?BS(n,e,t):i.match?Lp(n,0,r):BS(n,e,t)}function Lp(n,e,t){if(t.length===0)return new vt(n.segments,{});{let i=QZ(t),r={};if(Object.keys(i).some(s=>s!==We)&&n.children[We]&&n.numberOfChildren===1&&n.children[We].segments.length===0){let s=Lp(n.children[We],e,t);return new vt(n.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(r[s]=WB(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{i[s]===void 0&&(r[s]=o)}),new vt(n.segments,r)}}function ZZ(n,e,t){let i=0,r=e,s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;let o=n.segments[r],a=t[i];if(Up(a))break;let l=`${a}`,c=i<t.length-1?t[i+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!SB(l,c,o))return s;i+=2}else{if(!SB(l,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function BS(n,e,t){let i=n.segments.slice(0,e),r=0;for(;r<t.length;){let s=t[r];if(Up(s)){let l=YZ(s.outlets);return new vt(i,l)}if(r===0&&Uv(t[0])){let l=n.segments[e];i.push(new Lc(l.path,TB(t[0]))),r++;continue}let o=Up(s)?s.outlets[We]:`${s}`,a=r<t.length-1?t[r+1]:null;o&&a&&Uv(a)?(i.push(new Lc(o,TB(a))),r+=2):(i.push(new Lc(o,{})),r++)}return new vt(i,{})}function YZ(n){let e={};return Object.entries(n).forEach(([t,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[t]=BS(new vt([],{}),0,i))}),e}function TB(n){let e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function SB(n,e,t){return n==t.path&&Ks(e,t.parameters)}var Vp="imperative",Fn=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Fn||{}),Er=class{constructor(e,t){this.id=e,this.url=t}},lh=class extends Er{constructor(e,t,i="imperative",r=null){super(e,t),this.type=Fn.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},rs=class extends Er{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=Fn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},er=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(er||{}),zv=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(zv||{}),jo=class extends Er{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=Fn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},rl=class extends Er{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=Fn.NavigationSkipped}},jp=class extends Er{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=Fn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},$v=class extends Er{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=Fn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},US=class extends Er{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=Fn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},jS=class extends Er{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=Fn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},zS=class extends Er{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=Fn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$S=class extends Er{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=Fn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},HS=class{constructor(e){this.route=e,this.type=Fn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},GS=class{constructor(e){this.route=e,this.type=Fn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},qS=class{constructor(e){this.snapshot=e,this.type=Fn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},WS=class{constructor(e){this.snapshot=e,this.type=Fn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},KS=class{constructor(e){this.snapshot=e,this.type=Fn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},QS=class{constructor(e){this.snapshot=e,this.type=Fn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Hv=class{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=Fn.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},zp=class{},ch=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function JZ(n,e){return n.providers&&!n._injector&&(n._injector=H0(n.providers,e,`Route: ${n.path}`)),n._injector??e}function is(n){return n.outlet||We}function XZ(n,e){let t=n.filter(i=>is(i)===e);return t.push(...n.filter(i=>is(i)!==e)),t}function Qp(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var ZS=class{get injector(){return Qp(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Zp(this.rootInjector),this.attachRef=null}},Zp=(()=>{let e=class e{constructor(i){this.rootInjector=i,this.contexts=new Map}onChildOutletCreated(i,r){let s=this.getOrCreateContext(i);s.outlet=r,this.contexts.set(i,s)}onChildOutletDestroyed(i){let r=this.getContext(i);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let r=this.getContext(i);return r||(r=new ZS(this.rootInjector),this.contexts.set(i,r)),r}getContext(i){return this.contexts.get(i)||null}};e.\u0275fac=function(r){return new(r||e)(G(xn))},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),Gv=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=YS(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){let t=YS(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=JS(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return JS(e,this._root).map(t=>t.value)}};function YS(n,e){if(n===e.value)return e;for(let t of e.children){let i=YS(n,t);if(i)return i}return null}function JS(n,e){if(n===e.value)return[e];for(let t of e.children){let i=JS(n,t);if(i.length)return i.unshift(e),i}return[]}var Xi=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function nh(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var qv=class extends Gv{constructor(e,t){super(e),this.snapshot=t,aM(this,e)}toString(){return this.snapshot.toString()}};function KB(n){let e=eY(n),t=new kt([new Lc("",{})]),i=new kt({}),r=new kt({}),s=new kt({}),o=new kt(""),a=new ss(t,i,s,o,r,We,n,e.root);return a.snapshot=e.root,new qv(new Xi(a,[]),e)}function eY(n){let e={},t={},i={},r="",s=new rh([],e,i,r,t,We,n,null,{});return new Kv("",new Xi(s,[]))}var ss=class{constructor(e,t,i,r,s,o,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(se(c=>c[Wp]))??ce(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(se(e=>oh(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(se(e=>oh(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Wv(n,e,t="emptyOnly"){let i,{routeConfig:r}=n;return e!==null&&(t==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:Q(Q({},e.params),n.params),data:Q(Q({},e.data),n.data),resolve:Q(Q(Q(Q({},n.data),e.data),r?.data),n._resolvedData)}:i={params:Q({},n.params),data:Q({},n.data),resolve:Q(Q({},n.data),n._resolvedData??{})},r&&ZB(r)&&(i.resolve[Wp]=r.title),i}var rh=class{get title(){return this.data?.[Wp]}constructor(e,t,i,r,s,o,a,l,c){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=oh(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=oh(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Kv=class extends Gv{constructor(e,t){super(t),this.url=e,aM(this,t)}toString(){return QB(this._root)}};function aM(n,e){e.value._routerState=n,e.children.forEach(t=>aM(n,t))}function QB(n){let e=n.children.length>0?` { ${n.children.map(QB).join(", ")} } `:"";return`${n.value}${e}`}function NS(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ks(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Ks(e.params,t.params)||n.paramsSubject.next(t.params),SZ(e.url,t.url)||n.urlSubject.next(t.url),Ks(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function XS(n,e){let t=Ks(n.params,e.params)&&RZ(n.url,e.url),i=!n.parent!=!e.parent;return t&&!i&&(!n.parent||XS(n.parent,e.parent))}function ZB(n){return typeof n.title=="string"||n.title===null}var lM=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=We,this.activateEvents=new xe,this.deactivateEvents=new xe,this.attachEvents=new xe,this.detachEvents=new xe,this.parentContexts=K(Zp),this.location=K(Ts),this.changeDetector=K(Ri),this.inputBinder=K(ew,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){let{firstChange:r,previousValue:s}=i.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ne(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ne(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ne(4012,!1);this.location.detach();let i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,r){this.activated=i,this._activatedRoute=r,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){let i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,r){if(this.isActivated)throw new ne(4013,!1);this._activatedRoute=i;let s=this.location,a=i.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new eM(i,l,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Ze({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Dn]});let n=e;return n})(),eM=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===ss?this.route:e===Zp?this.childContexts:this.parent.get(e,t)}},ew=new oe(""),MB=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(i){this.unsubscribeFromRouteData(i),this.subscribeToRouteData(i)}unsubscribeFromRouteData(i){this.outletDataSubscriptions.get(i)?.unsubscribe(),this.outletDataSubscriptions.delete(i)}subscribeToRouteData(i){let{activatedRoute:r}=i,s=rr([r.queryParams,r.params,r.data]).pipe(Le(([o,a,l],c)=>(l=Q(Q(Q({},o),a),l),c===0?ce(l):Promise.resolve(l)))).subscribe(o=>{if(!i.isActivated||!i.activatedComponentRef||i.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(i);return}let a=BN(r.component);if(!a){this.unsubscribeFromRouteData(i);return}for(let{templateName:l}of a.inputs)i.activatedComponentRef.setInput(l,o[l])});this.outletDataSubscriptions.set(i,s)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=X({token:e,factory:e.\u0275fac});let n=e;return n})();function tY(n,e,t){let i=$p(n,e._root,t?t._root:void 0);return new qv(i,e)}function $p(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let i=t.value;i._futureSnapshot=e.value;let r=nY(n,e,t);return new Xi(i,r)}else{if(n.shouldAttach(e.value)){let s=n.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>$p(n,a)),o}}let i=iY(e.value),r=e.children.map(s=>$p(n,s));return new Xi(i,r)}}function nY(n,e,t){return e.children.map(i=>{for(let r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return $p(n,i,r);return $p(n,i)})}function iY(n){return new ss(new kt(n.url),new kt(n.params),new kt(n.queryParams),new kt(n.fragment),new kt(n.data),n.outlet,n.component,n)}var Hp=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},YB="ngNavigationCancelingError";function Qv(n,e){let{redirectTo:t,navigationBehaviorOptions:i}=Bc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=JB(!1,er.Redirect);return r.url=t,r.navigationBehaviorOptions=i,r}function JB(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[YB]=!0,t.cancellationCode=e,t}function rY(n){return XB(n)&&Bc(n.url)}function XB(n){return!!n&&n[YB]}var sY=(n,e,t,i)=>se(r=>(new tM(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)),tM=class{constructor(e,t,i,r,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){let t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),NS(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){let r=nh(t);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){let r=e.value,s=t?t.value:null;if(r===s)if(r.component){let o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=nh(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);if(i&&i.outlet){let o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=nh(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){let r=nh(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new QS(s.value.snapshot))}),e.children.length&&this.forwardEvent(new WS(e.value.snapshot))}activateRoutes(e,t,i){let r=e.value,s=t?t.value:null;if(NS(r),r===s)if(r.component){let o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,i);else if(r.component){let o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),NS(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=r,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,i)}},Zv=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},sh=class{constructor(e,t){this.component=e,this.route=t}};function oY(n,e,t){let i=n._root,r=e?e._root:null;return Pp(i,r,t,[i.value])}function aY(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function dh(n,e){let t=Symbol(),i=e.get(n,t);return i===t?typeof n=="function"&&!Gx(n)?n:e.get(n):i}function Pp(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=nh(e);return n.children.forEach(o=>{lY(o,s[o.value.outlet],t,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Bp(a,t.getContext(o),r)),r}function lY(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let l=cY(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new Zv(i)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Pp(n,e,a?a.children:null,i,r):Pp(n,e,t,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new sh(a.outlet.component,o))}else o&&Bp(e,a,r),r.canActivateChecks.push(new Zv(i)),s.component?Pp(n,null,a?a.children:null,i,r):Pp(n,null,t,i,r);return r}function cY(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Vc(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Vc(n.url,e.url)||!Ks(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!XS(n,e)||!Ks(n.queryParams,e.queryParams);case"paramsChange":default:return!XS(n,e)}}function Bp(n,e,t){let i=nh(n),r=n.value;Object.entries(i).forEach(([s,o])=>{r.component?e?Bp(o,e.children.getContext(s),t):Bp(o,null,t):Bp(o,e,t)}),r.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new sh(e.outlet.component,r)):t.canDeactivateChecks.push(new sh(null,r)):t.canDeactivateChecks.push(new sh(null,r))}function Yp(n){return typeof n=="function"}function uY(n){return typeof n=="boolean"}function dY(n){return n&&Yp(n.canLoad)}function hY(n){return n&&Yp(n.canActivate)}function fY(n){return n&&Yp(n.canActivateChild)}function pY(n){return n&&Yp(n.canDeactivate)}function gY(n){return n&&Yp(n.canMatch)}function e3(n){return n instanceof oo||n?.name==="EmptyError"}var Fv=Symbol("INITIAL_VALUE");function uh(){return Le(n=>rr(n.map(e=>e.pipe(tn(1),kr(Fv)))).pipe(se(e=>{for(let t of e)if(t!==!0){if(t===Fv)return Fv;if(t===!1||mY(t))return t}return!0}),Ut(e=>e!==Fv),tn(1)))}function mY(n){return Bc(n)||n instanceof Hp}function yY(n,e){return Gt(t=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return o.length===0&&s.length===0?ce(Ee(Q({},t),{guardsResult:!0})):_Y(o,i,r,n).pipe(Gt(a=>a&&uY(a)?vY(i,s,n,e):ce(a)),se(a=>Ee(Q({},t),{guardsResult:a})))})}function _Y(n,e,t,i){return Ge(n).pipe(Gt(r=>IY(r.component,r.route,t,e,i)),or(r=>r!==!0,!0))}function vY(n,e,t,i){return Ge(e).pipe(ao(r=>oa(bY(r.route.parent,i),wY(r.route,i),EY(n,r.path,t),CY(n,r.route,t))),or(r=>r!==!0,!0))}function wY(n,e){return n!==null&&e&&e(new KS(n)),ce(!0)}function bY(n,e){return n!==null&&e&&e(new qS(n)),ce(!0)}function CY(n,e,t){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return ce(!0);let r=i.map(s=>Im(()=>{let o=Qp(e)??t,a=dh(s,o),l=hY(a)?a.canActivate(e,n):cr(o,()=>a(e,n));return sl(l).pipe(or())}));return ce(r).pipe(uh())}function EY(n,e,t){let i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>aY(o)).filter(o=>o!==null).map(o=>Im(()=>{let a=o.guards.map(l=>{let c=Qp(o.node)??t,d=dh(l,c),f=fY(d)?d.canActivateChild(i,n):cr(c,()=>d(i,n));return sl(f).pipe(or())});return ce(a).pipe(uh())}));return ce(s).pipe(uh())}function IY(n,e,t,i,r){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return ce(!0);let o=s.map(a=>{let l=Qp(e)??r,c=dh(a,l),d=pY(c)?c.canDeactivate(n,e,t,i):cr(l,()=>c(n,e,t,i));return sl(d).pipe(or())});return ce(o).pipe(uh())}function DY(n,e,t,i){let r=e.canLoad;if(r===void 0||r.length===0)return ce(!0);let s=r.map(o=>{let a=dh(o,n),l=dY(a)?a.canLoad(e,t):cr(n,()=>a(e,t));return sl(l)});return ce(s).pipe(uh(),t3(i))}function t3(n){return Qw(qt(e=>{if(typeof e!="boolean")throw Qv(n,e)}),se(e=>e===!0))}function TY(n,e,t,i){let r=e.canMatch;if(!r||r.length===0)return ce(!0);let s=r.map(o=>{let a=dh(o,n),l=gY(a)?a.canMatch(e,t):cr(n,()=>a(e,t));return sl(l)});return ce(s).pipe(uh(),t3(i))}var Gp=class{constructor(e){this.segmentGroup=e||null}},qp=class extends Error{constructor(e){super(),this.urlTree=e}};function th(n){return Iu(new Gp(n))}function SY(n){return Iu(new ne(4e3,!1))}function MY(n){return Iu(JB(!1,er.GuardRejected))}var nM=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return ce(i);if(r.numberOfChildren>1||!r.children[We])return SY(`${e.redirectTo}`);r=r.children[We]}}applyRedirectCommands(e,t,i,r,s){if(typeof t!="string"){let a=t,{queryParams:l,fragment:c,routeConfig:d,url:f,outlet:m,params:v,data:C,title:A}=r,S=cr(s,()=>a({params:v,data:C,queryParams:l,fragment:c,routeConfig:d,url:f,outlet:m,title:A}));if(S instanceof zo)throw new qp(S);t=S}let o=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i);if(t[0]==="/")throw new qp(o);return o}applyRedirectCreateUrlTree(e,t,i,r){let s=this.createSegmentGroup(e,t.root,i,r);return new zo(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let i={};return Object.entries(e).forEach(([r,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);i[r]=t[a]}else i[r]=s}),i}createSegmentGroup(e,t,i,r){let s=this.createSegments(e,t.segments,i,r),o={};return Object.entries(t.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,i,r)}),new vt(s,o)}createSegments(e,t,i,r){return t.map(s=>s.path[0]===":"?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){let r=i[t.path.substring(1)];if(!r)throw new ne(4001,!1);return r}findOrReturn(e,t){let i=0;for(let r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}},iM={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function AY(n,e,t,i,r){let s=n3(n,e,t);return s.matched?(i=JZ(e,i),TY(i,e,t,r).pipe(se(o=>o===!0?s:Q({},iM)))):ce(s)}function n3(n,e,t){if(e.path==="**")return xY(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?Q({},iM):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let r=(e.matcher||TZ)(t,n,e);if(!r)return Q({},iM);let s={};Object.entries(r.posParams??{}).forEach(([a,l])=>{s[a]=l.path});let o=r.consumed.length>0?Q(Q({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function xY(n){return{matched:!0,parameters:n.length>0?PB(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function AB(n,e,t,i){return t.length>0&&NY(n,t,i)?{segmentGroup:new vt(e,OY(i,new vt(t,n.children))),slicedSegments:[]}:t.length===0&&kY(n,t,i)?{segmentGroup:new vt(n.segments,RY(n,t,i,n.children)),slicedSegments:t}:{segmentGroup:new vt(n.segments,n.children),slicedSegments:t}}function RY(n,e,t,i){let r={};for(let s of t)if(tw(n,e,s)&&!i[is(s)]){let o=new vt([],{});r[is(s)]=o}return Q(Q({},i),r)}function OY(n,e){let t={};t[We]=e;for(let i of n)if(i.path===""&&is(i)!==We){let r=new vt([],{});t[is(i)]=r}return t}function NY(n,e,t){return t.some(i=>tw(n,e,i)&&is(i)!==We)}function kY(n,e,t){return t.some(i=>tw(n,e,i))}function tw(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function PY(n,e,t){return e.length===0&&!n.children[t]}var rM=class{};function FY(n,e,t,i,r,s,o="emptyOnly"){return new sM(n,e,t,i,r,o,s).recognize()}var LY=31,sM=class{constructor(e,t,i,r,s,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new nM(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new ne(4002,`'${e.segmentGroup}'`)}recognize(){let e=AB(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(se(({children:t,rootSnapshot:i})=>{let r=new Xi(i,t),s=new Kv("",r),o=GZ(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let t=new rh([],Object.freeze({}),Object.freeze(Q({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),We,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,We,t).pipe(se(i=>({children:i,rootSnapshot:t})),Jn(i=>{if(i instanceof qp)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Gp?this.noMatchError(i):i}))}processSegmentGroup(e,t,i,r,s){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,t,i,s):this.processSegment(e,t,i,i.segments,r,!0,s).pipe(se(o=>o instanceof Xi?[o]:[]))}processChildren(e,t,i,r){let s=[];for(let o of Object.keys(i.children))o==="primary"?s.unshift(o):s.push(o);return Ge(s).pipe(ao(o=>{let a=i.children[o],l=XZ(t,o);return this.processSegmentGroup(e,l,a,o,r)}),Rl((o,a)=>(o.push(...a),o)),aa(null),cb(),Gt(o=>{if(o===null)return th(i);let a=i3(o);return VY(a),ce(a)}))}processSegment(e,t,i,r,s,o,a){return Ge(t).pipe(ao(l=>this.processSegmentAgainstRoute(l._injector??e,t,l,i,r,s,o,a).pipe(Jn(c=>{if(c instanceof Gp)return ce(null);throw c}))),or(l=>!!l),Jn(l=>{if(e3(l))return PY(i,r,s)?ce(new rM):th(i);throw l}))}processSegmentAgainstRoute(e,t,i,r,s,o,a,l){return is(i)!==o&&(o===We||!tw(r,s,i))?th(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,s,o,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,s,o,l):th(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o,a){let{matched:l,parameters:c,consumedSegments:d,positionalParamSegments:f,remainingSegments:m}=n3(t,r,s);if(!l)return th(t);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>LY&&(this.allowRedirects=!1));let v=new rh(s,c,Object.freeze(Q({},this.urlTree.queryParams)),this.urlTree.fragment,xB(r),is(r),r.component??r._loadedComponent??null,r,RB(r)),C=Wv(v,a,this.paramsInheritanceStrategy);v.params=Object.freeze(C.params),v.data=Object.freeze(C.data);let A=this.applyRedirects.applyRedirectCommands(d,r.redirectTo,f,v,e);return this.applyRedirects.lineralizeSegments(r,A).pipe(Gt(S=>this.processSegment(e,i,t,S.concat(m),o,!1,a)))}matchSegmentAgainstRoute(e,t,i,r,s,o){let a=AY(t,i,r,e,this.urlSerializer);return i.path==="**"&&(t.children={}),a.pipe(Le(l=>l.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(Le(({routes:c})=>{let d=i._loadedInjector??e,{parameters:f,consumedSegments:m,remainingSegments:v}=l,C=new rh(m,f,Object.freeze(Q({},this.urlTree.queryParams)),this.urlTree.fragment,xB(i),is(i),i.component??i._loadedComponent??null,i,RB(i)),A=Wv(C,o,this.paramsInheritanceStrategy);C.params=Object.freeze(A.params),C.data=Object.freeze(A.data);let{segmentGroup:S,slicedSegments:j}=AB(t,m,v,c);if(j.length===0&&S.hasChildren())return this.processChildren(d,c,S,C).pipe(se(W=>new Xi(C,W)));if(c.length===0&&j.length===0)return ce(new Xi(C,[]));let Z=is(i)===s;return this.processSegment(d,c,S,j,Z?We:s,!0,C).pipe(se(W=>new Xi(C,W instanceof Xi?[W]:[])))}))):th(t)))}getChildConfig(e,t,i){return t.children?ce({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?ce({routes:t._loadedRoutes,injector:t._loadedInjector}):DY(e,t,i,this.urlSerializer).pipe(Gt(r=>r?this.configLoader.loadChildren(e,t).pipe(qt(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):MY(t))):ce({routes:[],injector:e})}};function VY(n){n.sort((e,t)=>e.value.outlet===We?-1:t.value.outlet===We?1:e.value.outlet.localeCompare(t.value.outlet))}function BY(n){let e=n.value.routeConfig;return e&&e.path===""}function i3(n){let e=[],t=new Set;for(let i of n){if(!BY(i)){e.push(i);continue}let r=e.find(s=>i.value.routeConfig===s.value.routeConfig);r!==void 0?(r.children.push(...i.children),t.add(r)):e.push(i)}for(let i of t){let r=i3(i.children);e.push(new Xi(i.value,r))}return e.filter(i=>!t.has(i))}function xB(n){return n.data||{}}function RB(n){return n.resolve||{}}function UY(n,e,t,i,r,s){return Gt(o=>FY(n,e,t,i,o.extractedUrl,r,s).pipe(se(({state:a,tree:l})=>Ee(Q({},o),{targetSnapshot:a,urlAfterRedirects:l}))))}function jY(n,e){return Gt(t=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return ce(t);let s=new Set(r.map(l=>l.route)),o=new Set;for(let l of s)if(!o.has(l))for(let c of r3(l))o.add(c);let a=0;return Ge(o).pipe(ao(l=>s.has(l)?zY(l,i,n,e):(l.data=Wv(l,l.parent,n).resolve,ce(void 0))),qt(()=>a++),Tu(1),Gt(l=>a===o.size?ce(t):In))})}function r3(n){let e=n.children.map(t=>r3(t)).flat();return[n,...e]}function zY(n,e,t,i){let r=n.routeConfig,s=n._resolve;return r?.title!==void 0&&!ZB(r)&&(s[Wp]=r.title),$Y(s,n,e,i).pipe(se(o=>(n._resolvedData=o,n.data=Wv(n,n.parent,t).resolve,null)))}function $Y(n,e,t,i){let r=FS(n);if(r.length===0)return ce({});let s={};return Ge(r).pipe(Gt(o=>HY(n[o],e,t,i).pipe(or(),qt(a=>{if(a instanceof Hp)throw Qv(new ah,a);s[o]=a}))),Tu(1),ab(s),Jn(o=>e3(o)?In:Iu(o)))}function HY(n,e,t,i){let r=Qp(e)??i,s=dh(n,r),o=s.resolve?s.resolve(e,t):cr(r,()=>s(e,t));return sl(o)}function kS(n){return Le(e=>{let t=n(e);return t?Ge(t).pipe(se(()=>e)):ce(e)})}var s3=(()=>{let e=class e{buildTitle(i){let r,s=i.root;for(;s!==void 0;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(o=>o.outlet===We);return r}getResolvedTitleForRoute(i){return i.data[Wp]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=X({token:e,factory:()=>K(GY),providedIn:"root"});let n=e;return n})(),GY=(()=>{let e=class e extends s3{constructor(i){super(),this.title=i}updateTitle(i){let r=this.buildTitle(i);r!==void 0&&this.title.setTitle(r)}};e.\u0275fac=function(r){return new(r||e)(G(Ik))},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),Jp=new oe("",{providedIn:"root",factory:()=>({})}),qY=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Oe({type:e,selectors:[["ng-component"]],standalone:!0,features:[Pt],decls:1,vars:0,template:function(r,s){r&1&&ie(0,"router-outlet")},dependencies:[lM],encapsulation:2});let n=e;return n})();function cM(n){let e=n.children&&n.children.map(cM),t=e?Ee(Q({},n),{children:e}):Q({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==We&&(t.component=qY),t}var Yv=new oe(""),uM=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=K(Y0)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return ce(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=sl(i.loadComponent()).pipe(se(o3),qt(o=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=o}),zn(()=>{this.componentLoaders.delete(i)})),s=new vu(r,()=>new ke).pipe(_u());return this.componentLoaders.set(i,s),s}loadChildren(i,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ce({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=WY(r,this.compiler,i,this.onLoadEndListener).pipe(zn(()=>{this.childrenLoaders.delete(r)})),a=new vu(o,()=>new ke).pipe(_u());return this.childrenLoaders.set(r,a),a}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function WY(n,e,t,i){return sl(n.loadChildren()).pipe(se(o3),Gt(r=>r instanceof nf||Array.isArray(r)?ce(r):Ge(e.compileModuleAsync(r))),se(r=>{i&&i(n);let s,o,a=!1;return Array.isArray(r)?(o=r,a=!0):(s=r.create(t).injector,o=s.get(Yv,[],{optional:!0,self:!0}).flat()),{routes:o.map(cM),injector:s}}))}function KY(n){return n&&typeof n=="object"&&"default"in n}function o3(n){return KY(n)?n.default:n}var dM=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=X({token:e,factory:()=>K(QY),providedIn:"root"});let n=e;return n})(),QY=(()=>{let e=class e{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,r){return i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),a3=new oe(""),l3=new oe("");function ZY(n,e,t){let i=n.get(l3),r=n.get(Ye);return n.get(De).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(c=>setTimeout(c));let s,o=new Promise(c=>{s=c}),a=r.startViewTransition(()=>(s(),YY(n))),{onViewTransitionCreated:l}=i;return l&&cr(n,()=>l({transition:a,from:e,to:t})),o})}function YY(n){return new Promise(e=>{mC({read:()=>setTimeout(e)},{injector:n})})}var JY=new oe(""),hM=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ke,this.transitionAbortSubject=new ke,this.configLoader=K(uM),this.environmentInjector=K(xn),this.urlSerializer=K(Kp),this.rootContexts=K(Zp),this.location=K(Wu),this.inputBindingEnabled=K(ew,{optional:!0})!==null,this.titleStrategy=K(s3),this.options=K(Jp,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=K(dM),this.createViewTransition=K(a3,{optional:!0}),this.navigationErrorHandler=K(JY,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ce(void 0),this.rootComponentType=null;let i=s=>this.events.next(new HS(s)),r=s=>this.events.next(new GS(s));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=i}complete(){this.transitions?.complete()}handleNavigationRequest(i){let r=++this.navigationId;this.transitions?.next(Ee(Q(Q({},this.transitions.value),i),{id:r}))}setupNavigations(i,r,s){return this.transitions=new kt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Vp,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ut(o=>o.id!==0),se(o=>Ee(Q({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Le(o=>{let a=!1,l=!1;return ce(o).pipe(Le(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",er.SupersededByNewNavigation),In;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?Ee(Q({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!i.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=c.extras.onSameUrlNavigation??i.onSameUrlNavigation;if(!d&&f!=="reload"){let m="";return this.events.next(new rl(c.id,this.urlSerializer.serialize(c.rawUrl),m,zv.IgnoredSameUrlNavigation)),c.resolve(!1),In}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return ce(c).pipe(Le(m=>{let v=this.transitions?.getValue();return this.events.next(new lh(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),v!==this.transitions?.getValue()?In:Promise.resolve(m)}),UY(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,this.paramsInheritanceStrategy),qt(m=>{o.targetSnapshot=m.targetSnapshot,o.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=Ee(Q({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let v=new $v(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(v)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:m,extractedUrl:v,source:C,restoredState:A,extras:S}=c,j=new lh(m,this.urlSerializer.serialize(v),C,A);this.events.next(j);let Z=KB(this.rootComponentType).snapshot;return this.currentTransition=o=Ee(Q({},c),{targetSnapshot:Z,urlAfterRedirects:v,extras:Ee(Q({},S),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=v,ce(o)}else{let m="";return this.events.next(new rl(c.id,this.urlSerializer.serialize(c.extractedUrl),m,zv.IgnoredByUrlHandlingStrategy)),c.resolve(!1),In}}),qt(c=>{let d=new US(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),se(c=>(this.currentTransition=o=Ee(Q({},c),{guards:oY(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),yY(this.environmentInjector,c=>this.events.next(c)),qt(c=>{if(o.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw Qv(this.urlSerializer,c.guardsResult);let d=new jS(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(d)}),Ut(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",er.GuardRejected),!1)),kS(c=>{if(c.guards.canActivateChecks.length)return ce(c).pipe(qt(d=>{let f=new zS(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}),Le(d=>{let f=!1;return ce(d).pipe(jY(this.paramsInheritanceStrategy,this.environmentInjector),qt({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(d,"",er.NoDataFromResolver)}}))}),qt(d=>{let f=new $S(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}))}),kS(c=>{let d=f=>{let m=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(f.routeConfig).pipe(qt(v=>{f.component=v}),se(()=>{})));for(let v of f.children)m.push(...d(v));return m};return rr(d(c.targetSnapshot.root)).pipe(aa(null),tn(1))}),kS(()=>this.afterPreactivation()),Le(()=>{let{currentSnapshot:c,targetSnapshot:d}=o,f=this.createViewTransition?.(this.environmentInjector,c.root,d.root);return f?Ge(f).pipe(se(()=>o)):ce(o)}),se(c=>{let d=tY(i.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=Ee(Q({},c),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,o}),qt(()=>{this.events.next(new zp)}),sY(this.rootContexts,i.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),tn(1),qt({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new rs(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),dn(this.transitionAbortSubject.pipe(qt(c=>{throw c}))),zn(()=>{!a&&!l&&this.cancelNavigationTransition(o,"",er.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Jn(c=>{if(l=!0,XB(c))this.events.next(new jo(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),rY(c)?this.events.next(new ch(c.url,c.navigationBehaviorOptions)):o.resolve(!1);else{let d=new jp(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0);try{let f=cr(this.environmentInjector,()=>this.navigationErrorHandler?.(d));if(f instanceof Hp){let{message:m,cancellationCode:v}=Qv(this.urlSerializer,f);this.events.next(new jo(o.id,this.urlSerializer.serialize(o.extractedUrl),m,v)),this.events.next(new ch(f.redirectTo,f.navigationBehaviorOptions))}else{this.events.next(d);let m=i.errorHandler(c);o.resolve(!!m)}}catch(f){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(f)}}return In}))}))}cancelNavigationTransition(i,r,s){let o=new jo(i.id,this.urlSerializer.serialize(i.extractedUrl),r,s);this.events.next(o),i.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let i=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return i.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function XY(n){return n!==Vp}var eJ=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=X({token:e,factory:()=>K(tJ),providedIn:"root"});let n=e;return n})(),oM=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},tJ=(()=>{let e=class e extends oM{};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=pi(e)))(s||e)}})(),e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),c3=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=X({token:e,factory:()=>K(nJ),providedIn:"root"});let n=e;return n})(),nJ=(()=>{let e=class e extends c3{constructor(){super(...arguments),this.location=K(Wu),this.urlSerializer=K(Kp),this.options=K(Jp,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=K(dM),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new zo,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=KB(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(r=>{r.type==="popstate"&&i(r.url,r.state)})}handleRouterEvent(i,r){if(i instanceof lh)this.stateMemento=this.createStateMemento();else if(i instanceof rl)this.rawUrlTree=r.initialUrl;else if(i instanceof $v){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??s,r)}}else i instanceof zp?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):i instanceof jo&&(i.code===er.GuardRejected||i.code===er.NoDataFromResolver)?this.restoreHistory(r):i instanceof jp?this.restoreHistory(r,!0):i instanceof rs&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,r){let s=i instanceof zo?this.urlSerializer.serialize(i):i;if(this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl){let o=this.browserPageId,a=Q(Q({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(s,"",a)}else{let o=Q(Q({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(i,r=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===i.finalUrl&&o===0&&(this.resetState(i),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,r){return this.canceledNavigationResolution==="computed"?{navigationId:i,\u0275routerPageId:r}:{navigationId:i}}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=pi(e)))(s||e)}})(),e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),Fp=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Fp||{});function u3(n,e){n.events.pipe(Ut(t=>t instanceof rs||t instanceof jo||t instanceof jp||t instanceof rl),se(t=>t instanceof rs||t instanceof rl?Fp.COMPLETE:(t instanceof jo?t.code===er.Redirect||t.code===er.SupersededByNewNavigation:!1)?Fp.REDIRECTING:Fp.FAILED),Ut(t=>t!==Fp.REDIRECTING),tn(1)).subscribe(()=>{e()})}function iJ(n){throw n}var rJ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},sJ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Vt=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=K(q0),this.stateManager=K(c3),this.options=K(Jp,{optional:!0})||{},this.pendingTasks=K(mo),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=K(hM),this.urlSerializer=K(Kp),this.location=K(Wu),this.urlHandlingStrategy=K(dM),this._events=new ke,this.errorHandler=this.options.errorHandler||iJ,this.navigated=!1,this.routeReuseStrategy=K(eJ),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=K(Yv,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!K(ew,{optional:!0}),this.eventsSubscription=new Yt,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:i=>{this.console.warn(i)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let i=this.navigationTransitions.events.subscribe(r=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof jo&&r.code!==er.Redirect&&r.code!==er.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof rs)this.navigated=!0;else if(r instanceof ch){let a=r.navigationBehaviorOptions,l=this.urlHandlingStrategy.merge(r.url,s.currentRawUrl),c=Q({browserUrl:s.extras.browserUrl,info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||XY(s.source)},a);this.scheduleNavigation(l,Vp,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}aJ(r)&&this._events.next(r)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Vp,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",r)},0)})}navigateToSyncWithBrowser(i,r,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let c=Q({},s);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let l=this.parseUrl(i);this.scheduleNavigation(l,r,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(cM),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,r={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:l,preserveFragment:c}=r,d=c?this.currentUrlTree.fragment:a,f=null;switch(l??this.options.defaultQueryParamsHandling){case"merge":f=Q(Q({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let m;try{let v=s?s.snapshot:this.routerState.snapshot.root;m=HB(v)}catch{(typeof i[0]!="string"||i[0][0]!=="/")&&(i=[]),m=this.currentUrlTree.root}return GB(m,i,f,d??null)}navigateByUrl(i,r={skipLocationChange:!1}){let s=Bc(i)?i:this.parseUrl(i),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Vp,null,r)}navigate(i,r={skipLocationChange:!1}){return oJ(i),this.navigateByUrl(this.createUrlTree(i,r),r)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){try{return this.urlSerializer.parse(i)}catch{return this.urlSerializer.parse("/")}}isActive(i,r){let s;if(r===!0?s=Q({},rJ):r===!1?s=Q({},sJ):s=r,Bc(i))return IB(this.currentUrlTree,i,s);let o=this.parseUrl(i);return IB(this.currentUrlTree,o,s)}removeEmptyProps(i){return Object.entries(i).reduce((r,[s,o])=>(o!=null&&(r[s]=o),r),{})}scheduleNavigation(i,r,s,o,a){if(this.disposed)return Promise.resolve(!1);let l,c,d;a?(l=a.resolve,c=a.reject,d=a.promise):d=new Promise((m,v)=>{l=m,c=v});let f=this.pendingTasks.add();return u3(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:o,resolve:l,reject:c,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(m=>Promise.reject(m))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function oJ(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new ne(4008,!1)}function aJ(n){return!(n instanceof zp)&&!(n instanceof ch)}var Jv=(()=>{let e=class e{constructor(i,r,s,o,a,l){this.router=i,this.route=r,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=l,this.href=null,this.onChanges=new ke,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let c=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=i.events.subscribe(d=>{d instanceof rs&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(i){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",i)}ngOnChanges(i){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(i){i==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Bc(i)?this.routerLinkInput=i:this.routerLinkInput=Array.isArray(i)?i:[i],this.setTabIndexIfNotOnNativeEl("0"))}onClick(i,r,s,o,a){let l=this.urlTree;if(l===null||this.isAnchorElement&&(i!==0||r||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(l,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let i=this.urlTree;this.href=i!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(i)):null;let r=this.href===null?null:wO(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(i,r){let s=this.renderer,o=this.el.nativeElement;r!==null?s.setAttribute(o,i,r):s.removeAttribute(o,i)}get urlTree(){return this.routerLinkInput===null?null:Bc(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(r){return new(r||e)(B(Vt),B(ss),N0("tabindex"),B(ei),B(ht),B(Co))},e.\u0275dir=Ze({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,s){r&1&&re("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),r&2&&Xe("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Ue],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Ue],replaceUrl:[2,"replaceUrl","replaceUrl",Ue],routerLink:"routerLink"},standalone:!0,features:[gi,Dn]});let n=e;return n})(),d3=(()=>{let e=class e{get isActive(){return this._isActive}constructor(i,r,s,o,a){this.router=i,this.element=r,this.renderer=s,this.cdr=o,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new xe,this.routerEventsSubscription=i.events.subscribe(l=>{l instanceof rs&&this.update()})}ngAfterContentInit(){ce(this.links.changes,ce(null)).pipe(ms()).subscribe(i=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let i=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Ge(i).pipe(ms()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(i){let r=Array.isArray(i)?i:i.split(" ");this.classes=r.filter(s=>!!s)}ngOnChanges(i){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let i=this.hasActiveLinks();this.classes.forEach(r=>{i?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),i&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==i&&(this._isActive=i,this.cdr.markForCheck(),this.isActiveChange.emit(i))})}isLinkActive(i){let r=lJ(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>{let o=s.urlTree;return o?i.isActive(o,r):!1}}hasActiveLinks(){let i=this.isLinkActive(this.router);return this.link&&i(this.link)||this.links.some(i)}};e.\u0275fac=function(r){return new(r||e)(B(Vt),B(ht),B(ei),B(Ri),B(Jv,8))},e.\u0275dir=Ze({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(r,s,o){if(r&1&&Ss(o,Jv,5),r&2){let a;Rn(a=On())&&(s.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Dn]});let n=e;return n})();function lJ(n){return!!n.paths}var Xv=class{};var cJ=(()=>{let e=class e{constructor(i,r,s,o,a){this.router=i,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Ut(i=>i instanceof rs),ao(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,r){let s=[];for(let o of r){o.providers&&!o._injector&&(o._injector=H0(o.providers,i,`Route: ${o.path}`));let a=o._injector??i,l=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(l,o.children??o._loadedRoutes))}return Ge(s).pipe(ms())}preloadConfig(i,r){return this.preloadingStrategy.preload(r,()=>{let s;r.loadChildren&&r.canLoad===void 0?s=this.loader.loadChildren(i,r):s=ce(null);let o=s.pipe(Gt(a=>a===null?ce(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??i,a.routes))));if(r.loadComponent&&!r._loadedComponent){let a=this.loader.loadComponent(r);return Ge([o,a]).pipe(ms())}else return o})}};e.\u0275fac=function(r){return new(r||e)(G(Vt),G(Y0),G(xn),G(Xv),G(uM))},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),h3=new oe(""),uJ=(()=>{let e=class e{constructor(i,r,s,o,a={}){this.urlSerializer=i,this.transitions=r,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof lh?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof rs?(this.lastId=i.id,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.urlAfterRedirects).fragment)):i instanceof rl&&i.code===zv.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof Hv&&(i.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(i.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Hv(i,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(r){PO()},e.\u0275prov=X({token:e,factory:e.\u0275fac});let n=e;return n})();function dJ(n){return n.routerState.root}function Xp(n,e){return{\u0275kind:n,\u0275providers:e}}function hJ(){let n=K(nn);return e=>{let t=n.get(yi);if(e!==t.components[0])return;let i=n.get(Vt),r=n.get(f3);n.get(fM)===1&&i.initialNavigation(),n.get(p3,null,Qe.Optional)?.setUpPreloading(),n.get(h3,null,Qe.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var f3=new oe("",{factory:()=>new ke}),fM=new oe("",{providedIn:"root",factory:()=>1});function fJ(){return Xp(2,[{provide:fM,useValue:0},{provide:Q0,multi:!0,deps:[nn],useFactory:e=>{let t=e.get(KN,Promise.resolve());return()=>t.then(()=>new Promise(i=>{let r=e.get(Vt),s=e.get(f3);u3(r,()=>{i(!0)}),e.get(hM).afterPreactivation=()=>(i(!0),s.closed?ce(void 0):s),r.initialNavigation()}))}}])}function pJ(){return Xp(3,[{provide:Q0,multi:!0,useFactory:()=>{let e=K(Vt);return()=>{e.setUpLocationChangeListener()}}},{provide:fM,useValue:2}])}var p3=new oe("");function gJ(n){return Xp(0,[{provide:p3,useExisting:cJ},{provide:Xv,useExisting:n}])}function mJ(){return Xp(8,[MB,{provide:ew,useExisting:MB}])}function yJ(n){let e=[{provide:a3,useValue:ZY},{provide:l3,useValue:Q({skipNextTransition:!!n?.skipInitialTransition},n)}];return Xp(9,e)}var OB=new oe("ROUTER_FORROOT_GUARD"),_J=[Wu,{provide:Kp,useClass:ah},Vt,Zp,{provide:ss,useFactory:dJ,deps:[Vt]},uM,[]],g3=(()=>{let e=class e{constructor(i){}static forRoot(i,r){return{ngModule:e,providers:[_J,[],{provide:Yv,multi:!0,useValue:i},{provide:OB,useFactory:CJ,deps:[[Vt,new Wl,new b0]]},{provide:Jp,useValue:r||{}},r?.useHash?wJ():bJ(),vJ(),r?.preloadingStrategy?gJ(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?EJ(r):[],r?.bindToComponentInputs?mJ().\u0275providers:[],r?.enableViewTransitions?yJ().\u0275providers:[],IJ()]}}static forChild(i){return{ngModule:e,providers:[{provide:Yv,multi:!0,useValue:i}]}}};e.\u0275fac=function(r){return new(r||e)(G(OB,8))},e.\u0275mod=we({type:e}),e.\u0275inj=ve({});let n=e;return n})();function vJ(){return{provide:h3,useFactory:()=>{let n=K(nk),e=K(De),t=K(Jp),i=K(hM),r=K(Kp);return t.scrollOffset&&n.setOffset(t.scrollOffset),new uJ(r,i,n,e,t)}}}function wJ(){return{provide:Co,useClass:ZN}}function bJ(){return{provide:Co,useClass:UC}}function CJ(n){return"guarded"}function EJ(n){return[n.initialNavigation==="disabled"?pJ().\u0275providers:[],n.initialNavigation==="enabledBlocking"?fJ().\u0275providers:[]]}var NB=new oe("");function IJ(){return[{provide:NB,useFactory:hJ},{provide:Z0,multi:!0,useExisting:NB}]}var DJ=["*"];var TJ=["dialog"];var m3={animation:!0,transitionTimerDelayMs:5},SJ=(()=>{let e=class e{constructor(){this.animation=m3.animation}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function MJ(n){let{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n),i=parseFloat(e),r=parseFloat(t);return(i+r)*1e3}function y3(n){return typeof n=="string"}function pM(n){return n!=null}function AJ(n){return n&&n.then}function _3(n){return(n||document.body).getBoundingClientRect()}function xJ(n){return e=>new Se(t=>{let i=o=>n.run(()=>t.next(o)),r=o=>n.run(()=>t.error(o)),s=()=>n.run(()=>t.complete());return e.subscribe({next:i,error:r,complete:s})})}var RJ=()=>{},{transitionTimerDelayMs:OJ}=m3,nw=new Map,Uc=(n,e,t,i)=>{let r=i.context||{},s=nw.get(e);if(s)switch(i.runningTransition){case"continue":return In;case"stop":n.run(()=>s.transition$.complete()),r=Object.assign(s.context,r),nw.delete(e)}let o=t(e,i.animation,r)||RJ;if(!i.animation||window.getComputedStyle(e).transitionProperty==="none")return n.run(()=>o()),ce(void 0).pipe(xJ(n));let a=new ke,l=new ke,c=a.pipe(lb(!0));nw.set(e,{transition$:a,complete:()=>{l.next(),l.complete()},context:r});let d=MJ(e);return n.runOutsideAngular(()=>{let f=sr(e,"transitionend").pipe(dn(c),Ut(({target:v})=>v===e)),m=rb(d+OJ).pipe(dn(c));sb(m,f,l).pipe(dn(c)).subscribe(()=>{nw.delete(e),n.run(()=>{o(),a.next(),a.complete()})})}),a.asObservable()};var v3=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({});let n=e;return n})();var w3=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({});let n=e;return n})();var b3=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({});let n=e;return n})(),C3=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({});let n=e;return n})();var dme=(()=>{let n=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,e=()=>/Android/.test(navigator.userAgent);return typeof navigator<"u"?!!navigator.userAgent&&(n()||e()):!1})();var NJ=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function E3(n){let e=Array.from(n.querySelectorAll(NJ)).filter(t=>t.tabIndex!==-1);return[e[0],e[e.length-1]]}var kJ=(n,e,t,i=!1)=>{n.runOutsideAngular(()=>{let r=sr(e,"focusin").pipe(dn(t),se(s=>s.target));sr(e,"keydown").pipe(dn(t),Ut(s=>s.key==="Tab"),Rm(r)).subscribe(([s,o])=>{let[a,l]=E3(e);(o===a||o===e)&&s.shiftKey&&(l.focus(),s.preventDefault()),o===l&&!s.shiftKey&&(a.focus(),s.preventDefault())}),i&&sr(e,"click").pipe(dn(t),Rm(r),se(s=>s[1])).subscribe(s=>s.focus())})};var hme=new Date(1882,10,12),fme=new Date(2174,10,25);var pme=1e3*60*60*24;var yM=1080,PJ=24*yM,FJ=12*yM+793,gme=29*PJ+FJ,mme=11*yM+204;var I3=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({});let n=e;return n})();var D3=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({});let n=e;return n})(),LJ=(()=>{let e=class e{constructor(){this._ngbConfig=K(SJ),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(i){this._animation=i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),hh=class{constructor(e,t,i){this.nodes=e,this.viewRef=t,this.componentRef=i}};var VJ=(()=>{let e=class e{constructor(){this._document=K(Ye)}hide(){let i=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,s=r.style,{overflow:o,paddingRight:a}=s;if(i>0){let l=parseFloat(window.getComputedStyle(r).paddingRight);s.paddingRight=`${l+i}px`}return s.overflow="hidden",()=>{i>0&&(s.paddingRight=a),s.overflow=o}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),BJ=(()=>{let e=class e{constructor(){this._nativeElement=K(ht).nativeElement,this._zone=K(De)}ngOnInit(){this._zone.onStable.asObservable().pipe(tn(1)).subscribe(()=>{Uc(this._zone,this._nativeElement,(i,r)=>{r&&_3(i),i.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Uc(this._zone,this._nativeElement,({classList:i})=>i.remove("show"),{animation:this.animation,runningTransition:"stop"})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Oe({type:e,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(r,s){r&2&&(Et("modal-backdrop"+(s.backdropClass?" "+s.backdropClass:"")),jr("show",!s.animation)("fade",s.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[Pt],decls:0,vars:0,template:function(r,s){},encapsulation:2});let n=e;return n})(),Qs=class{update(e){}close(e){}dismiss(e){}},UJ=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],jJ=["animation","backdropClass"],gM=class{_applyWindowOptions(e,t){UJ.forEach(i=>{pM(t[i])&&(e[i]=t[i])})}_applyBackdropOptions(e,t){jJ.forEach(i=>{pM(t[i])&&(e[i]=t[i])})}update(e){this._applyWindowOptions(this._windowCmptRef.instance,e),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,e)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(dn(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(dn(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(e,t,i,r){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new ke,this._dismissed=new ke,this._hidden=new ke,e.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,o)=>{this._resolve=s,this._reject=o}),this.result.then(null,()=>{})}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(!this._beforeDismiss)this._dismiss(e);else{let t=this._beforeDismiss();AJ(t)?t.then(i=>{i!==!1&&this._dismiss(e)},()=>{}):t!==!1&&this._dismiss(e)}}_removeModalElements(){let e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():ce(void 0);e.subscribe(()=>{let{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef?.viewRef?.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){let{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),qh(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}},mM=function(n){return n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",n}(mM||{}),zJ=(()=>{let e=class e{constructor(){this._document=K(Ye),this._elRef=K(ht),this._zone=K(De),this._closed$=new ke,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new xe,this.shown=new ke,this.hidden=new ke}get fullscreenClass(){return this.fullscreen===!0?" modal-fullscreen":y3(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(i){this.dismissEvent.emit(i)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(tn(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){let{nativeElement:i}=this._elRef,r={animation:this.animation,runningTransition:"stop"},s=Uc(this._zone,i,()=>i.classList.remove("show"),r),o=Uc(this._zone,this._dialogEl.nativeElement,()=>{},r),a=qh(s,o);return a.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),a}_show(){let i={animation:this.animation,runningTransition:"continue"},r=Uc(this._zone,this._elRef.nativeElement,(o,a)=>{a&&_3(o),o.classList.add("show")},i),s=Uc(this._zone,this._dialogEl.nativeElement,()=>{},i);qh(r,s).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){let{nativeElement:i}=this._elRef;this._zone.runOutsideAngular(()=>{sr(i,"keydown").pipe(dn(this._closed$),Ut(s=>s.key==="Escape")).subscribe(s=>{this.keyboard?requestAnimationFrame(()=>{s.defaultPrevented||this._zone.run(()=>this.dismiss(mM.ESC))}):this.backdrop==="static"&&this._bumpBackdrop()});let r=!1;sr(this._dialogEl.nativeElement,"mousedown").pipe(dn(this._closed$),qt(()=>r=!1),Le(()=>sr(i,"mouseup").pipe(dn(this._closed$),tn(1))),Ut(({target:s})=>i===s)).subscribe(()=>{r=!0}),sr(i,"click").pipe(dn(this._closed$)).subscribe(({target:s})=>{i===s&&(this.backdrop==="static"?this._bumpBackdrop():this.backdrop===!0&&!r&&this._zone.run(()=>this.dismiss(mM.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){let{nativeElement:i}=this._elRef;if(!i.contains(document.activeElement)){let r=i.querySelector("[ngbAutofocus]"),s=E3(i)[0];(r||s||i).focus()}}_restoreFocus(){let i=this._document.body,r=this._elWithFocus,s;r&&r.focus&&i.contains(r)?s=r:s=i,this._zone.runOutsideAngular(()=>{setTimeout(()=>s.focus()),this._elWithFocus=null})}_bumpBackdrop(){this.backdrop==="static"&&Uc(this._zone,this._elRef.nativeElement,({classList:i})=>(i.add("modal-static"),()=>i.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Oe({type:e,selectors:[["ngb-modal-window"]],viewQuery:function(r,s){if(r&1&&Ms(TJ,7),r&2){let o;Rn(o=On())&&(s._dialogEl=o.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(r,s){r&2&&(Xe("aria-modal",!0)("aria-labelledby",s.ariaLabelledBy)("aria-describedby",s.ariaDescribedBy),Et("modal d-block"+(s.windowClass?" "+s.windowClass:"")),jr("fade",s.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[Pt],ngContentSelectors:DJ,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(r,s){r&1&&(Gi(),E(0,"div",1,0)(2,"div",2),mi(3),b()()),r&2&&Et("modal-dialog"+(s.size?" modal-"+s.size:"")+(s.centered?" modal-dialog-centered":"")+s.fullscreenClass+(s.scrollable?" modal-dialog-scrollable":"")+(s.modalDialogClass?" "+s.modalDialogClass:""))},styles:[`ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}
`],encapsulation:2});let n=e;return n})(),$J=(()=>{let e=class e{constructor(){this._applicationRef=K(yi),this._injector=K(nn),this._environmentInjector=K(xn),this._document=K(Ye),this._scrollBar=K(VJ),this._activeWindowCmptHasChanged=new ke,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new xe;let i=K(De);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){let r=this._windowCmpts[this._windowCmpts.length-1];kJ(i,r.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(r.location.nativeElement)}})}_restoreScrollBar(){let i=this._scrollBarRestoreFn;i&&(this._scrollBarRestoreFn=null,i())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(i,r,s){let o=s.container instanceof HTMLElement?s.container:pM(s.container)?this._document.querySelector(s.container):this._document.body;if(!o)throw new Error(`The specified modal container "${s.container||"body"}" was not found in the DOM.`);this._hideScrollBar();let a=new Qs;i=s.injector||i;let l=i.get(xn,null)||this._environmentInjector,c=this._getContentRef(i,l,r,a,s),d=s.backdrop!==!1?this._attachBackdrop(o):void 0,f=this._attachWindowComponent(o,c.nodes),m=new gM(f,c,d,s.beforeDismiss);return this._registerModalRef(m),this._registerWindowCmpt(f),m.hidden.pipe(tn(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),a.close=v=>{m.close(v)},a.dismiss=v=>{m.dismiss(v)},a.update=v=>{m.update(v)},m.update(s),this._modalRefs.length===1&&this._document.body.classList.add("modal-open"),d&&d.instance&&d.changeDetectorRef.detectChanges(),f.changeDetectorRef.detectChanges(),m}get activeInstances(){return this._activeInstances}dismissAll(i){this._modalRefs.forEach(r=>r.dismiss(i))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(i){let r=J0(BJ,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),i.appendChild(r.location.nativeElement),r}_attachWindowComponent(i,r){let s=J0(zJ,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(s.hostView),i.appendChild(s.location.nativeElement),s}_getContentRef(i,r,s,o,a){return s?s instanceof Br?this._createFromTemplateRef(s,o):y3(s)?this._createFromString(s):this._createFromComponent(i,r,s,o,a):new hh([])}_createFromTemplateRef(i,r){let s={$implicit:r,close(a){r.close(a)},dismiss(a){r.dismiss(a)}},o=i.createEmbeddedView(s);return this._applicationRef.attachView(o),new hh([o.rootNodes],o)}_createFromString(i){let r=this._document.createTextNode(`${i}`);return new hh([[r]])}_createFromComponent(i,r,s,o,a){let l=nn.create({providers:[{provide:Qs,useValue:o}],parent:i}),c=J0(s,{environmentInjector:r,elementInjector:l}),d=c.location.nativeElement;return a.scrollable&&d.classList.add("component-host-scrollable"),this._applicationRef.attachView(c.hostView),new hh([[d]],c.hostView,c)}_setAriaHidden(i){let r=i.parentElement;r&&i!==this._document.body&&(Array.from(r.children).forEach(s=>{s!==i&&s.nodeName!=="SCRIPT"&&(this._ariaHiddenValues.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((i,r)=>{i?r.setAttribute("aria-hidden",i):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(i){let r=()=>{let s=this._modalRefs.indexOf(i);s>-1&&(this._modalRefs.splice(s,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(i),this._activeInstances.emit(this._modalRefs),i.result.then(r,r)}_registerWindowCmpt(i){this._windowCmpts.push(i),this._activeWindowCmptHasChanged.next(),i.onDestroy(()=>{let r=this._windowCmpts.indexOf(i);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),_M=(()=>{let e=class e{constructor(){this._injector=K(nn),this._modalStack=K($J),this._config=K(LJ)}open(i,r={}){let s=Q(Ee(Q({},this._config),{animation:this._config.animation}),r);return this._modalStack.open(this._injector,i,s)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(i){this._modalStack.dismissAll(i)}hasOpenModals(){return this._modalStack.hasOpenModals()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),T3=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({providers:[_M]});let n=e;return n})();var S3=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({});let n=e;return n})();var M3=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({});let n=e;return n})();var A3=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({});let n=e;return n})();var x3=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({});let n=e;return n})();var R3=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({});let n=e;return n})();var O3=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({});let n=e;return n})();var N3=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({});let n=e;return n})();var k3=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({});let n=e;return n})();var P3=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({});let n=e;return n})();var yme=new oe("live announcer delay",{providedIn:"root",factory:()=>100});var F3=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({});let n=e;return n})();var L3=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({});let n=e;return n})(),HJ=[v3,w3,b3,C3,I3,D3,T3,S3,L3,M3,A3,x3,R3,O3,N3,k3,P3,F3],V3=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({imports:[HJ,v3,w3,b3,C3,I3,D3,T3,S3,L3,M3,A3,x3,R3,O3,N3,k3,P3,F3]});let n=e;return n})();var B3=["toast-component",""];function GJ(n,e){if(n&1){let t=Ce();E(0,"button",5),re("click",function(){ue(t);let r=U();return de(r.remove())}),E(1,"span",6),L(2,"\xD7"),b()()}}function qJ(n,e){if(n&1&&(ti(0),L(1),ni()),n&2){let t=U(2);T(),ot("[",t.duplicatesCount+1,"]")}}function WJ(n,e){if(n&1&&(E(0,"div"),L(1),J(2,qJ,2,1,"ng-container",4),b()),n&2){let t=U();Et(t.options.titleClass),Xe("aria-label",t.title),T(),ot(" ",t.title," "),T(),O("ngIf",t.duplicatesCount)}}function KJ(n,e){if(n&1&&ie(0,"div",7),n&2){let t=U();Et(t.options.messageClass),O("innerHTML",t.message,tC)}}function QJ(n,e){if(n&1&&(E(0,"div",8),L(1),b()),n&2){let t=U();Et(t.options.messageClass),Xe("aria-label",t.message),T(),ot(" ",t.message," ")}}function ZJ(n,e){if(n&1&&(E(0,"div"),ie(1,"div",9),b()),n&2){let t=U();T(),_a("width",t.width()+"%")}}function YJ(n,e){if(n&1){let t=Ce();E(0,"button",5),re("click",function(){ue(t);let r=U();return de(r.remove())}),E(1,"span",6),L(2,"\xD7"),b()()}}function JJ(n,e){if(n&1&&(ti(0),L(1),ni()),n&2){let t=U(2);T(),ot("[",t.duplicatesCount+1,"]")}}function XJ(n,e){if(n&1&&(E(0,"div"),L(1),J(2,JJ,2,1,"ng-container",4),b()),n&2){let t=U();Et(t.options.titleClass),Xe("aria-label",t.title),T(),ot(" ",t.title," "),T(),O("ngIf",t.duplicatesCount)}}function eX(n,e){if(n&1&&ie(0,"div",7),n&2){let t=U();Et(t.options.messageClass),O("innerHTML",t.message,tC)}}function tX(n,e){if(n&1&&(E(0,"div",8),L(1),b()),n&2){let t=U();Et(t.options.messageClass),Xe("aria-label",t.message),T(),ot(" ",t.message," ")}}function nX(n,e){if(n&1&&(E(0,"div"),ie(1,"div",9),b()),n&2){let t=U();T(),_a("width",t.width()+"%")}}var vM=class{_attachedHost;component;viewContainerRef;injector;constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){let e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},wM=class{_attachedPortal;_disposeFn;attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}},bM=class{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new ke;_activate=new ke;_manualClose=new ke;_resetTimeout=new ke;_countDuplicate=new ke;constructor(e){this._overlayRef=e}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}},fh=class{toastId;config;message;title;toastType;toastRef;_onTap=new ke;_onAction=new ke;constructor(e,t,i,r,s,o){this.toastId=e,this.config=t,this.message=i,this.title=r,this.toastType=s,this.toastRef=o,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}},U3={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},j3=new oe("ToastConfig"),CM=class extends wM{_hostDomElement;_componentFactoryResolver;_appRef;constructor(e,t,i){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=i}attachComponentPortal(e,t){let i=this._componentFactoryResolver.resolveComponentFactory(e.component),r;return r=i.create(e.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(e){return e.hostView.rootNodes[0]}},iX=(()=>{class n{_document=K(Ye);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}static \u0275fac=function(i){return new(i||n)};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),EM=class{_portalHost;constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}},rX=(()=>{class n{_overlayContainer=K(iX);_componentFactoryResolver=K(fa);_appRef=K(yi);_document=K(Ye);_paneElements=new Map;create(t,i){return this._createOverlayRef(this.getPaneElement(t,i))}getPaneElement(t="",i){return this._paneElements.get(i)||this._paneElements.set(i,{}),this._paneElements.get(i)[t]||(this._paneElements.get(i)[t]=this._createPaneElement(t,i)),this._paneElements.get(i)[t]}_createPaneElement(t,i){let r=this._document.createElement("div");return r.id="toast-container",r.classList.add(t),r.classList.add("toast-container"),i?i.getContainerElement().appendChild(r):this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalHost(t){return new CM(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new EM(this._createPortalHost(t))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Zs=(()=>{class n{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(t,i,r,s,o){this.overlay=i,this._injector=r,this.sanitizer=s,this.ngZone=o,this.toastrConfig=Q(Q({},t.default),t.config),t.config.iconClasses&&(this.toastrConfig.iconClasses=Q(Q({},t.default.iconClasses),t.config.iconClasses))}show(t,i,r={},s=""){return this._preBuildNotification(s,t,i,this.applyConfig(r))}success(t,i,r={}){let s=this.toastrConfig.iconClasses.success||"";return this._preBuildNotification(s,t,i,this.applyConfig(r))}error(t,i,r={}){let s=this.toastrConfig.iconClasses.error||"";return this._preBuildNotification(s,t,i,this.applyConfig(r))}info(t,i,r={}){let s=this.toastrConfig.iconClasses.info||"";return this._preBuildNotification(s,t,i,this.applyConfig(r))}warning(t,i,r={}){let s=this.toastrConfig.iconClasses.warning||"";return this._preBuildNotification(s,t,i,this.applyConfig(r))}clear(t){for(let i of this.toasts)if(t!==void 0){if(i.toastId===t){i.toastRef.manualClose();return}}else i.toastRef.manualClose()}remove(t){let i=this._findToast(t);if(!i||(i.activeToast.toastRef.close(),this.toasts.splice(i.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){let r=this.toasts[this.currentlyActive].toastRef;r.isInactive()||(this.currentlyActive=this.currentlyActive+1,r.activate())}return!0}findDuplicate(t="",i="",r,s){let{includeTitleDuplicates:o}=this.toastrConfig;for(let a of this.toasts){let l=o&&a.title===t;if((!o||l)&&a.message===i)return a.toastRef.onDuplicate(r,s),a}return null}applyConfig(t={}){return Q(Q({},this.toastrConfig),t)}_findToast(t){for(let i=0;i<this.toasts.length;i++)if(this.toasts[i].toastId===t)return{index:i,activeToast:this.toasts[i]};return null}_preBuildNotification(t,i,r,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,i,r,s)):this._buildNotification(t,i,r,s)}_buildNotification(t,i,r,s){if(!s.toastComponent)throw new Error("toastComponent required");let o=this.findDuplicate(r,i,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&r||i)&&this.toastrConfig.preventDuplicates&&o!==null)return o;this.previousToastMessage=i;let a=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(a=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));let l=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let c=i;i&&s.enableHtml&&(c=this.sanitizer.sanitize($i.HTML,i));let d=new bM(l),f=new fh(this.index,s,c,r,t,d),m=[{provide:fh,useValue:f}],v=nn.create({providers:m,parent:this._injector}),C=new vM(s.toastComponent,v),A=l.attach(C,s.newestOnTop);d.componentInstance=A.instance;let S={toastId:this.index,title:r||"",message:i||"",toastRef:d,onShown:d.afterActivate(),onHidden:d.afterClosed(),onTap:f.onTap(),onAction:f.onAction(),portal:A};return a||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{S.toastRef.activate()})),this.toasts.push(S),S}static \u0275fac=function(i){return new(i||n)(G(j3),G(rX),G(nn),G(nE),G(De))};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),sX=(()=>{class n{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=xi(-1);toastClasses="";state;get _state(){return this.state()}get displayStyle(){if(this.state().value==="inactive")return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(t,i,r){this.toastrService=t,this.toastPackage=i,this.ngZone=r,this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s}),this.state=xi({value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.update(t=>Ee(Q({},t),{value:"active"})),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let t=new Date().getTime(),i=this.hideTime-t;this.width.set(i/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(r=>100-r),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.update(t=>Ee(Q({},t),{value:"active"})),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){this.state().value!=="removed"&&(clearTimeout(this.timeout),this.state.update(t=>Ee(Q({},t),{value:"removed"})),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){this.state().value!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state().value!=="removed"&&this.options.disableTimeOut!=="extendedTimeOut"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state().value==="removed"||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),i)):this.timeout=setTimeout(()=>t(),i)}outsideInterval(t,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),i)):this.intervalId=setInterval(()=>t(),i)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}static \u0275fac=function(i){return new(i||n)(B(Zs),B(fh),B(De))};static \u0275cmp=Oe({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(i,r){i&1&&re("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),i&2&&(yC("@flyInOut",r._state),Et(r.toastClasses),_a("display",r.displayStyle))},standalone:!0,features:[Pt],attrs:B3,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(i,r){i&1&&J(0,GJ,3,0,"button",0)(1,WJ,3,5,"div",1)(2,KJ,1,3,"div",2)(3,QJ,2,4,"div",3)(4,ZJ,2,2,"div",4),i&2&&(O("ngIf",r.options.closeButton),T(),O("ngIf",r.title),T(),O("ngIf",r.message&&r.options.enableHtml),T(),O("ngIf",r.message&&!r.options.enableHtml),T(),O("ngIf",r.options.progressBar))},dependencies:[Ft],encapsulation:2,data:{animation:[mv("flyInOut",[yv("inactive",qs({opacity:0})),yv("active",qs({opacity:1})),yv("removed",qs({opacity:0})),Yd("inactive => active",Zd("{{ easeTime }}ms {{ easing }}")),Yd("active => removed",Zd("{{ easeTime }}ms {{ easing }}"))])]},changeDetection:0})}return n})(),oX=Ee(Q({},U3),{toastComponent:sX}),aX=(n={})=>ju([{provide:j3,useValue:{default:oX,config:n}}]),z3=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[aX(t)]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=we({type:n});static \u0275inj=ve({})}return n})();var lX=(()=>{class n{toastrService;toastPackage;appRef;message;title;options;duplicatesCount;originalTimeout;width=xi(-1);toastClasses="";get displayStyle(){return this.state()==="inactive"?"none":null}state=xi("inactive");timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(t,i,r){this.toastrService=t,this.toastPackage=i,this.appRef=r,this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.set("active"),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let t=new Date().getTime(),i=this.hideTime-t;this.width.set(i/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(r=>100-r),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.set("active"),this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=new Date().getTime()+(this.originalTimeout||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.state.set("removed"),this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){this.state()!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state()==="removed"||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}static \u0275fac=function(i){return new(i||n)(B(Zs),B(fh),B(yi))};static \u0275cmp=Oe({type:n,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(i,r){i&1&&re("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),i&2&&(Et(r.toastClasses),_a("display",r.displayStyle))},standalone:!0,features:[Pt],attrs:B3,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(i,r){i&1&&J(0,YJ,3,0,"button",0)(1,XJ,3,5,"div",1)(2,eX,1,3,"div",2)(3,tX,2,4,"div",3)(4,nX,2,2,"div",4),i&2&&(O("ngIf",r.options.closeButton),T(),O("ngIf",r.title),T(),O("ngIf",r.message&&r.options.enableHtml),T(),O("ngIf",r.message&&!r.options.enableHtml),T(),O("ngIf",r.options.progressBar))},dependencies:[Ft],encapsulation:2,changeDetection:0})}return n})(),Rme=Ee(Q({},U3),{toastComponent:lX});var jc=class n{static isArray(e,t=!0){return Array.isArray(e)&&(t||e.length!==0)}static isObject(e,t=!0){return typeof e=="object"&&!Array.isArray(e)&&e!=null&&(t||Object.keys(e).length!==0)}static equals(e,t,i){return i?this.resolveFieldData(e,i)===this.resolveFieldData(t,i):this.equalsByValue(e,t)}static equalsByValue(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var i=Array.isArray(e),r=Array.isArray(t),s,o,a;if(i&&r){if(o=e.length,o!=t.length)return!1;for(s=o;s--!==0;)if(!this.equalsByValue(e[s],t[s]))return!1;return!0}if(i!=r)return!1;var l=this.isDate(e),c=this.isDate(t);if(l!=c)return!1;if(l&&c)return e.getTime()==t.getTime();var d=e instanceof RegExp,f=t instanceof RegExp;if(d!=f)return!1;if(d&&f)return e.toString()==t.toString();var m=Object.keys(e);if(o=m.length,o!==Object.keys(t).length)return!1;for(s=o;s--!==0;)if(!Object.prototype.hasOwnProperty.call(t,m[s]))return!1;for(s=o;s--!==0;)if(a=m[s],!this.equalsByValue(e[a],t[a]))return!1;return!0}return e!==e&&t!==t}static resolveFieldData(e,t){if(e&&t){if(this.isFunction(t))return t(e);if(t.indexOf(".")==-1)return e[t];{let i=t.split("."),r=e;for(let s=0,o=i.length;s<o;++s){if(r==null)return null;r=r[i[s]]}return r}}else return null}static isFunction(e){return!!(e&&e.constructor&&e.call&&e.apply)}static reorderArray(e,t,i){let r;e&&t!==i&&(i>=e.length&&(i%=e.length,t%=e.length),e.splice(i,0,e.splice(t,1)[0]))}static insertIntoOrderedArray(e,t,i,r){if(i.length>0){let s=!1;for(let o=0;o<i.length;o++)if(this.findIndexInList(i[o],r)>t){i.splice(o,0,e),s=!0;break}s||i.push(e)}else i.push(e)}static findIndexInList(e,t){let i=-1;if(t){for(let r=0;r<t.length;r++)if(t[r]==e){i=r;break}}return i}static contains(e,t){if(e!=null&&t&&t.length){for(let i of t)if(this.equals(e,i))return!0}return!1}static removeAccents(e){return e&&(e=e.normalize("NFKD").replace(new RegExp("\\p{Diacritic}","gu"),"")),e}static isDate(e){return Object.prototype.toString.call(e)==="[object Date]"}static isEmpty(e){return e==null||e===""||Array.isArray(e)&&e.length===0||!this.isDate(e)&&typeof e=="object"&&Object.keys(e).length===0}static isNotEmpty(e){return!this.isEmpty(e)}static compare(e,t,i,r=1){let s=-1,o=this.isEmpty(e),a=this.isEmpty(t);return o&&a?s=0:o?s=r:a?s=-r:typeof e=="string"&&typeof t=="string"?s=e.localeCompare(t,i,{numeric:!0}):s=e<t?-1:e>t?1:0,s}static sort(e,t,i=1,r,s=1){let o=n.compare(e,t,r,i),a=i;return(n.isEmpty(e)||n.isEmpty(t))&&(a=s===1?i:s),a*o}static merge(e,t){if(!(e==null&&t==null)){{if((e==null||typeof e=="object")&&(t==null||typeof t=="object"))return Q(Q({},e||{}),t||{});if((e==null||typeof e=="string")&&(t==null||typeof t=="string"))return[e||"",t||""].join(" ")}return t||e}}static isPrintableCharacter(e=""){return this.isNotEmpty(e)&&e.length===1&&e.match(/\S| /)}static getItemValue(e,...t){return this.isFunction(e)?e(...t):e}static findLastIndex(e,t){let i=-1;if(this.isNotEmpty(e))try{i=e.findLastIndex(t)}catch{i=e.lastIndexOf([...e].reverse().find(t))}return i}static findLast(e,t){let i;if(this.isNotEmpty(e))try{i=e.findLast(t)}catch{i=[...e].reverse().find(t)}return i}static deepEquals(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var i=Array.isArray(e),r=Array.isArray(t),s,o,a;if(i&&r){if(o=e.length,o!=t.length)return!1;for(s=o;s--!==0;)if(!this.deepEquals(e[s],t[s]))return!1;return!0}if(i!=r)return!1;var l=e instanceof Date,c=t instanceof Date;if(l!=c)return!1;if(l&&c)return e.getTime()==t.getTime();var d=e instanceof RegExp,f=t instanceof RegExp;if(d!=f)return!1;if(d&&f)return e.toString()==t.toString();var m=Object.keys(e);if(o=m.length,o!==Object.keys(t).length)return!1;for(s=o;s--!==0;)if(!Object.prototype.hasOwnProperty.call(t,m[s]))return!1;for(s=o;s--!==0;)if(a=m[s],!this.deepEquals(e[a],t[a]))return!1;return!0}return e!==e&&t!==t}},$3=0;function os(n="pn_id_"){return $3++,`${n}${$3}`}function cX(){let n=[],e=(s,o)=>{let a=n.length>0?n[n.length-1]:{key:s,value:o},l=a.value+(a.key===s?0:o)+2;return n.push({key:s,value:l}),l},t=s=>{n=n.filter(o=>o.value!==s)},i=()=>n.length>0?n[n.length-1].value:0,r=s=>s&&parseInt(s.style.zIndex,10)||0;return{get:r,set:(s,o,a)=>{o&&(o.style.zIndex=String(e(s,a)))},clear:s=>{s&&(t(r(s)),s.style.zIndex="")},getCurrent:()=>i()}}var IM=cX();var H3=["*"];var li=(()=>{class n{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static IN="in";static LESS_THAN="lt";static LESS_THAN_OR_EQUAL_TO="lte";static GREATER_THAN="gt";static GREATER_THAN_OR_EQUAL_TO="gte";static BETWEEN="between";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static DATE_IS="dateIs";static DATE_IS_NOT="dateIsNot";static DATE_BEFORE="dateBefore";static DATE_AFTER="dateAfter"}return n})();var sw=(()=>{class n{ripple=!1;inputStyle=xi("outlined");overlayOptions={};csp=xi({nonce:void 0});filterMatchModeOptions={text:[li.STARTS_WITH,li.CONTAINS,li.NOT_CONTAINS,li.ENDS_WITH,li.EQUALS,li.NOT_EQUALS],numeric:[li.EQUALS,li.NOT_EQUALS,li.LESS_THAN,li.LESS_THAN_OR_EQUAL_TO,li.GREATER_THAN,li.GREATER_THAN_OR_EQUAL_TO],date:[li.DATE_IS,li.DATE_IS_NOT,li.DATE_BEFORE,li.DATE_AFTER]};translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyFilterMessage:"No results found",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",previousPageLabel:"Previous Page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List",selectColor:"Select a color",removeLabel:"Remove",browseFiles:"Browse Files",maximizeLabel:"Maximize"}};zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100};translationSource=new ke;translationObserver=this.translationSource.asObservable();getTranslation(t){return this.translation[t]}setTranslation(t){this.translation=Q(Q({},this.translation),t),this.translationSource.next(this.translation)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),G3=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Oe({type:n,selectors:[["p-header"]],standalone:!0,features:[Pt],ngContentSelectors:H3,decls:1,vars:0,template:function(i,r){i&1&&(Gi(),mi(0))},encapsulation:2})}return n})(),q3=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Oe({type:n,selectors:[["p-footer"]],standalone:!0,features:[Pt],ngContentSelectors:H3,decls:1,vars:0,template:function(i,r){i&1&&(Gi(),mi(0))},encapsulation:2})}return n})(),ow=(()=>{class n{template;type;name;constructor(t){this.template=t}getType(){return this.name}static \u0275fac=function(i){return new(i||n)(B(Br))};static \u0275dir=Ze({type:n,selectors:[["","pTemplate",""]],inputs:{type:"type",name:[0,"pTemplate","name"]},standalone:!0})}return n})(),ph=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=we({type:n});static \u0275inj=ve({})}return n})(),W3=(()=>{class n{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static NO_FILTER="noFilter";static LT="lt";static LTE="lte";static GT="gt";static GTE="gte";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static CLEAR="clear";static APPLY="apply";static MATCH_ALL="matchAll";static MATCH_ANY="matchAny";static ADD_RULE="addRule";static REMOVE_RULE="removeRule";static ACCEPT="accept";static REJECT="reject";static CHOOSE="choose";static UPLOAD="upload";static CANCEL="cancel";static PENDING="pending";static FILE_SIZE_TYPES="fileSizeTypes";static DAY_NAMES="dayNames";static DAY_NAMES_SHORT="dayNamesShort";static DAY_NAMES_MIN="dayNamesMin";static MONTH_NAMES="monthNames";static MONTH_NAMES_SHORT="monthNamesShort";static FIRST_DAY_OF_WEEK="firstDayOfWeek";static TODAY="today";static WEEK_HEADER="weekHeader";static WEAK="weak";static MEDIUM="medium";static STRONG="strong";static PASSWORD_PROMPT="passwordPrompt";static EMPTY_MESSAGE="emptyMessage";static EMPTY_FILTER_MESSAGE="emptyFilterMessage";static SHOW_FILTER_MENU="showFilterMenu";static HIDE_FILTER_MENU="hideFilterMenu";static SELECTION_MESSAGE="selectionMessage";static ARIA="aria";static SELECT_COLOR="selectColor";static BROWSE_FILES="browseFiles"}return n})();var he=(()=>{class n{static zindex=1e3;static calculatedScrollbarWidth=null;static calculatedScrollbarHeight=null;static browser;static addClass(t,i){t&&i&&(t.classList?t.classList.add(i):t.className+=" "+i)}static addMultipleClasses(t,i){if(t&&i)if(t.classList){let r=i.trim().split(" ");for(let s=0;s<r.length;s++)t.classList.add(r[s])}else{let r=i.split(" ");for(let s=0;s<r.length;s++)t.className+=" "+r[s]}}static removeClass(t,i){t&&i&&(t.classList?t.classList.remove(i):t.className=t.className.replace(new RegExp("(^|\\b)"+i.split(" ").join("|")+"(\\b|$)","gi")," "))}static removeMultipleClasses(t,i){t&&i&&[i].flat().filter(Boolean).forEach(r=>r.split(" ").forEach(s=>this.removeClass(t,s)))}static hasClass(t,i){return t&&i?t.classList?t.classList.contains(i):new RegExp("(^| )"+i+"( |$)","gi").test(t.className):!1}static siblings(t){return Array.prototype.filter.call(t.parentNode.children,function(i){return i!==t})}static find(t,i){return Array.from(t.querySelectorAll(i))}static findSingle(t,i){return this.isElement(t)?t.querySelector(i):null}static index(t){let i=t.parentNode.childNodes,r=0;for(var s=0;s<i.length;s++){if(i[s]==t)return r;i[s].nodeType==1&&r++}return-1}static indexWithinGroup(t,i){let r=t.parentNode?t.parentNode.childNodes:[],s=0;for(var o=0;o<r.length;o++){if(r[o]==t)return s;r[o].attributes&&r[o].attributes[i]&&r[o].nodeType==1&&s++}return-1}static appendOverlay(t,i,r="self"){r!=="self"&&t&&i&&this.appendChild(t,i)}static alignOverlay(t,i,r="self",s=!0){t&&i&&(s&&(t.style.minWidth=`${n.getOuterWidth(i)}px`),r==="self"?this.relativePosition(t,i):this.absolutePosition(t,i))}static relativePosition(t,i,r=!0){let s=Z=>{if(Z)return getComputedStyle(Z).getPropertyValue("position")==="relative"?Z:s(Z.parentElement)},o=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),a=i.offsetHeight??i.getBoundingClientRect().height,l=i.getBoundingClientRect(),c=this.getWindowScrollTop(),d=this.getWindowScrollLeft(),f=this.getViewport(),v=s(t)?.getBoundingClientRect()||{top:-1*c,left:-1*d},C,A;l.top+a+o.height>f.height?(C=l.top-v.top-o.height,t.style.transformOrigin="bottom",l.top+C<0&&(C=-1*l.top)):(C=a+l.top-v.top,t.style.transformOrigin="top");let S=l.left+o.width-f.width,j=l.left-v.left;o.width>f.width?A=(l.left-v.left)*-1:S>0?A=j-S:A=l.left-v.left,t.style.top=C+"px",t.style.left=A+"px",r&&(t.style.marginTop=origin==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static absolutePosition(t,i,r=!0){let s=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),o=s.height,a=s.width,l=i.offsetHeight??i.getBoundingClientRect().height,c=i.offsetWidth??i.getBoundingClientRect().width,d=i.getBoundingClientRect(),f=this.getWindowScrollTop(),m=this.getWindowScrollLeft(),v=this.getViewport(),C,A;d.top+l+o>v.height?(C=d.top+f-o,t.style.transformOrigin="bottom",C<0&&(C=f)):(C=l+d.top+f,t.style.transformOrigin="top"),d.left+a>v.width?A=Math.max(0,d.left+m+c-a):A=d.left+m,t.style.top=C+"px",t.style.left=A+"px",r&&(t.style.marginTop=origin==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static getParents(t,i=[]){return t.parentNode===null?i:this.getParents(t.parentNode,i.concat([t.parentNode]))}static getScrollableParents(t){let i=[];if(t){let r=this.getParents(t),s=/(auto|scroll)/,o=a=>{let l=window.getComputedStyle(a,null);return s.test(l.getPropertyValue("overflow"))||s.test(l.getPropertyValue("overflowX"))||s.test(l.getPropertyValue("overflowY"))};for(let a of r){let l=a.nodeType===1&&a.dataset.scrollselectors;if(l){let c=l.split(",");for(let d of c){let f=this.findSingle(a,d);f&&o(f)&&i.push(f)}}a.nodeType!==9&&o(a)&&i.push(a)}}return i}static getHiddenElementOuterHeight(t){t.style.visibility="hidden",t.style.display="block";let i=t.offsetHeight;return t.style.display="none",t.style.visibility="visible",i}static getHiddenElementOuterWidth(t){t.style.visibility="hidden",t.style.display="block";let i=t.offsetWidth;return t.style.display="none",t.style.visibility="visible",i}static getHiddenElementDimensions(t){let i={};return t.style.visibility="hidden",t.style.display="block",i.width=t.offsetWidth,i.height=t.offsetHeight,t.style.display="none",t.style.visibility="visible",i}static scrollInView(t,i){let r=getComputedStyle(t).getPropertyValue("borderTopWidth"),s=r?parseFloat(r):0,o=getComputedStyle(t).getPropertyValue("paddingTop"),a=o?parseFloat(o):0,l=t.getBoundingClientRect(),d=i.getBoundingClientRect().top+document.body.scrollTop-(l.top+document.body.scrollTop)-s-a,f=t.scrollTop,m=t.clientHeight,v=this.getOuterHeight(i);d<0?t.scrollTop=f+d:d+v>m&&(t.scrollTop=f+d-m+v)}static fadeIn(t,i){t.style.opacity=0;let r=+new Date,s=0,o=function(){s=+t.style.opacity.replace(",",".")+(new Date().getTime()-r)/i,t.style.opacity=s,r=+new Date,+s<1&&(window.requestAnimationFrame&&requestAnimationFrame(o)||setTimeout(o,16))};o()}static fadeOut(t,i){var r=1,s=50,o=i,a=s/o;let l=setInterval(()=>{r=r-a,r<=0&&(r=0,clearInterval(l)),t.style.opacity=r},s)}static getWindowScrollTop(){let t=document.documentElement;return(window.pageYOffset||t.scrollTop)-(t.clientTop||0)}static getWindowScrollLeft(){let t=document.documentElement;return(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}static matches(t,i){var r=Element.prototype,s=r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||function(o){return[].indexOf.call(document.querySelectorAll(o),this)!==-1};return s.call(t,i)}static getOuterWidth(t,i){let r=t.offsetWidth;if(i){let s=getComputedStyle(t);r+=parseFloat(s.marginLeft)+parseFloat(s.marginRight)}return r}static getHorizontalPadding(t){let i=getComputedStyle(t);return parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)}static getHorizontalMargin(t){let i=getComputedStyle(t);return parseFloat(i.marginLeft)+parseFloat(i.marginRight)}static innerWidth(t){let i=t.offsetWidth,r=getComputedStyle(t);return i+=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static width(t){let i=t.offsetWidth,r=getComputedStyle(t);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static getInnerHeight(t){let i=t.offsetHeight,r=getComputedStyle(t);return i+=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom),i}static getOuterHeight(t,i){let r=t.offsetHeight;if(i){let s=getComputedStyle(t);r+=parseFloat(s.marginTop)+parseFloat(s.marginBottom)}return r}static getHeight(t){let i=t.offsetHeight,r=getComputedStyle(t);return i-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)+parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),i}static getWidth(t){let i=t.offsetWidth,r=getComputedStyle(t);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth),i}static getViewport(){let t=window,i=document,r=i.documentElement,s=i.getElementsByTagName("body")[0],o=t.innerWidth||r.clientWidth||s.clientWidth,a=t.innerHeight||r.clientHeight||s.clientHeight;return{width:o,height:a}}static getOffset(t){var i=t.getBoundingClientRect();return{top:i.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:i.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(t,i){let r=t.parentNode;if(!r)throw"Can't replace element";return r.replaceChild(i,t)}static getUserAgent(){if(navigator&&this.isClient())return navigator.userAgent}static isIE(){var t=window.navigator.userAgent,i=t.indexOf("MSIE ");if(i>0)return!0;var r=t.indexOf("Trident/");if(r>0){var s=t.indexOf("rv:");return!0}var o=t.indexOf("Edge/");return o>0}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(t,i){if(this.isElement(i))i.appendChild(t);else if(i&&i.el&&i.el.nativeElement)i.el.nativeElement.appendChild(t);else throw"Cannot append "+i+" to "+t}static removeChild(t,i){if(this.isElement(i))i.removeChild(t);else if(i.el&&i.el.nativeElement)i.el.nativeElement.removeChild(t);else throw"Cannot remove "+t+" from "+i}static removeElement(t){"remove"in Element.prototype?t.remove():t.parentNode.removeChild(t)}static isElement(t){return typeof HTMLElement=="object"?t instanceof HTMLElement:t&&typeof t=="object"&&t!==null&&t.nodeType===1&&typeof t.nodeName=="string"}static calculateScrollbarWidth(t){if(t){let i=getComputedStyle(t);return t.offsetWidth-t.clientWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.borderRightWidth)}else{if(this.calculatedScrollbarWidth!==null)return this.calculatedScrollbarWidth;let i=document.createElement("div");i.className="p-scrollbar-measure",document.body.appendChild(i);let r=i.offsetWidth-i.clientWidth;return document.body.removeChild(i),this.calculatedScrollbarWidth=r,r}}static calculateScrollbarHeight(){if(this.calculatedScrollbarHeight!==null)return this.calculatedScrollbarHeight;let t=document.createElement("div");t.className="p-scrollbar-measure",document.body.appendChild(t);let i=t.offsetHeight-t.clientHeight;return document.body.removeChild(t),this.calculatedScrollbarWidth=i,i}static invokeElementMethod(t,i,r){t[i].apply(t,r)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let t=this.resolveUserAgent();this.browser={},t.browser&&(this.browser[t.browser]=!0,this.browser.version=t.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let t=navigator.userAgent.toLowerCase(),i=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:i[1]||"",version:i[2]||"0"}}static isInteger(t){return Number.isInteger?Number.isInteger(t):typeof t=="number"&&isFinite(t)&&Math.floor(t)===t}static isHidden(t){return!t||t.offsetParent===null}static isVisible(t){return t&&t.offsetParent!=null}static isExist(t){return t!==null&&typeof t<"u"&&t.nodeName&&t.parentNode}static focus(t,i){t&&document.activeElement!==t&&t.focus(i)}static getFocusableSelectorString(t=""){return`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        .p-inputtext:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        .p-button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t}`}static getFocusableElements(t,i=""){let r=this.find(t,this.getFocusableSelectorString(i)),s=[];for(let o of r){let a=getComputedStyle(o);this.isVisible(o)&&a.display!="none"&&a.visibility!="hidden"&&s.push(o)}return s}static getFocusableElement(t,i=""){let r=this.findSingle(t,this.getFocusableSelectorString(i));if(r){let s=getComputedStyle(r);if(this.isVisible(r)&&s.display!="none"&&s.visibility!="hidden")return r}return null}static getFirstFocusableElement(t,i=""){let r=this.getFocusableElements(t,i);return r.length>0?r[0]:null}static getLastFocusableElement(t,i){let r=this.getFocusableElements(t,i);return r.length>0?r[r.length-1]:null}static getNextFocusableElement(t,i=!1){let r=n.getFocusableElements(t),s=0;if(r&&r.length>0){let o=r.indexOf(r[0].ownerDocument.activeElement);i?o==-1||o===0?s=r.length-1:s=o-1:o!=-1&&o!==r.length-1&&(s=o+1)}return r[s]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(t,i){if(!t)return null;switch(t){case"document":return document;case"window":return window;case"@next":return i?.nextElementSibling;case"@prev":return i?.previousElementSibling;case"@parent":return i?.parentElement;case"@grandparent":return i?.parentElement.parentElement;default:let r=typeof t;if(r==="string")return document.querySelector(t);if(r==="object"&&t.hasOwnProperty("nativeElement"))return this.isExist(t.nativeElement)?t.nativeElement:void 0;let o=(a=>!!(a&&a.constructor&&a.call&&a.apply))(t)?t():t;return o&&o.nodeType===9||this.isExist(o)?o:null}}static isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}static getAttribute(t,i){if(t){let r=t.getAttribute(i);return isNaN(r)?r==="true"||r==="false"?r==="true":r:+r}}static calculateBodyScrollbarWidth(){return window.innerWidth-document.documentElement.offsetWidth}static blockBodyScroll(t="p-overflow-hidden"){document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,t)}static unblockBodyScroll(t="p-overflow-hidden"){document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,t)}static createElement(t,i={},...r){if(t){let s=document.createElement(t);return this.setAttributes(s,i),s.append(...r),s}}static setAttribute(t,i="",r){this.isElement(t)&&r!==null&&r!==void 0&&t.setAttribute(i,r)}static setAttributes(t,i={}){if(this.isElement(t)){let r=(s,o)=>{let a=t?.$attrs?.[s]?[t?.$attrs?.[s]]:[];return[o].flat().reduce((l,c)=>{if(c!=null){let d=typeof c;if(d==="string"||d==="number")l.push(c);else if(d==="object"){let f=Array.isArray(c)?r(s,c):Object.entries(c).map(([m,v])=>s==="style"&&(v||v===0)?`${m.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${v}`:v?m:void 0);l=f.length?l.concat(f.filter(m=>!!m)):l}}return l},a)};Object.entries(i).forEach(([s,o])=>{if(o!=null){let a=s.match(/^on(.+)/);a?t.addEventListener(a[1].toLowerCase(),o):s==="pBind"?this.setAttributes(t,o):(o=s==="class"?[...new Set(r("class",o))].join(" ").trim():s==="style"?r("style",o).join(";").trim():o,(t.$attrs=t.$attrs||{})&&(t.$attrs[s]=o),t.setAttribute(s,o))}})}}static isFocusableElement(t,i=""){return this.isElement(t)?t.matches(`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i}`):!1}}return n})();var Q3=(()=>{class n{document;el;renderer;disabled;badgeSize;set size(t){this._size=t,console.warn("size property is deprecated and will removed in v18, use badgeSize instead.")}get size(){return this._size}_size;severity;value;badgeStyle;badgeStyleClass;id;badgeEl;get activeElement(){return this.el.nativeElement.nodeName.indexOf("-")!=-1?this.el.nativeElement.firstChild:this.el.nativeElement}get canUpdateBadge(){return this.id&&!this.disabled}constructor(t,i,r){this.document=t,this.el=i,this.renderer=r}ngOnChanges({value:t,size:i,severity:r,disabled:s,badgeStyle:o,badgeStyleClass:a}){s&&this.toggleDisableState(),this.canUpdateBadge&&(r&&this.setSeverity(r.previousValue),i&&this.setSizeClasses(),t&&this.setValue(),(o||a)&&this.applyStyles())}ngAfterViewInit(){this.id=os()+"_badge",this.renderBadgeContent()}setValue(t){let i=t??this.document.getElementById(this.id);if(!i)return;this.value!=null?(he.hasClass(i,"p-badge-dot")&&he.removeClass(i,"p-badge-dot"),this.value&&String(this.value).length===1?he.addClass(i,"p-badge-no-gutter"):he.removeClass(i,"p-badge-no-gutter")):(he.hasClass(i,"p-badge-dot")||he.addClass(i,"p-badge-dot"),he.removeClass(i,"p-badge-no-gutter")),i.innerHTML="";let r=this.value!=null?String(this.value):"";this.renderer.appendChild(i,this.document.createTextNode(r))}setSizeClasses(t){let i=t??this.document.getElementById(this.id);i&&(this.badgeSize?(this.badgeSize==="large"&&(he.addClass(i,"p-badge-lg"),he.removeClass(i,"p-badge-xl")),this.badgeSize==="xlarge"&&(he.addClass(i,"p-badge-xl"),he.removeClass(i,"p-badge-lg"))):this.size&&!this.badgeSize?(this.size==="large"&&(he.addClass(i,"p-badge-lg"),he.removeClass(i,"p-badge-xl")),this.size==="xlarge"&&(he.addClass(i,"p-badge-xl"),he.removeClass(i,"p-badge-lg"))):(he.removeClass(i,"p-badge-lg"),he.removeClass(i,"p-badge-xl")))}renderBadgeContent(){if(this.disabled)return null;let t=this.activeElement,i=this.document.createElement("span");i.id=this.id,i.className="p-badge p-component",this.setSeverity(null,i),this.setSizeClasses(i),this.setValue(i),he.addClass(t,"p-overlay-badge"),this.renderer.appendChild(t,i),this.badgeEl=i,this.applyStyles()}applyStyles(){if(this.badgeEl&&this.badgeStyle&&typeof this.badgeStyle=="object")for(let[t,i]of Object.entries(this.badgeStyle))this.renderer.setStyle(this.badgeEl,t,i);this.badgeEl&&this.badgeStyleClass&&this.badgeEl.classList.add(...this.badgeStyleClass.split(" "))}setSeverity(t,i){let r=i??this.document.getElementById(this.id);r&&(this.severity&&he.addClass(r,`p-badge-${this.severity}`),t&&he.removeClass(r,`p-badge-${t}`))}toggleDisableState(){if(this.id)if(this.disabled){let t=this.activeElement?.querySelector(`#${this.id}`);t&&this.renderer.removeChild(this.activeElement,t)}else this.renderBadgeContent()}static \u0275fac=function(i){return new(i||n)(B(Ye),B(ht),B(ei))};static \u0275dir=Ze({type:n,selectors:[["","pBadge",""]],hostAttrs:[1,"p-element"],inputs:{disabled:[0,"badgeDisabled","disabled"],badgeSize:"badgeSize",size:"size",severity:"severity",value:"value",badgeStyle:"badgeStyle",badgeStyleClass:"badgeStyleClass"},features:[Dn]})}return n})();var Z3=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=we({type:n});static \u0275inj=ve({imports:[Rs,ph]})}return n})();var Y3=(()=>{class n{autofocus=!1;focused=!1;platformId=K(bt);document=K(Ye);host=K(ht);ngAfterContentChecked(){this.autofocus===!1?this.host.nativeElement.removeAttribute("autofocus"):this.host.nativeElement.setAttribute("autofocus",!0),this.focused||this.autoFocus()}ngAfterViewChecked(){this.focused||this.autoFocus()}autoFocus(){Wi(this.platformId)&&this.autofocus&&setTimeout(()=>{let t=he.getFocusableElements(this.host?.nativeElement);t.length===0&&this.host.nativeElement.focus(),t.length>0&&t[0].focus(),this.focused=!0})}static \u0275fac=function(i){return new(i||n)};static \u0275dir=Ze({type:n,selectors:[["","pAutoFocus",""]],hostAttrs:[1,"p-element"],inputs:{autofocus:[2,"autofocus","autofocus",Ue]},standalone:!0,features:[gi]})}return n})();var dX=["*"],ol=(()=>{class n{label;spin=!1;styleClass;role;ariaLabel;ariaHidden;ngOnInit(){this.getAttributes()}getAttributes(){let t=jc.isEmpty(this.label);this.role=t?void 0:"img",this.ariaLabel=t?void 0:this.label,this.ariaHidden=t}getClassNames(){return`p-icon ${this.styleClass?this.styleClass+" ":""}${this.spin?"p-icon-spin":""}`}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Oe({type:n,selectors:[["ng-component"]],hostAttrs:[1,"p-element","p-icon-wrapper"],inputs:{label:"label",spin:[2,"spin","spin",Ue],styleClass:"styleClass"},standalone:!0,features:[gi,Pt],ngContentSelectors:dX,decls:1,vars:0,template:function(i,r){i&1&&(Gi(),mi(0))},encapsulation:2,changeDetection:0})}return n})();var J3=(()=>{class n extends ol{pathId;ngOnInit(){this.pathId="url(#"+os()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=pi(n)))(r||n)}})();static \u0275cmp=Oe({type:n,selectors:[["SpinnerIcon"]],standalone:!0,features:[hn,Pt],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(Ds(),E(0,"svg",0)(1,"g"),ie(2,"path",1),b(),E(3,"defs")(4,"clipPath",2),ie(5,"rect",3),b()()()),i&2&&(Et(r.getClassNames()),Xe("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),T(),Xe("clip-path",r.pathId),T(3),O("id",r.pathId))},encapsulation:2})}return n})();var aw=(()=>{class n{document;platformId;renderer;el;zone;config;constructor(t,i,r,s,o,a){this.document=t,this.platformId=i,this.renderer=r,this.el=s,this.zone=o,this.config=a}animationListener;mouseDownListener;timeout;ngAfterViewInit(){Wi(this.platformId)&&this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.onMouseDown.bind(this))})}onMouseDown(t){let i=this.getInk();if(!i||this.document.defaultView?.getComputedStyle(i,null).display==="none")return;if(he.removeClass(i,"p-ink-active"),!he.getHeight(i)&&!he.getWidth(i)){let a=Math.max(he.getOuterWidth(this.el.nativeElement),he.getOuterHeight(this.el.nativeElement));i.style.height=a+"px",i.style.width=a+"px"}let r=he.getOffset(this.el.nativeElement),s=t.pageX-r.left+this.document.body.scrollTop-he.getWidth(i)/2,o=t.pageY-r.top+this.document.body.scrollLeft-he.getHeight(i)/2;this.renderer.setStyle(i,"top",o+"px"),this.renderer.setStyle(i,"left",s+"px"),he.addClass(i,"p-ink-active"),this.timeout=setTimeout(()=>{let a=this.getInk();a&&he.removeClass(a,"p-ink-active")},401)}getInk(){let t=this.el.nativeElement.children;for(let i=0;i<t.length;i++)if(typeof t[i].className=="string"&&t[i].className.indexOf("p-ink")!==-1)return t[i];return null}resetInk(){let t=this.getInk();t&&he.removeClass(t,"p-ink-active")}onAnimationEnd(t){this.timeout&&clearTimeout(this.timeout),he.removeClass(t.currentTarget,"p-ink-active")}create(){let t=this.renderer.createElement("span");this.renderer.addClass(t,"p-ink"),this.renderer.appendChild(this.el.nativeElement,t),this.renderer.setAttribute(t,"aria-hidden","true"),this.renderer.setAttribute(t,"role","presentation"),this.animationListener||(this.animationListener=this.renderer.listen(t,"animationend",this.onAnimationEnd.bind(this)))}remove(){let t=this.getInk();t&&(this.mouseDownListener&&this.mouseDownListener(),this.animationListener&&this.animationListener(),this.mouseDownListener=null,this.animationListener=null,he.removeElement(t))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}static \u0275fac=function(i){return new(i||n)(B(Ye),B(bt),B(ei),B(ht),B(De),B(sw,8))};static \u0275dir=Ze({type:n,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"],standalone:!0})}return n})(),X3=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=we({type:n});static \u0275inj=ve({})}return n})();var fX=["*"],e5=n=>({class:n});function pX(n,e){n&1&&va(0)}function gX(n,e){if(n&1&&ie(0,"span",8),n&2){let t=U(3);O("ngClass",t.iconClass()),Xe("aria-hidden",!0)("data-pc-section","loadingicon")}}function mX(n,e){if(n&1&&ie(0,"SpinnerIcon",9),n&2){let t=U(3);O("styleClass",t.spinnerIconClass())("spin",!0),Xe("aria-hidden",!0)("data-pc-section","loadingicon")}}function yX(n,e){if(n&1&&(ti(0),J(1,gX,1,3,"span",6)(2,mX,1,4,"SpinnerIcon",7),ni()),n&2){let t=U(2);T(),O("ngIf",t.loadingIcon),T(),O("ngIf",!t.loadingIcon)}}function _X(n,e){}function vX(n,e){if(n&1&&J(0,_X,0,0,"ng-template",10),n&2){let t=U(2);O("ngIf",t.loadingIconTemplate)}}function wX(n,e){if(n&1&&(ti(0),J(1,yX,3,2,"ng-container",2)(2,vX,1,1,null,5),ni()),n&2){let t=U();T(),O("ngIf",!t.loadingIconTemplate),T(),O("ngTemplateOutlet",t.loadingIconTemplate)("ngTemplateOutletContext",qn(3,e5,t.iconClass()))}}function bX(n,e){if(n&1&&ie(0,"span",8),n&2){let t=U(2);O("ngClass",t.iconClass()),Xe("data-pc-section","icon")}}function CX(n,e){}function EX(n,e){if(n&1&&J(0,CX,0,0,"ng-template",10),n&2){let t=U(2);O("ngIf",!t.icon&&t.iconTemplate)}}function IX(n,e){if(n&1&&(ti(0),J(1,bX,1,2,"span",6)(2,EX,1,1,null,5),ni()),n&2){let t=U();T(),O("ngIf",t.icon&&!t.iconTemplate),T(),O("ngTemplateOutlet",t.iconTemplate)("ngTemplateOutletContext",qn(3,e5,t.iconClass()))}}function DX(n,e){if(n&1&&(E(0,"span",11),L(1),b()),n&2){let t=U();Xe("aria-hidden",t.icon&&!t.label)("data-pc-section","label"),T(),gt(t.label)}}function TX(n,e){if(n&1&&(E(0,"span",8),L(1),b()),n&2){let t=U();Et(t.badgeClass),O("ngClass",t.badgeStyleClass()),Xe("data-pc-section","badge"),T(),gt(t.badge)}}var al={button:"p-button",component:"p-component",iconOnly:"p-button-icon-only",disabled:"p-disabled",loading:"p-button-loading",labelOnly:"p-button-loading-label-only"},t5=(()=>{class n{el;document;iconPos="left";loadingIcon;get label(){return this._label}set label(t){this._label=t,this.initialized&&(this.updateLabel(),this.updateIcon(),this.setStyleClass())}get icon(){return this._icon}set icon(t){this._icon=t,this.initialized&&(this.updateIcon(),this.setStyleClass())}get loading(){return this._loading}set loading(t){this._loading=t,this.initialized&&(this.updateIcon(),this.setStyleClass())}severity;raised=!1;rounded=!1;text=!1;outlined=!1;size=null;plain=!1;_label;_icon;_loading=!1;initialized;get htmlElement(){return this.el.nativeElement}_internalClasses=Object.values(al);constructor(t,i){this.el=t,this.document=i}ngAfterViewInit(){he.addMultipleClasses(this.htmlElement,this.getStyleClass().join(" ")),this.createIcon(),this.createLabel(),this.initialized=!0}getStyleClass(){let t=[al.button,al.component];return this.icon&&!this.label&&jc.isEmpty(this.htmlElement.textContent)&&t.push(al.iconOnly),this.loading&&(t.push(al.disabled,al.loading),!this.icon&&this.label&&t.push(al.labelOnly),this.icon&&!this.label&&!jc.isEmpty(this.htmlElement.textContent)&&t.push(al.iconOnly)),this.text&&t.push("p-button-text"),this.severity&&t.push(`p-button-${this.severity}`),this.plain&&t.push("p-button-plain"),this.raised&&t.push("p-button-raised"),this.size&&t.push(`p-button-${this.size}`),this.outlined&&t.push("p-button-outlined"),this.rounded&&t.push("p-button-rounded"),this.size==="small"&&t.push("p-button-sm"),this.size==="large"&&t.push("p-button-lg"),t}setStyleClass(){let t=this.getStyleClass();this.htmlElement.classList.remove(...this._internalClasses),this.htmlElement.classList.add(...t)}createLabel(){if(!he.findSingle(this.htmlElement,".p-button-label")&&this.label){let i=this.document.createElement("span");this.icon&&!this.label&&i.setAttribute("aria-hidden","true"),i.className="p-button-label",i.appendChild(this.document.createTextNode(this.label)),this.htmlElement.appendChild(i)}}createIcon(){if(!he.findSingle(this.htmlElement,".p-button-icon")&&(this.icon||this.loading)){let i=this.document.createElement("span");i.className="p-button-icon",i.setAttribute("aria-hidden","true");let r=this.label?"p-button-icon-"+this.iconPos:null;r&&he.addClass(i,r);let s=this.getIconClass();s&&he.addMultipleClasses(i,s),this.htmlElement.insertBefore(i,this.htmlElement.firstChild)}}updateLabel(){let t=he.findSingle(this.htmlElement,".p-button-label");if(!this.label){t&&this.htmlElement.removeChild(t);return}t?t.textContent=this.label:this.createLabel()}updateIcon(){let t=he.findSingle(this.htmlElement,".p-button-icon"),i=he.findSingle(this.htmlElement,".p-button-label");t?this.iconPos?t.className="p-button-icon "+(i?"p-button-icon-"+this.iconPos:"")+" "+this.getIconClass():t.className="p-button-icon "+this.getIconClass():this.createIcon()}getIconClass(){return this.loading?"p-button-loading-icon pi-spin "+(this.loadingIcon??"pi pi-spinner"):this.icon||"p-hidden"}ngOnDestroy(){this.initialized=!1}static \u0275fac=function(i){return new(i||n)(B(ht),B(Ye))};static \u0275dir=Ze({type:n,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading",severity:"severity",raised:[2,"raised","raised",Ue],rounded:[2,"rounded","rounded",Ue],text:[2,"text","text",Ue],outlined:[2,"outlined","outlined",Ue],size:"size",plain:[2,"plain","plain",Ue]},standalone:!0,features:[gi]})}return n})(),SX=(()=>{class n{el;type="button";iconPos="left";icon;badge;label;disabled;loading=!1;loadingIcon;raised=!1;rounded=!1;text=!1;plain=!1;severity;outlined=!1;link=!1;tabindex;size;style;styleClass;badgeClass;ariaLabel;autofocus;onClick=new xe;onFocus=new xe;onBlur=new xe;contentTemplate;loadingIconTemplate;iconTemplate;templates;constructor(t){this.el=t}spinnerIconClass(){return Object.entries(this.iconClass()).filter(([,t])=>!!t).reduce((t,[i])=>t+` ${i}`,"p-button-loading-icon")}iconClass(){let t={"p-button-icon":!0,"p-button-icon-left":this.iconPos==="left"&&this.label,"p-button-icon-right":this.iconPos==="right"&&this.label,"p-button-icon-top":this.iconPos==="top"&&this.label,"p-button-icon-bottom":this.iconPos==="bottom"&&this.label};return this.loading?t[`p-button-loading-icon pi-spin ${this.loadingIcon??""}`]=!0:this.icon&&(t[this.icon]=!0),t}get buttonClass(){return{"p-button p-component":!0,"p-button-icon-only":(this.icon||this.iconTemplate||this.loadingIcon||this.loadingIconTemplate)&&!this.label,"p-button-vertical":(this.iconPos==="top"||this.iconPos==="bottom")&&this.label,"p-button-loading":this.loading,"p-button-loading-label-only":this.loading&&!this.icon&&this.label&&!this.loadingIcon&&this.iconPos==="left","p-button-link":this.link,[`p-button-${this.severity}`]:this.severity,"p-button-raised":this.raised,"p-button-rounded":this.rounded,"p-button-text":this.text,"p-button-outlined":this.outlined,"p-button-sm":this.size==="small","p-button-lg":this.size==="large","p-button-plain":this.plain,[`${this.styleClass}`]:this.styleClass}}ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"content":this.contentTemplate=t.template;break;case"icon":this.iconTemplate=t.template;break;case"loadingicon":this.loadingIconTemplate=t.template;break;default:this.contentTemplate=t.template;break}})}badgeStyleClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":this.badge&&String(this.badge).length===1}}focus(){this.el.nativeElement.firstChild.focus()}static \u0275fac=function(i){return new(i||n)(B(ht))};static \u0275cmp=Oe({type:n,selectors:[["p-button"]],contentQueries:function(i,r,s){if(i&1&&Ss(s,ow,4),i&2){let o;Rn(o=On())&&(r.templates=o)}},hostAttrs:[1,"p-element"],hostVars:2,hostBindings:function(i,r){i&2&&jr("p-disabled",r.disabled)},inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:[2,"disabled","disabled",Ue],loading:[2,"loading","loading",Ue],loadingIcon:"loadingIcon",raised:[2,"raised","raised",Ue],rounded:[2,"rounded","rounded",Ue],text:[2,"text","text",Ue],plain:[2,"plain","plain",Ue],severity:"severity",outlined:[2,"outlined","outlined",Ue],link:[2,"link","link",Ue],tabindex:[2,"tabindex","tabindex",Jl],size:"size",style:"style",styleClass:"styleClass",badgeClass:"badgeClass",ariaLabel:"ariaLabel",autofocus:[2,"autofocus","autofocus",Ue]},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},standalone:!0,features:[gi,Pt],ngContentSelectors:fX,decls:7,vars:14,consts:[["pRipple","","pAutoFocus","",3,"click","focus","blur","ngStyle","disabled","ngClass","autofocus"],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-button-label",4,"ngIf"],[3,"ngClass","class",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass",4,"ngIf"],[3,"styleClass","spin",4,"ngIf"],[3,"ngClass"],[3,"styleClass","spin"],[3,"ngIf"],[1,"p-button-label"]],template:function(i,r){i&1&&(Gi(),E(0,"button",0),re("click",function(o){return r.onClick.emit(o)})("focus",function(o){return r.onFocus.emit(o)})("blur",function(o){return r.onBlur.emit(o)}),mi(1),J(2,pX,1,0,"ng-container",1)(3,wX,3,5,"ng-container",2)(4,IX,3,5,"ng-container",2)(5,DX,2,3,"span",3)(6,TX,2,5,"span",4),b()),i&2&&(O("ngStyle",r.style)("disabled",r.disabled||r.loading)("ngClass",r.buttonClass)("autofocus",r.autofocus),Xe("type",r.type)("aria-label",r.ariaLabel)("data-pc-name","button")("data-pc-section","root")("tabindex",r.tabindex),T(2),O("ngTemplateOutlet",r.contentTemplate),T(),O("ngIf",r.loading),T(),O("ngIf",!r.loading),T(),O("ngIf",!r.contentTemplate&&r.label),T(),O("ngIf",!r.contentTemplate&&r.badge))},dependencies:[Ft,gf,dy,Oi,aw,Y3,J3],encapsulation:2,changeDetection:0})}return n})(),lw=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=we({type:n});static \u0275inj=ve({imports:[SX,ph]})}return n})();var n5=(()=>{class n{pFocusTrapDisabled=!1;platformId=K(bt);host=K(ht);document=K(Ye);firstHiddenFocusableElement;lastHiddenFocusableElement;ngOnInit(){Wi(this.platformId)&&!this.pFocusTrapDisabled&&!this.firstHiddenFocusableElement&&!this.lastHiddenFocusableElement&&this.createHiddenFocusableElements()}ngOnChanges(t){t.pFocusTrapDisabled&&Wi(this.platformId)&&(t.pFocusTrapDisabled.currentValue?this.removeHiddenFocusableElements():this.createHiddenFocusableElements())}removeHiddenFocusableElements(){this.firstHiddenFocusableElement&&this.firstHiddenFocusableElement.parentNode&&this.firstHiddenFocusableElement.parentNode.removeChild(this.firstHiddenFocusableElement),this.lastHiddenFocusableElement&&this.lastHiddenFocusableElement.parentNode&&this.lastHiddenFocusableElement.parentNode.removeChild(this.lastHiddenFocusableElement)}getComputedSelector(t){return`:not(.p-hidden-focusable):not([data-p-hidden-focusable="true"])${t??""}`}createHiddenFocusableElements(){let t="0",i=r=>he.createElement("span",{class:"p-hidden-accessible p-hidden-focusable",tabindex:t,role:"presentation","data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0,onFocus:r?.bind(this)});this.firstHiddenFocusableElement=i(this.onFirstHiddenElementFocus),this.lastHiddenFocusableElement=i(this.onLastHiddenElementFocus),this.firstHiddenFocusableElement.setAttribute("data-pc-section","firstfocusableelement"),this.lastHiddenFocusableElement.setAttribute("data-pc-section","lastfocusableelement"),this.host.nativeElement.prepend(this.firstHiddenFocusableElement),this.host.nativeElement.append(this.lastHiddenFocusableElement)}onFirstHiddenElementFocus(t){let{currentTarget:i,relatedTarget:r}=t,s=r===this.lastHiddenFocusableElement||!this.host.nativeElement?.contains(r)?he.getFirstFocusableElement(i.parentElement,":not(.p-hidden-focusable)"):this.lastHiddenFocusableElement;he.focus(s)}onLastHiddenElementFocus(t){let{currentTarget:i,relatedTarget:r}=t,s=r===this.firstHiddenFocusableElement||!this.host.nativeElement?.contains(r)?he.getLastFocusableElement(i.parentElement,":not(.p-hidden-focusable)"):this.firstHiddenFocusableElement;he.focus(s)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=Ze({type:n,selectors:[["","pFocusTrap",""]],hostAttrs:[1,"p-element"],inputs:{pFocusTrapDisabled:[2,"pFocusTrapDisabled","pFocusTrapDisabled",Ue]},features:[gi,Dn]})}return n})(),i5=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=we({type:n});static \u0275inj=ve({imports:[Rs]})}return n})();var DM=(()=>{class n extends ol{static \u0275fac=(()=>{let t;return function(r){return(t||(t=pi(n)))(r||n)}})();static \u0275cmp=Oe({type:n,selectors:[["TimesIcon"]],standalone:!0,features:[hn,Pt],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z","fill","currentColor"]],template:function(i,r){i&1&&(Ds(),E(0,"svg",0),ie(1,"path",1),b()),i&2&&(Et(r.getClassNames()),Xe("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var TM=(()=>{class n extends ol{pathId;ngOnInit(){this.pathId="url(#"+os()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=pi(n)))(r||n)}})();static \u0275cmp=Oe({type:n,selectors:[["WindowMaximizeIcon"]],standalone:!0,features:[hn,Pt],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M7 14H11.8C12.3835 14 12.9431 13.7682 13.3556 13.3556C13.7682 12.9431 14 12.3835 14 11.8V2.2C14 1.61652 13.7682 1.05694 13.3556 0.644365C12.9431 0.231785 12.3835 0 11.8 0H2.2C1.61652 0 1.05694 0.231785 0.644365 0.644365C0.231785 1.05694 0 1.61652 0 2.2V7C0 7.15913 0.063214 7.31174 0.175736 7.42426C0.288258 7.53679 0.44087 7.6 0.6 7.6C0.75913 7.6 0.911742 7.53679 1.02426 7.42426C1.13679 7.31174 1.2 7.15913 1.2 7V2.2C1.2 1.93478 1.30536 1.68043 1.49289 1.49289C1.68043 1.30536 1.93478 1.2 2.2 1.2H11.8C12.0652 1.2 12.3196 1.30536 12.5071 1.49289C12.6946 1.68043 12.8 1.93478 12.8 2.2V11.8C12.8 12.0652 12.6946 12.3196 12.5071 12.5071C12.3196 12.6946 12.0652 12.8 11.8 12.8H7C6.84087 12.8 6.68826 12.8632 6.57574 12.9757C6.46321 13.0883 6.4 13.2409 6.4 13.4C6.4 13.5591 6.46321 13.7117 6.57574 13.8243C6.68826 13.9368 6.84087 14 7 14ZM9.77805 7.42192C9.89013 7.534 10.0415 7.59788 10.2 7.59995C10.3585 7.59788 10.5099 7.534 10.622 7.42192C10.7341 7.30985 10.798 7.15844 10.8 6.99995V3.94242C10.8066 3.90505 10.8096 3.86689 10.8089 3.82843C10.8079 3.77159 10.7988 3.7157 10.7824 3.6623C10.756 3.55552 10.701 3.45698 10.622 3.37798C10.5099 3.2659 10.3585 3.20202 10.2 3.19995H7.00002C6.84089 3.19995 6.68828 3.26317 6.57576 3.37569C6.46324 3.48821 6.40002 3.64082 6.40002 3.79995C6.40002 3.95908 6.46324 4.11169 6.57576 4.22422C6.68828 4.33674 6.84089 4.39995 7.00002 4.39995H8.80006L6.19997 7.00005C6.10158 7.11005 6.04718 7.25246 6.04718 7.40005C6.04718 7.54763 6.10158 7.69004 6.19997 7.80005C6.30202 7.91645 6.44561 7.98824 6.59997 8.00005C6.75432 7.98824 6.89791 7.91645 6.99997 7.80005L9.60002 5.26841V6.99995C9.6021 7.15844 9.66598 7.30985 9.77805 7.42192ZM1.4 14H3.8C4.17066 13.9979 4.52553 13.8498 4.78763 13.5877C5.04973 13.3256 5.1979 12.9707 5.2 12.6V10.2C5.1979 9.82939 5.04973 9.47452 4.78763 9.21242C4.52553 8.95032 4.17066 8.80215 3.8 8.80005H1.4C1.02934 8.80215 0.674468 8.95032 0.412371 9.21242C0.150274 9.47452 0.00210008 9.82939 0 10.2V12.6C0.00210008 12.9707 0.150274 13.3256 0.412371 13.5877C0.674468 13.8498 1.02934 13.9979 1.4 14ZM1.25858 10.0586C1.29609 10.0211 1.34696 10 1.4 10H3.8C3.85304 10 3.90391 10.0211 3.94142 10.0586C3.97893 10.0961 4 10.147 4 10.2V12.6C4 12.6531 3.97893 12.704 3.94142 12.7415C3.90391 12.779 3.85304 12.8 3.8 12.8H1.4C1.34696 12.8 1.29609 12.779 1.25858 12.7415C1.22107 12.704 1.2 12.6531 1.2 12.6V10.2C1.2 10.147 1.22107 10.0961 1.25858 10.0586Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(Ds(),E(0,"svg",0)(1,"g"),ie(2,"path",1),b(),E(3,"defs")(4,"clipPath",2),ie(5,"rect",3),b()()()),i&2&&(Et(r.getClassNames()),Xe("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),T(),Xe("clip-path",r.pathId),T(3),O("id",r.pathId))},encapsulation:2})}return n})();var SM=(()=>{class n extends ol{pathId;ngOnInit(){this.pathId="url(#"+os()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=pi(n)))(r||n)}})();static \u0275cmp=Oe({type:n,selectors:[["WindowMinimizeIcon"]],standalone:!0,features:[hn,Pt],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M11.8 0H2.2C1.61652 0 1.05694 0.231785 0.644365 0.644365C0.231785 1.05694 0 1.61652 0 2.2V7C0 7.15913 0.063214 7.31174 0.175736 7.42426C0.288258 7.53679 0.44087 7.6 0.6 7.6C0.75913 7.6 0.911742 7.53679 1.02426 7.42426C1.13679 7.31174 1.2 7.15913 1.2 7V2.2C1.2 1.93478 1.30536 1.68043 1.49289 1.49289C1.68043 1.30536 1.93478 1.2 2.2 1.2H11.8C12.0652 1.2 12.3196 1.30536 12.5071 1.49289C12.6946 1.68043 12.8 1.93478 12.8 2.2V11.8C12.8 12.0652 12.6946 12.3196 12.5071 12.5071C12.3196 12.6946 12.0652 12.8 11.8 12.8H7C6.84087 12.8 6.68826 12.8632 6.57574 12.9757C6.46321 13.0883 6.4 13.2409 6.4 13.4C6.4 13.5591 6.46321 13.7117 6.57574 13.8243C6.68826 13.9368 6.84087 14 7 14H11.8C12.3835 14 12.9431 13.7682 13.3556 13.3556C13.7682 12.9431 14 12.3835 14 11.8V2.2C14 1.61652 13.7682 1.05694 13.3556 0.644365C12.9431 0.231785 12.3835 0 11.8 0ZM6.368 7.952C6.44137 7.98326 6.52025 7.99958 6.6 8H9.8C9.95913 8 10.1117 7.93678 10.2243 7.82426C10.3368 7.71174 10.4 7.55913 10.4 7.4C10.4 7.24087 10.3368 7.08826 10.2243 6.97574C10.1117 6.86321 9.95913 6.8 9.8 6.8H8.048L10.624 4.224C10.73 4.11026 10.7877 3.95982 10.7849 3.80438C10.7822 3.64894 10.7192 3.50063 10.6093 3.3907C10.4994 3.28077 10.3511 3.2178 10.1956 3.21506C10.0402 3.21232 9.88974 3.27002 9.776 3.376L7.2 5.952V4.2C7.2 4.04087 7.13679 3.88826 7.02426 3.77574C6.91174 3.66321 6.75913 3.6 6.6 3.6C6.44087 3.6 6.28826 3.66321 6.17574 3.77574C6.06321 3.88826 6 4.04087 6 4.2V7.4C6.00042 7.47975 6.01674 7.55862 6.048 7.632C6.07656 7.70442 6.11971 7.7702 6.17475 7.82524C6.2298 7.88029 6.29558 7.92344 6.368 7.952ZM1.4 8.80005H3.8C4.17066 8.80215 4.52553 8.95032 4.78763 9.21242C5.04973 9.47452 5.1979 9.82939 5.2 10.2V12.6C5.1979 12.9707 5.04973 13.3256 4.78763 13.5877C4.52553 13.8498 4.17066 13.9979 3.8 14H1.4C1.02934 13.9979 0.674468 13.8498 0.412371 13.5877C0.150274 13.3256 0.00210008 12.9707 0 12.6V10.2C0.00210008 9.82939 0.150274 9.47452 0.412371 9.21242C0.674468 8.95032 1.02934 8.80215 1.4 8.80005ZM3.94142 12.7415C3.97893 12.704 4 12.6531 4 12.6V10.2C4 10.147 3.97893 10.0961 3.94142 10.0586C3.90391 10.0211 3.85304 10 3.8 10H1.4C1.34696 10 1.29609 10.0211 1.25858 10.0586C1.22107 10.0961 1.2 10.147 1.2 10.2V12.6C1.2 12.6531 1.22107 12.704 1.25858 12.7415C1.29609 12.779 1.34696 12.8 1.4 12.8H3.8C3.85304 12.8 3.90391 12.779 3.94142 12.7415Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(Ds(),E(0,"svg",0)(1,"g"),ie(2,"path",1),b(),E(3,"defs")(4,"clipPath",2),ie(5,"rect",3),b()()()),i&2&&(Et(r.getClassNames()),Xe("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),T(),Xe("clip-path",r.pathId),T(3),O("id",r.pathId))},encapsulation:2})}return n})();var xX=["titlebar"],RX=["content"],OX=["footer"],NX=["*",[["p-header"]],[["p-footer"]]],kX=["*","p-header","p-footer"],PX=(n,e,t,i,r,s,o,a,l,c)=>({"p-dialog-mask":!0,"p-component-overlay p-component-overlay-enter":n,"p-dialog-mask-scrollblocker":e,"p-dialog-left":t,"p-dialog-right":i,"p-dialog-top":r,"p-dialog-top-left":s,"p-dialog-top-right":o,"p-dialog-bottom":a,"p-dialog-bottom-left":l,"p-dialog-bottom-right":c}),FX=(n,e,t,i)=>({"p-dialog p-component":!0,"p-dialog-rtl":n,"p-dialog-draggable":e,"p-dialog-resizable":t,"p-dialog-maximized":i}),LX=(n,e)=>({transform:n,transition:e}),VX=n=>({value:"visible",params:n}),BX=()=>({"p-dialog-header-icon p-dialog-header-maximize p-link":!0}),UX=()=>({"p-dialog-header-icon p-dialog-header-close p-link":!0}),jX=()=>({"min-width":0});function zX(n,e){n&1&&va(0)}function $X(n,e){if(n&1&&(ti(0),J(1,zX,1,0,"ng-container",10),ni()),n&2){let t=U(3);T(),O("ngTemplateOutlet",t.headlessTemplate)}}function HX(n,e){if(n&1){let t=Ce();E(0,"div",15),re("mousedown",function(r){ue(t);let s=U(4);return de(s.initResize(r))}),b()}}function GX(n,e){if(n&1&&(E(0,"span",21),L(1),b()),n&2){let t=U(5);O("id",t.ariaLabelledBy),T(),gt(t.header)}}function qX(n,e){if(n&1&&(E(0,"span",21),mi(1,1),b()),n&2){let t=U(5);O("id",t.ariaLabelledBy)}}function WX(n,e){n&1&&va(0)}function KX(n,e){if(n&1&&ie(0,"span",25),n&2){let t=U(6);O("ngClass",t.maximized?t.minimizeIcon:t.maximizeIcon)}}function QX(n,e){n&1&&ie(0,"WindowMaximizeIcon",27),n&2&&O("styleClass","p-dialog-header-maximize-icon")}function ZX(n,e){n&1&&ie(0,"WindowMinimizeIcon",27),n&2&&O("styleClass","p-dialog-header-maximize-icon")}function YX(n,e){if(n&1&&(ti(0),J(1,QX,1,1,"WindowMaximizeIcon",26)(2,ZX,1,1,"WindowMinimizeIcon",26),ni()),n&2){let t=U(6);T(),O("ngIf",!t.maximized&&!t.maximizeIconTemplate),T(),O("ngIf",t.maximized&&!t.minimizeIconTemplate)}}function JX(n,e){}function XX(n,e){n&1&&J(0,JX,0,0,"ng-template")}function eee(n,e){if(n&1&&(ti(0),J(1,XX,1,0,null,10),ni()),n&2){let t=U(6);T(),O("ngTemplateOutlet",t.maximizeIconTemplate)}}function tee(n,e){}function nee(n,e){n&1&&J(0,tee,0,0,"ng-template")}function iee(n,e){if(n&1&&(ti(0),J(1,nee,1,0,null,10),ni()),n&2){let t=U(6);T(),O("ngTemplateOutlet",t.minimizeIconTemplate)}}function ree(n,e){if(n&1){let t=Ce();E(0,"button",22),re("click",function(){ue(t);let r=U(5);return de(r.maximize())})("keydown.enter",function(){ue(t);let r=U(5);return de(r.maximize())}),J(1,KX,1,1,"span",23)(2,YX,3,2,"ng-container",24)(3,eee,2,1,"ng-container",24)(4,iee,2,1,"ng-container",24),b()}if(n&2){let t=U(5);O("ngClass",Gr(7,BX)),Xe("tabindex",t.maximizable?"0":"-1")("aria-label",t.maximizeLabel),T(),O("ngIf",t.maximizeIcon&&!t.maximizeIconTemplate&&!t.minimizeIconTemplate),T(),O("ngIf",!t.maximizeIcon),T(),O("ngIf",!t.maximized),T(),O("ngIf",t.maximized)}}function see(n,e){if(n&1&&ie(0,"span",30),n&2){let t=U(7);O("ngClass",t.closeIcon)}}function oee(n,e){n&1&&ie(0,"TimesIcon",27),n&2&&O("styleClass","p-dialog-header-close-icon")}function aee(n,e){if(n&1&&(ti(0),J(1,see,1,1,"span",29)(2,oee,1,1,"TimesIcon",26),ni()),n&2){let t=U(6);T(),O("ngIf",t.closeIcon),T(),O("ngIf",!t.closeIcon)}}function lee(n,e){}function cee(n,e){n&1&&J(0,lee,0,0,"ng-template")}function uee(n,e){if(n&1&&(E(0,"span"),J(1,cee,1,0,null,10),b()),n&2){let t=U(6);T(),O("ngTemplateOutlet",t.closeIconTemplate)}}function dee(n,e){if(n&1){let t=Ce();E(0,"button",28),re("click",function(r){ue(t);let s=U(5);return de(s.close(r))})("keydown.enter",function(r){ue(t);let s=U(5);return de(s.close(r))}),J(1,aee,3,2,"ng-container",24)(2,uee,2,1,"span",24),b()}if(n&2){let t=U(5);O("ngClass",Gr(6,UX))("ngStyle",Gr(7,jX)),Xe("aria-label",t.closeAriaLabel)("tabindex",t.closeTabindex),T(),O("ngIf",!t.closeIconTemplate),T(),O("ngIf",t.closeIconTemplate)}}function hee(n,e){if(n&1){let t=Ce();E(0,"div",16,3),re("mousedown",function(r){ue(t);let s=U(4);return de(s.initDrag(r))}),J(2,GX,2,2,"span",17)(3,qX,2,1,"span",17)(4,WX,1,0,"ng-container",10),E(5,"div",18),J(6,ree,5,8,"button",19)(7,dee,3,8,"button",20),b()()}if(n&2){let t=U(4);T(2),O("ngIf",!t.headerFacet&&!t.headerTemplate),T(),O("ngIf",t.headerFacet),T(),O("ngTemplateOutlet",t.headerTemplate),T(2),O("ngIf",t.maximizable),T(),O("ngIf",t.closable)}}function fee(n,e){n&1&&va(0)}function pee(n,e){n&1&&va(0)}function gee(n,e){if(n&1&&(E(0,"div",31,4),mi(2,2),J(3,pee,1,0,"ng-container",10),b()),n&2){let t=U(4);T(3),O("ngTemplateOutlet",t.footerTemplate)}}function mee(n,e){if(n&1&&(J(0,HX,1,0,"div",11)(1,hee,8,5,"div",12),E(2,"div",13,2),mi(4),J(5,fee,1,0,"ng-container",10),b(),J(6,gee,4,1,"div",14)),n&2){let t=U(3);O("ngIf",t.resizable),T(),O("ngIf",t.showHeader),T(),Et(t.contentStyleClass),O("ngClass","p-dialog-content")("ngStyle",t.contentStyle),T(3),O("ngTemplateOutlet",t.contentTemplate),T(),O("ngIf",t.footerFacet||t.footerTemplate)}}function yee(n,e){if(n&1){let t=Ce();E(0,"div",8,0),re("@animation.start",function(r){ue(t);let s=U(2);return de(s.onAnimationStart(r))})("@animation.done",function(r){ue(t);let s=U(2);return de(s.onAnimationEnd(r))}),J(2,$X,2,1,"ng-container",9)(3,mee,7,8,"ng-template",null,1,Wr),b()}if(n&2){let t=zr(4),i=U(2);Et(i.styleClass),O("ngClass",IN(10,FX,i.rtl,i.draggable,i.resizable,i.maximized))("ngStyle",i.style)("pFocusTrapDisabled",i.focusTrap===!1)("@animation",qn(18,VX,hf(15,LX,i.transformOptions,i.transitionOptions))),Xe("aria-labelledby",i.ariaLabelledBy)("aria-modal",!0),T(2),O("ngIf",i.headlessTemplate)("ngIfElse",t)}}function _ee(n,e){if(n&1&&(E(0,"div",6),J(1,yee,5,20,"div",7),b()),n&2){let t=U();Et(t.maskStyleClass),O("ngStyle",t.maskStyle)("ngClass",DN(5,PX,[t.modal,t.modal||t.blockScroll,t.position==="left",t.position==="right",t.position==="top",t.position==="topleft"||t.position==="top-left",t.position==="topright"||t.position==="top-right",t.position==="bottom",t.position==="bottomleft"||t.position==="bottom-left",t.position==="bottomright"||t.position==="bottom-right"])),T(),O("ngIf",t.visible)}}var vee=XT([qs({transform:"{{transform}}",opacity:0}),Zd("{{transition}}")]),wee=XT([Zd("{{transition}}",qs({transform:"{{transform}}",opacity:0}))]),r5=(()=>{class n{document;platformId;el;renderer;zone;cd;config;header;draggable=!0;resizable=!0;get positionLeft(){return 0}set positionLeft(t){console.log("positionLeft property is deprecated.")}get positionTop(){return 0}set positionTop(t){console.log("positionTop property is deprecated.")}contentStyle;contentStyleClass;modal=!1;closeOnEscape=!0;dismissableMask=!1;rtl=!1;closable=!0;get responsive(){return!1}set responsive(t){console.log("Responsive property is deprecated.")}appendTo;breakpoints;styleClass;maskStyleClass;maskStyle;showHeader=!0;get breakpoint(){return 649}set breakpoint(t){console.log("Breakpoint property is not utilized and deprecated, use breakpoints or CSS media queries instead.")}blockScroll=!1;autoZIndex=!0;baseZIndex=0;minX=0;minY=0;focusOnShow=!0;maximizable=!1;keepInViewport=!0;focusTrap=!0;transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)";closeIcon;closeAriaLabel;closeTabindex="0";minimizeIcon;maximizeIcon;get visible(){return this._visible}set visible(t){this._visible=t,this._visible&&!this.maskVisible&&(this.maskVisible=!0)}get style(){return this._style}set style(t){t&&(this._style=Q({},t),this.originalStyle=t)}get position(){return this._position}set position(t){switch(this._position=t,t){case"topleft":case"bottomleft":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"topright":case"bottomright":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)";break}}onShow=new xe;onHide=new xe;visibleChange=new xe;onResizeInit=new xe;onResizeEnd=new xe;onDragEnd=new xe;onMaximize=new xe;headerFacet;footerFacet;templates;headerViewChild;contentViewChild;footerViewChild;headerTemplate;contentTemplate;footerTemplate;maximizeIconTemplate;closeIconTemplate;minimizeIconTemplate;headlessTemplate;_visible=!1;maskVisible;container;wrapper;dragging;ariaLabelledBy=this.getAriaLabelledBy();documentDragListener;documentDragEndListener;resizing;documentResizeListener;documentResizeEndListener;documentEscapeListener;maskClickListener;lastPageX;lastPageY;preventVisibleChangePropagation;maximized;preMaximizeContentHeight;preMaximizeContainerWidth;preMaximizeContainerHeight;preMaximizePageX;preMaximizePageY;id=os();_style={};_position="center";originalStyle;transformOptions="scale(0.7)";styleElement;window;get maximizeLabel(){return this.config.getTranslation(W3.ARIA).maximizeLabel}constructor(t,i,r,s,o,a,l){this.document=t,this.platformId=i,this.el=r,this.renderer=s,this.zone=o,this.cd=a,this.config=l,this.window=this.document.defaultView}ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"header":this.headerTemplate=t.template;break;case"content":this.contentTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;case"closeicon":this.closeIconTemplate=t.template;break;case"maximizeicon":this.maximizeIconTemplate=t.template;break;case"minimizeicon":this.minimizeIconTemplate=t.template;break;case"headless":this.headlessTemplate=t.template;break;default:this.contentTemplate=t.template;break}})}ngOnInit(){this.breakpoints&&this.createStyle()}getAriaLabelledBy(){return this.header!==null?os()+"_header":null}parseDurationToMilliseconds(t){let i=/([\d\.]+)(ms|s)\b/g,r=0,s;for(;(s=i.exec(t))!==null;){let o=parseFloat(s[1]),a=s[2];a==="ms"?r+=o:a==="s"&&(r+=o*1e3)}if(r!==0)return r}focus(t=this.contentViewChild?.nativeElement){let i=this.parseDurationToMilliseconds(this.transitionOptions),r=he.getFocusableElement(t,"[autofocus]");if(r){this.zone.runOutsideAngular(()=>{setTimeout(()=>r.focus(),i||5)});return}let s=he.getFocusableElement(t);s?this.zone.runOutsideAngular(()=>{setTimeout(()=>s.focus(),i||5)}):this.footerViewChild&&t!==this.footerViewChild.nativeElement&&this.focus(this.footerViewChild.nativeElement)}close(t){this.visibleChange.emit(!1),t.preventDefault()}enableModality(){this.closable&&this.dismissableMask&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",t=>{this.wrapper&&this.wrapper.isSameNode(t.target)&&this.close(t)})),this.modal&&he.blockBodyScroll()}disableModality(){if(this.wrapper){this.dismissableMask&&this.unbindMaskClickListener();let t=document.querySelectorAll(".p-dialog-mask-scrollblocker");this.modal&&t&&t.length==1&&he.unblockBodyScroll(),this.cd.destroyed||this.cd.detectChanges()}}maximize(){this.maximized=!this.maximized,!this.modal&&!this.blockScroll&&(this.maximized?he.blockBodyScroll():he.unblockBodyScroll()),this.onMaximize.emit({maximized:this.maximized})}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}moveOnTop(){this.autoZIndex&&(IM.set("modal",this.container,this.baseZIndex+this.config.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}createStyle(){if(Wi(this.platformId)&&!this.styleElement){this.styleElement=this.renderer.createElement("style"),this.styleElement.type="text/css",he.setAttribute(this.styleElement,"nonce",this.config?.csp()?.nonce),this.renderer.appendChild(this.document.head,this.styleElement);let t="";for(let i in this.breakpoints)t+=`
                        @media screen and (max-width: ${i}) {
                            .p-dialog[${this.id}]:not(.p-dialog-maximized) {
                                width: ${this.breakpoints[i]} !important;
                            }
                        }
                    `;this.renderer.setProperty(this.styleElement,"innerHTML",t)}}initDrag(t){he.hasClass(t.target,"p-dialog-header-icon")||he.hasClass(t.target,"p-dialog-header-close-icon")||he.hasClass(t.target.parentElement,"p-dialog-header-icon")||this.draggable&&(this.dragging=!0,this.lastPageX=t.pageX,this.lastPageY=t.pageY,this.container.style.margin="0",he.addClass(this.document.body,"p-unselectable-text"))}onDrag(t){if(this.dragging){let i=he.getOuterWidth(this.container),r=he.getOuterHeight(this.container),s=t.pageX-this.lastPageX,o=t.pageY-this.lastPageY,a=this.container.getBoundingClientRect(),l=getComputedStyle(this.container),c=parseFloat(l.marginLeft),d=parseFloat(l.marginTop),f=a.left+s-c,m=a.top+o-d,v=he.getViewport();this.container.style.position="fixed",this.keepInViewport?(f>=this.minX&&f+i<v.width&&(this._style.left=`${f}px`,this.lastPageX=t.pageX,this.container.style.left=`${f}px`),m>=this.minY&&m+r<v.height&&(this._style.top=`${m}px`,this.lastPageY=t.pageY,this.container.style.top=`${m}px`)):(this.lastPageX=t.pageX,this.container.style.left=`${f}px`,this.lastPageY=t.pageY,this.container.style.top=`${m}px`)}}endDrag(t){this.dragging&&(this.dragging=!1,he.removeClass(this.document.body,"p-unselectable-text"),this.cd.detectChanges(),this.onDragEnd.emit(t))}resetPosition(){this.container.style.position="",this.container.style.left="",this.container.style.top="",this.container.style.margin=""}center(){this.resetPosition()}initResize(t){this.resizable&&(this.resizing=!0,this.lastPageX=t.pageX,this.lastPageY=t.pageY,he.addClass(this.document.body,"p-unselectable-text"),this.onResizeInit.emit(t))}onResize(t){if(this.resizing){let i=t.pageX-this.lastPageX,r=t.pageY-this.lastPageY,s=he.getOuterWidth(this.container),o=he.getOuterHeight(this.container),a=he.getOuterHeight(this.contentViewChild?.nativeElement),l=s+i,c=o+r,d=this.container.style.minWidth,f=this.container.style.minHeight,m=this.container.getBoundingClientRect(),v=he.getViewport();(!parseInt(this.container.style.top)||!parseInt(this.container.style.left))&&(l+=i,c+=r),(!d||l>parseInt(d))&&m.left+l<v.width&&(this._style.width=l+"px",this.container.style.width=this._style.width),(!f||c>parseInt(f))&&m.top+c<v.height&&(this.contentViewChild.nativeElement.style.height=a+c-o+"px",this._style.height&&(this._style.height=c+"px",this.container.style.height=this._style.height)),this.lastPageX=t.pageX,this.lastPageY=t.pageY}}resizeEnd(t){this.resizing&&(this.resizing=!1,he.removeClass(this.document.body,"p-unselectable-text"),this.onResizeEnd.emit(t))}bindGlobalListeners(){this.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener()),this.resizable&&this.bindDocumentResizeListeners(),this.closeOnEscape&&this.closable&&this.bindDocumentEscapeListener()}unbindGlobalListeners(){this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener(),this.unbindDocumentResizeListeners(),this.unbindDocumentEscapeListener()}bindDocumentDragListener(){this.documentDragListener||this.zone.runOutsideAngular(()=>{this.documentDragListener=this.renderer.listen(this.window,"mousemove",this.onDrag.bind(this))})}unbindDocumentDragListener(){this.documentDragListener&&(this.documentDragListener(),this.documentDragListener=null)}bindDocumentDragEndListener(){this.documentDragEndListener||this.zone.runOutsideAngular(()=>{this.documentDragEndListener=this.renderer.listen(this.window,"mouseup",this.endDrag.bind(this))})}unbindDocumentDragEndListener(){this.documentDragEndListener&&(this.documentDragEndListener(),this.documentDragEndListener=null)}bindDocumentResizeListeners(){!this.documentResizeListener&&!this.documentResizeEndListener&&this.zone.runOutsideAngular(()=>{this.documentResizeListener=this.renderer.listen(this.window,"mousemove",this.onResize.bind(this)),this.documentResizeEndListener=this.renderer.listen(this.window,"mouseup",this.resizeEnd.bind(this))})}unbindDocumentResizeListeners(){this.documentResizeListener&&this.documentResizeEndListener&&(this.documentResizeListener(),this.documentResizeEndListener(),this.documentResizeListener=null,this.documentResizeEndListener=null)}bindDocumentEscapeListener(){let t=this.el?this.el.nativeElement.ownerDocument:"document";this.documentEscapeListener=this.renderer.listen(t,"keydown",i=>{i.key=="Escape"&&this.close(i)})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}appendContainer(){this.appendTo&&(this.appendTo==="body"?this.renderer.appendChild(this.document.body,this.wrapper):he.appendChild(this.wrapper,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.renderer.appendChild(this.el.nativeElement,this.wrapper)}onAnimationStart(t){switch(t.toState){case"visible":this.container=t.element,this.wrapper=this.container?.parentElement,this.moveOnTop(),this.appendContainer(),this.bindGlobalListeners(),this.container?.setAttribute(this.id,""),this.modal&&this.enableModality(),!this.modal&&this.blockScroll&&he.addClass(this.document.body,"p-overflow-hidden"),this.focusOnShow&&this.focus();break;case"void":this.wrapper&&this.modal&&he.addClass(this.wrapper,"p-component-overlay-leave");break}}onAnimationEnd(t){switch(t.toState){case"void":this.onContainerDestroy(),this.onHide.emit({}),this.cd.markForCheck();break;case"visible":this.onShow.emit({});break}}onContainerDestroy(){this.unbindGlobalListeners(),this.dragging=!1,this.maskVisible=!1,this.maximized&&(he.removeClass(this.document.body,"p-overflow-hidden"),this.document.body.style.removeProperty("--scrollbar-width"),this.maximized=!1),this.modal&&this.disableModality(),this.blockScroll&&he.removeClass(this.document.body,"p-overflow-hidden"),this.container&&this.autoZIndex&&IM.clear(this.container),this.container=null,this.wrapper=null,this._style=this.originalStyle?Q({},this.originalStyle):{}}destroyStyle(){this.styleElement&&(this.renderer.removeChild(this.document.head,this.styleElement),this.styleElement=null)}ngOnDestroy(){this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.destroyStyle()}static \u0275fac=function(i){return new(i||n)(B(Ye),B(bt),B(ht),B(ei),B(De),B(Ri),B(sw))};static \u0275cmp=Oe({type:n,selectors:[["p-dialog"]],contentQueries:function(i,r,s){if(i&1&&(Ss(s,G3,5),Ss(s,q3,5),Ss(s,ow,4)),i&2){let o;Rn(o=On())&&(r.headerFacet=o.first),Rn(o=On())&&(r.footerFacet=o.first),Rn(o=On())&&(r.templates=o)}},viewQuery:function(i,r){if(i&1&&(Ms(xX,5),Ms(RX,5),Ms(OX,5)),i&2){let s;Rn(s=On())&&(r.headerViewChild=s.first),Rn(s=On())&&(r.contentViewChild=s.first),Rn(s=On())&&(r.footerViewChild=s.first)}},hostAttrs:[1,"p-element"],inputs:{header:"header",draggable:[2,"draggable","draggable",Ue],resizable:[2,"resizable","resizable",Ue],positionLeft:"positionLeft",positionTop:"positionTop",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",modal:[2,"modal","modal",Ue],closeOnEscape:[2,"closeOnEscape","closeOnEscape",Ue],dismissableMask:[2,"dismissableMask","dismissableMask",Ue],rtl:[2,"rtl","rtl",Ue],closable:[2,"closable","closable",Ue],responsive:"responsive",appendTo:"appendTo",breakpoints:"breakpoints",styleClass:"styleClass",maskStyleClass:"maskStyleClass",maskStyle:"maskStyle",showHeader:[2,"showHeader","showHeader",Ue],breakpoint:"breakpoint",blockScroll:[2,"blockScroll","blockScroll",Ue],autoZIndex:[2,"autoZIndex","autoZIndex",Ue],baseZIndex:[2,"baseZIndex","baseZIndex",Jl],minX:[2,"minX","minX",Jl],minY:[2,"minY","minY",Jl],focusOnShow:[2,"focusOnShow","focusOnShow",Ue],maximizable:[2,"maximizable","maximizable",Ue],keepInViewport:[2,"keepInViewport","keepInViewport",Ue],focusTrap:[2,"focusTrap","focusTrap",Ue],transitionOptions:"transitionOptions",closeIcon:"closeIcon",closeAriaLabel:"closeAriaLabel",closeTabindex:"closeTabindex",minimizeIcon:"minimizeIcon",maximizeIcon:"maximizeIcon",visible:"visible",style:"style",position:"position"},outputs:{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange",onResizeInit:"onResizeInit",onResizeEnd:"onResizeEnd",onDragEnd:"onDragEnd",onMaximize:"onMaximize"},features:[gi],ngContentSelectors:kX,decls:1,vars:1,consts:[["container",""],["notHeadless",""],["content",""],["titlebar",""],["footer",""],[3,"class","ngStyle","ngClass",4,"ngIf"],[3,"ngStyle","ngClass"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","class","pFocusTrapDisabled",4,"ngIf"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","pFocusTrapDisabled"],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet"],["class","p-resizable-handle",3,"mousedown",4,"ngIf"],["class","p-dialog-header",3,"mousedown",4,"ngIf"],[3,"ngClass","ngStyle"],["class","p-dialog-footer",4,"ngIf"],[1,"p-resizable-handle",3,"mousedown"],[1,"p-dialog-header",3,"mousedown"],["class","p-dialog-title",3,"id",4,"ngIf"],[1,"p-dialog-header-icons"],["role","button","type","button","pRipple","","pButton","",3,"ngClass","click","keydown.enter",4,"ngIf"],["type","button","pRipple","","pButton","",3,"ngClass","ngStyle","click","keydown.enter",4,"ngIf"],[1,"p-dialog-title",3,"id"],["role","button","type","button","pRipple","","pButton","",3,"click","keydown.enter","ngClass"],["class","p-dialog-header-maximize-icon",3,"ngClass",4,"ngIf"],[4,"ngIf"],[1,"p-dialog-header-maximize-icon",3,"ngClass"],[3,"styleClass",4,"ngIf"],[3,"styleClass"],["type","button","pRipple","","pButton","",3,"click","keydown.enter","ngClass","ngStyle"],["class","p-dialog-header-close-icon",3,"ngClass",4,"ngIf"],[1,"p-dialog-header-close-icon",3,"ngClass"],[1,"p-dialog-footer"]],template:function(i,r){i&1&&(Gi(NX),J(0,_ee,2,16,"div",5)),i&2&&O("ngIf",r.maskVisible)},dependencies:()=>[Oi,Ft,gf,dy,n5,t5,aw,DM,TM,SM],styles:[`@layer primeng{.p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;pointer-events:auto;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-draggable .p-dialog-header{cursor:move}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-top .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog{margin:.75rem;transform:translateZ(0)}.p-dialog-maximized{-webkit-transition:none;transition:none;transform:none;width:100vw!important;height:100vh!important;top:0!important;left:0!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start;align-items:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}}
`],encapsulation:2,data:{animation:[mv("animation",[Yd("void => visible",[eS(vee)]),Yd("visible => void",[eS(wee)])])]},changeDetection:0})}return n})(),s5=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=we({type:n});static \u0275inj=ve({imports:[Rs,i5,lw,X3,DM,TM,SM,ph]})}return n})();var l5="@firebase/installations",RM="0.6.7";var c5=1e4,u5=`w:${RM}`,d5="FIS_v2",Cee="https://firebaseinstallations.googleapis.com/v1",Eee=60*60*1e3,Iee="installations",Dee="Installations";var Tee={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},$c=new du(Iee,Dee,Tee);function h5(n){return n instanceof ia&&n.code.includes("request-failed")}function f5({projectId:n}){return`${Cee}/projects/${n}/installations`}function p5(n){return{token:n.token,requestStatus:2,expiresIn:Mee(n.expiresIn),creationTime:Date.now()}}function g5(n,e){return F(this,null,function*(){let i=(yield e.json()).error;return $c.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})})}function m5({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function See(n,{refreshToken:e}){let t=m5(n);return t.append("Authorization",Aee(e)),t}function y5(n){return F(this,null,function*(){let e=yield n();return e.status>=500&&e.status<600?n():e})}function Mee(n){return Number(n.replace("s","000"))}function Aee(n){return`${d5} ${n}`}function xee(i,r){return F(this,arguments,function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){let s=f5(n),o=m5(n),a=e.getImmediate({optional:!0});if(a){let f=yield a.getHeartbeatsHeader();f&&o.append("x-firebase-client",f)}let l={fid:t,authVersion:d5,appId:n.appId,sdkVersion:u5},c={method:"POST",headers:o,body:JSON.stringify(l)},d=yield y5(()=>fetch(s,c));if(d.ok){let f=yield d.json();return{fid:f.fid||t,registrationStatus:2,refreshToken:f.refreshToken,authToken:p5(f.authToken)}}else throw yield g5("Create Installation",d)})}function _5(n){return new Promise(e=>{setTimeout(e,n)})}function Ree(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}var Oee=/^[cdef][\w-]{21}$/,xM="";function Nee(){try{let n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;let t=kee(n);return Oee.test(t)?t:xM}catch{return xM}}function kee(n){return Ree(n).substr(0,22)}function uw(n){return`${n.appName}!${n.appId}`}var v5=new Map;function w5(n,e){let t=uw(n);b5(t,e),Pee(t,e)}function b5(n,e){let t=v5.get(n);if(t)for(let i of t)i(e)}function Pee(n,e){let t=Fee();t&&t.postMessage({key:n,fid:e}),Lee()}var zc=null;function Fee(){return!zc&&"BroadcastChannel"in self&&(zc=new BroadcastChannel("[Firebase] FID Change"),zc.onmessage=n=>{b5(n.data.key,n.data.fid)}),zc}function Lee(){v5.size===0&&zc&&(zc.close(),zc=null)}var Vee="firebase-installations-database",Bee=1,Hc="firebase-installations-store",MM=null;function OM(){return MM||(MM=pA(Vee,Bee,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Hc)}}})),MM}function cw(n,e){return F(this,null,function*(){let t=uw(n),r=(yield OM()).transaction(Hc,"readwrite"),s=r.objectStore(Hc),o=yield s.get(t);return yield s.put(e,t),yield r.done,(!o||o.fid!==e.fid)&&w5(n,e.fid),e})}function C5(n){return F(this,null,function*(){let e=uw(n),i=(yield OM()).transaction(Hc,"readwrite");yield i.objectStore(Hc).delete(e),yield i.done})}function dw(n,e){return F(this,null,function*(){let t=uw(n),r=(yield OM()).transaction(Hc,"readwrite"),s=r.objectStore(Hc),o=yield s.get(t),a=e(o);return a===void 0?yield s.delete(t):yield s.put(a,t),yield r.done,a&&(!o||o.fid!==a.fid)&&w5(n,a.fid),a})}function NM(n){return F(this,null,function*(){let e,t=yield dw(n.appConfig,i=>{let r=Uee(i),s=jee(n,r);return e=s.registrationPromise,s.installationEntry});return t.fid===xM?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})}function Uee(n){let e=n||{fid:Nee(),registrationStatus:0};return E5(e)}function jee(n,e){if(e.registrationStatus===0){if(!navigator.onLine){let r=Promise.reject($c.create("app-offline"));return{installationEntry:e,registrationPromise:r}}let t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=zee(n,t);return{installationEntry:t,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:$ee(n)}:{installationEntry:e}}function zee(n,e){return F(this,null,function*(){try{let t=yield xee(n,e);return cw(n.appConfig,t)}catch(t){throw h5(t)&&t.customData.serverCode===409?yield C5(n.appConfig):yield cw(n.appConfig,{fid:e.fid,registrationStatus:0}),t}})}function $ee(n){return F(this,null,function*(){let e=yield o5(n.appConfig);for(;e.registrationStatus===1;)yield _5(100),e=yield o5(n.appConfig);if(e.registrationStatus===0){let{installationEntry:t,registrationPromise:i}=yield NM(n);return i||t}return e})}function o5(n){return dw(n,e=>{if(!e)throw $c.create("installation-not-found");return E5(e)})}function E5(n){return Hee(n)?{fid:n.fid,registrationStatus:0}:n}function Hee(n){return n.registrationStatus===1&&n.registrationTime+c5<Date.now()}function Gee(i,r){return F(this,arguments,function*({appConfig:n,heartbeatServiceProvider:e},t){let s=qee(n,t),o=See(n,t),a=e.getImmediate({optional:!0});if(a){let f=yield a.getHeartbeatsHeader();f&&o.append("x-firebase-client",f)}let l={installation:{sdkVersion:u5,appId:n.appId}},c={method:"POST",headers:o,body:JSON.stringify(l)},d=yield y5(()=>fetch(s,c));if(d.ok){let f=yield d.json();return p5(f)}else throw yield g5("Generate Auth Token",d)})}function qee(n,{fid:e}){return`${f5(n)}/${e}/authTokens:generate`}function kM(n,e=!1){return F(this,null,function*(){let t,i=yield dw(n.appConfig,s=>{if(!I5(s))throw $c.create("not-registered");let o=s.authToken;if(!e&&Qee(o))return s;if(o.requestStatus===1)return t=Wee(n,e),s;{if(!navigator.onLine)throw $c.create("app-offline");let a=Yee(s);return t=Kee(n,a),a}});return t?yield t:i.authToken})}function Wee(n,e){return F(this,null,function*(){let t=yield a5(n.appConfig);for(;t.authToken.requestStatus===1;)yield _5(100),t=yield a5(n.appConfig);let i=t.authToken;return i.requestStatus===0?kM(n,e):i})}function a5(n){return dw(n,e=>{if(!I5(e))throw $c.create("not-registered");let t=e.authToken;return Jee(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function Kee(n,e){return F(this,null,function*(){try{let t=yield Gee(n,e),i=Object.assign(Object.assign({},e),{authToken:t});return yield cw(n.appConfig,i),t}catch(t){if(h5(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))yield C5(n.appConfig);else{let i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield cw(n.appConfig,i)}throw t}})}function I5(n){return n!==void 0&&n.registrationStatus===2}function Qee(n){return n.requestStatus===2&&!Zee(n)}function Zee(n){let e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+Eee}function Yee(n){let e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function Jee(n){return n.requestStatus===1&&n.requestTime+c5<Date.now()}function Xee(n){return F(this,null,function*(){let e=n,{installationEntry:t,registrationPromise:i}=yield NM(e);return i?i.catch(console.error):kM(e).catch(console.error),t.fid})}function ete(n,e=!1){return F(this,null,function*(){let t=n;return yield tte(t),(yield kM(t,e)).token})}function tte(n){return F(this,null,function*(){let{registrationPromise:e}=yield NM(n);e&&(yield e)})}function nte(n){if(!n||!n.options)throw AM("App Configuration");if(!n.name)throw AM("App Name");let e=["projectId","apiKey","appId"];for(let t of e)if(!n.options[t])throw AM(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function AM(n){return $c.create("missing-app-config-values",{valueName:n})}var D5="installations",ite="installations-internal",rte=n=>{let e=n.getProvider("app").getImmediate(),t=nte(e),i=io(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},ste=n=>{let e=n.getProvider("app").getImmediate(),t=io(e,D5).getImmediate();return{getId:()=>Xee(t),getToken:r=>ete(t,r)}};function ote(){Ui(new Bn(D5,rte,"PUBLIC")),Ui(new Bn(ite,ste,"PRIVATE"))}ote();Un(l5,RM);Un(l5,RM,"esm2017");var hw="analytics",ate="firebase_id",lte="origin",cte=60*1e3,ute="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",jM="https://www.googletagmanager.com/gtag/js";var Fi=new hu("@firebase/analytics");var dte={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},tr=new du("analytics","Analytics",dte);function hte(n){if(!n.startsWith(jM)){let e=tr.create("invalid-gtag-resource",{gtagURL:n});return Fi.warn(e.message),""}return n}function O5(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function fte(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function pte(n,e){let t=fte("firebase-js-sdk-policy",{createScriptURL:hte}),i=document.createElement("script"),r=`${jM}?l=${n}&id=${e}`;i.src=t?t?.createScriptURL(r):r,i.async=!0,document.head.appendChild(i)}function gte(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}function mte(n,e,t,i,r,s){return F(this,null,function*(){let o=i[r];try{if(o)yield e[o];else{let l=(yield O5(t)).find(c=>c.measurementId===r);l&&(yield e[l.appId])}}catch(a){Fi.error(a)}n("config",r,s)})}function yte(n,e,t,i,r){return F(this,null,function*(){try{let s=[];if(r&&r.send_to){let o=r.send_to;Array.isArray(o)||(o=[o]);let a=yield O5(t);for(let l of o){let c=a.find(f=>f.measurementId===l),d=c&&e[c.appId];if(d)s.push(d);else{s=[];break}}}s.length===0&&(s=Object.values(e)),yield Promise.all(s),n("event",i,r||{})}catch(s){Fi.error(s)}})}function _te(n,e,t,i){function r(s,...o){return F(this,null,function*(){try{if(s==="event"){let[a,l]=o;yield yte(n,e,t,a,l)}else if(s==="config"){let[a,l]=o;yield mte(n,e,t,i,a,l)}else if(s==="consent"){let[a,l]=o;n("consent",a,l)}else if(s==="get"){let[a,l,c]=o;n("get",a,l,c)}else if(s==="set"){let[a]=o;n("set",a)}else n(s,...o)}catch(a){Fi.error(a)}})}return r}function vte(n,e,t,i,r){let s=function(...o){window[i].push(arguments)};return window[r]&&typeof window[r]=="function"&&(s=window[r]),window[r]=_te(s,n,e,t),{gtagCore:s,wrappedGtag:window[r]}}function wte(n){let e=window.document.getElementsByTagName("script");for(let t of Object.values(e))if(t.src&&t.src.includes(jM)&&t.src.includes(n))return t;return null}var bte=30,Cte=1e3,FM=class{constructor(e={},t=Cte){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}},N5=new FM;function Ete(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function Ite(n){return F(this,null,function*(){var e;let{appId:t,apiKey:i}=n,r={method:"GET",headers:Ete(i)},s=ute.replace("{app-id}",t),o=yield fetch(s,r);if(o.status!==200&&o.status!==304){let a="";try{let l=yield o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw tr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})}function Dte(i){return F(this,arguments,function*(n,e=N5,t){let{appId:r,apiKey:s,measurementId:o}=n.options;if(!r)throw tr.create("no-app-id");if(!s){if(o)return{measurementId:o,appId:r};throw tr.create("no-api-key")}let a=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new LM;return setTimeout(()=>F(this,null,function*(){l.abort()}),t!==void 0?t:cte),k5({appId:r,apiKey:s,measurementId:o},a,l,e)})}function k5(s,o,a){return F(this,arguments,function*(n,{throttleEndTimeMillis:e,backoffCount:t},i,r=N5){var l;let{appId:c,measurementId:d}=n;try{yield Tte(i,e)}catch(f){if(d)return Fi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${f?.message}]`),{appId:c,measurementId:d};throw f}try{let f=yield Ite(n);return r.deleteThrottleMetadata(c),f}catch(f){let m=f;if(!Ste(m)){if(r.deleteThrottleMetadata(c),d)return Fi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:c,measurementId:d};throw f}let v=Number((l=m?.customData)===null||l===void 0?void 0:l.httpStatus)===503?Qg(t,r.intervalMillis,bte):Qg(t,r.intervalMillis),C={throttleEndTimeMillis:Date.now()+v,backoffCount:t+1};return r.setThrottleMetadata(c,C),Fi.debug(`Calling attemptFetch again in ${v} millis`),k5(n,C,i,r)}})}function Tte(n,e){return new Promise((t,i)=>{let r=Math.max(e-Date.now(),0),s=setTimeout(t,r);n.addEventListener(()=>{clearTimeout(s),i(tr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Ste(n){if(!(n instanceof ia)||!n.customData)return!1;let e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}var LM=class{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}};var VM;function Mte(n,e,t,i,r){return F(this,null,function*(){if(r&&r.global){n("event",t,i);return}else{let s=yield e,o=Object.assign(Object.assign({},i),{send_to:s});n("event",t,o)}})}var BM;function Ate(n){BM=n}function xte(n){VM=n}function Rte(){return F(this,null,function*(){if(uu())try{yield hA()}catch(n){return Fi.warn(tr.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}else return Fi.warn(tr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0})}function Ote(n,e,t,i,r,s,o){return F(this,null,function*(){var a;let l=Dte(n);l.then(v=>{t[v.measurementId]=v.appId,n.options.measurementId&&v.measurementId!==n.options.measurementId&&Fi.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${v.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(v=>Fi.error(v)),e.push(l);let c=Rte().then(v=>{if(v)return i.getId()}),[d,f]=yield Promise.all([l,c]);wte(s)||pte(s,d.measurementId),BM&&(r("consent","default",BM),Ate(void 0)),r("js",new Date);let m=(a=o?.config)!==null&&a!==void 0?a:{};return m[lte]="firebase",m.update=!0,f!=null&&(m[ate]=f),r("config",d.measurementId,m),VM&&(r("set",VM),xte(void 0)),d.measurementId})}var UM=class{constructor(e){this.app=e}_delete(){return delete eg[this.app.options.appId],Promise.resolve()}},eg={},T5=[],S5={},PM="dataLayer",Nte="gtag",M5,P5,A5=!1;function kte(){let n=[];if(dA()&&n.push("This is a browser extension environment."),fA()||n.push("Cookies are not available."),n.length>0){let e=n.map((i,r)=>`(${r+1}) ${i}`).join(" "),t=tr.create("invalid-analytics-context",{errorInfo:e});Fi.warn(t.message)}}function Pte(n,e,t){kte();let i=n.options.appId;if(!i)throw tr.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Fi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw tr.create("no-api-key");if(eg[i]!=null)throw tr.create("already-exists",{id:i});if(!A5){gte(PM);let{wrappedGtag:s,gtagCore:o}=vte(eg,T5,S5,PM,Nte);P5=s,M5=o,A5=!0}return eg[i]=Ote(n,T5,S5,e,M5,PM,t),new UM(n)}function F5(n=fu()){n=tt(n);let e=io(n,hw);return e.isInitialized()?e.getImmediate():Fte(n)}function Fte(n,e={}){let t=io(n,hw);if(t.isInitialized()){let r=t.getImmediate();if(jh(e,t.getOptions()))return r;throw tr.create("already-initialized")}return t.initialize({options:e})}function Lte(n,e,t,i){n=tt(n),Mte(P5,eg[n.app.options.appId],e,t,i).catch(r=>Fi.error(r))}var x5="@firebase/analytics",R5="0.10.4";function Vte(){Ui(new Bn(hw,(e,{options:t})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();return Pte(i,r,t)},"PUBLIC")),Ui(new Bn("analytics-internal",n,"PRIVATE")),Un(x5,R5),Un(x5,R5,"esm2017");function n(e){try{let t=e.getProvider(hw).getImmediate();return{logEvent:(i,r,s)=>Lte(t,i,r,s)}}catch(t){throw tr.create("interop-component-reg-failed",{reason:t})}}}Vte();var tg={production:!1,firebaseConfig:{apiKey:"AIzaSyAupoqwxZ8MfLRs6cBPw99m7IKzAi3Z6Pg",authDomain:"linkedinklonv1.firebaseapp.com",databaseURL:"https://linkedinklonv1-default-rtdb.firebaseio.com",projectId:"linkedinklonv1",storageBucket:"linkedinklonv1.appspot.com",messagingSenderId:"428100516891",appId:"1:428100516891:web:c7acfbf7ccf10bc6d70cbe",measurementId:"G-P152GEPKKC"}},Bte=gA(tg.firebaseConfig),Pye=F5(Bte);var L5=qg(ng());var ci=(()=>{let e=class e{constructor(i,r,s,o,a){this.afAuth=i,this.firestore=r,this.router=s,this.toastr=o,this.storage=a,this.loading=!1}getUser(){return this.afAuth.authState}saveUserData(i,r){return this.firestore.collection("users").doc(i).set(r)}register(i,r,s){return F(this,null,function*(){this.loading=!0;try{let o=yield this.afAuth.createUserWithEmailAndPassword(i,r),a=o.user;if(a){let l=a.uid;return s.uid=l,s.email=i,yield this.firestore.collection("users").doc(l).set(s),this.toastr.success("Registration successful!","Success",{progressBar:!0,closeButton:!0}),this.router.navigate(["/home"]),o}else throw new Error("User is undefined")}catch(o){throw console.error("Error registering user: ",o),this.toastr.error("Registration failed. Please try again.","Error",{timeOut:3e3,progressBar:!0,closeButton:!0}),o}finally{this.loading=!1}})}login(i,r){return F(this,null,function*(){this.loading=!0;try{let o=(yield this.afAuth.signInWithEmailAndPassword(i,r)).user;if(o){let a=o.uid;yield this.setUserOnlineOnLogin(a),(yield this.firestore.collection("users").doc(a).get().toPromise())?.exists?(this.toastr.success("Login successful!","Success",{progressBar:!0,closeButton:!0}),this.router.navigate(["/home"])):console.log("No user data found for UID: ",a)}}catch(s){throw console.error("Error logging in user: ",s),this.toastr.error("Login failed. Please try again.","Error",{timeOut:3e3,progressBar:!0,closeButton:!0}),s}finally{this.loading=!1}})}logout(){return F(this,null,function*(){let i=yield this.afAuth.currentUser;i&&(yield this.setUserOfflineOnLogout(i.uid)),this.loading=!0;try{yield this.afAuth.signOut(),this.toastr.success("Successfully logged out","Logout",{progressBar:!0,closeButton:!0}),this.loading=!1,this.router.navigate(["/login"])}catch(r){this.toastr.error("Logout failed. Please try again.","Error",{timeOut:3e3,progressBar:!0,closeButton:!0}),this.loading=!1,console.error("Error during logout: ",r)}})}confirmAndLogout(){return L5.default.fire({title:"Are you sure?",text:"Do you really want to log out?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, log out",cancelButtonText:"No, stay here"}).then(i=>i.isConfirmed?this.logout():Promise.resolve())}uploadProfileImage(i,r,s){let o=`profileImages/${i}`,a=this.storage.ref(o);this.storage.upload(o,r).snapshotChanges().pipe(zn(()=>{a.getDownloadURL().subscribe(l=>{s.profileImage=l,this.saveUserData(i,s)})})).subscribe()}getCurrentUserDetails(){return F(this,null,function*(){let i=yield this.afAuth.currentUser;return i?(yield this.firestore.collection("users").doc(i.uid).get().toPromise())?.data():null})}checkEmailExists(i){return F(this,null,function*(){try{let r=yield this.firestore.collection("users",s=>s.where("email","==",i)).get().toPromise();return r!==void 0&&!r.empty}catch(r){return console.error("Error checking email existence:",r),!1}})}googleSignIn(){return F(this,null,function*(){try{let i=new wt.auth.GoogleAuthProvider,r=yield this.afAuth.signInWithPopup(i);if(r.user){let s=r.user,o={uid:s.uid,email:s.email,firstName:s.displayName?.split(" ")[0],lastName:s.displayName?.split(" ")[1],profileImage:s.photoURL};yield this.firestore.collection("users").doc(s.uid).set(o,{merge:!0}),this.router.navigate(["/home"])}}catch(i){console.error("Error during Google Sign-In:",i)}})}updateUserOnlineStatus(i,r){return F(this,null,function*(){let s=this.firestore.collection("users").doc(i);r?yield s.update({isOnline:!0,lastActive:new Date}):yield s.update({isOnline:!1,lastActive:new Date})})}setUserOnlineOnLogin(i){return F(this,null,function*(){this.updateUserOnlineStatus(i,!0)})}setUserOfflineOnLogout(i){return F(this,null,function*(){this.updateUserOnlineStatus(i,!1)})}};e.\u0275fac=function(r){return new(r||e)(G(Zr),G(ln),G(Vt),G(Zs),G(Mc))},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var Js=(()=>{let e=class e{constructor(i){this.firestore=i}searchUsers(i){return this.firestore.collection("users").valueChanges().pipe(se(r=>r.filter(s=>s.firstName&&s.firstName.toLowerCase().includes(i.toLowerCase())||s.lastName&&s.lastName.toLowerCase().includes(i.toLowerCase()))))}getUserName(i){return this.firestore.doc(`users/${i}`).valueChanges().pipe(se(r=>`${r.firstName} ${r.lastName}`))}getUserById(i){return this.firestore.collection("users").doc(i).valueChanges().pipe(se(r=>{if(!r)throw new Error("User not found");return r}),Jn(r=>(console.error("Error fetching user by id:",r),ce(null))))}getUsersByIds(i){return this.firestore.collection("users",r=>r.where(wt.firestore.FieldPath.documentId(),"in",i)).snapshotChanges().pipe(se(r=>r.map(s=>{let o=s.payload.doc.data(),a=s.payload.doc.id;return Q({id:a},o)})))}getUnreadConversations(i){return this.firestore.collection("conversations",r=>r.where("participants","array-contains",i).where("unread","==",!0)).valueChanges()}};e.\u0275fac=function(r){return new(r||e)(G(ln))},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var gh=(()=>{let e=class e{hide(){this._isHeaderVisible=!1}show(){this._isHeaderVisible=!0}get isHeaderVisible(){return this._isHeaderVisible}constructor(){this._isHeaderVisible=!0}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var mh=(()=>{let e=class e{constructor(i,r,s){this.firestore=i,this.userService=r,this.toastr=s}trackConnectionRequests(i){return this.firestore.collection("connectionRequests",r=>r.where("to","==",i).where("status","==","pending")).snapshotChanges().pipe(Le(r=>{let o=r.map(a=>{let l=a.payload.doc.data();return l.id=a.payload.doc.id,l}).map(a=>this.userService.getUserById(a.from).pipe(se(l=>Ee(Q({},a),{firstName:l?.firstName||"Unknown",lastName:l?.lastName||"Unknown",profileImageUrl:l?.profileImageUrl||"assets/default-profile.png"}))));return rr(o)}))}acceptConnectionRequest(i){let r=this.firestore.collection("users").doc(i.to).update({connections:wt.firestore.FieldValue.arrayUnion(i.from)}),s=this.firestore.collection("users").doc(i.from).update({connections:wt.firestore.FieldValue.arrayUnion(i.to)}),o=this.userService.getUserById(i.to).pipe(se(l=>`${l.firstName} ${l.lastName}`)),a=this.updateRequestStatus(i.id,"accepted");return Promise.all([r,s,a]).then(()=>{o.subscribe(l=>{this.firestore.collection("notifications").add({userId:i.from,message:`Your connection request to ${l} has been accepted.`,timestamp:new Date,read:!1}),this.toastr.success("Connection request accepted.")})}).catch(l=>{console.error("Error accepting request: ",l),this.toastr.error("Failed to accept the request.")})}rejectConnectionRequest(i){return this.updateRequestStatus(i.id,"rejected").then(()=>console.log("Request rejected successfully")).catch(r=>console.error("Error rejecting request: ",r))}updateRequestStatus(i,r){return this.firestore.collection("connectionRequests").doc(i).update({status:r})}getUnreadNotifications(i){return this.firestore.collection("notifications",r=>r.where("userId","==",i).where("read","==",!1).orderBy("timestamp","desc")).valueChanges({idField:"id"})}markNotificationAsRead(i){return this.firestore.collection("notifications").doc(i).update({read:!0}).then(()=>{console.log("Notification marked as read.")}).catch(r=>{console.error("Error marking notification as read:",r)})}showSuccess(i){this.toastr.success(i)}showError(i){this.toastr.error(i)}};e.\u0275fac=function(r){return new(r||e)(G(ln),G(Js),G(Zs))},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var Ute=["searchBox"],HM=()=>({exact:!0}),jte=n=>({"disabled-link":n});function zte(n,e){if(n&1){let t=Ce();E(0,"i",28),re("click",function(){ue(t);let r=U(2);return de(r.toggleNotifications())}),b()}if(n&2){let t=U(2);O("value",t.unreadRequests.length+t.unreadNotifications.length)}}function $te(n,e){if(n&1){let t=Ce();E(0,"i",29),re("click",function(){ue(t);let r=U(2);return de(r.toggleNotifications())}),b()}}function Hte(n,e){if(n&1){let t=Ce();E(0,"li",33)(1,"div",34),re("click",function(){let r=ue(t).$implicit,s=U(3);return de(s.viewProfile(r.from||r.uid))}),ie(2,"img",35),E(3,"div")(4,"h5"),L(5),b()()(),E(6,"div",36)(7,"button",37),re("click",function(){let r=ue(t).$implicit,s=U(3);return de(s.acceptRequest(r))}),L(8," Connect "),b(),E(9,"button",38),re("click",function(){let r=ue(t).$implicit,s=U(3);return de(s.rejectRequest(r))}),L(10," Reject "),b()()()}if(n&2){let t=e.$implicit;T(),_C("title","Click to visit ",t.firstName,"'s profile"),T(),O("src",t.profileImageUrl||"path-to-default-profile-image",Gn),T(3),$r("",t.firstName," ",t.lastName,"")}}function Gte(n,e){if(n&1&&(E(0,"div")(1,"h3",30),L(2,"Connection Requests"),b(),E(3,"ul",31),J(4,Hte,11,5,"li",32),b()()),n&2){let t=U(2);T(4),O("ngForOf",t.unreadRequests)}}function qte(n,e){if(n&1){let t=Ce();E(0,"li",33)(1,"div")(2,"p"),L(3),b(),E(4,"button",39),re("click",function(){let r=ue(t).$implicit,s=U(3);return de(s.markNotificationAsRead(r.id))}),L(5," Mark as read "),b()()()}if(n&2){let t=e.$implicit;T(3),gt(t.message)}}function Wte(n,e){if(n&1&&(E(0,"div")(1,"h3",30),L(2,"Notifications"),b(),E(3,"ul",31),J(4,qte,6,1,"li",32),b()()),n&2){let t=U(2);T(4),O("ngForOf",t.unreadNotifications)}}function Kte(n,e){n&1&&(E(0,"div")(1,"p"),L(2,"No new notifications or requests."),b()())}function Qte(n,e){if(n&1){let t=Ce();E(0,"a",42),re("click",function(){let r=ue(t).$implicit,s=U(3);return de(s.viewProfile(r.uid))}),ie(1,"img",43),L(2),b()}if(n&2){let t=e.$implicit;T(),O("src",t.profileImageUrl||"path-to-default-profile-image",Gn),T(),$r(" ",t.firstName," ",t.lastName," ")}}function Zte(n,e){if(n&1&&(E(0,"div",40),J(1,Qte,3,3,"a",41),b()),n&2){let t=U(2);T(),O("ngForOf",t.searchResults)}}function Yte(n,e){n&1&&ie(0,"span",47)}function Jte(n,e){if(n&1){let t=Ce();E(0,"li",9)(1,"a",44),re("click",function(){ue(t);let r=U(2);return de(!r.authService.loading&&r.logout())}),ie(2,"ion-icon",45),J(3,Yte,1,0,"span",46),L(4," Logout "),b()()}if(n&2){let t=U(2);T(),O("ngClass",qn(2,jte,t.authService.loading)),T(2),O("ngIf",t.authService.loading)}}function Xte(n,e){n&1&&ie(0,"span",47)}function ene(n,e){if(n&1&&(E(0,"li",9)(1,"a",48),ie(2,"ion-icon",49),J(3,Xte,1,0,"span",46),L(4," Login "),b()()),n&2){let t=U(2);T(3),O("ngIf",t.loading)}}function tne(n,e){if(n&1){let t=Ce();E(0,"nav",2)(1,"div",3)(2,"a",4),L(3," LinkedIn Clone "),b(),E(4,"button",5),ie(5,"span",6),b(),E(6,"div",7)(7,"ul",8)(8,"li",9)(9,"a",10),ie(10,"ion-icon",11),L(11," Home "),b()(),E(12,"li",9)(13,"a",12),ie(14,"ion-icon",13),L(15," Profile "),b()(),E(16,"li",9)(17,"a",14),ie(18,"ion-icon",15),L(19," Search "),b()(),E(20,"li",9)(21,"a",16),ie(22,"ion-icon",17),L(23," Chat "),b()(),E(24,"li",18),J(25,zte,1,1,"i",19)(26,$te,1,0,"i",20),E(27,"p-dialog",21),pr("visibleChange",function(r){ue(t);let s=U();return Hr(s.showDialog,r)||(s.showDialog=r),de(r)}),J(28,Gte,5,1,"div",22)(29,Wte,5,1,"div",22)(30,Kte,3,0,"div",22),b()()(),E(31,"form",23)(32,"input",24),pr("ngModelChange",function(r){ue(t);let s=U();return Hr(s.searchQuery,r)||(s.searchQuery=r),de(r)}),re("input",function(){ue(t);let r=U();return de(r.searchUsers())}),b(),J(33,Zte,2,1,"div",25),b(),E(34,"ul",26),J(35,Jte,5,4,"li",27),ii(36,"async"),J(37,ene,5,1,"ng-template",null,0,Wr),b()()()()}if(n&2){let t=zr(38),i=U();T(9),O("routerLinkActiveOptions",Gr(17,HM)),T(4),O("routerLinkActiveOptions",Gr(18,HM)),T(4),O("routerLinkActiveOptions",Gr(19,HM)),T(8),O("ngIf",i.unreadRequests.length+i.unreadNotifications.length>0),T(),O("ngIf",i.unreadRequests.length+i.unreadNotifications.length===0),T(),fr("visible",i.showDialog),O("modal",!0)("dismissableMask",!0),T(),O("ngIf",i.unreadRequests.length>0),T(),O("ngIf",i.unreadNotifications.length>0),T(),O("ngIf",i.unreadRequests.length===0&&i.unreadNotifications.length===0),T(2),fr("ngModel",i.searchQuery),T(),O("ngIf",i.searchResults.length>0),T(2),O("ngIf",qr(36,15,i.authService.getUser()))("ngIfElse",t)}}var B5=(()=>{let e=class e{constructor(i,r,s,o,a){this.authService=i,this.userService=r,this.router=s,this.headerService=o,this.notificationService=a,this.searchQuery="",this.searchResults=[],this.dropdownStyle={},this.loading=!1,this.unreadRequests=[],this.unreadNotifications=[],this.notificationsVisible=!1,this.showDialog=!1,this.userId=""}ngOnInit(){this.authService.getUser().subscribe(i=>{i&&(this.userId=i.uid,this.notificationService.trackConnectionRequests(this.userId).subscribe(r=>{this.unreadRequests=r,console.log("Unread Requests:",this.unreadRequests)}),this.loadUnreadRequests(i.uid),this.loadUnreadNotifications(i.uid))})}searchUsers(){if(this.searchQuery.trim()===""){this.searchResults=[];return}this.userService.searchUsers(this.searchQuery).subscribe(i=>{this.searchResults=i,this.positionDropdown()})}viewProfile(i){i&&(this.router.navigate(["/profile",i]),this.closeSearchDialog())}closeSearchDialog(){this.showDialog=!1,this.searchResults=[],this.searchQuery=""}logout(){this.authService.confirmAndLogout().finally(()=>{this.loading=!1})}positionDropdown(){let i=this.searchBox.nativeElement.getBoundingClientRect();this.dropdownStyle={top:`${i.bottom+window.scrollY}px`,left:`${i.left}px`,width:`${i.width}px`}}toggleNotifications(){this.showDialog=!this.showDialog}loadUnreadRequests(i){this.notificationService.trackConnectionRequests(i).subscribe(r=>{this.unreadRequests=r})}loadUnreadNotifications(i){this.notificationService.getUnreadNotifications(i).subscribe(r=>{this.unreadNotifications=r})}acceptRequest(i){this.notificationService.acceptConnectionRequest(i).then(()=>{this.unreadRequests=this.unreadRequests.filter(r=>r.id!==i.id)})}rejectRequest(i){this.notificationService.rejectConnectionRequest(i).then(()=>{this.unreadRequests=this.unreadRequests.filter(r=>r.id!==i.id)})}markNotificationAsRead(i){this.notificationService.markNotificationAsRead(i).then(()=>{this.unreadNotifications=this.unreadNotifications.filter(r=>r.id!==i)})}};e.\u0275fac=function(r){return new(r||e)(B(ci),B(Js),B(Vt),B(gh),B(mh))},e.\u0275cmp=Oe({type:e,selectors:[["app-header"]],viewQuery:function(r,s){if(r&1&&Ms(Ute,5),r&2){let o;Rn(o=On())&&(s.searchBox=o.first)}},decls:1,vars:1,consts:[["loggedOut",""],["class","navbar navbar-expand-lg navbar-light bg-light",4,"ngIf"],[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],[1,"container-fluid"],["routerLink","/home",1,"navbar-brand","d-flex","align-items-center"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["routerLink","/home","routerLinkActive","active",1,"nav-link",3,"routerLinkActiveOptions"],["name","home-outline"],["routerLink","/profile","routerLinkActive","active",1,"nav-link",3,"routerLinkActiveOptions"],["name","person-outline"],["routerLink","/search","routerLinkActive","active",1,"nav-link",3,"routerLinkActiveOptions"],["name","search-outline"],["routerLink","/chat","routerLinkActive","active",1,"nav-link","position-relative"],["name","chatbubble-outline"],[1,"nav-item","position-relative"],["class","pi pi-bell notification-icon","pBadge","",3,"value","click",4,"ngIf"],["class","pi pi-bell notification-icon",3,"click",4,"ngIf"],["header","Notifications",1,"custom-dialog",3,"visibleChange","visible","modal","dismissableMask"],[4,"ngIf"],[1,"d-flex","position-relative"],["type","search","placeholder","Search","aria-label","Search","name","searchQuery",1,"form-control","me-2",3,"ngModelChange","input","ngModel"],["class","dropdown-menu show search-dropdown",4,"ngIf"],[1,"navbar-nav","ml-auto"],["class","nav-item",4,"ngIf","ngIfElse"],["pBadge","",1,"pi","pi-bell","notification-icon",3,"click","value"],[1,"pi","pi-bell","notification-icon",3,"click"],[1,"section-header"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],[1,"d-flex","align-items-center","clickable",3,"click","title"],["alt","Profile Image",1,"profile-image",3,"src"],[1,"actions"],[1,"btn","btn-outline-primary","me-2",3,"click"],[1,"btn","btn-outline-danger",3,"click"],[1,"btn-mark-read",3,"click"],[1,"dropdown-menu","show","search-dropdown"],["class","dropdown-item",3,"click",4,"ngFor","ngForOf"],[1,"dropdown-item",3,"click"],["alt","Profile Image",1,"rounded-circle","me-2",3,"src"],[1,"nav-link","logout-link",3,"click","ngClass"],["name","log-out-outline"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],["routerLink","/login",1,"nav-link"],["name","log-in-outline"]],template:function(r,s){r&1&&J(0,tne,39,20,"nav",1),r&2&&O("ngIf",s.headerService.isHeaderVisible)},dependencies:[Oi,xs,Ft,Jv,d3,Pi,Pn,ai,ki,Lo,Rc,r5,Q3,Ea],styles:[".navbar[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1000;background-color:#fff;border-bottom:1px solid #ddd;padding:10px 20px;box-shadow:0 2px 4px #0000000d}.navbar-brand[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;display:flex;align-items:center}.navbar-brand[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:2rem;color:#0077b5;margin-right:8px}.navbar-toggler[_ngcontent-%COMP%]{border:none}.navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{margin-left:20px}.navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:500;color:#333;padding:10px;border-radius:5px;position:relative;transition:all .3s ease;display:flex;align-items:center}.navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-right:5px;font-size:1.4rem}.navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{background-color:#f1f1f1;color:#0077b5;transform:translateY(-2px)}.navbar-nav[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#0077b5;background-color:#0077b51a;font-weight:700}.badge[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff;font-size:.8rem;padding:5px 8px;position:absolute;top:-5px;right:-10px}.notification-icon[_ngcontent-%COMP%]{font-size:1.8rem;color:#0077b5;cursor:pointer;position:relative;transform:translateY(9px)}.notification-icon[_ngcontent-%COMP%]:hover{color:#005082}form.d-flex[_ngcontent-%COMP%]{position:relative;width:350px}form.d-flex[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-radius:20px;padding:8px 40px 8px 15px;border:1px solid #ccc;transition:border .3s ease}form.d-flex[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#0077b5;box-shadow:0 0 5px #0077b54d;outline:none}.search-dropdown[_ngcontent-%COMP%]{position:absolute;top:45px;width:100%;z-index:1000;background-color:#fff;box-shadow:0 8px 16px #0000001a;border-radius:10px;max-height:200px;overflow-y:auto}.search-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{padding:10px;display:flex;align-items:center;transition:background-color .2s ease}.search-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}.search-dropdown[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;margin-right:10px}.logout-link[_ngcontent-%COMP%]{font-size:1.2rem;display:flex;align-items:center;cursor:pointer}.logout-link[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.4rem;margin-right:5px}.logout-link[_ngcontent-%COMP%]:hover{color:#dc3545}.custom-dialog[_ngcontent-%COMP%]   .p-dialog[_ngcontent-%COMP%]{width:70%;max-width:1100px;padding:0}.custom-dialog[_ngcontent-%COMP%]   .p-dialog-content[_ngcontent-%COMP%]{padding:40px;background-color:#fff;border-radius:10px;box-shadow:0 0 15px #0000001a;animation:_ngcontent-%COMP%_fadeIn .6s ease-in-out;font-size:2rem}.custom-dialog[_ngcontent-%COMP%]   .p-dialog-header[_ngcontent-%COMP%]{font-size:3rem;background-color:#0077b5;color:#fff;padding:25px}.custom-dialog[_ngcontent-%COMP%]   img.profile-image[_ngcontent-%COMP%]{margin-right:20px;width:80px;height:80px;border-radius:50%}.custom-dialog[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;margin-bottom:10px}.custom-dialog[_ngcontent-%COMP%]   h3.section-header[_ngcontent-%COMP%]{font-size:2.8rem;margin-bottom:20px}.custom-dialog[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background:#fff;border-radius:10px;margin-bottom:15px;padding:20px;box-shadow:0 0 10px #0000000d}.custom-dialog[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 3px 15px #0000001a}.custom-dialog[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:10px}.custom-dialog[_ngcontent-%COMP%]   .btn-outline-primary[_ngcontent-%COMP%]{border-color:#007bff;color:#007bff;background-color:transparent;font-size:1.6rem;transition:background-color .3s ease-in-out,color .3s ease-in-out}.custom-dialog[_ngcontent-%COMP%]   .btn-outline-primary[_ngcontent-%COMP%]:hover{background-color:#007bff;color:#fff}.custom-dialog[_ngcontent-%COMP%]   .btn-outline-danger[_ngcontent-%COMP%]{border-color:red;color:red}.custom-dialog[_ngcontent-%COMP%]   .btn-outline-danger[_ngcontent-%COMP%]:hover{background-color:#ff0101;color:#fff}.custom-dialog[_ngcontent-%COMP%]   .btn-mark-read[_ngcontent-%COMP%]{display:inline-block;background-color:#007bff;color:#fff;padding:15px 30px;border:none;border-radius:5px;cursor:pointer;font-size:1.6rem;margin-top:15px}.custom-dialog[_ngcontent-%COMP%]   .btn-mark-read[_ngcontent-%COMP%]:hover{background-color:#0056b3}.custom-dialog[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:10px;color:#333}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}"]});let n=e;return n})();var U5=(()=>{let e=class e{constructor(i,r){this.authService=i,this.router=r,this.title="LinkedInCloneV1",this.idleTime=0,this.maxIdleTime=15*60*1e3}ngOnInit(){this.resetTimer(),this.timeout=setInterval(()=>{this.idleTime+=1e3,this.idleTime>=this.maxIdleTime&&this.logoutUser()},1e3)}onMouseMove(){this.resetTimer()}onKeyDown(){this.resetTimer()}onClick(){this.resetTimer()}unloadHandler(i){this.setUserOfflineBeforeUnload()}resetTimer(){this.idleTime=0}logoutUser(){clearInterval(this.timeout),this.authService.logout(),this.router.navigate(["/login"]),alert("You have been logged out due to inactivity.")}setUserOfflineBeforeUnload(){return F(this,null,function*(){let i=yield this.authService.getCurrentUserDetails();i&&i.uid&&(yield this.authService.setUserOfflineOnLogout(i.uid))})}};e.\u0275fac=function(r){return new(r||e)(B(ci),B(Vt))},e.\u0275cmp=Oe({type:e,selectors:[["app-root"]],hostBindings:function(r,s){r&1&&re("mousemove",function(){return s.onMouseMove()},!1,uf)("keydown",function(){return s.onKeyDown()},!1,uf)("click",function(){return s.onClick()},!1,uf)("beforeunload",function(a){return s.unloadHandler(a)},!1,uf)},decls:2,vars:0,template:function(r,s){r&1&&ie(0,"app-header")(1,"router-outlet")},dependencies:[lM,B5]});let n=e;return n})();var yh=(()=>{let e=class e{constructor(i,r){this.authService=i,this.router=r}canActivate(i,r){return this.authService.getUser().pipe(tn(1),se(s=>s?!0:this.router.createUrlTree(["(login"])))}};e.\u0275fac=function(r){return new(r||e)(G(ci),G(Vt))},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var cl=(()=>{let e=class e{constructor(i){this.http=i,this.apiKey="AIzaSyCp371P2OyvJ0yDNjKIabiS-C-RaTvsLD4"}getCoordinates(i){let r=`https://maps.googleapis.com/maps/api/geocode/json?address=${encodeURIComponent(i)}&key=${this.apiKey}`;return this.http.get(r).pipe(se(s=>{if(console.log("Geocoding API response:",s),s.status==="OK"&&s.results&&s.results.length>0)return s.results[0].geometry.location;throw new Error("Location not found")}),Jn(s=>(console.error("Error fetching coordinates:",s),ce({lat:0,lng:0}))))}getReverseGeocode(i,r){let s=`https://maps.googleapis.com/maps/api/geocode/json?latlng=${i},${r}&key=${this.apiKey}`;return this.http.get(s).pipe(se(o=>{if(console.log("Reverse Geocoding API response:",o),o.status==="OK"&&o.results&&o.results.length>0){let a=o.results[0],l=a.address_components.find(d=>d.types.includes("locality")),c=a.address_components.find(d=>d.types.includes("administrative_area_level_2"));return{formatted_address:a.formatted_address,locality:l?l.long_name:null,administrative_area_level_2:c?c.long_name:null}}throw new Error("Address not found")}))}};e.\u0275fac=function(r){return new(r||e)(G(WC))},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var qM=n=>({"is-invalid":n});function ine(n,e){n&1&&(E(0,"div",33)(1,"div",34)(2,"span",35),L(3,"Loading..."),b()()())}function rne(n,e){n&1&&(E(0,"div",48),L(1," First Name is required. "),b())}function sne(n,e){n&1&&(E(0,"div",48),L(1," Last Name is required. "),b())}function one(n,e){n&1&&(E(0,"div"),L(1," Contact is required. "),b())}function ane(n,e){n&1&&(E(0,"div"),L(1," Only numbers and + are allowed. "),b())}function lne(n,e){if(n&1&&(E(0,"div",48),J(1,one,2,0,"div",9)(2,ane,2,0,"div",9),b()),n&2){let t,i,r=U(2);T(),O("ngIf",(t=r.authForm.get("contact"))==null||t.errors==null?null:t.errors.required),T(),O("ngIf",(i=r.authForm.get("contact"))==null||i.errors==null?null:i.errors.pattern)}}function cne(n,e){n&1&&(E(0,"div",48),L(1," Address is required. "),b())}function une(n,e){if(n&1){let t=Ce();E(0,"div")(1,"div",10)(2,"input",36),re("change",function(r){ue(t);let s=U();return de(s.onFileSelected(r))}),b(),E(3,"label",37),L(4,"Profile Image"),b()(),E(5,"div",10),ie(6,"input",38),E(7,"label",39),L(8,"First Name"),b(),J(9,rne,2,0,"div",13),b(),E(10,"div",10),ie(11,"input",40),E(12,"label",41),L(13,"Last Name"),b(),J(14,sne,2,0,"div",13),b(),E(15,"div",10),ie(16,"input",42),E(17,"label",43),L(18,"Contact"),b(),J(19,lne,3,2,"div",13),b(),E(20,"div",10),ie(21,"input",44),E(22,"label",45),L(23,"Address"),b(),J(24,cne,2,0,"div",13),b(),E(25,"div",10),ie(26,"textarea",46),E(27,"label",47),L(28,"Bio"),b()()()}if(n&2){let t,i,r,s,o=U();T(9),O("ngIf",((t=o.authForm.get("firstName"))==null?null:t.invalid)&&((t=o.authForm.get("firstName"))==null?null:t.touched)),T(5),O("ngIf",((i=o.authForm.get("lastName"))==null?null:i.invalid)&&((i=o.authForm.get("lastName"))==null?null:i.touched)),T(5),O("ngIf",((r=o.authForm.get("contact"))==null?null:r.invalid)&&((r=o.authForm.get("contact"))==null?null:r.touched)),T(5),O("ngIf",((s=o.authForm.get("address"))==null?null:s.invalid)&&((s=o.authForm.get("address"))==null?null:s.touched))}}function dne(n,e){n&1&&(E(0,"div"),L(1," Email is required. "),b())}function hne(n,e){n&1&&(E(0,"div"),L(1," Please enter a valid email address. "),b())}function fne(n,e){n&1&&(E(0,"div"),L(1," This email is already in use. "),b())}function pne(n,e){if(n&1&&(E(0,"div",48),J(1,dne,2,0,"div",9)(2,hne,2,0,"div",9)(3,fne,2,0,"div",9),b()),n&2){let t,i,r,s=U();T(),O("ngIf",(t=s.authForm.get("email"))==null||t.errors==null?null:t.errors.required),T(),O("ngIf",(i=s.authForm.get("email"))==null||i.errors==null?null:i.errors.email),T(),O("ngIf",(r=s.authForm.get("email"))==null||r.errors==null?null:r.errors.emailExists)}}function gne(n,e){n&1&&(E(0,"div"),L(1," Password is required. "),b())}function mne(n,e){n&1&&(E(0,"div"),L(1," The password you provided must have at least 6 characters. "),b())}function yne(n,e){if(n&1&&(E(0,"div",48),J(1,gne,2,0,"div",9)(2,mne,2,0,"div",9),b()),n&2){let t,i,r=U();T(),O("ngIf",(t=r.authForm.get("password"))==null||t.errors==null?null:t.errors.required),T(),O("ngIf",(i=r.authForm.get("password"))==null||i.errors==null?null:i.errors.minlength)}}function _ne(n,e){if(n&1){let t=Ce();E(0,"ion-icon",49),re("click",function(){ue(t);let r=U();return de(r.togglePasswordVisibility())}),b()}}function vne(n,e){if(n&1){let t=Ce();E(0,"ion-icon",50),re("click",function(){ue(t);let r=U();return de(r.togglePasswordVisibility())}),b()}}function wne(n,e){n&1&&(E(0,"div"),L(1," Confirm Password is required. "),b())}function bne(n,e){n&1&&(E(0,"div"),L(1," Passwords do not match. "),b())}function Cne(n,e){if(n&1&&(E(0,"div",48),J(1,wne,2,0,"div",9)(2,bne,2,0,"div",9),b()),n&2){let t,i,r=U(2);T(),O("ngIf",(t=r.authForm.get("confirmPassword"))==null||t.errors==null?null:t.errors.required),T(),O("ngIf",(i=r.authForm.get("confirmPassword"))==null||i.errors==null?null:i.errors.isMatching)}}function Ene(n,e){if(n&1&&(E(0,"div",10),ie(1,"input",51),E(2,"label",52),L(3,"Confirm Password"),b(),J(4,Cne,3,2,"div",13),b()),n&2){let t,i,r=U();T(),O("ngClass",qn(2,qM,((t=r.authForm.get("confirmPassword"))==null?null:t.invalid)&&((t=r.authForm.get("confirmPassword"))==null?null:t.touched))),T(3),O("ngIf",((i=r.authForm.get("confirmPassword"))==null?null:i.invalid)&&((i=r.authForm.get("confirmPassword"))==null?null:i.touched))}}function Ine(n,e){if(n&1&&(E(0,"div",48),L(1),b()),n&2){let t=U();T(),ot(" ",t.loginError," ")}}var WM=(()=>{let e=class e{constructor(i,r,s,o,a){this.fb=i,this.authService=r,this.router=s,this.geocodingService=o,this.headerService=a,this.isLoginMode=!0,this.selectedFile=null,this.passwordFieldType="password",this.loginError="",this.emailExists=!1}ngOnInit(){this.headerService.hide(),this.initializeForm()}ngOnDestroy(){this.headerService.show()}matchValues(i){return r=>{let o=r.parent?.controls[i];return o&&r.value!==o.value?{isMatching:!1}:null}}onSubmit(){if(this.authForm.invalid&&!this.isLoginMode){this.authForm.markAllAsTouched();return}let{email:i,password:r}=this.authForm.value;this.isLoginMode?this.handleLogin(i,r):this.authService.checkEmailExists(i).then(s=>{s?(this.emailExists=!0,this.authForm.get("email")?.setErrors({emailExists:!0})):(this.emailExists=!1,this.registerUser())}).catch(s=>{console.error("Error during email check: ",s)})}initializeForm(){this.authForm=this.fb.group({firstName:["",xt.required],lastName:["",xt.required],email:["",[xt.required,xt.email]],password:["",[xt.required,xt.minLength(6)]],confirmPassword:["",[xt.required,this.matchValues("password")]],contact:["",[xt.required,xt.pattern(/^[\d\+]+$/)]],address:["",xt.required],education:["",xt.required],skills:["",xt.required],bio:[""],profileImage:[""]})}handleLogin(i,r){this.authService.login(i,r).then(()=>this.router.navigate(["/home"])).catch(s=>{this.loginError="Wrong email or password. Try again or create an account.",console.error("Error during login: ",s)})}registerUser(){let o=this.authForm.value,{email:i,password:r}=o,s=Bh(o,["email","password"]);this.authService.register(i,r,s).then(a=>{a&&a.user&&(this.selectedFile?this.authService.uploadProfileImage(a.user.uid,this.selectedFile,s):this.saveUserData(a.user.uid,s))}).catch(a=>{a.code==="auth/email-already-in-use"&&this.authForm.get("email")?.setErrors({emailExists:!0}),console.error("Error during registration: ",a)})}saveUserData(i,r){this.geocodingService.getCoordinates(r.address).subscribe(s=>{r.position=s,this.authService.saveUserData(i,r).then(()=>this.router.navigate(["/home"])).catch(o=>console.error("Error saving user data:",o))},s=>console.error("Error getting coordinates for user address:",s))}toggleMode(){this.isLoginMode=!this.isLoginMode}togglePasswordVisibility(){this.passwordFieldType=this.passwordFieldType==="password"?"text":"password"}onGoogleSignIn(){this.authService.googleSignIn().then(()=>console.log("Google Sign-In successful")).catch(i=>console.error("Google Sign-In error:",i))}onFileSelected(i){this.selectedFile=i.target.files[0]}};e.\u0275fac=function(r){return new(r||e)(B(el),B(ci),B(Vt),B(cl),B(gh))},e.\u0275cmp=Oe({type:e,selectors:[["app-auth"]],decls:44,vars:18,consts:[[1,"container","mt-5"],["class","loader",4,"ngIf"],[1,"row","justify-content-center"],[1,"col","md-4"],[1,"card","shadow-sm","p-4"],[1,"card-body"],[1,"navbar-brand","d-flex","justify-content-center","align-items-center","mb-3"],[1,"text-center"],[3,"ngSubmit","formGroup"],[4,"ngIf"],[1,"form-group"],["type","email","id","email","formControlName","email","placeholder"," ",1,"form-control",3,"ngClass"],["for","email",1,"form-label"],["class","text-danger",4,"ngIf"],[1,"form-group","position-relative","input-with-icon"],["id","password","formControlName","password","placeholder"," ",1,"form-control",3,"type","ngClass"],["for","password",1,"form-label"],["name","eye-outline","class","password-icon",3,"click",4,"ngIf"],["name","eye-off-outline","class","password-icon",3,"click",4,"ngIf"],["class","form-group",4,"ngIf"],["type","submit",1,"btn","btn-primary","w-100"],["type","button",1,"btn","btn-outline-secondary","w-100",3,"click"],[1,"btn","btn-outline-secondary","w-100",3,"click"],[1,"gsi-material-button-state"],[1,"gsi-material-button-content-wrapper","d-flex","align-items-center","justify-content-center"],[1,"gsi-material-button-icon"],["version","1.1","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 48 48",0,"xmlns","xlink","http://www.w3.org/1999/xlink",2,"display","block","width","24px","height","24px"],["fill","#EA4335","d","M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"],["fill","#4285F4","d","M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"],["fill","#FBBC05","d","M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"],["fill","#34A853","d","M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"],["fill","none","d","M0 0h48v48H0z"],[1,"gsi-material-button-contents","ml-2"],[1,"loader"],["role","status",1,"spinner-border"],[1,"visually-hidden"],["type","file","id","profileImage",1,"form-control",3,"change"],["for","profileImage",1,"form-label"],["type","text","id","firstname","formControlName","firstName","placeholder"," ",1,"form-control"],["for","firstname",1,"form-label"],["type","text","id","lastname","formControlName","lastName","placeholder"," ",1,"form-control"],["for","lastname",1,"form-label"],["type","text","id","contact","formControlName","contact","placeholder"," ",1,"form-control"],["for","contact",1,"form-label"],["type","text","id","address","formControlName","address","placeholder"," ",1,"form-control"],["for","address",1,"form-label"],["id","bio","formControlName","bio","placeholder"," ",1,"form-control"],["for","bio",1,"form-label"],[1,"text-danger"],["name","eye-outline",1,"password-icon",3,"click"],["name","eye-off-outline",1,"password-icon",3,"click"],["type","password","id","confirmPassword","formControlName","confirmPassword","placeholder"," ",1,"form-control",3,"ngClass"],["for","confirmPassword",1,"form-label"]],template:function(r,s){if(r&1&&(E(0,"div",0),J(1,ine,4,0,"div",1),E(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"a",6),L(7," LinkedIn Clone "),b(),E(8,"h6",7),L(9,"Stay updated on your professional world"),b(),E(10,"form",8),re("ngSubmit",function(){return s.onSubmit()}),J(11,une,29,4,"div",9),E(12,"div",10),ie(13,"input",11),E(14,"label",12),L(15,"Email"),b(),J(16,pne,4,3,"div",13),b(),E(17,"div",14),ie(18,"input",15),E(19,"label",16),L(20,"Password"),b(),J(21,yne,3,2,"div",13)(22,_ne,1,0,"ion-icon",17)(23,vne,1,0,"ion-icon",18),b(),J(24,Ene,5,4,"div",19)(25,Ine,2,1,"div",13),E(26,"button",20),L(27),b(),ie(28,"hr"),E(29,"button",21),re("click",function(){return s.toggleMode()}),L(30),b(),ie(31,"hr"),E(32,"button",22),re("click",function(){return s.onGoogleSignIn()}),ie(33,"div",23),E(34,"div",24)(35,"div",25),Ds(),E(36,"svg",26),ie(37,"path",27)(38,"path",28)(39,"path",29)(40,"path",30)(41,"path",31),b()(),BR(),E(42,"span",32),L(43,"Continue with Google"),b()()()()()()()()()),r&2){let o,a,l,c;T(),O("ngIf",s.authService.loading),T(9),O("formGroup",s.authForm),T(),O("ngIf",!s.isLoginMode),T(2),O("ngClass",qn(14,qM,((o=s.authForm.get("email"))==null?null:o.invalid)&&((o=s.authForm.get("email"))==null?null:o.touched))),T(3),O("ngIf",((a=s.authForm.get("email"))==null?null:a.invalid)&&((a=s.authForm.get("email"))==null?null:a.touched)),T(2),O("type",s.passwordFieldType)("ngClass",qn(16,qM,((l=s.authForm.get("password"))==null?null:l.invalid)&&((l=s.authForm.get("password"))==null?null:l.touched))),T(3),O("ngIf",((c=s.authForm.get("password"))==null?null:c.invalid)&&((c=s.authForm.get("password"))==null?null:c.touched)),T(),O("ngIf",s.passwordFieldType==="password"),T(),O("ngIf",s.passwordFieldType==="text"),T(),O("ngIf",!s.isLoginMode),T(),O("ngIf",s.loginError&&s.isLoginMode),T(2),ot(" ",s.isLoginMode?"Login":"Register"," "),T(3),ot(" ",s.isLoginMode?"Join Now":"Login"," ")}},dependencies:[Oi,Ft,Pi,Pn,ai,ki,Vo,Bo],styles:[".card[_ngcontent-%COMP%]{max-width:500px;margin:0 auto;border-radius:15px;box-shadow:0 0 20px #0000001a;padding:30px;background:#fff}.linkedin-logo[_ngcontent-%COMP%]{max-width:150px;margin:0 auto 20px;display:block;animation:fadeIn 1s ease-in-out}.navbar-brand[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;display:flex;align-items:center}.form-control[_ngcontent-%COMP%]{position:relative;padding:10px;box-shadow:0 0 20px #8d8d8d4d;border-color:#0404044d}.form-label[_ngcontent-%COMP%]{font-size:16px;margin-bottom:8px}.btn-primary[_ngcontent-%COMP%], .btn-outline-secondary[_ngcontent-%COMP%]{font-size:18px;padding:12px 25px;border-radius:25px}.password-icon[_ngcontent-%COMP%]{position:absolute;font-size:1.5em;top:50%;right:30px;transform:translateY(-115%);cursor:pointer;z-index:30}@media (max-width: 768px){.card[_ngcontent-%COMP%]{padding:20px}.linkedin-logo[_ngcontent-%COMP%]{max-width:120px}.form-control[_ngcontent-%COMP%]{font-size:14px;padding:10px}.btn-primary[_ngcontent-%COMP%], .btn-outline-secondary[_ngcontent-%COMP%]{font-size:16px;padding:10px 20px}}.loader[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#fffc;display:flex;justify-content:center;align-items:center;z-index:1000}.spinner-border[_ngcontent-%COMP%]{width:2.5rem;height:2.5rem;border-width:.2rem}"]});let n=e;return n})();var _h=qg(ng());var j5=(()=>{let e=class e{constructor(i){this.firestore=i}getConversations(i){return this.firestore.collection("conversations",r=>r.where("participants","array-contains",i)).snapshotChanges().pipe(Le(r=>{let s=r.map(a=>{let l=a.payload.doc.data(),c=a.payload.doc.id;return l.lastMessage&&l.lastMessage.timestamp&&l.lastMessage.timestamp.toDate&&(l.lastMessage.timestamp=l.lastMessage.timestamp.toDate()),Ee(Q({},l),{id:c})}),o=s.map(a=>this.firestore.collection(`conversations/${a.id}/messages`,l=>l.where("senderId","!=",i).where("read","==",!1)).valueChanges().pipe(se(l=>({conversationId:a.id,count:l.length}))));return rr(o).pipe(se(a=>(a.forEach(l=>{let c=s.find(d=>d.id===l.conversationId);c&&(c.unreadCount=l.count)}),s)))}))}createOrGetConversation(i){let r=i[0],s=i[1];return this.firestore.collection("conversations",o=>o.where("participants","array-contains",r)).get().toPromise().then(o=>{let a=o?.docs.find(l=>l.data().participants.includes(s));if(a)return a.id;{let l={participants:i,lastMessage:{content:"",timestamp:new Date,senderId:""}};return this.firestore.collection("conversations").add(l).then(c=>c.id)}})}deleteConversation(i){return this.firestore.collection("conversations").doc(i).delete().catch(r=>{throw console.error("Error deleting conversation: ",r),r})}getMessages(i){return this.firestore.collection(`conversations/${i}/messages`,r=>r.orderBy("timestamp")).valueChanges().pipe(se(r=>r.map(s=>Ee(Q({},s),{timestamp:s.timestamp.toDate()}))))}sendMessage(i,r,s){let o={content:r,timestamp:new Date,senderId:s,read:!1};this.firestore.collection(`conversations/${i}/messages`).add(o),this.firestore.collection("conversations").doc(i).update({lastMessage:o})}markMessagesAsRead(i,r){this.firestore.collection(`conversations/${i}/messages`,s=>s.where("senderId","!=",r).where("read","==",!1)).get().subscribe(s=>{s.forEach(o=>{this.firestore.collection(`conversations/${i}/messages`).doc(o.id).update({read:!0})})})}sendTypingStatus(i,r){this.firestore.collection(`conversations/${i}/typingStatus`).doc(r).set({isTyping:!0,timestamp:new Date}),setTimeout(()=>{this.clearTypingStatus(i,r).catch(s=>{console.error("Error clearing typing status:",s)})},3e3)}clearTypingStatus(i,r){return this.firestore.collection(`conversations/${i}/typingStatus`).doc(r).delete()}getTypingStatus(i){return this.firestore.collection(`conversations/${i}/typingStatus`).snapshotChanges().pipe(se(r=>r.map(s=>{let o=s.payload.doc.data(),a=s.payload.doc.id;return Q({senderId:a},o)})))}getUserOnlineStatus(i){return this.firestore.collection("users").doc(i).valueChanges().pipe(se(r=>!!r?.isOnline))}getLastActive(i){return this.firestore.collection("users").doc(i).valueChanges().pipe(se(r=>r.lastActive?r.lastActive.toDate():null))}};e.\u0275fac=function(r){return new(r||e)(G(ln))},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var Tne=["messageList"],Sne=n=>({unread:n}),Mne=(n,e)=>({sent:n,received:e});function Ane(n,e){if(n&1&&(E(0,"div",20),L(1),b()),n&2){let t=U().$implicit;T(),ot(" ",t.unreadCount," ")}}function xne(n,e){if(n&1){let t=Ce();E(0,"li",9),re("click",function(){let r=ue(t).$implicit,s=U();return de(s.selectConversation(r))}),E(1,"div",10),ie(2,"img",11),E(3,"div",12)(4,"div",13),L(5),ie(6,"span",14),b(),E(7,"div",15),L(8),b()()(),E(9,"div",16)(10,"div",17),L(11),ii(12,"date"),b(),J(13,Ane,2,1,"div",18),E(14,"i",19),re("click",function(r){let s=ue(t).$implicit,o=U();return de(o.confirmDelete(s,r))}),b()()()}if(n&2){let t=e.$implicit,i=U();O("ngClass",qn(10,Sne,t.unread)),T(2),O("src",i.getParticipantProfileImage(t),Gn),T(3),ot(" ",i.getParticipantName(t)," "),T(),O("ngClass",t.isOnline?"online":"offline"),T(2),ot(" ",t.lastMessage.content," "),T(3),ot(" ",Yl(12,7,t.lastMessage.timestamp,"MMM d")," "),T(2),O("ngIf",t.unreadCount)}}function Rne(n,e){n&1&&(E(0,"div",37),ie(1,"i",38),b())}function One(n,e){if(n&1&&(E(0,"div",31),ie(1,"img",11),E(2,"div",32)(3,"div",33)(4,"span",34),L(5),ii(6,"date"),b()(),E(7,"div",35),L(8),b(),J(9,Rne,2,0,"div",36),b()()),n&2){let t=e.$implicit,i=U(2);O("ngClass",hf(8,Mne,t.senderId===(i.currentUser==null?null:i.currentUser.uid),t.senderId!==(i.currentUser==null?null:i.currentUser.uid))),T(),O("src",i.getMessageProfileImage(t),Gn),T(4),gt(Yl(6,5,t.timestamp,"short")),T(3),gt(t.content),T(),O("ngIf",i.isMessageRead(t)&&t.senderId===(i.currentUser==null?null:i.currentUser.uid))}}function Nne(n,e){if(n&1&&(E(0,"div",39),L(1),b()),n&2){let t=U(2);T(),ot(" ",t.typingStatus," ")}}function kne(n,e){if(n&1){let t=Ce();E(0,"div",21)(1,"div",22)(2,"div",10),ie(3,"img",11),E(4,"h5",23),L(5),b(),ie(6,"span",14),b(),E(7,"p",24),L(8),b()(),E(9,"div",25,1),J(11,One,10,11,"div",26),ii(12,"async"),J(13,Nne,2,1,"div",27),b(),E(14,"div",28)(15,"input",29),pr("ngModelChange",function(r){ue(t);let s=U();return Hr(s.newMessage,r)||(s.newMessage=r),de(r)}),re("keydown.enter",function(){ue(t);let r=U();return de(r.sendMessage())})("input",function(){ue(t);let r=U();return de(r.onMessageInput())}),b(),E(16,"button",30),re("click",function(){ue(t);let r=U();return de(r.sendMessage())}),L(17," Send "),b()()()}if(n&2){let t=U();T(3),O("src",t.getParticipantProfileImage(t.selectedConversation),Gn),T(2),ot(" ",t.getParticipantName(t.selectedConversation)," "),T(),O("ngClass",t.userStatus==="Online"?"online":"offline"),T(2),ot(" ",t.userStatus==="Online"?"Online":t.userStatus," "),T(3),O("ngForOf",qr(12,7,t.messages$)),T(2),O("ngIf",t.typingStatus),T(2),fr("ngModel",t.newMessage)}}function Pne(n,e){n&1&&(E(0,"div",40),ie(1,"div",41),b())}var z5=(()=>{let e=class e{constructor(i,r,s,o){this.chatService=i,this.authService=r,this.route=s,this.userService=o,this.conversations$=ce([]),this.messages$=ce([]),this.selectedConversation=null,this.newMessage="",this.typingUser=null,this.typingStatus="",this.userMap=new Map,this.userStatus="",this.typingSubscription=null,this.selectedConversationId=null}ngOnInit(){this.authService.getUser().subscribe(i=>{this.currentUser=i,i&&(this.currentUser=i,this.authService.setUserOnlineOnLogin(i.uid),this.conversations$=this.chatService.getConversations(i.uid).pipe(Le(s=>{let o=Array.from(new Set(s.flatMap(a=>a.participants)));return this.userService.getUsersByIds(o).pipe(se(a=>(a.forEach(l=>this.userMap.set(l.uid,l)),s.map(l=>(l.unread=l.lastMessage.senderId!==i.uid&&!l.lastMessage.read,l)))))}),Jn(s=>ce([]))),this.selectedConversationId&&this.subscribeToTypingStatus(this.selectedConversationId));let r=this.route.snapshot.paramMap.get("userId");r&&i&&this.chatService.createOrGetConversation([i.uid,r]).then(s=>{this.selectConversation({id:s,participants:[i.uid,r],lastMessage:{content:"",timestamp:new Date,senderId:""}}),this.listenForUserStatus()}).catch(s=>{console.error("Error creating or getting conversation:",s)})})}ngOnDestroy(){this.typingSubscription&&this.typingSubscription.unsubscribe(),this.currentUser?.uid&&this.authService.setUserOfflineOnLogout(this.currentUser.uid)}selectConversation(i){if(this.selectedConversation=i,this.listenForUserStatus(),this.selectedConversation.id){this.typingSubscription&&this.typingSubscription.unsubscribe();let r=this.getOtherParticipantId(i);r&&this.chatService.getUserOnlineStatus(r).subscribe(s=>{i.isOnline=s}),this.messages$=this.chatService.getMessages(this.selectedConversation.id).pipe(se(s=>(this.scrollToBottom(),s)),Jn(s=>(console.error("Error fetching messages:",s),ce([])))),this.chatService.markMessagesAsRead(this.selectedConversation.id,this.currentUser.uid),this.listenForTypingStatus()}}getUserName(i){let r=this.userMap.get(i);return r?`${r.firstName} ${r.lastName}`:"Unknown User"}sendMessage(){this.selectedConversation&&this.selectedConversation.id&&this.newMessage.trim()&&(this.chatService.sendMessage(this.selectedConversation.id,this.newMessage,this.currentUser.uid),this.newMessage="",this.scrollToBottom(),this.clearTypingStatus())}onMessageInput(){this.selectedConversation&&this.selectedConversation.id&&this.currentUser?.uid&&(this.chatService.sendTypingStatus(this.selectedConversation.id,this.currentUser.uid),this.typingTimeout&&clearTimeout(this.typingTimeout),this.typingTimeout=setTimeout(()=>{this.selectedConversation?.id&&this.chatService.clearTypingStatus(this.selectedConversation.id,this.currentUser.uid).then(()=>{console.log(`Cleared typing status for user ${this.currentUser.uid}`)})},3e3))}getMessageProfileImage(i){return this.userMap.get(i.senderId)?.profileImageUrl||"assets/images/add-photo.png"}isMessageRead(i){return i.read===!0}listenForTypingStatus(){this.selectedConversation&&this.selectedConversation.id&&(this.typingSubscription=this.chatService.getTypingStatus(this.selectedConversation.id).subscribe(i=>{let r=i.find(s=>s.senderId!==this.currentUser?.uid&&s.isTyping);if(r){let s=this.userMap.get(r.senderId)?.firstName||"User";this.typingStatus=`${s} is typing...`}else this.typingStatus="";this.scrollToBottom(),clearTimeout(this.typingTimeout),this.typingTimeout=setTimeout(()=>{this.typingStatus=""},3e3)}))}subscribeToTypingStatus(i){this.typingSubscription=this.chatService.getTypingStatus(i).subscribe(r=>{let s=r.find(o=>o.senderId!==this.currentUser?.uid&&o.isTyping);s?(this.typingStatus=`${this.getUserName(s.senderId)} is typing...`,console.log(this.typingStatus)):this.typingStatus=""},r=>{console.error("Error while subscribing to typing status:",r)})}clearTypingStatus(){this.selectedConversation?.id&&this.currentUser?.uid&&this.chatService.clearTypingStatus(this.selectedConversation.id,this.currentUser.uid).catch(i=>console.error("Error clearing typing status:",i))}getParticipantName(i){let r=i.participants.find(o=>o!==this.currentUser?.uid);if(!r)return"Unknown";let s=this.userMap.get(r);return s?`${s.firstName} ${s.lastName}`:"Unknown"}getParticipantProfileImage(i){let r=i.participants.find(o=>o!==this.currentUser?.uid);return r&&this.userMap.get(r)?.profileImageUrl||"assets/images/add-photo.png"}listenForUserStatus(){if(this.selectedConversation){let i=this.getOtherParticipantId(this.selectedConversation);i&&this.chatService.getUserOnlineStatus(i).subscribe(r=>{r===!0?this.userStatus="Online":this.chatService.getLastActive(i).subscribe(s=>{s?this.userStatus=this.getLastActiveTime(s):this.userStatus="Not available"})})}}getLastActiveTime(i){if(!i)return"Not available";let s=new Date().getTime()-i.getTime(),o=Math.floor(s/6e4);return o<60?`${o} minutes ago`:`${Math.floor(o/60)} hours ago`}getOtherParticipantId(i){return i.participants.find(r=>r!==this.currentUser?.uid)}confirmDelete(i,r){r.stopPropagation(),_h.default.fire({title:"Are you sure?",text:"This conversation will be deleted permanently!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!",cancelButtonText:"Cancel"}).then(s=>{s.isConfirmed&&this.chatService.deleteConversation(i.id).then(()=>{_h.default.fire("Deleted!","The conversation has been deleted.","success")}).catch(o=>{_h.default.fire("Error!","There was an error deleting the conversation.","error")})})}deleteConversation(i){i.id&&this.chatService.deleteConversation(i.id).then(()=>{_h.default.fire("Deleted!","The conversation has been deleted.","success")}).catch(r=>{_h.default.fire("Error!","Failed to delete the conversation.","error"),console.error("Error deleting conversation:",r)})}scrollToBottom(){setTimeout(()=>{try{this.messageList.nativeElement.scrollTop=this.messageList.nativeElement.scrollHeight}catch(i){console.error("Error scrolling to bottom:",i)}},100)}};e.\u0275fac=function(r){return new(r||e)(B(j5),B(ci),B(ss),B(Js))},e.\u0275cmp=Oe({type:e,selectors:[["app-chat"]],viewQuery:function(r,s){if(r&1&&Ms(Tne,5),r&2){let o;Rn(o=On())&&(s.messageList=o.first)}},decls:12,vars:5,consts:[["loadingTemplate",""],["messageList",""],[1,"container","mt-4"],[1,"row"],[1,"col-md-4","conversation-list"],[1,"list-group"],["class","list-group-item conversation-item d-flex justify-content-between",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"col-md-8"],["class","position-relative message-container",4,"ngIf","ngIfElse"],[1,"list-group-item","conversation-item","d-flex","justify-content-between",3,"click","ngClass"],[1,"d-flex","align-items-center"],["alt","Profile Image",1,"rounded-circle","me-2",2,"width","30px","height","30px","object-fit","cover",3,"src"],[1,"conversation-details"],[1,"conversation-name"],[1,"status-circle",3,"ngClass"],[1,"conversation-snippet"],[1,"conversation-meta","d-flex","align-items-center"],[1,"conversation-date","me-2"],["class","badge bg-primary rounded-pill me-2",4,"ngIf"],["title","Delete Conversation",1,"fa","fa-times","delete-icon",3,"click"],[1,"badge","bg-primary","rounded-pill","me-2"],[1,"position-relative","message-container"],[1,"participant-info","hanging-info"],[1,"mb-0","me-2"],[1,"status-text","mt-1","mb-0"],[1,"message-list"],["class","message-item",3,"ngClass",4,"ngFor","ngForOf"],["class","typing-indicator",4,"ngIf"],[1,"input-group","mt-3","message-input"],["type","text","placeholder","Type a message",1,"form-control",3,"ngModelChange","keydown.enter","input","ngModel"],[1,"btn","btn-primary","btn-send",3,"click"],[1,"message-item",3,"ngClass"],[1,"message-content"],[1,"message-metadata"],[1,"message-date"],[1,"message-text"],["class","read-receipt",4,"ngIf"],[1,"read-receipt"],[1,"fa","fa-check"],[1,"typing-indicator"],[1,"loader-container"],[1,"loader"]],template:function(r,s){if(r&1&&(E(0,"div",2)(1,"div",3)(2,"div",4)(3,"h4"),L(4,"Conversations"),b(),E(5,"ul",5),J(6,xne,15,12,"li",6),ii(7,"async"),b()(),E(8,"div",7),J(9,kne,18,9,"div",8)(10,Pne,2,0,"ng-template",null,0,Wr),b()()()),r&2){let o=zr(11);T(6),O("ngForOf",qr(7,3,s.conversations$)),T(3),O("ngIf",s.selectedConversation)("ngIfElse",o)}},dependencies:[Oi,xs,Ft,Pn,ai,Lo,Ea,Ku],styles:[".container[_ngcontent-%COMP%]{font-family:Arial,sans-serif}.conversation-list[_ngcontent-%COMP%]{border-right:1px solid #ddd;padding-right:10px;animation:_ngcontent-%COMP%_fadeIn .5s ease-in-out}.list-group-item[_ngcontent-%COMP%]{border-radius:10px;margin-bottom:10px;transition:background-color .3s,box-shadow .3s,transform .3s;display:flex;align-items:center;justify-content:space-between;cursor:pointer;animation:_ngcontent-%COMP%_slideIn .4s ease-in-out}.conversation-item[_ngcontent-%COMP%]:hover{background-color:#f0f0f0;box-shadow:0 4px 8px #0000001a;transform:translateY(-2px)}.conversation-item.unread[_ngcontent-%COMP%]{background-color:#e6f7ff;font-weight:700}.conversation-details[_ngcontent-%COMP%]{flex:1;margin-left:10px}.conversation-name[_ngcontent-%COMP%]{font-weight:700;display:flex;align-items:center}.conversation-snippet[_ngcontent-%COMP%]{color:#666;font-size:.9rem}.conversation-meta[_ngcontent-%COMP%]{text-align:right;display:flex;flex-direction:column;align-items:flex-end}.conversation-date[_ngcontent-%COMP%]{color:#999;font-size:.8rem}.badge[_ngcontent-%COMP%]{margin-top:5px}.status-circle[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:50%;margin-left:8px}.online[_ngcontent-%COMP%]{background-color:#28a745}.offline[_ngcontent-%COMP%]{background-color:#dc3545}.message-list[_ngcontent-%COMP%]{max-height:500px;overflow-y:auto;padding:10px;border:1px solid #ddd;border-radius:5px;background-color:#f9f9f9;animation:_ngcontent-%COMP%_fadeIn .5s ease-in-out;scroll-behavior:smooth}.message-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;margin-bottom:15px;animation:_ngcontent-%COMP%_fadeIn .6s ease}.message-content[_ngcontent-%COMP%]{max-width:75%;padding:10px;border-radius:15px;background-color:#e0e0e0;word-wrap:break-word;position:relative}.message-metadata[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-size:.8rem;color:#666;margin-bottom:5px}.message-text[_ngcontent-%COMP%]{font-size:1rem}.sent[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{background-color:#d1e7dd;align-self:flex-end;margin-left:auto}.received[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{background-color:#fff3cd;margin-right:auto}.sent[_ngcontent-%COMP%]{flex-direction:row-reverse}.received[_ngcontent-%COMP%]{flex-direction:row}.read-receipt[_ngcontent-%COMP%]{font-size:.75rem;color:#28a745;text-align:right;margin-top:5px}.typing-indicator[_ngcontent-%COMP%]{color:#999;font-style:italic;margin-top:10px;animation:_ngcontent-%COMP%_blink 1.5s steps(2) infinite}.message-input[_ngcontent-%COMP%]{display:flex;align-items:center}.message-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-radius:20px;padding:10px;margin-right:10px}.message-input[_ngcontent-%COMP%]   .btn-send[_ngcontent-%COMP%]{border-radius:20px;padding:10px 20px;background-color:#007bff;color:#fff;transition:background-color .3s ease,box-shadow .3s ease}.message-input[_ngcontent-%COMP%]   .btn-send[_ngcontent-%COMP%]:hover{background-color:#0056b3;box-shadow:0 4px 10px #007bff80}.participant-info[_ngcontent-%COMP%]{position:absolute;top:-10px;left:50%;transform:translate(-50%);background-color:#fff;padding:15px 20px;border-radius:15px;box-shadow:0 4px 8px #0000001a;border:1px solid #e0e0e0;text-align:center;z-index:1;transition:opacity .3s ease,transform .3s ease}.participant-info[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{align-items:center;justify-content:center}.participant-info[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;border:2px solid #ddd;width:40px;height:40px;margin-right:10px;object-fit:cover}.participant-info[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin-bottom:0;font-size:1.1rem;font-weight:700}.status-text[_ngcontent-%COMP%]{font-size:.85rem;color:#555;margin-top:4px;text-align:center}.message-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;object-fit:cover;margin-right:10px}.delete-conversation[_ngcontent-%COMP%]{cursor:pointer}.delete-conversation[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem;cursor:pointer;transition:color .3s ease-in-out;color:#ff4d4f}.delete-conversation[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{color:#8b0000;transform:scale(1.1)}.loader-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%}.loader[_ngcontent-%COMP%]{border:4px solid rgba(0,0,0,.1);border-left-color:#007bff;border-radius:50%;width:40px;height:40px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translate(-100%)}to{transform:translate(0)}}@keyframes _ngcontent-%COMP%_blink{50%{opacity:0}}"]});let n=e;return n})();var ul=(()=>{let e=class e{constructor(i,r){this.firestore=i,this.authService=r}getUserData(){return this.authService.getUser().pipe(Le(i=>{if(i)return this.firestore.collection("users").doc(i.uid).valueChanges();throw new Error("User not authenticated")}))}updateUserData(i){return this.authService.getUser().pipe(Le(r=>r?this.firestore.collection("users").doc(r.uid).update(i):Promise.reject("User not authenticated"))).toPromise()}searchUsers(i){return this.firestore.collection("users",r=>r.orderBy("firstName").startAt(i).endAt(i+"\uF8FF")).valueChanges()}checkConnection(i){return this.authService.getUser().pipe(Le(r=>r?this.firestore.doc(`users/${r.uid}`).valueChanges().pipe(Le(s=>ce(s.connections&&s.connections.includes(i)))):ce(!1)))}unconnectUser(i){return this.authService.getUser().pipe(Le(r=>{if(!r)throw new Error("User not authenticated");let s=this.firestore.doc(`users/${r.uid}`),o=this.firestore.doc(`users/${i}`),a=this.firestore.firestore.batch();return a.update(s.ref,{connections:wt.firestore.FieldValue.arrayRemove(i)}),a.update(o.ref,{connections:wt.firestore.FieldValue.arrayRemove(r.uid)}),ce(a.commit())}))}};e.\u0275fac=function(r){return new(r||e)(G(ln),G(ci))},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function Fne(n,e){n&1&&(E(0,"div",3)(1,"div",4)(2,"span",5),L(3,"Loading..."),b()()())}function Lne(n,e){if(n&1){let t=Ce();E(0,"div",30)(1,"div",21)(2,"div",31)(3,"img",32),re("click",function(){let r=ue(t).$implicit,s=U(2);return de(s.goToProfile(r.userId))}),b(),E(4,"div")(5,"h6",33),re("click",function(){let r=ue(t).$implicit,s=U(2);return de(s.goToProfile(r.userId))}),L(6),b(),E(7,"p",34),L(8),ii(9,"date"),b()()(),ie(10,"hr"),E(11,"p",35),L(12),b(),E(13,"div",36)(14,"button",37),re("click",function(){let r=ue(t).$implicit,s=U(2);return de(s.toggleLike(r))}),ie(15,"i",38),E(16,"span"),L(17),b()()()()()}if(n&2){let t=e.$implicit,i=U(2);T(3),O("src",t.userProfileImageUrl,Gn),T(3),gt(t.userName),T(2),gt(Yl(9,8,t.timestamp,"short")),T(4),gt(t.content),T(2),jr("liked",t.likedBy.includes(i.user.uid)),T(),O("ngClass",t.likedBy.includes(i.user.uid)?"bi bi-hand-thumbs-up-fill":"bi bi-hand-thumbs-up"),T(2),gt(t.likes)}}function Vne(n,e){n&1&&(E(0,"span"),L(1,", "),b())}function Bne(n,e){if(n&1&&(E(0,"span"),L(1),J(2,Vne,2,0,"span",47),b()),n&2){let t=e.$implicit,i=e.index,r=U().$implicit;T(),ot(" ",t.skillName,""),T(),O("ngIf",i<r.skills.length-1)}}function Une(n,e){if(n&1){let t=Ce();E(0,"li",39)(1,"div",40)(2,"img",41),re("click",function(){let r=ue(t).$implicit,s=U(2);return de(s.goToProfile(r.uid))}),b(),E(3,"div",42),re("click",function(){let r=ue(t).$implicit,s=U(2);return de(s.goToProfile(r.uid))}),E(4,"h5"),L(5),b(),E(6,"h6")(7,"strong"),L(8,"Skills:"),b(),J(9,Bne,3,2,"span",43),b()(),E(10,"div",44)(11,"button",45),re("click",function(){let r=ue(t).$implicit,s=U(2);return de(s.sendMessage(r.uid))}),ie(12,"i",46),b()()()()}if(n&2){let t=e.$implicit;T(2),O("src",t.profileImageUrl||"path-to-default-profile-image",Gn),T(3),$r("",t.firstName," ",t.lastName,""),T(4),O("ngForOf",t.skills)}}function jne(n,e){if(n&1){let t=Ce();E(0,"div",6)(1,"div",7)(2,"div",8)(3,"div",9),ie(4,"img",10),b(),E(5,"div",11)(6,"h3",12),L(7),b(),E(8,"p",13),L(9),b(),E(10,"p",14),L(11),b()(),E(12,"ul",15)(13,"li",16)(14,"span",17),L(15,"Connections"),b(),E(16,"span",18),L(17),b()(),E(18,"li",16),L(19,"Saved items"),b()()()(),E(20,"div",19)(21,"div",20)(22,"div",21)(23,"form",22),re("ngSubmit",function(){ue(t);let r=U();return de(r.submitPost())}),E(24,"div",23)(25,"textarea",24),pr("ngModelChange",function(r){ue(t);let s=U();return Hr(s.postContent,r)||(s.postContent=r),de(r)}),b()(),E(26,"button",25),L(27,"Post"),b()()()(),J(28,Lne,18,11,"div",26),ii(29,"async"),b(),E(30,"div",7)(31,"div",27)(32,"div",21)(33,"h5"),L(34,"Connections"),b(),E(35,"ul",28),J(36,Une,13,4,"li",29),b()()()()()}if(n&2){let t=U();T(4),O("src",t.user.profileImageUrl||"path-to-default-profile-image",Gn),T(3),$r("",t.user.firstName," ",t.user.lastName,""),T(2),gt((t.user.education==null||t.user.education[0]==null?null:t.user.education[0].degree)||"No education added"),T(2),gt(t.user.address||"No location available"),T(6),gt(t.connectedUsers.length||0),T(8),fr("ngModel",t.postContent),O("disabled",!t.userLoaded),T(3),O("ngForOf",qr(29,10,t.posts)),T(8),O("ngForOf",t.connectedUsers)}}var $5=(()=>{let e=class e{constructor(i,r,s,o,a,l,c){this.profileService=i,this.afAuth=r,this.firestore=s,this.router=o,this.toastr=a,this.userService=l,this.notificationService=c,this.postContent="",this.posts=new Se,this.user={},this.userLoaded=!1,this.unreadRequests=[],this.connectedUsers=[],this.loading=!0}ngOnInit(){this.loadData(),this.afAuth.authState.subscribe(i=>{i&&(this.firestore.collection("users").doc(i.uid).valueChanges().subscribe(r=>{r&&(this.user=Ee(Q({},r),{uid:i.uid}),this.userLoaded=!0,this.user.connections&&this.user.connections.length>0&&this.loadConnectedUsers(this.user.connections))}),this.user.connections&&this.user.connections.length>0?this.loadConnectedUsers(this.user.connections):this.user.connections=[],this.posts=this.firestore.collection("posts",r=>r.orderBy("timestamp","desc")).snapshotChanges().pipe(se(r=>r.map(s=>{let o=s.payload.doc.data(),a=s.payload.doc.id;return Ee(Q({id:a},o),{likedBy:o.likedBy||[]})})),se(r=>r.map(s=>Ee(Q({},s),{timestamp:s.timestamp.toDate()})))))})}loadData(){setTimeout(()=>{this.loading=!1},1e3)}submitPost(){if(this.postContent.trim()&&this.user&&this.user.uid){let i={content:this.postContent,timestamp:new Date,userId:this.user.uid,userName:`${this.user.firstName} ${this.user.lastName}`,userProfileImageUrl:this.user.profileImageUrl||"path-to-default-profile-image",likes:0,likedBy:[]};this.firestore.collection("posts").add(i).then(()=>{console.log("Post added successfully"),this.postContent=""}).catch(r=>{console.error("Error adding post: ",r)})}}goToProfile(i){this.router.navigate(["/profile",i])}toggleLike(i){let r=this.firestore.collection("posts").doc(i.id);r.get().subscribe(s=>{if(s.exists){let o=s.data(),a=o?.likes||0,l=o?.likedBy||[];if(l.includes(this.user.uid)){let c=l.filter(d=>d!==this.user.uid);r.update({likes:a-1,likedBy:c}).catch(d=>{console.error("Error removing like: ",d)})}else r.update({likes:a+1,likedBy:[...l,this.user.uid]}).catch(c=>{console.error("Error liking post: ",c)})}})}loadConnectedUsers(i){if(!i||i.length===0){console.warn("No connections to load.");return}this.userService.getUsersByIds(i).subscribe(r=>{this.connectedUsers=r},r=>{console.error("Error loading connected users:",r)})}acceptRequest(i){this.notificationService.acceptConnectionRequest(i).then(()=>{this.unreadRequests=this.unreadRequests.filter(r=>r.id!==i.id),this.user.connections?this.user.connections.push(i.from||i.uid):this.user.connections=[i.from||i.uid],this.loadConnectedUsers(this.user.connections),this.toastr.success(`${i.firstName} ${i.lastName} is now connected.`)}).catch(r=>{this.toastr.error("Failed to accept the request.")})}rejectRequest(i){this.notificationService.rejectConnectionRequest(i).then(()=>{this.unreadRequests=this.unreadRequests.filter(r=>r.id!==i.id)}).catch(r=>{console.error("Error rejecting request: ",r)})}unconnectUser(i){this.profileService.unconnectUser(i).subscribe(()=>{this.toastr.success("You are no longer connected."),this.connectedUsers=this.connectedUsers.filter(r=>r.uid!==i),this.user.connections&&(this.user.connections=this.user.connections.filter(r=>r!==i))},r=>{this.toastr.error("Failed to unconnect from the user.")})}sendMessage(i){this.router.navigate(["/chat",{userId:i}])}};e.\u0275fac=function(r){return new(r||e)(B(ul),B(Zr),B(ln),B(Vt),B(Zs),B(Js),B(mh))},e.\u0275cmp=Oe({type:e,selectors:[["app-home"]],decls:3,vars:2,consts:[[1,"container-fluid"],["class","d-flex justify-content-center align-items-center","style","height: 100vh;",4,"ngIf"],["class","row",4,"ngIf"],[1,"d-flex","justify-content-center","align-items-center",2,"height","100vh"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"row"],[1,"col-lg-3","col-md-4","col-12"],[1,"card","profile-card","shadow-sm"],[1,"profile-header"],["alt","Profile Image",1,"rounded-circle","profile-image",3,"src"],[1,"card-body","text-center"],[1,"profile-name"],[1,"profile-education"],[1,"profile-location"],[1,"list-group","list-group-flush"],[1,"list-group-item"],[1,"connections-label"],[1,"badge","bg-secondary"],[1,"col-lg-6","col-md-8","col-12"],[1,"card","mb-4"],[1,"card-body"],[3,"ngSubmit"],[1,"mb-3"],["name","postContent","rows","3","placeholder","What's on your mind?",1,"form-control",3,"ngModelChange","ngModel","disabled"],["type","submit",1,"btn","btn-primary"],["class","card mb-3 post-card",4,"ngFor","ngForOf"],[1,"card"],[1,"list-group"],["class","list-group-item-con",4,"ngFor","ngForOf"],[1,"card","mb-3","post-card"],[1,"d-flex"],["alt","Profile Image",1,"rounded-circle","post-profile-image","me-3",3,"click","src"],[1,"card-title","mb-0",3,"click"],[1,"post-date"],[1,"card-text"],[1,"d-flex","justify-content-between","align-items-center"],[1,"like-button",3,"click"],[3,"ngClass"],[1,"list-group-item-con"],[1,"d-flex","align-items-center"],["alt","Profile Image",1,"profile-image-con","clickable",3,"click","src"],[1,"ms-2","clickable",3,"click"],[4,"ngFor","ngForOf"],[1,"ms-auto"],[1,"btn","btn-primary","send-message-btn",3,"click"],[1,"bi","bi-chat"],[4,"ngIf"]],template:function(r,s){r&1&&(E(0,"div",0),J(1,Fne,4,0,"div",1)(2,jne,37,12,"div",2),b()),r&2&&(T(),O("ngIf",s.loading),T(),O("ngIf",!s.loading))},dependencies:[Oi,xs,Ft,Pi,Pn,ai,ki,Lo,Rc,Ea,Ku],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0;padding:0}body[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100vh}.container-fluid[_ngcontent-%COMP%]{flex-grow:1;background-color:#f4f4f4!important;padding:10px 100px 100px}.profile-card[_ngcontent-%COMP%]{padding:20px;text-align:center;border-radius:10px;background-color:#fff;box-shadow:0 2px 10px #0000001a;transition:transform .3s ease,box-shadow .3s ease}.profile-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 5px 15px #0000001a}.profile-image[_ngcontent-%COMP%]{width:120px;height:120px;margin-bottom:15px;border-radius:50%;object-fit:cover}.badge[_ngcontent-%COMP%]{margin-left:10px}.list-group-item[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;box-shadow:0 2px 4px #0000001a;transition:all .3s ease}.list-group-item[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 5px 15px #0003}.connections-label[_ngcontent-%COMP%]{font-size:1.2rem;color:#007bff}.grow-network-btn[_ngcontent-%COMP%]{padding:10px 20px;font-size:1rem;border-radius:20px;transition:background-color .3s ease}.grow-network-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3;color:#fff}textarea.form-control[_ngcontent-%COMP%]{font-size:1.2rem;padding:10px;border-radius:10px}.post-profile-image[_ngcontent-%COMP%]{width:60px;height:60px;margin-right:10px;border-radius:50%;object-fit:cover}.card[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ddd;margin-bottom:20px;border-radius:10px;box-shadow:0 4px 8px #0000000d;transition:transform .3s ease,box-shadow .3s ease}.card[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 6px 20px #00000014}.card-body[_ngcontent-%COMP%]{padding:20px}.card-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;cursor:pointer;color:#007bff;transition:color .3s ease}.card-title[_ngcontent-%COMP%]:hover{color:#0056b3}.card-text[_ngcontent-%COMP%]{font-size:1.1rem;color:#333}.like-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:8px 16px;background-color:transparent;border:none;cursor:pointer;transition:all .2s ease-in-out;font-size:1.2rem}.like-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem;color:#007bff;transition:transform .2s ease,color .2s ease}.like-button[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{transform:scale(1.2)}.like-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:8px;font-size:1rem;color:#007bff;font-weight:700}.like-button.liked[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#007bff;fill:#007bff}.like-button.liked[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#007bff}.like-button[_ngcontent-%COMP%]:focus{outline:none}.profile-image-con[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;object-fit:cover}.list-group-item-con[_ngcontent-%COMP%]{padding:15px;background-color:#fff;border-radius:10px;transition:background-color .3s ease,transform .3s ease}.list-group-item-con[_ngcontent-%COMP%]:hover{background-color:#f1f1f1;transform:translateY(-3px)}h5[_ngcontent-%COMP%]{font-size:1rem;margin:0;color:#333}h6[_ngcontent-%COMP%]{font-size:.7rem;margin:0;color:#333}p[_ngcontent-%COMP%]{font-size:1rem;color:#666}.send-message-btn[_ngcontent-%COMP%]{background-color:#007bff;border:none;border-radius:50%;width:35px;height:35px;color:#fff;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:background-color .3s ease,transform .3s ease;box-shadow:0 4px 8px #0000001a}.send-message-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3;transform:scale(1.1)}.send-message-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.4rem;color:#fff}@media (max-width: 768px){.send-message-btn[_ngcontent-%COMP%]{width:35px;height:35px;font-size:1.2rem}}.loader[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:#fffc}.spinner-border[_ngcontent-%COMP%]{width:3rem;height:3rem;border-width:.3rem}.fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease-in-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.slide-up[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideUp .6s ease-out}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translateY(20px);opacity:0}to{transform:translateY(0);opacity:1}}"]});let n=e;return n})();var q5=qg(ng());var H5=qg(ng());function zne(n,e){n&1&&(E(0,"button",24),L(1,"Save"),b())}var QM=(()=>{let e=class e{constructor(i,r){this.activeModal=i,this.fb=r,this.isCurrentUserProfile=!1,this.educationSaved=new xe,this.initializeForm()}ngOnInit(){this.education&&this.educationForm.patchValue(this.education)}initializeForm(){this.educationForm=this.fb.group({schoolName:["",xt.required],degree:["",xt.required],fieldOfStudy:["",xt.required],startDate:[""],endDate:[""],grade:[""],activities:[""],description:[""]})}onSubmit(){this.educationForm.valid&&this.activeModal.close(this.educationForm.value)}saveEducation(){this.educationForm.valid&&(this.educationSaved.emit(this.educationForm.value),this.activeModal.close())}close(){this.activeModal.dismiss()}openDatePicker(i,r){H5.default.fire({title:`Select ${r}`,input:"date",inputLabel:`${r}`,inputPlaceholder:`Select a ${r.toLowerCase()}`,showCancelButton:!0,confirmButtonText:"Select",cancelButtonText:"Cancel",inputValidator:s=>s?void 0:`Please select a valid ${r.toLowerCase()}!`}).then(s=>{s.isConfirmed&&this.educationForm.get(i)?.setValue(s.value)})}};e.\u0275fac=function(r){return new(r||e)(B(Qs),B(el))},e.\u0275cmp=Oe({type:e,selectors:[["app-education-modal"]],inputs:{education:"education",isCurrentUserProfile:"isCurrentUserProfile"},outputs:{educationSaved:"educationSaved"},decls:41,vars:11,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","schoolName",1,"form-label"],["type","text","id","schoolName","formControlName","schoolName",1,"form-control",3,"readonly"],["for","degree",1,"form-label"],["type","text","id","degree","formControlName","degree",1,"form-control",3,"readonly"],["for","fieldOfStudy",1,"form-label"],["type","text","id","fieldOfStudy","formControlName","fieldOfStudy",1,"form-control",3,"readonly"],["for","startDate",1,"form-label"],["type","text","id","startDate","formControlName","startDate","placeholder","Select a start date",1,"form-control",3,"click","readonly"],["for","endDate",1,"form-label"],["type","text","id","endDate","formControlName","endDate","placeholder","Select an end date",1,"form-control",3,"click","readonly"],["for","grade",1,"form-label"],["type","text","id","grade","formControlName","grade",1,"form-control",3,"readonly"],["for","activities",1,"form-label"],["type","text","id","activities","formControlName","activities",1,"form-control",3,"readonly"],["for","description",1,"form-label"],["id","description","formControlName","description",1,"form-control",3,"readonly"],["type","submit","class","btn btn-primary",4,"ngIf"],["type","submit",1,"btn","btn-primary"]],template:function(r,s){r&1&&(E(0,"div",0)(1,"h5",1),L(2),b(),E(3,"button",2),re("click",function(){return s.close()}),E(4,"span",3),L(5,"\xD7"),b()()(),E(6,"div",4)(7,"form",5),re("ngSubmit",function(){return s.onSubmit()}),E(8,"div",6)(9,"label",7),L(10,"School*"),b(),ie(11,"input",8),b(),E(12,"div",6)(13,"label",9),L(14,"Degree"),b(),ie(15,"input",10),b(),E(16,"div",6)(17,"label",11),L(18,"Field of study"),b(),ie(19,"input",12),b(),E(20,"div",6)(21,"label",13),L(22,"Start date"),b(),E(23,"input",14),re("click",function(){return s.openDatePicker("startDate","Start Date")}),b()(),E(24,"div",6)(25,"label",15),L(26,"End date (or expected)"),b(),E(27,"input",16),re("click",function(){return s.openDatePicker("endDate","End Date")}),b()(),E(28,"div",6)(29,"label",17),L(30,"Grade"),b(),ie(31,"input",18),b(),E(32,"div",6)(33,"label",19),L(34,"Activities and societies"),b(),ie(35,"input",20),b(),E(36,"div",6)(37,"label",21),L(38,"Description"),b(),ie(39,"textarea",22),b(),J(40,zne,2,0,"button",23),b()()),r&2&&(T(2),ot(" ",s.education?"Edit Education":"Add Education"," "),T(5),O("formGroup",s.educationForm),T(4),O("readonly",!s.isCurrentUserProfile),T(4),O("readonly",!s.isCurrentUserProfile),T(4),O("readonly",!s.isCurrentUserProfile),T(4),O("readonly",!s.isCurrentUserProfile),T(4),O("readonly",!s.isCurrentUserProfile),T(4),O("readonly",!s.isCurrentUserProfile),T(4),O("readonly",!s.isCurrentUserProfile),T(4),O("readonly",!s.isCurrentUserProfile),T(),O("ngIf",s.isCurrentUserProfile))},dependencies:[Ft,Pi,Pn,ai,ki,Vo,Bo],styles:[".close[_ngcontent-%COMP%]{position:absolute;right:10px}"]});let n=e;return n})();function $ne(n,e){if(n&1&&(E(0,"div",9),ie(1,"img",10),b()),n&2){let t=U();T(),O("src",t.previewUrl||t.imageUrl,Gn)}}function Hne(n,e){if(n&1){let t=Ce();E(0,"div")(1,"input",11),re("change",function(r){ue(t);let s=U();return de(s.onFileSelected(r))}),b()()}}function Gne(n,e){n&1&&(E(0,"div",12),ie(1,"span",13),b())}function qne(n,e){if(n&1){let t=Ce();E(0,"div",14)(1,"button",15),re("click",function(){ue(t);let r=U();return de(r.deleteImage())}),L(2," Delete "),b(),E(3,"button",16),re("click",function(){ue(t);let r=U();return de(r.uploadImage())}),L(4," Upload "),b(),E(5,"button",17),re("click",function(){ue(t);let r=U();return de(r.activeModal.dismiss())}),L(6," Cancel "),b()()}}var pw=(()=>{let e=class e{constructor(i,r,s,o){this.activeModal=i,this.storage=r,this.afAuth=s,this.firestore=o,this.onDelete=new xe,this.onImageChange=new xe,this.selectedFile=null,this.previewUrl=null,this.isLoading=!1}ngOnInit(){}onFileSelected(i){let r=i.target.files[0];if(r){this.selectedFile=r;let s=new FileReader;s.onload=o=>{this.previewUrl=o.target.result},s.readAsDataURL(r)}}uploadImage(){this.isLoading=!0,this.afAuth.authState.subscribe(i=>{if(i&&this.selectedFile){let r=`${this.isProfileImage?"profileImages":"backgroundImages"}/${i.uid}`,s=this.storage.ref(r);this.storage.upload(r,this.selectedFile).snapshotChanges().pipe(zn(()=>{s.getDownloadURL().subscribe(a=>{this.onImageChange.emit(a);let l=this.isProfileImage?{profileImageUrl:a}:{backgroundImageUrl:a};this.firestore.collection("users").doc(i.uid).update(l).then(()=>{this.isLoading=!1,this.activeModal.close()})})})).subscribe()}else this.isLoading=!1,console.error("User is not authenticated or no file selected")})}deleteImage(){this.isLoading=!0,this.afAuth.authState.subscribe(i=>{if(i){let r=this.isProfileImage?"assets/images/add-photo.png":"assets/images/background.png",s=this.isProfileImage?{profileImageUrl:r}:{backgroundImageUrl:r};this.firestore.collection("users").doc(i.uid).update(s).then(()=>{this.onImageChange.emit(r),this.isLoading=!1,this.activeModal.close()})}else this.isLoading=!1,console.error("User not authenticated")})}};e.\u0275fac=function(r){return new(r||e)(B(Qs),B(Mc),B(Zr),B(ln))},e.\u0275cmp=Oe({type:e,selectors:[["app-image-modal"]],inputs:{imageUrl:"imageUrl",isProfileImage:"isProfileImage",isCurrentUserProfile:"isCurrentUserProfile"},outputs:{onDelete:"onDelete",onImageChange:"onImageChange"},decls:12,vars:5,consts:[["loadingTemplate",""],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","text-center"],["class","image-wrapper",4,"ngIf","ngIfElse"],[4,"ngIf"],["class","modal-footer",4,"ngIf"],[1,"image-wrapper"],["alt","Image Preview",1,"img-fluid","mb-3",3,"src"],["type","file",3,"change"],["role","status",1,"spinner"],[1,"sr-only"],[1,"modal-footer"],["type","button",1,"btn","btn-danger",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(r,s){if(r&1){let o=Ce();E(0,"div",1)(1,"h5",2),L(2),b(),E(3,"button",3),re("click",function(){return ue(o),de(s.activeModal.dismiss())}),E(4,"span",4),L(5,"\xD7"),b()()(),E(6,"div",5),J(7,$ne,2,1,"div",6)(8,Hne,2,0,"div",7)(9,Gne,2,0,"ng-template",null,0,Wr),b(),J(11,qne,7,0,"div",8)}if(r&2){let o=zr(10);T(2),ot(" ",s.isProfileImage?"Profile Image":"Background Image"," "),T(5),O("ngIf",!s.isLoading)("ngIfElse",o),T(),O("ngIf",s.isCurrentUserProfile),T(3),O("ngIf",s.isCurrentUserProfile&&!s.isLoading)}},dependencies:[Ft],styles:[".modal-dialog[_ngcontent-%COMP%]{width:750px;height:900px;max-width:100%;max-height:100%}.modal-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;height:100%;max-height:300%}.modal-body[_ngcontent-%COMP%]{width:100%;height:80%;display:flex;justify-content:center;align-items:center}.modal-body[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:90%;max-height:90%;object-fit:contain;border-radius:12px;box-shadow:0 9px 22px #00000026;transition:transform .45s ease}.modal-body[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.075)}.spinner[_ngcontent-%COMP%]{display:inline-block;width:75px;height:75px;border:4.5px solid rgba(255,255,255,.3);border-radius:50%;border-top-color:#3498db;animation:_ngcontent-%COMP%_spin 1s ease-in-out infinite;margin-top:30px}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.modal-header[_ngcontent-%COMP%]{background-color:#f7f8fa;border-bottom:1.5px solid #ddd;padding:22.5px;border-radius:18px 18px 0 0;display:flex;justify-content:space-between;align-items:center}.modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{font-size:2.1rem;color:#333}.modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{font-size:2.4rem;color:#555;opacity:.7;transition:opacity .45s ease}.modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:hover{opacity:1;color:#e74c3c}.modal-footer[_ngcontent-%COMP%]{width:100%;background-color:#f7f8fa;border-top:1.5px solid #ddd;padding:15px;display:flex;justify-content:center}.modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-left:15px;padding:10px 20px;font-size:1rem;border-radius:7.5px;transition:background-color .45s,transform .3s ease}.modal-footer[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]{background-color:#e74c3c;border:none;color:#fff}.modal-footer[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]:hover{background-color:#c0392b;transform:translateY(-3px)}.modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background-color:#3498db;border:none;color:#fff}.modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background-color:#2980b9;transform:translateY(-3px)}.modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background-color:#95a5a6;border:none;color:#fff}.modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover{background-color:#7f8c8d;transform:translateY(-3px)}@media (max-width: 768px){.modal-dialog[_ngcontent-%COMP%]{width:90%;height:auto}.modal-body[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%}}"]});let n=e;return n})();function Wne(n,e){if(n&1){let t=Ce();E(0,"button",18),re("click",function(){ue(t);let r=U(2);return de(r.saveSkill())}),L(1," Save "),b()}if(n&2){let t=U(2);O("disabled",!t.skillForm.valid)}}function Kne(n,e){if(n&1){let t=Ce();E(0,"button",19),re("click",function(){ue(t);let r=U(2);return de(r.confirmUpdate())}),L(1," Update "),b()}if(n&2){let t=U(2);O("disabled",!t.formChanged||!t.skillForm.valid)}}function Qne(n,e){if(n&1){let t=Ce();E(0,"div",14),J(1,Wne,2,1,"button",15)(2,Kne,2,1,"button",16),E(3,"button",17),re("click",function(){ue(t);let r=U();return de(r.dismiss())}),L(4," Cancel "),b()()}if(n&2){let t=U();T(),O("ngIf",!t.isUpdateMode),T(),O("ngIf",t.isUpdateMode)}}var G5=(()=>{let e=class e{constructor(i,r){this.activeModal=i,this.fb=r,this.skillSaved=new xe,this.skillUpdated=new xe,this.isUpdateMode=!1,this.formChanged=!1,this.isCurrentUserProfile=!1,this.skillForm=this.fb.group({skillName:["",xt.required],relatedField:[""],experience:["",xt.required]})}ngOnInit(){this.skill&&(this.isUpdateMode=!0,this.skillForm.patchValue(this.skill)),this.skillForm.valueChanges.subscribe(()=>{this.checkForChanges()})}checkForChanges(){this.skill&&(this.formChanged=!this.skillForm.pristine)}saveSkill(){this.skillForm.valid&&(console.log("Skill to save:",this.skillForm.value),this.skillSaved.emit(this.skillForm.value),this.activeModal.close(this.skillForm.value))}dismiss(){this.activeModal.dismiss()}confirmUpdate(){this.skillForm.valid&&confirm("Are you sure you want to update this skill?")&&(console.log("update mess"),this.skillUpdated.emit(this.skillForm.value),this.activeModal.close(this.skillForm.value))}};e.\u0275fac=function(r){return new(r||e)(B(Qs),B(el))},e.\u0275cmp=Oe({type:e,selectors:[["app-skills-modal"]],inputs:{skill:"skill",isCurrentUserProfile:"isCurrentUserProfile"},outputs:{skillSaved:"skillSaved",skillUpdated:"skillUpdated"},decls:21,vars:6,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"formGroup"],[1,"form-group"],["for","skillName"],["id","skillName","type","text","formControlName","skillName",1,"form-control",3,"readonly"],["for","relatedField"],["id","relatedField","type","text","formControlName","relatedField",1,"form-control",3,"readonly"],["for","experience"],["id","experience","type","text","formControlName","experience",1,"form-control",3,"readonly"],["class","modal-footer",4,"ngIf"],[1,"modal-footer"],["type","button","class","btn btn-primary",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-update",3,"disabled","click",4,"ngIf"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click","disabled"],["type","button",1,"btn","btn-update",3,"click","disabled"]],template:function(r,s){r&1&&(E(0,"div",0)(1,"h5",1),L(2),b(),E(3,"button",2),re("click",function(){return s.dismiss()}),E(4,"span",3),L(5,"\xD7"),b()()(),E(6,"div",4)(7,"form",5)(8,"div",6)(9,"label",7),L(10,"Skill Name"),b(),ie(11,"input",8),b(),E(12,"div",6)(13,"label",9),L(14,"Related Field"),b(),ie(15,"input",10),b(),E(16,"div",6)(17,"label",11),L(18,"Experience"),b(),ie(19,"input",12),b()()(),J(20,Qne,5,2,"div",13)),r&2&&(T(2),gt(s.skill?"Update Skill":"Add Skill"),T(5),O("formGroup",s.skillForm),T(4),O("readonly",!s.isCurrentUserProfile),T(4),O("readonly",!s.isCurrentUserProfile),T(4),O("readonly",!s.isCurrentUserProfile),T(),O("ngIf",s.isCurrentUserProfile))},dependencies:[Ft,Pi,Pn,ai,ki,Vo,Bo],styles:[".close[_ngcontent-%COMP%]{position:absolute;right:10px}.btn-update[_ngcontent-%COMP%]:disabled{background-color:#6c757d;border-color:#6c757d;color:#fff}.btn-update[_ngcontent-%COMP%]{background-color:#007bff;border-color:#007bff;color:#fff}"]});let n=e;return n})();var Zne=n=>({"background-img":n}),Yne=n=>({"add-photo-img":n});function Jne(n,e){if(n&1){let t=Ce();E(0,"input",30),re("change",function(r){ue(t);let s=U();return de(s.onBackgroundImageChange(r))}),b()}}function Xne(n,e){if(n&1){let t=Ce();E(0,"input",30),re("change",function(r){ue(t);let s=U();return de(s.onProfileImageChange(r))}),b()}}function eie(n,e){if(n&1){let t=Ce();E(0,"button",31),re("click",function(){ue(t);let r=U();return de(r.startChat())}),L(1," Send Message "),b()}}function tie(n,e){if(n&1){let t=Ce();E(0,"button",32),re("click",function(){ue(t);let r=U();return de(r.sendConnectionRequest())}),L(1," Connect "),b()}if(n&2){let t=U();Xe("data-userid",t.userId)}}function nie(n,e){if(n&1){let t=Ce();E(0,"button",33),re("click",function(){ue(t);let r=U();return de(r.confirmUnconnect())}),L(1," Unconnect "),b()}}function iie(n,e){if(n&1){let t=Ce();E(0,"span",36),re("click",function(){ue(t);let r=U(2);return de(r.toggleEditMode())}),L(1," Edit "),b()}}function rie(n,e){if(n&1){let t=Ce();E(0,"button",34),re("click",function(){ue(t);let r=U();return de(r.toggleEditMode())}),J(1,iie,2,0,"span",35),b()}if(n&2){let t=U();T(),O("ngIf",!t.editMode)}}function sie(n,e){if(n&1){let t=Ce();E(0,"button",37),re("click",function(){ue(t);let r=U();return de(r.onSubmit())}),L(1," Save "),b()}}function oie(n,e){if(n&1){let t=Ce();E(0,"button",37),re("click",function(){ue(t);let r=U();return de(r.toggleEditMode())}),L(1," Cancel "),b()}}function aie(n,e){if(n&1){let t=Ce();E(0,"button",38),re("click",function(){ue(t);let r=U();return de(r.openEducationModal())}),ie(1,"ion-icon",39),b()}}function lie(n,e){if(n&1){let t=Ce();E(0,"button",45),re("click",function(){ue(t);let r=U().index,s=U();return de(s.removeEducation(r))}),L(1," Remove "),b()}}function cie(n,e){if(n&1){let t=Ce();E(0,"div",40),re("click",function(){let r=ue(t).$implicit,s=U();return de(s.openEducationModal(r))}),E(1,"div",41),ie(2,"ion-icon",42),b(),E(3,"div",43)(4,"h5"),L(5),b(),E(6,"p"),L(7),b(),J(8,lie,2,0,"button",44),b()()}if(n&2){let t=e.$implicit,i=U();T(5),gt(t.schoolName),T(2),gt(t.degree),T(),O("ngIf",i.editMode)}}function uie(n,e){if(n&1){let t=Ce();E(0,"button",38),re("click",function(){ue(t);let r=U();return de(r.openSkillsForm())}),ie(1,"ion-icon",39),b()}}function die(n,e){if(n&1){let t=Ce();E(0,"button",45),re("click",function(){ue(t);let r=U().index,s=U();return de(s.removeSkill(r))}),L(1," Remove "),b()}}function hie(n,e){if(n&1){let t=Ce();E(0,"div",46),re("click",function(){let r=ue(t).$implicit,s=U();return de(s.openSkillsForm(r))}),E(1,"div",47)(2,"h5"),L(3),b(),J(4,die,2,0,"button",44),b()()}if(n&2){let t=e.$implicit,i=U();T(3),gt(t.skillName),T(),O("ngIf",i.editMode)}}function fie(n,e){if(n&1){let t=Ce();E(0,"div",17)(1,"div",48)(2,"form",49),re("ngSubmit",function(){ue(t);let r=U();return de(r.onSubmit())}),E(3,"div",50)(4,"h4"),L(5,"First Name"),b(),ie(6,"input",51),b(),E(7,"div",50)(8,"h4"),L(9,"Last Name"),b(),ie(10,"input",52),b(),E(11,"div",50)(12,"h4"),L(13,"Email"),b(),ie(14,"input",53),b(),E(15,"div",50)(16,"h4"),L(17,"Address"),b(),ie(18,"input",54),b(),E(19,"div",50)(20,"h4"),L(21,"Contact"),b(),ie(22,"input",55),b(),E(23,"div",50)(24,"h4"),L(25,"Bio"),b(),ie(26,"textarea",56),b(),E(27,"button",57),L(28," Update Profile Info "),b()()()()}if(n&2){let t=U();T(2),O("formGroup",t.profileForm)}}function pie(n,e){if(n&1&&(E(0,"div",59)(1,"div",60)(2,"p"),L(3),b(),E(4,"span",61),L(5),ii(6,"date"),b()()()),n&2){let t=e.$implicit;T(3),gt(t.content),T(2),gt(Yl(6,2,t.timestamp.toDate(),"short"))}}function gie(n,e){if(n&1&&(E(0,"div"),J(1,pie,7,5,"div",58),b()),n&2){let t=U();T(),O("ngForOf",t.userPosts)}}function mie(n,e){n&1&&(E(0,"p"),L(1,"You haven't posted yet"),b())}var ZM=(()=>{let e=class e{constructor(i,r,s,o,a,l,c,d,f,m,v){this.profileService=i,this.fb=r,this.afAuth=s,this.firestore=o,this.storage=a,this.geocodingService=l,this.router=c,this.route=d,this.modalService=f,this.toastr=m,this.authService=v,this.userData={education:[],skills:[]},this.editMode=!1,this.userPosts=[],this.isCurrentUserProfile=!1,this.connectionSent=!1,this.isConnected=!1,this.profileForm=this.fb.group({profileImageUrl:[""],backgroundImageUrl:[""],firstName:["",xt.required],lastName:["",xt.required],email:[{value:"",disabled:!0},[xt.required,xt.email]],contact:[""],address:[""],education:this.fb.array([]),skills:this.fb.array([]),bio:[""]}),this.authService.getUser().subscribe(C=>{C&&(this.currentUserId=C.uid)})}ngOnInit(){this.route.params.subscribe(i=>F(this,null,function*(){if(this.userId=i.userId,!this.userId){let r=yield this.afAuth.currentUser;r&&(this.userId=r.uid,this.isCurrentUserProfile=!0)}this.userId&&(yield this.loadUserDataAndPosts(),this.checkConnection())}))}loadUserDataAndPosts(){return F(this,null,function*(){try{let i=yield this.afAuth.currentUser;i&&(this.isCurrentUserProfile=i.uid===this.userId),this.firestore.collection("users").doc(this.userId).valueChanges().subscribe(r=>{this.userData=r,(!this.userData.education||!Array.isArray(this.userData.education))&&(this.userData.education=[]),(!this.userData.skills||!Array.isArray(this.userData.skills))&&(this.userData.skills=[]),this.profileForm.patchValue(r),this.profileForm.setControl("education",this.fb.array(this.userData.education||[])),this.profileForm.setControl("skills",this.fb.array(this.userData.skills||[]))}),this.firestore.collection("posts",r=>r.where("userId","==",this.userId).orderBy("timestamp","desc")).valueChanges().subscribe(r=>{console.log("Posts:",r),this.userPosts=r})}catch(i){console.error("Error loading user data and posts:",i)}})}onSubmit(){if(this.profileForm.valid){let i=this.profileForm.value;this.geocodingService.getCoordinates(i.address).subscribe(r=>{i.position=r,this.userId?this.firestore.collection("users").doc(this.userId).update(i).then(()=>{console.log("Profile updated successfully"),this.toggleEditMode()}).catch(s=>{console.log("Error updating profile: ",s)}):this.afAuth.authState.subscribe(s=>{s&&this.firestore.collection("users").doc(s.uid).update(i).then(()=>{console.log("Profile updated successfully"),this.toggleEditMode()}).catch(o=>{console.log("Error updating profile: ",o)})})},r=>{console.error("Error getting coordinates for user address: ",r)})}}openImageModal(i,r){let s=this.modalService.open(pw);s.componentInstance.imageUrl=this.profileForm.get("profileImageUrl")?.value||"assets/images/add-photo.png",s.componentInstance.isProfileImage=r,s.componentInstance.isCurrentUserProfile=this.isCurrentUserProfile,s.componentInstance.onImageChange.subscribe(o=>{this.isCurrentUserProfile&&this.profileForm.patchValue({profileImageUrl:o})}),s.componentInstance.onDelete.subscribe(()=>{this.isCurrentUserProfile&&this.profileForm.patchValue({profileImageUrl:""})})}openProfileImageModal(){let i=this.modalService.open(pw);i.componentInstance.imageUrl=this.profileForm.get("profileImageUrl")?.value||"assets/images/default-profile.png",i.componentInstance.isProfileImage=!0,i.componentInstance.isCurrentUserProfile=!0}openBackgroundImageModal(){let i=this.modalService.open(pw);i.componentInstance.imageUrl=this.profileForm.get("backgroundImageUrl")?.value||"assets/images/default-background.png",i.componentInstance.isProfileImage=!1,i.componentInstance.isCurrentUserProfile=!0}deleteImage(i){if(this.userId){let r=i?"profileImageUrl":"backgroundImageUrl";this.firestore.collection("users").doc(this.userId).update({[r]:null}).then(()=>{this.profileForm.patchValue({[r]:null}),console.log(`${i?"Profile":"Background"} image deleted successfully`)}).catch(s=>{console.error(`Error deleting ${i?"profile":"background"} image: `,s)})}}onProfileImageChange(i){let r=i.target.files[0];if(r){let s=`profileImages/${r.name}`,o=this.storage.ref(s);this.storage.upload(s,r).snapshotChanges().pipe(zn(()=>{o.getDownloadURL().subscribe(l=>{this.profileForm.patchValue({profileImageUrl:l})})})).subscribe()}}onBackgroundImageChange(i){let r=i.target.files[0];if(r){let s=`backgroundImages/${r.name}`,o=this.storage.ref(s);this.storage.upload(s,r).snapshotChanges().pipe(zn(()=>{o.getDownloadURL().subscribe(l=>{this.profileForm.patchValue({backgroundImageUrl:l})})})).subscribe()}}startChat(){this.userId&&this.router.navigate(["/chat",{userId:this.userId}])}sendConnectionRequest(){let i={from:this.currentUserId,to:this.userId,timestamp:new Date,status:"pending"};this.firestore.collection("connectionRequests",r=>r.where("from","==",this.currentUserId).where("to","==",this.userId).where("status","==","pending")).get().subscribe(r=>{r.empty?this.firestore.collection("connectionRequests").add(i).then(()=>{this.connectionSent=!0,this.toastr.success("Connection request sent."),this.updatePendingButtons(this.userId)}).catch(s=>{console.error("Error sending connection request: ",s),this.toastr.error("Failed to send connection request.")}):this.toastr.warning("Connection request already sent.")})}updatePendingButtons(i){document.querySelectorAll(`[data-userid="${i}"]`).forEach(s=>{let o=s;o.textContent="Pending",o.disabled=!0})}toggleEditMode(){this.editMode=!this.editMode}openEducationForm(){this.modalService.open(QM).result.then(r=>{r&&(this.userData.education.push(r),this.updateUserData())}).catch(r=>{console.error("Modal dismissed",r)})}openEducationModal(i){let r=this.modalService.open(QM);r.componentInstance.education=i,console.log("Proslije\u0111ena vrijednost isCurrentUserProfile:",this.isCurrentUserProfile),r.componentInstance.isCurrentUserProfile=this.isCurrentUserProfile,r.componentInstance.educationSaved.subscribe(s=>{if(this.userData.education||(this.userData.education=[]),i){let o=this.userData.education.indexOf(i);o!==-1&&(this.userData.education[o]=s)}else this.userData.education.push(s);this.updateUserData()})}removeEducation(i){i>-1&&(this.userData.education.splice(i,1),this.updateUserData())}openSkillsForm(i){let r=this.modalService.open(G5);r.componentInstance.skill=i,r.componentInstance.isCurrentUserProfile=this.isCurrentUserProfile,this.isCurrentUserProfile&&r.componentInstance.skillSaved.subscribe(s=>{if(this.userData.skills||(this.userData.skills=[]),i){let o=this.userData.skills.indexOf(i);o!==-1&&(this.userData.skills[o]=s)}else this.userData.skills.push(s);this.updateUserData()})}removeSkill(i){i>-1&&(this.userData.skills.splice(i,1),this.updateUserData())}updateUserData(){this.userId&&this.firestore.collection("users").doc(this.userId).update({education:this.userData.education,skills:this.userData.skills}).then(()=>{console.log("User data updated successfully")}).catch(i=>{console.error("Error updating user data: ",i)})}checkConnection(){this.userId&&this.profileService.checkConnection(this.userId).subscribe(i=>{this.isConnected=i})}checkExistingRequests(){this.firestore.collection("connectionRequests",i=>i.where("from","==",this.currentUserId).where("to","==",this.userId)).valueChanges().subscribe(i=>{i.length>0&&i[0].status==="pending"&&(this.connectionSent=!0)})}confirmUnconnect(){q5.default.fire({title:"Are you sure?",text:"Do you want to unconnect with this user?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, unconnect",cancelButtonText:"No, cancel"}).then(i=>{i.isConfirmed&&this.unconnectUser()})}unconnectUser(){this.profileService.unconnectUser(this.userId).subscribe(()=>{this.toastr.success("You are no longer connected."),this.isConnected=!1,this.checkConnection()},i=>{this.toastr.error("Failed to unconnect from the user.")})}};e.\u0275fac=function(r){return new(r||e)(B(ul),B(el),B(Zr),B(ln),B(Mc),B(cl),B(Vt),B(ss),B(_M),B(Zs),B(ci))},e.\u0275cmp=Oe({type:e,selectors:[["app-profile"]],decls:55,vars:29,consts:[["noPosts",""],[1,"profile-container"],[1,"profile-photo"],[1,"background-image",3,"click"],["alt","Background Image",1,"background-img",3,"src","ngClass"],["type","file","class","file-input",3,"change",4,"ngIf"],[1,"profile-image",3,"click"],["alt","Profile Image",1,"profile-img",3,"src","ngClass"],[1,"profile-info","container","mt-4"],[1,"row","align-items-center"],[1,"col-md-9","d-flex","justify-content-between","align-items-center"],["href","#"],["class","btn btn-primary me-2",3,"click",4,"ngIf"],["class","btn btn-primary",3,"click",4,"ngIf"],["class","btn btn-outline-danger",3,"click",4,"ngIf"],["class","btn btn-secondary me-2","title","Edit",3,"click",4,"ngIf"],["class","btn btn-secondary",3,"click",4,"ngIf"],[1,"row","mt-4"],[1,"col-md-12","about"],[1,"education-section"],[1,"section-header"],["class","btn btn-light",3,"click",4,"ngIf"],[1,"education-cards"],["class","education-card",3,"click",4,"ngFor","ngForOf"],[1,"skills-section"],[1,"skills-cards"],["class","skills-card",3,"click",4,"ngFor","ngForOf"],["class","row mt-4",4,"ngIf"],["id","activity",1,"col-md-12","mt-4"],[4,"ngIf","ngIfElse"],["type","file",1,"file-input",3,"change"],[1,"btn","btn-primary","me-2",3,"click"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-outline-danger",3,"click"],["title","Edit",1,"btn","btn-secondary","me-2",3,"click"],["class","material-symbols-outlined","onmouseover","Edit",3,"click",4,"ngIf"],["onmouseover","Edit",1,"material-symbols-outlined",3,"click"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-light",3,"click"],["name","add-outline"],[1,"education-card",3,"click"],[1,"education-icon"],["name","school-outline"],[1,"education-info"],["class","btn btn-danger btn-sm",3,"click",4,"ngIf"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"skills-card",3,"click"],[1,"skills-info"],[1,"col-md-12"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["type","text","id","firstName","formControlName","firstName",1,"form-control"],["type","text","id","lastName","formControlName","lastName",1,"form-control"],["type","email","id","email","formControlName","email",1,"form-control"],["type","text","id","address","formControlName","address",1,"form-control"],["type","text","id","contact","formControlName","contact",1,"form-control"],["id","bio","formControlName","bio",1,"form-control"],["type","submit",1,"btn","btn-primary"],["class","post card mb-3",4,"ngFor","ngForOf"],[1,"post","card","mb-3"],[1,"card-body"],[1,"text-muted"]],template:function(r,s){if(r&1){let o=Ce();E(0,"div",1)(1,"div",2)(2,"div",3),re("click",function(){return ue(o),de(s.openBackgroundImageModal())}),ie(3,"img",4),J(4,Jne,1,0,"input",5),b(),E(5,"div",6),re("click",function(){return ue(o),de(s.openProfileImageModal())}),ie(6,"img",7),J(7,Xne,1,0,"input",5),b()(),E(8,"div",8)(9,"div",9)(10,"div",10)(11,"div")(12,"h3"),L(13),b(),E(14,"p"),L(15),b(),E(16,"p"),L(17),b(),E(18,"p")(19,"a",11),L(20),b()(),J(21,eie,2,0,"button",12)(22,tie,2,1,"button",13)(23,nie,2,0,"button",14),b(),E(24,"div"),J(25,rie,2,1,"button",15)(26,sie,2,0,"button",16)(27,oie,2,0,"button",16),b()()(),E(28,"div",17)(29,"div",18)(30,"h4"),L(31,"About"),b(),E(32,"p"),L(33),b()(),E(34,"div",19)(35,"div",20)(36,"h4"),L(37,"Education"),b(),J(38,aie,2,0,"button",21),b(),E(39,"div",22),J(40,cie,9,3,"div",23),b()(),E(41,"div",24)(42,"div",20)(43,"h4"),L(44,"Skills"),b(),J(45,uie,2,0,"button",21),b(),E(46,"div",25),J(47,hie,5,2,"div",26),b()(),J(48,fie,29,1,"div",27),E(49,"div",28)(50,"h4"),L(51,"Activity"),b(),J(52,gie,2,1,"div",29)(53,mie,2,0,"ng-template",null,0,Wr),b()()()()}if(r&2){let o,a,l,c,d=zr(54);T(3),O("src",((o=s.profileForm.get("backgroundImageUrl"))==null?null:o.value)||"assets/images/background.png",Gn)("ngClass",qn(25,Zne,!((a=s.profileForm.get("backgroundImageUrl"))!=null&&a.value))),T(),O("ngIf",s.editMode&&s.isCurrentUserProfile),T(2),O("src",((l=s.profileForm.get("profileImageUrl"))==null?null:l.value)||"assets/images/add-photo.png",Gn)("ngClass",qn(27,Yne,!((c=s.profileForm.get("profileImageUrl"))!=null&&c.value))),T(),O("ngIf",s.editMode&&s.isCurrentUserProfile),T(6),$r("",s.userData==null?null:s.userData.firstName," ",s.userData==null?null:s.userData.lastName,""),T(2),gt(s.userData==null||s.userData.education[0]==null?null:s.userData.education[0].degree),T(2),ot(" ",(s.userData==null||s.userData.skills==null||s.userData.skills[0]==null?null:s.userData.skills[0].skillName)||"No skills added yet"," "),T(3),gt(s.userData==null?null:s.userData.address),T(),O("ngIf",!s.isCurrentUserProfile),T(),O("ngIf",!s.isCurrentUserProfile&&!s.connectionSent&&!s.isConnected),T(),O("ngIf",!s.isCurrentUserProfile&&s.isConnected),T(2),O("ngIf",!s.editMode&&s.isCurrentUserProfile),T(),O("ngIf",s.editMode),T(),O("ngIf",s.editMode),T(6),gt(s.userData==null?null:s.userData.bio),T(5),O("ngIf",s.isCurrentUserProfile),T(2),O("ngForOf",s.userData==null?null:s.userData.education),T(5),O("ngIf",s.isCurrentUserProfile),T(2),O("ngForOf",s.userData.skills),T(),O("ngIf",s.editMode&&s.isCurrentUserProfile),T(4),O("ngIf",s.userPosts.length>0)("ngIfElse",d)}},dependencies:[Oi,xs,Ft,Pi,Pn,ai,ki,Vo,Bo,Ku],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0;padding:0}body[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100vh}.profile-container[_ngcontent-%COMP%]{flex-grow:1;background-color:#f4f4f4;border-radius:10.5px;box-shadow:0 2.8px 8.4px #0000001a;overflow:hidden;animation:_ngcontent-%COMP%_fadeIn .56s ease-in-out;padding:20px 200px 200px}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-14px)}to{opacity:1;transform:translateY(0)}}.profile-photo[_ngcontent-%COMP%]{position:relative}.background-image[_ngcontent-%COMP%]{position:relative;width:100%;height:300px;background-color:#e5e5e5;border-radius:10px;overflow:hidden}.background-img[_ngcontent-%COMP%]{width:100%;height:50%;object-fit:cover;transition:transform .35s ease}.background-img[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.profile-image[_ngcontent-%COMP%]{position:absolute;left:12%;bottom:-50px;transform:translate(-50%);width:150px;height:150px;border:5px solid #fff;border-radius:20%;overflow:hidden;background-color:#fff;z-index:10}.profile-img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .35s ease}.profile-img[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.file-input[_ngcontent-%COMP%]{display:none}.profile-info[_ngcontent-%COMP%]{position:relative;padding:30px;margin-top:80px;text-align:left}.profile-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:22.4px;font-weight:700;color:#333}.profile-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:3.5px 0;color:#666;font-size:12.6px}.profile-info[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:0 1px;font-size:12px;margin-left:0;transition:background-color .3s ease}.profile-info[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{position:absolute;right:1.5%}.profile-info[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{font-size:18px;width:24px;height:24px;line-height:24px}.col-md-9[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.row.align-items-center[_ngcontent-%COMP%]{align-items:center}.about[_ngcontent-%COMP%]{padding:14px;background-color:#fff;border-radius:7px;box-shadow:0 1.4px 7px #0000004d;animation:_ngcontent-%COMP%_slideUp .42s ease}.about[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:16.8px;color:#333;margin-bottom:7px}.about[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:11.2px;color:#555}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(14px)}to{opacity:1;transform:translateY(0)}}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:7px}.section-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:15.4px;font-weight:700}.section-header[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:9.8px;padding:5.6px 8.4px}.education-section[_ngcontent-%COMP%], .skills-section[_ngcontent-%COMP%]{margin-top:21px;padding:14px;background-color:#fff;border-radius:7px;box-shadow:0 1.4px 7px #0000004d}.education-cards[_ngcontent-%COMP%], .skills-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(175px,1fr));gap:14px}.education-card[_ngcontent-%COMP%], .skills-card[_ngcontent-%COMP%]{background-color:#f9fafb;border-radius:5.6px;padding:10.5px;transition:background-color .21s ease,box-shadow .21s ease;cursor:pointer;box-shadow:0 1.4px 7px #0505054d}.education-card[_ngcontent-%COMP%]:hover, .skills-card[_ngcontent-%COMP%]:hover{background-color:#f1f3f5;box-shadow:0 2.8px 5.6px #00000080}.education-info[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .skills-info[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:12.6px;margin-bottom:3.5px;color:#333}.education-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .skills-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:9.8px;color:#666}.education-icon[_ngcontent-%COMP%], .skills-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10.5px}.education-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], .skills-info[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:22.4px;color:#6c757d}.skills-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:3.5px 7px;background-color:#dc3545;border:none;border-radius:2.8px;color:#fff;cursor:pointer;transition:background-color .21s ease}.skills-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#c82333}#activity[_ngcontent-%COMP%]{margin-top:21px}.post[_ngcontent-%COMP%]{padding:10.5px;background-color:#fff;border-radius:5.6px;box-shadow:0 1.4px 7px #0000000d;transition:box-shadow .21s ease}.post[_ngcontent-%COMP%]:hover{box-shadow:0 2.8px 8.4px #0000001a}.card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:11.2px;color:#333}.card-body[_ngcontent-%COMP%]   .text-muted[_ngcontent-%COMP%]{font-size:8.4px;color:#888}@media (max-width: 768px){.profile-image[_ngcontent-%COMP%]{bottom:-56px;left:14px}.profile-img[_ngcontent-%COMP%]{width:70px;height:70px}.profile-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:19.6px}.profile-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:11.2px}.education-cards[_ngcontent-%COMP%], .skills-cards[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(140px,1fr))}.skills-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:2.8px 5.6px}}"]});let n=e;return n})();var W5=(()=>{let e=class e{constructor(i){this.firestore=i,this.skillsSubject=new kt([]),this.skills$=this.skillsSubject.asObservable(),this.fetchSkills()}fetchSkills(){this.firestore.collection("users").valueChanges().pipe(se(i=>{let r=new Set;return i.forEach(s=>{s.skills&&Array.isArray(s.skills)&&s.skills.forEach(o=>{typeof o=="string"?r.add(o.trim()):typeof o=="object"&&o.skillName&&r.add(o.skillName.trim())})}),Array.from(r).sort()})).subscribe(i=>{this.skillsSubject.next(i)})}getSkills(){return this.skillsSubject.value}};e.\u0275fac=function(r){return new(r||e)(G(ln))},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var _ie=()=>({standalone:!0}),vie=()=>[];function wie(n,e){n&1&&(E(0,"div",17),L(1,"Location is required."),b())}function bie(n,e){if(n&1){let t=Ce();E(0,"li",20),re("click",function(){let r=ue(t).$implicit,s=U(2);return de(s.selectSkill(r))}),L(1),b()}if(n&2){let t=e.$implicit;T(),ot(" ",t," ")}}function Cie(n,e){if(n&1&&(E(0,"ul",18),J(1,bie,2,1,"li",19),ii(2,"async"),b()),n&2){let t=U();T(),O("ngForOf",qr(2,1,t.filteredSkills$)||Gr(3,vie))}}function Eie(n,e){n&1&&(E(0,"div",21)(1,"p"),L(2,"No users found matching your search criteria."),b()())}function Iie(n,e){n&1&&(E(0,"span"),L(1,", "),b())}function Die(n,e){if(n&1&&(E(0,"span"),L(1),J(2,Iie,2,0,"span",32),b()),n&2){let t=e.$implicit,i=e.index,r=U().$implicit;T(),ot(" ",t.skillName||t,""),T(),O("ngIf",i<r.skills.length-1)}}function Tie(n,e){if(n&1){let t=Ce();E(0,"button",33),re("click",function(){ue(t);let r=U().$implicit,s=U(2);return de(s.sendConnectionRequest(r))}),L(1," Connect "),b()}}function Sie(n,e){n&1&&(E(0,"button",34),L(1," Pending "),b())}function Mie(n,e){if(n&1){let t=Ce();E(0,"button",35),re("click",function(){ue(t);let r=U().$implicit,s=U(2);return de(s.startChat(r))}),L(1," Send Message "),b()}}function Aie(n,e){if(n&1){let t=Ce();E(0,"li",24)(1,"h5"),L(2),b(),E(3,"p")(4,"strong"),L(5,"Skills:"),b(),J(6,Die,3,2,"span",25),b(),E(7,"p")(8,"strong"),L(9,"Location:"),b(),L(10),b(),E(11,"div",26),J(12,Tie,2,0,"button",27)(13,Sie,2,0,"button",28)(14,Mie,2,0,"button",29),E(15,"button",30),re("click",function(){let r=ue(t).$implicit,s=U(2);return de(s.viewProfile(r))}),L(16," View Profile "),b()(),E(17,"button",31),re("click",function(){let r=ue(t).$implicit,s=U(2);return de(s.focusOnMap(r))}),L(18," Show on Map "),b()()}if(n&2){let t=e.$implicit,i=e.index;Xe("data-userid",t.uid)("id","user-"+i),T(2),$r("",t.firstName," ",t.lastName,""),T(4),O("ngForOf",t.skills),T(4),ot(" ",t.address||"No location listed"," "),T(2),O("ngIf",!t.isConnected&&t.requestStatus!=="pending"),T(),O("ngIf",t.requestStatus==="pending"),T(),O("ngIf",t.isConnected)}}function xie(n,e){if(n&1&&(E(0,"div",22)(1,"h4"),L(2,"Results:"),b(),E(3,"ul",18),J(4,Aie,19,9,"li",23),b()()),n&2){let t=U();T(4),O("ngForOf",t.filteredUsers)}}function Rie(n,e){if(n&1){let t=Ce();E(0,"map-marker",40),re("mapClick",function(){let r=ue(t),s=r.$implicit,o=r.index,a=U(2);return de(a.onMapMarkerClick(s,o))}),b()}if(n&2){let t=e.$implicit;O("position",t.position)("title",t.firstName+" "+t.lastName)}}function Oie(n,e){if(n&1&&(E(0,"div",36)(1,"p")(2,"small"),L(3,"*Press the marker!"),b()(),E(4,"google-map",37),J(5,Rie,1,2,"map-marker",38),ie(6,"map-circle",39),b()()),n&2){let t=U();T(4),O("center",t.center)("zoom",t.zoom),T(),O("ngForOf",t.filteredUsers),T(),O("center",t.center)("radius",t.radius*1e3)("options",t.circleOptions)}}var K5=(()=>{let e=class e{constructor(i,r,s,o,a,l,c){this.geocodingService=i,this.firestore=r,this.authService=s,this.skillsService=o,this.notificationService=a,this.profileService=l,this.router=c,this.location="",this.radius=5,this.skill="",this.users=[],this.filteredUsers=[],this.center={lat:0,lng:0},this.zoom=12,this.showMap=!1,this.searchAttempted=!1,this.locationError=!1,this.skillControl=new Ac(""),this.filteredSkills$=ce([]),this.isDropdownVisible=!1,this.circleOptions={fillColor:"lightblue",fillOpacity:.4,strokeColor:"blue",strokeOpacity:.8,strokeWeight:1}}ngOnInit(){this.authService.getCurrentUserDetails().then(i=>{this.currentUser=i}),this.firestore.collection("users").valueChanges().subscribe(i=>{this.users=i,this.checkConnectionStatus()}),this.filteredSkills$=this.skillControl.valueChanges.pipe(kr(""),se(i=>this.filterSkills(i??"")))}sendConnectionRequest(i){let r={from:this.currentUser.uid,to:i.uid,timestamp:new Date,status:"pending"};this.firestore.collection("connectionRequests").add(r).then(()=>{i.requestStatus="pending",this.notificationService.showSuccess("Connection request sent."),this.checkConnectionStatus()}).catch(s=>{this.notificationService.showError("Failed to send connection request."),console.error("Error sending connection request:",s)})}checkConnectionStatus(){this.filteredUsers.forEach(i=>{this.profileService.checkConnection(i.uid).subscribe(r=>{i.isConnected=r,r?i.requestStatus="accepted":this.firestore.collection("connectionRequests",s=>s.where("from","==",this.currentUser.uid).where("to","==",i.uid).where("status","==","pending")).valueChanges().subscribe(s=>{i.requestStatus=s.length>0?"pending":null})})})}viewProfile(i){this.router.navigate(["/profile",i.uid])}startChat(i){i.isConnected&&this.router.navigate(["/chat",{userId:i.uid}])}searchUsers(){this.searchAttempted=!0;let i=this.skillControl.value??"";if(!this.location){this.locationError=!0;return}this.locationError=!1,this.geocodingService.getCoordinates(this.location).subscribe(r=>{console.log("Coordinates:",r),this.center=r,this.filteredUsers=[],this.users.forEach(s=>{if(!s.position||!s.position.lat||!s.position.lng){console.warn(`User ${s.firstName||"Unnamed User"} does not have valid position data.`);return}let o=this.calculateDistance(this.center,s.position),l=(Array.isArray(s.skills)?s.skills:[]).some(c=>{let d=typeof c=="string"?c:c.skillName;return d&&d.toLowerCase().includes(i.toLowerCase())});if(s.uid===this.currentUser.uid){console.log("Skipping current user from search results");return}o<=this.radius&&l&&this.geocodingService.getReverseGeocode(s.position.lat,s.position.lng).subscribe(c=>{s.address=c.formatted_address,s.city=c.locality||c.administrative_area_level_2||"",this.filteredUsers.push(s),this.showMap=this.filteredUsers.length>0,console.log("Filtered users:",this.filteredUsers),this.checkConnectionStatus()},c=>{console.error("Error getting address from coordinates:",c)})})},r=>{console.error("Error getting location coordinates",r),this.showMap=!1})}selectSkill(i){this.skillControl.setValue(i),this.filteredSkills$=ce([]),this.isDropdownVisible=!1}filterSkills(i){let r=i.toLowerCase();return this.skillsService.getSkills().filter(s=>s.toLowerCase().includes(r))}onSkillInput(i){let s=i.target?.value??"";this.filteredSkills$=ce(this.filterSkills(s))}showDropdown(){this.isDropdownVisible=!0}hideDropdown(i){let r=i.relatedTarget;r&&r.closest(".list-group")||setTimeout(()=>{this.isDropdownVisible=!1},200)}focusOnMap(i){this.center={lat:i.position.lat,lng:i.position.lng},this.zoom=15;let r=document.querySelector("google-map");r&&(r.classList.add("map-zoom-animation"),setTimeout(()=>r.classList.remove("map-zoom-animation"),1e3))}calculateDistance(i,r){let o=this.deg2rad(r.lat-i.lat),a=this.deg2rad(r.lng-i.lng),l=Math.sin(o/2)*Math.sin(o/2)+Math.cos(this.deg2rad(i.lat))*Math.cos(this.deg2rad(r.lat))*Math.sin(a/2)*Math.sin(a/2);return 6371*(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)))}onMapMarkerClick(i,r){let s=document.getElementById(`user-${r}`);s&&(s.scrollIntoView({behavior:"smooth"}),s.classList.add("blink"),setTimeout(()=>s.classList.remove("blink"),3e3))}deg2rad(i){return i*(Math.PI/180)}resetForm(){this.location="",this.radius=5,this.skillControl.setValue(""),this.filteredUsers=[],this.showMap=!1}};e.\u0275fac=function(r){return new(r||e)(B(cl),B(ln),B(ci),B(W5),B(mh),B(ul),B(Vt))},e.\u0275cmp=Oe({type:e,selectors:[["app-search"]],decls:26,vars:13,consts:[[1,"container","mt-4"],[3,"ngSubmit"],[1,"mb-3"],[1,"btn","btn-warning","btn-sm","float-end","mb-2",3,"click"],["for","location",1,"form-label"],["type","text","id","location","name","location","placeholder","Enter your location (e.g., Zadar)",1,"form-control",3,"ngModelChange","ngModel"],["class","text-danger",4,"ngIf"],["for","radius",1,"form-label"],["type","number","id","radius","name","radius","placeholder","Enter search radius in kilometers",1,"form-control",3,"ngModelChange","ngModel"],[1,"mb-3",3,"focusout"],["for","skill",1,"form-label"],["type","text","id","skill","name","skill","placeholder","Enter skill (e.g., Web Developer)",1,"form-control",3,"ngModelChange","input","focus","ngModel","ngModelOptions"],["class","list-group",4,"ngIf"],["type","submit",1,"btn","btn-primary"],["class","no-results",4,"ngIf"],["class","mt-4",4,"ngIf"],["class","mt-4 google-map",4,"ngIf"],[1,"text-danger"],[1,"list-group"],["class","list-group-item list-group-item-action",3,"click",4,"ngFor","ngForOf"],[1,"list-group-item","list-group-item-action",3,"click"],[1,"no-results"],[1,"mt-4"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],[4,"ngFor","ngForOf"],[1,"actions"],["class","btn btn-outline-primary me-2",3,"click",4,"ngIf"],["class","btn btn-outline-secondary me-2","disabled","",4,"ngIf"],["class","btn btn-success me-2",3,"click",4,"ngIf"],[1,"btn","btn-outline-success",3,"click"],[1,"btn","btn-info","btn-small","ms-auto",3,"click"],[4,"ngIf"],[1,"btn","btn-outline-primary","me-2",3,"click"],["disabled","",1,"btn","btn-outline-secondary","me-2"],[1,"btn","btn-success","me-2",3,"click"],[1,"mt-4","google-map"],["height","500px","width","100%",3,"center","zoom"],[3,"position","title","mapClick",4,"ngFor","ngForOf"],[3,"center","radius","options"],[3,"mapClick","position","title"]],template:function(r,s){if(r&1&&(E(0,"div",0)(1,"h3"),L(2,"Search for Users"),b(),E(3,"form",1),re("ngSubmit",function(){return s.searchUsers()}),E(4,"div",2)(5,"button",3),re("click",function(){return s.resetForm()}),L(6," Reset Form "),b(),E(7,"label",4),L(8,"Location"),b(),E(9,"input",5),pr("ngModelChange",function(a){return Hr(s.location,a)||(s.location=a),a}),b(),J(10,wie,2,0,"div",6),b(),E(11,"div",2)(12,"label",7),L(13,"Radius (km)"),b(),E(14,"input",8),pr("ngModelChange",function(a){return Hr(s.radius,a)||(s.radius=a),a}),b()(),E(15,"div",9),re("focusout",function(a){return s.hideDropdown(a)}),E(16,"label",10),L(17,"Skill"),b(),E(18,"input",11),pr("ngModelChange",function(a){return Hr(s.skillControl.value,a)||(s.skillControl.value=a),a}),re("input",function(a){return s.onSkillInput(a)})("focus",function(){return s.showDropdown()}),b(),J(19,Cie,3,4,"ul",12),ii(20,"async"),b(),E(21,"button",13),L(22,"Search"),b()(),J(23,Eie,3,0,"div",14)(24,xie,5,1,"div",15)(25,Oie,7,6,"div",16),b()),r&2){let o;T(9),fr("ngModel",s.location),T(),O("ngIf",s.locationError),T(4),fr("ngModel",s.radius),T(4),fr("ngModel",s.skillControl.value),O("ngModelOptions",Gr(12,_ie)),Xe("autocomplete","off"),T(),O("ngIf",s.isDropdownVisible&&((o=qr(20,10,s.filteredSkills$))==null?null:o.length)),T(4),O("ngIf",s.filteredUsers.length===0&&s.searchAttempted),T(),O("ngIf",s.filteredUsers.length>0),T(),O("ngIf",s.showMap)}},dependencies:[xs,Ft,Pi,Pn,JT,ai,ki,Lo,Rc,gv,HV,GV,Ea],styles:[".container[_ngcontent-%COMP%]{font-family:Arial,sans-serif;background:#f9f9f9;border-radius:10px;padding:100px;box-shadow:0 0 15px #0000001a;animation:_ngcontent-%COMP%_fadeIn 1s ease-in-out}.form-control[_ngcontent-%COMP%]{border-radius:20px;padding:10px;margin-bottom:10px;border:1px solid #0077b5;transition:border-color .3s ease-in-out}.form-control[_ngcontent-%COMP%]:focus{border-color:#005582;box-shadow:0 0 10px #0077b533}.btn-primary[_ngcontent-%COMP%]{background-color:#0077b5;border-radius:25px;border:none;padding:10px 20px;font-weight:700;transition:background-color .3s ease-in-out}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#005582;transform:scale(1.05)}.list-group-item[_ngcontent-%COMP%]{background:#fff;border-radius:10px;margin-bottom:10px;box-shadow:0 0 10px #0000000d;padding:20px;transition:transform .3s ease,box-shadow .3s ease}.list-group-item[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 5px 20px #0000001a}.list-group-item[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:#333}.list-group-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;color:#555}.list-group-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#0077b5}.google-map[_ngcontent-%COMP%]{border-radius:10px;overflow:hidden;box-shadow:0 0 15px #0000001a}.actions[_ngcontent-%COMP%]{position:absolute;right:10px;top:50%;transform:translateY(-50%);display:flex;gap:10px}.connect-btn[_ngcontent-%COMP%], .follow-btn[_ngcontent-%COMP%]{padding:8px 12px;border:none;border-radius:5px;cursor:pointer;font-size:14px;font-weight:700;transition:background-color .3s}.connect-btn[_ngcontent-%COMP%]{background-color:#007bff;color:#fff}.connect-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}.follow-btn[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.follow-btn[_ngcontent-%COMP%]:hover{background-color:#218838}.btn-small[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:flex-start;gap:10px;font-size:10px;padding:2px 4px;height:auto}.actions[_ngcontent-%COMP%]   .btn-info[_ngcontent-%COMP%]{margin-left:auto;margin-top:5px}.list-group-item-action[_ngcontent-%COMP%]{font-size:14px;padding:8px 12px}.list-group[_ngcontent-%COMP%]{max-height:150px;overflow-y:auto;border:1px solid #ccc;border-radius:4px;background-color:#fff}.list-group-item-action[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}.list-group[_ngcontent-%COMP%]::-webkit-scrollbar{width:16px}.list-group[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#0077b5;border-radius:10px}.list-group[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#f1f1f1}.map-zoom-animation[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_zoomAnimation .5s ease-in-out}@keyframes _ngcontent-%COMP%_zoomAnimation{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}.blink[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_blinkEffect 1s ease-in-out 3}@keyframes _ngcontent-%COMP%_blinkEffect{0%{background-color:#fff}50%{background-color:#ffeeba}to{background-color:#fff}}.no-results[_ngcontent-%COMP%]{text-align:center;color:red;font-weight:700;margin-top:20px;animation:_ngcontent-%COMP%_fadeIn .5s ease-in-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.text-danger[_ngcontent-%COMP%]{color:red;font-weight:700;margin-top:5px}"]});let n=e;return n})();var Q5=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"home",component:$5,canActivate:[yh]},{path:"profile",component:ZM,canActivate:[yh]},{path:"search",component:K5,canActivate:[yh]},{path:"login",component:WM},{path:"register",component:WM},{path:"chat",component:z5,canActivate:[yh]},{path:"profile/:userId",component:ZM,canActivate:[yh]}];var Z5=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e,bootstrap:[U5]}),e.\u0275inj=ve({providers:[cl,ul,Js,gh],imports:[vy,mk,g3.forRoot(Q5),BV,UV,Mk.initializeApp(tg.firebaseConfig),aV,CL,qV,Uk,Rs,V3,EB,z3.forRoot({positionClass:"toast-top-right",timeOut:4e3,progressBar:!0,closeButton:!0,preventDuplicates:!0,newestOnTop:!0,tapToDismiss:!0}),s5,Z3,lw]});let n=e;return n})();tg.production&&void 0;Ek().bootstrapModule(Z5).catch(n=>console.error(n));
