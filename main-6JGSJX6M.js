import{A as ps,B as gu,C as uA,D as zi,E as io,F as Kg,G as dA,H as mu,I as hA,J as Un,K as vt,a as Q,b as Ee,c as Hh,d as PU,e as Hg,f as Ow,g as F,h as iA,i as Gg,j as rA,k as sA,l as oA,m as Nw,n as qg,o as Gh,p as aA,q as kw,r as fu,s as lA,t as cA,u as ia,v as pu,w as qh,x as Wg,y as tt,z as Bn}from"./chunk-I7R3E4IA.js";var ag=PU((Ys,UM)=>{"use strict";(function(n,e){typeof Ys=="object"&&typeof UM<"u"?UM.exports=e():typeof define=="function"&&define.amd?define(e):(n=typeof globalThis<"u"?globalThis:n||self,n.Sweetalert2=e())})(Ys,function(){"use strict";function n(f,p,y){if(typeof f=="function"?f===p:f.has(p))return arguments.length<3?p:y;throw new TypeError("Private element is not present on this object")}function e(f,p){if(p.has(f))throw new TypeError("Cannot initialize the same private elements twice on an object")}function t(f,p){return f.get(n(f,p))}function i(f,p,y){e(f,p),p.set(f,y)}function r(f,p,y){return f.set(n(f,p),y),y}let s=100,o={},a=()=>{o.previousActiveElement instanceof HTMLElement?(o.previousActiveElement.focus(),o.previousActiveElement=null):document.body&&document.body.focus()},l=f=>new Promise(p=>{if(!f)return p();let y=window.scrollX,I=window.scrollY;o.restoreFocusTimeout=setTimeout(()=>{a(),p()},s),window.scrollTo(y,I)}),c="swal2-",h=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((f,p)=>(f[p]=c+p,f),{}),v=["success","warning","info","question","error"].reduce((f,p)=>(f[p]=c+p,f),{}),C="SweetAlert2:",A=f=>f.charAt(0).toUpperCase()+f.slice(1),S=f=>{console.warn(`${C} ${typeof f=="object"?f.join(" "):f}`)},j=f=>{console.error(`${C} ${f}`)},Z=[],W=f=>{Z.includes(f)||(Z.push(f),S(f))},Y=function(f){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;W(`"${f}" is deprecated and will be removed in the next major release.${p?` Use "${p}" instead.`:""}`)},ge=f=>typeof f=="function"?f():f,ae=f=>f&&typeof f.toPromise=="function",R=f=>ae(f)?f.toPromise():Promise.resolve(f),D=f=>f&&Promise.resolve(f)===f,M=()=>document.body.querySelector(`.${h.container}`),N=f=>{let p=M();return p?p.querySelector(f):null},P=f=>N(`.${f}`),k=()=>P(h.popup),O=()=>P(h.icon),Ii=()=>P(h["icon-content"]),Tr=()=>P(h.title),me=()=>P(h["html-container"]),be=()=>P(h.image),Ie=()=>P(h["progress-steps"]),ze=()=>P(h["validation-message"]),ut=()=>N(`.${h.actions} .${h.confirm}`),wn=()=>N(`.${h.actions} .${h.cancel}`),gt=()=>N(`.${h.actions} .${h.deny}`),Dt=()=>P(h["input-label"]),dt=()=>N(`.${h.loader}`),Di=()=>P(h.actions),Gc=()=>P(h.footer),Tt=()=>P(h["timer-progress-bar"]),Li=()=>P(h.close),Zn=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Vi=()=>{let f=k();if(!f)return[];let p=f.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),y=Array.from(p).sort((_e,Ye)=>{let mt=parseInt(_e.getAttribute("tabindex")||"0"),Ht=parseInt(Ye.getAttribute("tabindex")||"0");return mt>Ht?1:mt<Ht?-1:0}),I=f.querySelectorAll(Zn),z=Array.from(I).filter(_e=>_e.getAttribute("tabindex")!=="-1");return[...new Set(y.concat(z))].filter(_e=>Ln(_e))},sr=()=>Bi(document.body,h.shown)&&!Bi(document.body,h["toast-shown"])&&!Bi(document.body,h["no-backdrop"]),Ho=()=>{let f=k();return f?Bi(f,h.toast):!1},Ch=()=>{let f=k();return f?f.hasAttribute("data-loading"):!1},Fn=(f,p)=>{if(f.textContent="",p){let I=new DOMParser().parseFromString(p,"text/html"),z=I.querySelector("head");z&&Array.from(z.childNodes).forEach(Ye=>{f.appendChild(Ye)});let _e=I.querySelector("body");_e&&Array.from(_e.childNodes).forEach(Ye=>{Ye instanceof HTMLVideoElement||Ye instanceof HTMLAudioElement?f.appendChild(Ye.cloneNode(!0)):f.appendChild(Ye)})}},Bi=(f,p)=>{if(!p)return!1;let y=p.split(/\s+/);for(let I=0;I<y.length;I++)if(!f.classList.contains(y[I]))return!1;return!0},lg=(f,p)=>{Array.from(f.classList).forEach(y=>{!Object.values(h).includes(y)&&!Object.values(v).includes(y)&&!Object.values(p.showClass||{}).includes(y)&&f.classList.remove(y)})},Yn=(f,p,y)=>{if(lg(f,p),!p.customClass)return;let I=p.customClass[y];if(I){if(typeof I!="string"&&!I.forEach){S(`Invalid type of customClass.${y}! Expected string or iterable object, got "${typeof I}"`);return}Xe(f,I)}},qc=(f,p)=>{if(!p)return null;switch(p){case"select":case"textarea":case"file":return f.querySelector(`.${h.popup} > .${h[p]}`);case"checkbox":return f.querySelector(`.${h.popup} > .${h.checkbox} input`);case"radio":return f.querySelector(`.${h.popup} > .${h.radio} input:checked`)||f.querySelector(`.${h.popup} > .${h.radio} input:first-child`);case"range":return f.querySelector(`.${h.popup} > .${h.range} input`);default:return f.querySelector(`.${h.popup} > .${h.input}`)}},Eh=f=>{if(f.focus(),f.type!=="file"){let p=f.value;f.value="",f.value=p}},Ih=(f,p,y)=>{!f||!p||(typeof p=="string"&&(p=p.split(/\s+/).filter(Boolean)),p.forEach(I=>{Array.isArray(f)?f.forEach(z=>{y?z.classList.add(I):z.classList.remove(I)}):y?f.classList.add(I):f.classList.remove(I)}))},Xe=(f,p)=>{Ih(f,p,!0)},Ui=(f,p)=>{Ih(f,p,!1)},os=(f,p)=>{let y=Array.from(f.children);for(let I=0;I<y.length;I++){let z=y[I];if(z instanceof HTMLElement&&Bi(z,p))return z}},Sr=(f,p,y)=>{y===`${parseInt(y)}`&&(y=parseInt(y)),y||parseInt(y)===0?f.style.setProperty(p,typeof y=="number"?`${y}px`:y):f.style.removeProperty(p)},Zt=function(f){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";f&&(f.style.display=p)},cn=f=>{f&&(f.style.display="none")},un=function(f){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";f&&new MutationObserver(()=>{as(f,f.innerHTML,p)}).observe(f,{childList:!0,subtree:!0})},Tn=(f,p,y,I)=>{let z=f.querySelector(p);z&&z.style.setProperty(y,I)},as=function(f,p){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";p?Zt(f,y):cn(f)},Ln=f=>!!(f&&(f.offsetWidth||f.offsetHeight||f.getClientRects().length)),cg=()=>!Ln(ut())&&!Ln(gt())&&!Ln(wn()),ug=f=>f.scrollHeight>f.clientHeight,Go=f=>{let p=window.getComputedStyle(f),y=parseFloat(p.getPropertyValue("animation-duration")||"0"),I=parseFloat(p.getPropertyValue("transition-duration")||"0");return y>0||I>0},Wc=function(f){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y=Tt();y&&Ln(y)&&(p&&(y.style.transition="none",y.style.width="100%"),setTimeout(()=>{y.style.transition=`width ${f/1e3}s linear`,y.style.width="0%"},10))},dg=()=>{let f=Tt();if(!f)return;let p=parseInt(window.getComputedStyle(f).width);f.style.removeProperty("transition"),f.style.width="100%";let y=parseInt(window.getComputedStyle(f).width),I=p/y*100;f.style.width=`${I}%`},Kc=()=>typeof window>"u"||typeof document>"u",fw=`
 <div aria-labelledby="${h.title}" aria-describedby="${h["html-container"]}" class="${h.popup}" tabindex="-1">
   <button type="button" class="${h.close}"></button>
   <ul class="${h["progress-steps"]}"></ul>
   <div class="${h.icon}"></div>
   <img class="${h.image}" />
   <h2 class="${h.title}" id="${h.title}"></h2>
   <div class="${h["html-container"]}" id="${h["html-container"]}"></div>
   <input class="${h.input}" id="${h.input}" />
   <input type="file" class="${h.file}" />
   <div class="${h.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${h.select}" id="${h.select}"></select>
   <div class="${h.radio}"></div>
   <label class="${h.checkbox}">
     <input type="checkbox" id="${h.checkbox}" />
     <span class="${h.label}"></span>
   </label>
   <textarea class="${h.textarea}" id="${h.textarea}"></textarea>
   <div class="${h["validation-message"]}" id="${h["validation-message"]}"></div>
   <div class="${h.actions}">
     <div class="${h.loader}"></div>
     <button type="button" class="${h.confirm}"></button>
     <button type="button" class="${h.deny}"></button>
     <button type="button" class="${h.cancel}"></button>
   </div>
   <div class="${h.footer}"></div>
   <div class="${h["timer-progress-bar-container"]}">
     <div class="${h["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),pw=()=>{let f=M();return f?(f.remove(),Ui([document.documentElement,document.body],[h["no-backdrop"],h["toast-shown"],h["has-column"]]),!0):!1},Mr=()=>{o.currentInstance.resetValidationMessage()},hg=()=>{let f=k(),p=os(f,h.input),y=os(f,h.file),I=f.querySelector(`.${h.range} input`),z=f.querySelector(`.${h.range} output`),_e=os(f,h.select),Ye=f.querySelector(`.${h.checkbox} input`),mt=os(f,h.textarea);p.oninput=Mr,y.onchange=Mr,_e.onchange=Mr,Ye.onchange=Mr,mt.oninput=Mr,I.oninput=()=>{Mr(),z.value=I.value},I.onchange=()=>{Mr(),z.value=I.value}},fg=f=>typeof f=="string"?document.querySelector(f):f,dl=f=>{let p=k();p.setAttribute("role",f.toast?"alert":"dialog"),p.setAttribute("aria-live",f.toast?"polite":"assertive"),f.toast||p.setAttribute("aria-modal","true")},Dh=f=>{window.getComputedStyle(f).direction==="rtl"&&Xe(M(),h.rtl)},Th=f=>{let p=pw();if(Kc()){j("SweetAlert2 requires document to initialize");return}let y=document.createElement("div");y.className=h.container,p&&Xe(y,h["no-transition"]),Fn(y,fw);let I=fg(f.target);I.appendChild(y),dl(f),Dh(I),hg()},Ar=(f,p)=>{f instanceof HTMLElement?p.appendChild(f):typeof f=="object"?pg(f,p):f&&Fn(p,f)},pg=(f,p)=>{f.jquery?Qc(p,f):Fn(p,f.toString())},Qc=(f,p)=>{if(f.textContent="",0 in p)for(let y=0;y in p;y++)f.appendChild(p[y].cloneNode(!0));else f.appendChild(p.cloneNode(!0))},ls=(()=>{if(Kc())return!1;let f=document.createElement("div");return typeof f.style.webkitAnimation<"u"?"webkitAnimationEnd":typeof f.style.animation<"u"?"animationend":!1})(),hl=(f,p)=>{let y=Di(),I=dt();!y||!I||(!p.showConfirmButton&&!p.showDenyButton&&!p.showCancelButton?cn(y):Zt(y),Yn(y,p,"actions"),gg(y,I,p),Fn(I,p.loaderHtml||""),Yn(I,p,"loader"))};function gg(f,p,y){let I=ut(),z=gt(),_e=wn();!I||!z||!_e||(Zc(I,"confirm",y),Zc(z,"deny",y),Zc(_e,"cancel",y),Vn(I,z,_e,y),y.reverseButtons&&(y.toast?(f.insertBefore(_e,I),f.insertBefore(z,I)):(f.insertBefore(_e,p),f.insertBefore(z,p),f.insertBefore(I,p))))}function Vn(f,p,y,I){if(!I.buttonsStyling){Ui([f,p,y],h.styled);return}Xe([f,p,y],h.styled),I.confirmButtonColor&&(f.style.backgroundColor=I.confirmButtonColor,Xe(f,h["default-outline"])),I.denyButtonColor&&(p.style.backgroundColor=I.denyButtonColor,Xe(p,h["default-outline"])),I.cancelButtonColor&&(y.style.backgroundColor=I.cancelButtonColor,Xe(y,h["default-outline"]))}function Zc(f,p,y){let I=A(p);as(f,y[`show${I}Button`],"inline-block"),Fn(f,y[`${p}ButtonText`]||""),f.setAttribute("aria-label",y[`${p}ButtonAriaLabel`]||""),f.className=h[p],Yn(f,y,`${p}Button`)}let fl=(f,p)=>{let y=Li();y&&(Fn(y,p.closeButtonHtml||""),Yn(y,p,"closeButton"),as(y,p.showCloseButton),y.setAttribute("aria-label",p.closeButtonAriaLabel||""))},pl=(f,p)=>{let y=M();y&&(gw(y,p.backdrop),mw(y,p.position),qo(y,p.grow),Yn(y,p,"container"))};function gw(f,p){typeof p=="string"?f.style.background=p:p||Xe([document.documentElement,document.body],h["no-backdrop"])}function mw(f,p){p&&(p in h?Xe(f,h[p]):(S('The "position" parameter is not valid, defaulting to "center"'),Xe(f,h.center)))}function qo(f,p){p&&Xe(f,h[`grow-${p}`])}var Ct={innerParams:new WeakMap,domCache:new WeakMap};let _w=["input","file","range","select","radio","checkbox","textarea"],Yc=(f,p)=>{let y=k();if(!y)return;let I=Ct.innerParams.get(f),z=!I||p.input!==I.input;_w.forEach(_e=>{let Ye=os(y,h[_e]);Ye&&(Jc(_e,p.inputAttributes),Ye.className=h[_e],z&&cn(Ye))}),p.input&&(z&&mg(p),cs(p))},mg=f=>{if(!f.input)return;if(!Vt[f.input]){j(`Unexpected type of input! Expected ${Object.keys(Vt).join(" | ")}, got "${f.input}"`);return}let p=eu(f.input);if(!p)return;let y=Vt[f.input](p,f);Zt(p),f.inputAutoFocus&&setTimeout(()=>{Eh(y)})},Sh=f=>{for(let p=0;p<f.attributes.length;p++){let y=f.attributes[p].name;["id","type","value","style"].includes(y)||f.removeAttribute(y)}},Jc=(f,p)=>{let y=k();if(!y)return;let I=qc(y,f);if(I){Sh(I);for(let z in p)I.setAttribute(z,p[z])}},cs=f=>{if(!f.input)return;let p=eu(f.input);p&&Yn(p,f,"input")},Xc=(f,p)=>{!f.placeholder&&p.inputPlaceholder&&(f.placeholder=p.inputPlaceholder)},Wo=(f,p,y)=>{if(y.inputLabel){let I=document.createElement("label"),z=h["input-label"];I.setAttribute("for",f.id),I.className=z,typeof y.customClass=="object"&&Xe(I,y.customClass.inputLabel),I.innerText=y.inputLabel,p.insertAdjacentElement("beforebegin",I)}},eu=f=>{let p=k();if(p)return os(p,h[f]||h.input)},Ko=(f,p)=>{["string","number"].includes(typeof p)?f.value=`${p}`:D(p)||S(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof p}"`)},Vt={};Vt.text=Vt.email=Vt.password=Vt.number=Vt.tel=Vt.url=Vt.search=Vt.date=Vt["datetime-local"]=Vt.time=Vt.week=Vt.month=(f,p)=>(Ko(f,p.inputValue),Wo(f,f,p),Xc(f,p),f.type=p.input,f),Vt.file=(f,p)=>(Wo(f,f,p),Xc(f,p),f),Vt.range=(f,p)=>{let y=f.querySelector("input"),I=f.querySelector("output");return Ko(y,p.inputValue),y.type=p.input,Ko(I,p.inputValue),Wo(y,f,p),f},Vt.select=(f,p)=>{if(f.textContent="",p.inputPlaceholder){let y=document.createElement("option");Fn(y,p.inputPlaceholder),y.value="",y.disabled=!0,y.selected=!0,f.appendChild(y)}return Wo(f,f,p),f},Vt.radio=f=>(f.textContent="",f),Vt.checkbox=(f,p)=>{let y=qc(k(),"checkbox");y.value="1",y.checked=!!p.inputValue;let I=f.querySelector("span");return Fn(I,p.inputPlaceholder||p.inputLabel),y},Vt.textarea=(f,p)=>{Ko(f,p.inputValue),Xc(f,p),Wo(f,f,p);let y=I=>parseInt(window.getComputedStyle(I).marginLeft)+parseInt(window.getComputedStyle(I).marginRight);return setTimeout(()=>{if("MutationObserver"in window){let I=parseInt(window.getComputedStyle(k()).width),z=()=>{if(!document.body.contains(f))return;let _e=f.offsetWidth+y(f);_e>I?k().style.width=`${_e}px`:Sr(k(),"width",p.width)};new MutationObserver(z).observe(f,{attributes:!0,attributeFilter:["style"]})}}),f};let _g=(f,p)=>{let y=me();y&&(un(y),Yn(y,p,"htmlContainer"),p.html?(Ar(p.html,y),Zt(y,"block")):p.text?(y.textContent=p.text,Zt(y,"block")):cn(y),Yc(f,p))},yw=(f,p)=>{let y=Gc();y&&(un(y),as(y,p.footer,"block"),p.footer&&Ar(p.footer,y),Yn(y,p,"footer"))},tu=(f,p)=>{let y=Ct.innerParams.get(f),I=O();if(I){if(y&&p.icon===y.icon){nu(I,p),Mh(I,p);return}if(!p.icon&&!p.iconHtml){cn(I);return}if(p.icon&&Object.keys(v).indexOf(p.icon)===-1){j(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${p.icon}"`),cn(I);return}Zt(I),nu(I,p),Mh(I,p),Xe(I,p.showClass&&p.showClass.icon)}},Mh=(f,p)=>{for(let[y,I]of Object.entries(v))p.icon!==y&&Ui(f,I);Xe(f,p.icon&&v[p.icon]),vw(f,p),Ah(),Yn(f,p,"icon")},Ah=()=>{let f=k();if(!f)return;let p=window.getComputedStyle(f).getPropertyValue("background-color"),y=f.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let I=0;I<y.length;I++)y[I].style.backgroundColor=p},gl=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,Xs=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,nu=(f,p)=>{if(!p.icon&&!p.iconHtml)return;let y=f.innerHTML,I="";p.iconHtml?I=xh(p.iconHtml):p.icon==="success"?(I=gl,y=y.replace(/ style=".*?"/g,"")):p.icon==="error"?I=Xs:p.icon&&(I=xh({question:"?",warning:"!",info:"i"}[p.icon])),y.trim()!==I.trim()&&Fn(f,I)},vw=(f,p)=>{if(p.iconColor){f.style.color=p.iconColor,f.style.borderColor=p.iconColor;for(let y of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Tn(f,y,"background-color",p.iconColor);Tn(f,".swal2-success-ring","border-color",p.iconColor)}},xh=f=>`<div class="${h["icon-content"]}">${f}</div>`,yg=(f,p)=>{let y=be();if(y){if(!p.imageUrl){cn(y);return}Zt(y,""),y.setAttribute("src",p.imageUrl),y.setAttribute("alt",p.imageAlt||""),Sr(y,"width",p.imageWidth),Sr(y,"height",p.imageHeight),y.className=h.image,Yn(y,p,"image")}},vg=(f,p)=>{let y=M(),I=k();if(!(!y||!I)){if(p.toast){Sr(y,"width",p.width),I.style.width="100%";let z=dt();z&&I.insertBefore(z,O())}else Sr(I,"width",p.width);Sr(I,"padding",p.padding),p.color&&(I.style.color=p.color),p.background&&(I.style.background=p.background),cn(ze()),Rh(I,p)}},Rh=(f,p)=>{let y=p.showClass||{};f.className=`${h.popup} ${Ln(f)?y.popup:""}`,p.toast?(Xe([document.documentElement,document.body],h["toast-shown"]),Xe(f,h.toast)):Xe(f,h.modal),Yn(f,p,"popup"),typeof p.customClass=="string"&&Xe(f,p.customClass),p.icon&&Xe(f,h[`icon-${p.icon}`])},Oh=(f,p)=>{let y=Ie();if(!y)return;let{progressSteps:I,currentProgressStep:z}=p;if(!I||I.length===0||z===void 0){cn(y);return}Zt(y),y.textContent="",z>=I.length&&S("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),I.forEach((_e,Ye)=>{let mt=wg(_e);if(y.appendChild(mt),Ye===z&&Xe(mt,h["active-progress-step"]),Ye!==I.length-1){let Ht=bg(p);y.appendChild(Ht)}})},wg=f=>{let p=document.createElement("li");return Xe(p,h["progress-step"]),Fn(p,f),p},bg=f=>{let p=document.createElement("li");return Xe(p,h["progress-step-line"]),f.progressStepsDistance&&Sr(p,"width",f.progressStepsDistance),p},ww=(f,p)=>{let y=Tr();y&&(un(y),as(y,p.title||p.titleText,"block"),p.title&&Ar(p.title,y),p.titleText&&(y.innerText=p.titleText),Yn(y,p,"title"))},Cg=(f,p)=>{vg(f,p),pl(f,p),Oh(f,p),tu(f,p),yg(f,p),ww(f,p),fl(f,p),_g(f,p),hl(f,p),yw(f,p);let y=k();typeof p.didRender=="function"&&y&&p.didRender(y),o.eventEmitter.emit("didRender",y)},Eg=()=>Ln(k()),Nh=()=>{var f;return(f=ut())===null||f===void 0?void 0:f.click()},bw=()=>{var f;return(f=gt())===null||f===void 0?void 0:f.click()},eo=()=>{var f;return(f=wn())===null||f===void 0?void 0:f.click()},Jn=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),ml=f=>{f.keydownTarget&&f.keydownHandlerAdded&&(f.keydownTarget.removeEventListener("keydown",f.keydownHandler,{capture:f.keydownListenerCapture}),f.keydownHandlerAdded=!1)},iu=(f,p,y)=>{ml(f),p.toast||(f.keydownHandler=I=>_l(p,I,y),f.keydownTarget=p.keydownListenerCapture?window:k(),f.keydownListenerCapture=p.keydownListenerCapture,f.keydownTarget.addEventListener("keydown",f.keydownHandler,{capture:f.keydownListenerCapture}),f.keydownHandlerAdded=!0)},ru=(f,p)=>{var y;let I=Vi();if(I.length){f=f+p,f===I.length?f=0:f===-1&&(f=I.length-1),I[f].focus();return}(y=k())===null||y===void 0||y.focus()},Et=["ArrowRight","ArrowDown"],su=["ArrowLeft","ArrowUp"],_l=(f,p,y)=>{f&&(p.isComposing||p.keyCode===229||(f.stopKeydownPropagation&&p.stopPropagation(),p.key==="Enter"?yl(p,f):p.key==="Tab"?Cw(p):[...Et,...su].includes(p.key)?Ig(p.key):p.key==="Escape"&&Ew(p,f,y)))},yl=(f,p)=>{if(!ge(p.allowEnterKey))return;let y=qc(k(),p.input);if(f.target&&y&&f.target instanceof HTMLElement&&f.target.outerHTML===y.outerHTML){if(["textarea","file"].includes(p.input))return;Nh(),f.preventDefault()}},Cw=f=>{let p=f.target,y=Vi(),I=-1;for(let z=0;z<y.length;z++)if(p===y[z]){I=z;break}f.shiftKey?ru(I,-1):ru(I,1),f.stopPropagation(),f.preventDefault()},Ig=f=>{let p=Di(),y=ut(),I=gt(),z=wn();if(!p||!y||!I||!z)return;let _e=[y,I,z];if(document.activeElement instanceof HTMLElement&&!_e.includes(document.activeElement))return;let Ye=Et.includes(f)?"nextElementSibling":"previousElementSibling",mt=document.activeElement;if(mt){for(let Ht=0;Ht<p.children.length;Ht++){if(mt=mt[Ye],!mt)return;if(mt instanceof HTMLButtonElement&&Ln(mt))break}mt instanceof HTMLButtonElement&&mt.focus()}},Ew=(f,p,y)=>{ge(p.allowEscapeKey)&&(f.preventDefault(),y(Jn.esc))};var Qo={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};let Iw=()=>{let f=M();Array.from(document.body.children).forEach(y=>{y.contains(f)||(y.hasAttribute("aria-hidden")&&y.setAttribute("data-previous-aria-hidden",y.getAttribute("aria-hidden")||""),y.setAttribute("aria-hidden","true"))})},Dg=()=>{Array.from(document.body.children).forEach(p=>{p.hasAttribute("data-previous-aria-hidden")?(p.setAttribute("aria-hidden",p.getAttribute("data-previous-aria-hidden")||""),p.removeAttribute("data-previous-aria-hidden")):p.removeAttribute("aria-hidden")})},Zo=typeof window<"u"&&!!window.GestureEvent,us=()=>{if(Zo&&!Bi(document.body,h.iosfix)){let f=document.body.scrollTop;document.body.style.top=`${f*-1}px`,Xe(document.body,h.iosfix),Tg()}},Tg=()=>{let f=M();if(!f)return;let p;f.ontouchstart=y=>{p=Sg(y)},f.ontouchmove=y=>{p&&(y.preventDefault(),y.stopPropagation())}},Sg=f=>{let p=f.target,y=M(),I=me();return!y||!I||Mg(f)||Yo(f)?!1:p===y||!ug(y)&&p instanceof HTMLElement&&p.tagName!=="INPUT"&&p.tagName!=="TEXTAREA"&&!(ug(I)&&I.contains(p))},Mg=f=>f.touches&&f.touches.length&&f.touches[0].touchType==="stylus",Yo=f=>f.touches&&f.touches.length>1,Dw=()=>{if(Bi(document.body,h.iosfix)){let f=parseInt(document.body.style.top,10);Ui(document.body,h.iosfix),document.body.style.top="",document.body.scrollTop=f*-1}},Tw=()=>{let f=document.createElement("div");f.className=h["scrollbar-measure"],document.body.appendChild(f);let p=f.getBoundingClientRect().width-f.clientWidth;return document.body.removeChild(f),p},Jo=null,ds=f=>{Jo===null&&(document.body.scrollHeight>window.innerHeight||f==="scroll")&&(Jo=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Jo+Tw()}px`)},Sw=()=>{Jo!==null&&(document.body.style.paddingRight=`${Jo}px`,Jo=null)};function Ag(f,p,y,I){Ho()?Og(f,I):(l(y).then(()=>Og(f,I)),ml(o)),Zo?(p.setAttribute("style","display:none !important"),p.removeAttribute("class"),p.innerHTML=""):p.remove(),sr()&&(Sw(),Dw(),Dg()),vl()}function vl(){Ui([document.documentElement,document.body],[h.shown,h["height-auto"],h["no-backdrop"],h["toast-shown"]])}function ji(f){f=Rg(f);let p=Qo.swalPromiseResolve.get(this),y=xg(this);this.isAwaitingPromise?f.isDismissed||(xr(this),p(f)):y&&p(f)}let xg=f=>{let p=k();if(!p)return!1;let y=Ct.innerParams.get(f);if(!y||Bi(p,y.hideClass.popup))return!1;Ui(p,y.showClass.popup),Xe(p,y.hideClass.popup);let I=M();return Ui(I,y.showClass.backdrop),Xe(I,y.hideClass.backdrop),kh(f,p,y),!0};function Xo(f){let p=Qo.swalPromiseReject.get(this);xr(this),p&&p(f)}let xr=f=>{f.isAwaitingPromise&&(delete f.isAwaitingPromise,Ct.innerParams.get(f)||f._destroy())},Rg=f=>typeof f>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},f),kh=(f,p,y)=>{let I=M(),z=ls&&Go(p);typeof y.willClose=="function"&&y.willClose(p),o.eventEmitter.emit("willClose",p),z?Bt(f,p,I,y.returnFocus,y.didClose):Ag(f,I,y.returnFocus,y.didClose)},Bt=(f,p,y,I,z)=>{ls&&(o.swalCloseEventFinishedCallback=Ag.bind(null,f,y,I,z),p.addEventListener(ls,function(_e){_e.target===p&&(o.swalCloseEventFinishedCallback(),delete o.swalCloseEventFinishedCallback)}))},Og=(f,p)=>{setTimeout(()=>{typeof p=="function"&&p.bind(f.params)(),o.eventEmitter.emit("didClose"),f._destroy&&f._destroy()})},ea=f=>{let p=k();if(p||new $g,p=k(),!p)return;let y=dt();Ho()?cn(O()):Ng(p,f),Zt(y),p.setAttribute("data-loading","true"),p.setAttribute("aria-busy","true"),p.focus()},Ng=(f,p)=>{let y=Di(),I=dt();!y||!I||(!p&&Ln(ut())&&(p=ut()),Zt(y),p&&(cn(p),I.setAttribute("data-button-to-replace",p.className),y.insertBefore(I,p)),Xe([f,y],h.loading))},kg=(f,p)=>{p.input==="select"||p.input==="radio"?Lg(f,p):["text","email","number","tel","textarea"].some(y=>y===p.input)&&(ae(p.inputValue)||D(p.inputValue))&&(ea(ut()),Mw(f,p))},Pg=(f,p)=>{let y=f.getInput();if(!y)return null;switch(p.input){case"checkbox":return ou(y);case"radio":return Fg(y);case"file":return Rr(y);default:return p.inputAutoTrim?y.value.trim():y.value}},ou=f=>f.checked?1:0,Fg=f=>f.checked?f.value:null,Rr=f=>f.files&&f.files.length?f.getAttribute("multiple")!==null?f.files:f.files[0]:null,Lg=(f,p)=>{let y=k();if(!y)return;let I=z=>{p.input==="select"?wl(y,ta(z),p):p.input==="radio"&&Vg(y,ta(z),p)};ae(p.inputOptions)||D(p.inputOptions)?(ea(ut()),R(p.inputOptions).then(z=>{f.hideLoading(),I(z)})):typeof p.inputOptions=="object"?I(p.inputOptions):j(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof p.inputOptions}`)},Mw=(f,p)=>{let y=f.getInput();y&&(cn(y),R(p.inputValue).then(I=>{y.value=p.input==="number"?`${parseFloat(I)||0}`:`${I}`,Zt(y),y.focus(),f.hideLoading()}).catch(I=>{j(`Error in inputValue promise: ${I}`),y.value="",Zt(y),y.focus(),f.hideLoading()}))};function wl(f,p,y){let I=os(f,h.select);if(!I)return;let z=(_e,Ye,mt)=>{let Ht=document.createElement("option");Ht.value=mt,Fn(Ht,Ye),Ht.selected=bl(mt,y.inputValue),_e.appendChild(Ht)};p.forEach(_e=>{let Ye=_e[0],mt=_e[1];if(Array.isArray(mt)){let Ht=document.createElement("optgroup");Ht.label=Ye,Ht.disabled=!1,I.appendChild(Ht),mt.forEach(hu=>z(Ht,hu[1],hu[0]))}else z(I,mt,Ye)}),I.focus()}function Vg(f,p,y){let I=os(f,h.radio);if(!I)return;p.forEach(_e=>{let Ye=_e[0],mt=_e[1],Ht=document.createElement("input"),hu=document.createElement("label");Ht.type="radio",Ht.name=h.radio,Ht.value=Ye,bl(Ye,y.inputValue)&&(Ht.checked=!0);let Rw=document.createElement("span");Fn(Rw,mt),Rw.className=h.label,hu.appendChild(Ht),hu.appendChild(Rw),I.appendChild(hu)});let z=I.querySelectorAll("input");z.length&&z[0].focus()}let ta=f=>{let p=[];return f instanceof Map?f.forEach((y,I)=>{let z=y;typeof z=="object"&&(z=ta(z)),p.push([I,z])}):Object.keys(f).forEach(y=>{let I=f[y];typeof I=="object"&&(I=ta(I)),p.push([y,I])}),p},bl=(f,p)=>!!p&&p.toString()===f.toString(),Bg=f=>{let p=Ct.innerParams.get(f);f.disableButtons(),p.input?Ph(f,"confirm"):El(f,!0)},au=f=>{let p=Ct.innerParams.get(f);f.disableButtons(),p.returnInputValueOnDeny?Ph(f,"deny"):lu(f,!1)},Aw=(f,p)=>{f.disableButtons(),p(Jn.cancel)},Ph=(f,p)=>{let y=Ct.innerParams.get(f);if(!y.input){j(`The "input" parameter is needed to be set when using returnInputValueOn${A(p)}`);return}let I=f.getInput(),z=Pg(f,y);y.inputValidator?Cl(f,z,p):I&&!I.checkValidity()?(f.enableButtons(),f.showValidationMessage(y.validationMessage||I.validationMessage)):p==="deny"?lu(f,z):El(f,z)},Cl=(f,p,y)=>{let I=Ct.innerParams.get(f);f.disableInput(),Promise.resolve().then(()=>R(I.inputValidator(p,I.validationMessage))).then(_e=>{f.enableButtons(),f.enableInput(),_e?f.showValidationMessage(_e):y==="deny"?lu(f,p):El(f,p)})},lu=(f,p)=>{let y=Ct.innerParams.get(f||void 0);y.showLoaderOnDeny&&ea(gt()),y.preDeny?(f.isAwaitingPromise=!0,Promise.resolve().then(()=>R(y.preDeny(p,y.validationMessage))).then(z=>{z===!1?(f.hideLoading(),xr(f)):f.close({isDenied:!0,value:typeof z>"u"?p:z})}).catch(z=>cu(f||void 0,z))):f.close({isDenied:!0,value:p})},Fh=(f,p)=>{f.close({isConfirmed:!0,value:p})},cu=(f,p)=>{f.rejectPromise(p)},El=(f,p)=>{let y=Ct.innerParams.get(f||void 0);y.showLoaderOnConfirm&&ea(),y.preConfirm?(f.resetValidationMessage(),f.isAwaitingPromise=!0,Promise.resolve().then(()=>R(y.preConfirm(p,y.validationMessage))).then(z=>{Ln(ze())||z===!1?(f.hideLoading(),xr(f)):Fh(f,typeof z>"u"?p:z)}).catch(z=>cu(f||void 0,z))):Fh(f,p)};function Il(){let f=Ct.innerParams.get(this);if(!f)return;let p=Ct.domCache.get(this);cn(p.loader),Ho()?f.icon&&Zt(O()):uu(p),Ui([p.popup,p.actions],h.loading),p.popup.removeAttribute("aria-busy"),p.popup.removeAttribute("data-loading"),p.confirmButton.disabled=!1,p.denyButton.disabled=!1,p.cancelButton.disabled=!1}let uu=f=>{let p=f.popup.getElementsByClassName(f.loader.getAttribute("data-button-to-replace"));p.length?Zt(p[0],"inline-block"):cg()&&cn(f.actions)};function Lh(){let f=Ct.innerParams.get(this),p=Ct.domCache.get(this);return p?qc(p.popup,f.input):null}function Vh(f,p,y){let I=Ct.domCache.get(f);p.forEach(z=>{I[z].disabled=y})}function hs(f,p){let y=k();if(!(!y||!f))if(f.type==="radio"){let I=y.querySelectorAll(`[name="${h.radio}"]`);for(let z=0;z<I.length;z++)I[z].disabled=p}else f.disabled=p}function Bh(){Vh(this,["confirmButton","denyButton","cancelButton"],!1)}function Uh(){Vh(this,["confirmButton","denyButton","cancelButton"],!0)}function jh(){hs(this.getInput(),!1)}function zh(){hs(this.getInput(),!0)}function Dl(f){let p=Ct.domCache.get(this),y=Ct.innerParams.get(this);Fn(p.validationMessage,f),p.validationMessage.className=h["validation-message"],y.customClass&&y.customClass.validationMessage&&Xe(p.validationMessage,y.customClass.validationMessage),Zt(p.validationMessage);let I=this.getInput();I&&(I.setAttribute("aria-invalid","true"),I.setAttribute("aria-describedby",h["validation-message"]),Eh(I),Xe(I,h.inputerror))}function Xn(){let f=Ct.domCache.get(this);f.validationMessage&&cn(f.validationMessage);let p=this.getInput();p&&(p.removeAttribute("aria-invalid"),p.removeAttribute("aria-describedby"),Ui(p,h.inputerror))}let to={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Ug=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],na={allowEnterKey:void 0},u=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],g=f=>Object.prototype.hasOwnProperty.call(to,f),_=f=>Ug.indexOf(f)!==-1,w=f=>na[f],V=f=>{g(f)||S(`Unknown parameter "${f}"`)},H=f=>{u.includes(f)&&S(`The parameter "${f}" is incompatible with toasts`)},ce=f=>{let p=w(f);p&&Y(f,p)},yt=f=>{f.backdrop===!1&&f.allowOutsideClick&&S('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(let p in f)V(p),f.toast&&H(p),ce(p)};function dn(f){let p=k(),y=Ct.innerParams.get(this);if(!p||Bi(p,y.hideClass.popup)){S("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}let I=nt(f),z=Object.assign({},y,I);Cg(this,z),Ct.innerParams.set(this,z),Object.defineProperties(this,{params:{value:Object.assign({},this.params,f),writable:!1,enumerable:!0}})}let nt=f=>{let p={};return Object.keys(f).forEach(y=>{_(y)?p[y]=f[y]:S(`Invalid parameter to update: ${y}`)}),p};function bn(){let f=Ct.domCache.get(this),p=Ct.innerParams.get(this);if(!p){no(this);return}f.popup&&o.swalCloseEventFinishedCallback&&(o.swalCloseEventFinishedCallback(),delete o.swalCloseEventFinishedCallback),typeof p.didDestroy=="function"&&p.didDestroy(),o.eventEmitter.emit("didDestroy"),Sn(this)}let Sn=f=>{no(f),delete f.params,delete o.keydownHandler,delete o.keydownTarget,delete o.currentInstance},no=f=>{f.isAwaitingPromise?(di(Ct,f),f.isAwaitingPromise=!0):(di(Qo,f),di(Ct,f),delete f.isAwaitingPromise,delete f.disableButtons,delete f.enableButtons,delete f.getInput,delete f.disableInput,delete f.enableInput,delete f.hideLoading,delete f.disableLoading,delete f.showValidationMessage,delete f.resetValidationMessage,delete f.close,delete f.closePopup,delete f.closeModal,delete f.closeToast,delete f.rejectPromise,delete f.update,delete f._destroy)},di=(f,p)=>{for(let y in f)f[y].delete(p)};var du=Object.freeze({__proto__:null,_destroy:bn,close:ji,closeModal:ji,closePopup:ji,closeToast:ji,disableButtons:Uh,disableInput:zh,disableLoading:Il,enableButtons:Bh,enableInput:jh,getInput:Lh,handleAwaitingPromise:xr,hideLoading:Il,rejectPromise:Xo,resetValidationMessage:Xn,showValidationMessage:Dl,update:dn});let $h=(f,p,y)=>{f.toast?W5(f,p,y):(Q5(p),Z5(p),Y5(f,p,y))},W5=(f,p,y)=>{p.popup.onclick=()=>{f&&(K5(f)||f.timer||f.input)||y(Jn.close)}},K5=f=>!!(f.showConfirmButton||f.showDenyButton||f.showCancelButton||f.showCloseButton),jg=!1,Q5=f=>{f.popup.onmousedown=()=>{f.container.onmouseup=function(p){f.container.onmouseup=()=>{},p.target===f.container&&(jg=!0)}}},Z5=f=>{f.container.onmousedown=p=>{p.target===f.container&&p.preventDefault(),f.popup.onmouseup=function(y){f.popup.onmouseup=()=>{},(y.target===f.popup||y.target instanceof HTMLElement&&f.popup.contains(y.target))&&(jg=!0)}}},Y5=(f,p,y)=>{p.container.onclick=I=>{if(jg){jg=!1;return}I.target===p.container&&ge(f.allowOutsideClick)&&y(Jn.backdrop)}},J5=f=>typeof f=="object"&&f.jquery,QM=f=>f instanceof Element||J5(f),X5=f=>{let p={};return typeof f[0]=="object"&&!QM(f[0])?Object.assign(p,f[0]):["title","html","icon"].forEach((y,I)=>{let z=f[I];typeof z=="string"||QM(z)?p[y]=z:z!==void 0&&j(`Unexpected type of ${y}! Expected "string" or "Element", got ${typeof z}`)}),p};function eU(){for(var f=arguments.length,p=new Array(f),y=0;y<f;y++)p[y]=arguments[y];return new this(...p)}function tU(f){class p extends this{_main(I,z){return super._main(I,Object.assign({},f,z))}}return p}let nU=()=>o.timeout&&o.timeout.getTimerLeft(),ZM=()=>{if(o.timeout)return dg(),o.timeout.stop()},YM=()=>{if(o.timeout){let f=o.timeout.start();return Wc(f),f}},iU=()=>{let f=o.timeout;return f&&(f.running?ZM():YM())},rU=f=>{if(o.timeout){let p=o.timeout.increase(f);return Wc(p,!0),p}},sU=()=>!!(o.timeout&&o.timeout.isRunning()),JM=!1,xw={};function oU(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";xw[f]=this,JM||(document.body.addEventListener("click",aU),JM=!0)}let aU=f=>{for(let p=f.target;p&&p!==document;p=p.parentNode)for(let y in xw){let I=p.getAttribute(y);if(I){xw[y].fire({template:I});return}}};class lU{constructor(){this.events={}}_getHandlersByEventName(p){return typeof this.events[p]>"u"&&(this.events[p]=[]),this.events[p]}on(p,y){let I=this._getHandlersByEventName(p);I.includes(y)||I.push(y)}once(p,y){var I=this;let z=function(){I.removeListener(p,z);for(var _e=arguments.length,Ye=new Array(_e),mt=0;mt<_e;mt++)Ye[mt]=arguments[mt];y.apply(I,Ye)};this.on(p,z)}emit(p){for(var y=arguments.length,I=new Array(y>1?y-1:0),z=1;z<y;z++)I[z-1]=arguments[z];this._getHandlersByEventName(p).forEach(_e=>{try{_e.apply(this,I)}catch(Ye){console.error(Ye)}})}removeListener(p,y){let I=this._getHandlersByEventName(p),z=I.indexOf(y);z>-1&&I.splice(z,1)}removeAllListeners(p){this.events[p]!==void 0&&(this.events[p].length=0)}reset(){this.events={}}}o.eventEmitter=new lU;var cU=Object.freeze({__proto__:null,argsToParams:X5,bindClickHandler:oU,clickCancel:eo,clickConfirm:Nh,clickDeny:bw,enableLoading:ea,fire:eU,getActions:Di,getCancelButton:wn,getCloseButton:Li,getConfirmButton:ut,getContainer:M,getDenyButton:gt,getFocusableElements:Vi,getFooter:Gc,getHtmlContainer:me,getIcon:O,getIconContent:Ii,getImage:be,getInputLabel:Dt,getLoader:dt,getPopup:k,getProgressSteps:Ie,getTimerLeft:nU,getTimerProgressBar:Tt,getTitle:Tr,getValidationMessage:ze,increaseTimer:rU,isDeprecatedParameter:w,isLoading:Ch,isTimerRunning:sU,isUpdatableParameter:_,isValidParameter:g,isVisible:Eg,mixin:tU,off:(f,p)=>{if(!f){o.eventEmitter.reset();return}p?o.eventEmitter.removeListener(f,p):o.eventEmitter.removeAllListeners(f)},on:(f,p)=>{o.eventEmitter.on(f,p)},once:(f,p)=>{o.eventEmitter.once(f,p)},resumeTimer:YM,showLoading:ea,stopTimer:ZM,toggleTimer:iU});class uU{constructor(p,y){this.callback=p,this.remaining=y,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(p){let y=this.running;return y&&this.stop(),this.remaining+=p,y&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}let XM=["swal-title","swal-html","swal-footer"],dU=f=>{let p=typeof f.template=="string"?document.querySelector(f.template):f.template;if(!p)return{};let y=p.content;return vU(y),Object.assign(hU(y),fU(y),pU(y),gU(y),mU(y),_U(y),yU(y,XM))},hU=f=>{let p={};return Array.from(f.querySelectorAll("swal-param")).forEach(I=>{Tl(I,["name","value"]);let z=I.getAttribute("name"),_e=I.getAttribute("value");!z||!_e||(typeof to[z]=="boolean"?p[z]=_e!=="false":typeof to[z]=="object"?p[z]=JSON.parse(_e):p[z]=_e)}),p},fU=f=>{let p={};return Array.from(f.querySelectorAll("swal-function-param")).forEach(I=>{let z=I.getAttribute("name"),_e=I.getAttribute("value");!z||!_e||(p[z]=new Function(`return ${_e}`)())}),p},pU=f=>{let p={};return Array.from(f.querySelectorAll("swal-button")).forEach(I=>{Tl(I,["type","color","aria-label"]);let z=I.getAttribute("type");!z||!["confirm","cancel","deny"].includes(z)||(p[`${z}ButtonText`]=I.innerHTML,p[`show${A(z)}Button`]=!0,I.hasAttribute("color")&&(p[`${z}ButtonColor`]=I.getAttribute("color")),I.hasAttribute("aria-label")&&(p[`${z}ButtonAriaLabel`]=I.getAttribute("aria-label")))}),p},gU=f=>{let p={},y=f.querySelector("swal-image");return y&&(Tl(y,["src","width","height","alt"]),y.hasAttribute("src")&&(p.imageUrl=y.getAttribute("src")||void 0),y.hasAttribute("width")&&(p.imageWidth=y.getAttribute("width")||void 0),y.hasAttribute("height")&&(p.imageHeight=y.getAttribute("height")||void 0),y.hasAttribute("alt")&&(p.imageAlt=y.getAttribute("alt")||void 0)),p},mU=f=>{let p={},y=f.querySelector("swal-icon");return y&&(Tl(y,["type","color"]),y.hasAttribute("type")&&(p.icon=y.getAttribute("type")),y.hasAttribute("color")&&(p.iconColor=y.getAttribute("color")),p.iconHtml=y.innerHTML),p},_U=f=>{let p={},y=f.querySelector("swal-input");y&&(Tl(y,["type","label","placeholder","value"]),p.input=y.getAttribute("type")||"text",y.hasAttribute("label")&&(p.inputLabel=y.getAttribute("label")),y.hasAttribute("placeholder")&&(p.inputPlaceholder=y.getAttribute("placeholder")),y.hasAttribute("value")&&(p.inputValue=y.getAttribute("value")));let I=Array.from(f.querySelectorAll("swal-input-option"));return I.length&&(p.inputOptions={},I.forEach(z=>{Tl(z,["value"]);let _e=z.getAttribute("value");if(!_e)return;let Ye=z.innerHTML;p.inputOptions[_e]=Ye})),p},yU=(f,p)=>{let y={};for(let I in p){let z=p[I],_e=f.querySelector(z);_e&&(Tl(_e,[]),y[z.replace(/^swal-/,"")]=_e.innerHTML.trim())}return y},vU=f=>{let p=XM.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(f.children).forEach(y=>{let I=y.tagName.toLowerCase();p.includes(I)||S(`Unrecognized element <${I}>`)})},Tl=(f,p)=>{Array.from(f.attributes).forEach(y=>{p.indexOf(y.name)===-1&&S([`Unrecognized attribute "${y.name}" on <${f.tagName.toLowerCase()}>.`,`${p.length?`Allowed attributes are: ${p.join(", ")}`:"To set the value, use HTML within the element."}`])})},eA=10,wU=f=>{let p=M(),y=k();typeof f.willOpen=="function"&&f.willOpen(y),o.eventEmitter.emit("willOpen",y);let z=window.getComputedStyle(document.body).overflowY;EU(p,y,f),setTimeout(()=>{bU(p,y)},eA),sr()&&(CU(p,f.scrollbarPadding,z),Iw()),!Ho()&&!o.previousActiveElement&&(o.previousActiveElement=document.activeElement),typeof f.didOpen=="function"&&setTimeout(()=>f.didOpen(y)),o.eventEmitter.emit("didOpen",y),Ui(p,h["no-transition"])},tA=f=>{let p=k();if(f.target!==p||!ls)return;let y=M();p.removeEventListener(ls,tA),y.style.overflowY="auto"},bU=(f,p)=>{ls&&Go(p)?(f.style.overflowY="hidden",p.addEventListener(ls,tA)):f.style.overflowY="auto"},CU=(f,p,y)=>{us(),p&&y!=="hidden"&&ds(y),setTimeout(()=>{f.scrollTop=0})},EU=(f,p,y)=>{Xe(f,y.showClass.backdrop),y.animation?(p.style.setProperty("opacity","0","important"),Zt(p,"grid"),setTimeout(()=>{Xe(p,y.showClass.popup),p.style.removeProperty("opacity")},eA)):Zt(p,"grid"),Xe([document.documentElement,document.body],h.shown),y.heightAuto&&y.backdrop&&!y.toast&&Xe([document.documentElement,document.body],h["height-auto"])};var nA={email:(f,p)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(f)?Promise.resolve():Promise.resolve(p||"Invalid email address"),url:(f,p)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(f)?Promise.resolve():Promise.resolve(p||"Invalid URL")};function IU(f){f.inputValidator||(f.input==="email"&&(f.inputValidator=nA.email),f.input==="url"&&(f.inputValidator=nA.url))}function DU(f){(!f.target||typeof f.target=="string"&&!document.querySelector(f.target)||typeof f.target!="string"&&!f.target.appendChild)&&(S('Target parameter is not valid, defaulting to "body"'),f.target="body")}function TU(f){IU(f),f.showLoaderOnConfirm&&!f.preConfirm&&S(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),DU(f),typeof f.title=="string"&&(f.title=f.title.split(`
`).join("<br />")),Th(f)}let fs;var zg=new WeakMap;class en{constructor(){if(i(this,zg,void 0),typeof window>"u")return;fs=this;for(var p=arguments.length,y=new Array(p),I=0;I<p;I++)y[I]=arguments[I];let z=Object.freeze(this.constructor.argsToParams(y));this.params=z,this.isAwaitingPromise=!1,r(zg,this,this._main(fs.params))}_main(p){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(yt(Object.assign({},y,p)),o.currentInstance){let _e=Qo.swalPromiseResolve.get(o.currentInstance),{isAwaitingPromise:Ye}=o.currentInstance;o.currentInstance._destroy(),Ye||_e({isDismissed:!0}),sr()&&Dg()}o.currentInstance=fs;let I=MU(p,y);TU(I),Object.freeze(I),o.timeout&&(o.timeout.stop(),delete o.timeout),clearTimeout(o.restoreFocusTimeout);let z=AU(fs);return Cg(fs,I),Ct.innerParams.set(fs,I),SU(fs,z,I)}then(p){return t(zg,this).then(p)}finally(p){return t(zg,this).finally(p)}}let SU=(f,p,y)=>new Promise((I,z)=>{let _e=Ye=>{f.close({isDismissed:!0,dismiss:Ye})};Qo.swalPromiseResolve.set(f,I),Qo.swalPromiseReject.set(f,z),p.confirmButton.onclick=()=>{Bg(f)},p.denyButton.onclick=()=>{au(f)},p.cancelButton.onclick=()=>{Aw(f,_e)},p.closeButton.onclick=()=>{_e(Jn.close)},$h(y,p,_e),iu(o,y,_e),kg(f,y),wU(y),xU(o,y,_e),RU(p,y),setTimeout(()=>{p.container.scrollTop=0})}),MU=(f,p)=>{let y=dU(f),I=Object.assign({},to,p,y,f);return I.showClass=Object.assign({},to.showClass,I.showClass),I.hideClass=Object.assign({},to.hideClass,I.hideClass),I.animation===!1&&(I.showClass={backdrop:"swal2-noanimation"},I.hideClass={}),I},AU=f=>{let p={popup:k(),container:M(),actions:Di(),confirmButton:ut(),denyButton:gt(),cancelButton:wn(),loader:dt(),closeButton:Li(),validationMessage:ze(),progressSteps:Ie()};return Ct.domCache.set(f,p),p},xU=(f,p,y)=>{let I=Tt();cn(I),p.timer&&(f.timeout=new uU(()=>{y("timer"),delete f.timeout},p.timer),p.timerProgressBar&&(Zt(I),Yn(I,p,"timerProgressBar"),setTimeout(()=>{f.timeout&&f.timeout.running&&Wc(p.timer)})))},RU=(f,p)=>{if(!p.toast){if(!ge(p.allowEnterKey)){Y("allowEnterKey"),kU();return}OU(f)||NU(f,p)||ru(-1,1)}},OU=f=>{let p=f.popup.querySelectorAll("[autofocus]");for(let y of p)if(y instanceof HTMLElement&&Ln(y))return y.focus(),!0;return!1},NU=(f,p)=>p.focusDeny&&Ln(f.denyButton)?(f.denyButton.focus(),!0):p.focusCancel&&Ln(f.cancelButton)?(f.cancelButton.focus(),!0):p.focusConfirm&&Ln(f.confirmButton)?(f.confirmButton.focus(),!0):!1,kU=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){let f=new Date,p=localStorage.getItem("swal-initiation");p?(f.getTime()-Date.parse(p))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";let y=document.createElement("audio");y.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",y.loop=!0,document.body.appendChild(y),setTimeout(()=>{y.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${f}`)}en.prototype.disableButtons=Uh,en.prototype.enableButtons=Bh,en.prototype.getInput=Lh,en.prototype.disableInput=zh,en.prototype.enableInput=jh,en.prototype.hideLoading=Il,en.prototype.disableLoading=Il,en.prototype.showValidationMessage=Dl,en.prototype.resetValidationMessage=Xn,en.prototype.close=ji,en.prototype.closePopup=ji,en.prototype.closeModal=ji,en.prototype.closeToast=ji,en.prototype.rejectPromise=Xo,en.prototype.update=dn,en.prototype._destroy=bn,Object.assign(en,cU),Object.keys(du).forEach(f=>{en[f]=function(){return fs&&fs[f]?fs[f](...arguments):null}}),en.DismissReason=Jn,en.version="11.14.0";let $g=en;return $g.default=$g,$g});typeof Ys<"u"&&Ys.Sweetalert2&&(Ys.swal=Ys.sweetAlert=Ys.Swal=Ys.SweetAlert=Ys.Sweetalert2);typeof document<"u"&&function(n,e){var t=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(t),t.styleSheet)t.styleSheet.disabled||(t.styleSheet.cssText=e);else try{t.innerHTML=e}catch{t.innerText=e}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')});function fA(n,e){return Object.is(n,e)}var Cn=null,Qg=!1,Zg=1,ro=Symbol("SIGNAL");function lt(n){let e=Cn;return Cn=n,e}function pA(){return Cn}var Kh={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Lw(n){if(Qg)throw new Error("");if(Cn===null)return;Cn.consumerOnSignalRead(n);let e=Cn.nextProducerIndex++;if(em(Cn),e<Cn.producerNode.length&&Cn.producerNode[e]!==n&&Wh(Cn)){let t=Cn.producerNode[e];Xg(t,Cn.producerIndexOfThis[e])}Cn.producerNode[e]!==n&&(Cn.producerNode[e]=n,Cn.producerIndexOfThis[e]=Wh(Cn)?yA(n,Cn,e):0),Cn.producerLastReadVersion[e]=n.version}function FU(){Zg++}function gA(n){if(!(Wh(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Zg)){if(!n.producerMustRecompute(n)&&!Bw(n)){n.dirty=!1,n.lastCleanEpoch=Zg;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=Zg}}function mA(n){if(n.liveConsumerNode===void 0)return;let e=Qg;Qg=!0;try{for(let t of n.liveConsumerNode)t.dirty||LU(t)}finally{Qg=e}}function _A(){return Cn?.consumerAllowSignalWrites!==!1}function LU(n){n.dirty=!0,mA(n),n.consumerMarkedDirty?.(n)}function Jg(n){return n&&(n.nextProducerIndex=0),lt(n)}function Vw(n,e){if(lt(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Wh(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Xg(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Bw(n){em(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(gA(t),i!==t.version))return!0}return!1}function Uw(n){if(em(n),Wh(n))for(let e=0;e<n.producerNode.length;e++)Xg(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function yA(n,e,t){if(vA(n),n.liveConsumerNode.length===0&&wA(n))for(let i=0;i<n.producerNode.length;i++)n.producerIndexOfThis[i]=yA(n.producerNode[i],n,i);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Xg(n,e){if(vA(n),n.liveConsumerNode.length===1&&wA(n))for(let i=0;i<n.producerNode.length;i++)Xg(n.producerNode[i],n.producerIndexOfThis[i]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let i=n.liveConsumerIndexOfThis[e],r=n.liveConsumerNode[e];em(r),r.producerIndexOfThis[i]=e}}function Wh(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function em(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function vA(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function wA(n){return n.producerNode!==void 0}function bA(n){let e=Object.create(VU);e.computation=n;let t=()=>{if(gA(e),Lw(e),e.value===Yg)throw e.error;return e.value};return t[ro]=e,t}var Pw=Symbol("UNSET"),Fw=Symbol("COMPUTING"),Yg=Symbol("ERRORED"),VU=Ee(Q({},Kh),{value:Pw,dirty:!0,error:null,equal:fA,producerMustRecompute(n){return n.value===Pw||n.value===Fw},producerRecomputeValue(n){if(n.value===Fw)throw new Error("Detected cycle in computations.");let e=n.value;n.value=Fw;let t=Jg(n),i;try{i=n.computation()}catch(r){i=Yg,n.error=r}finally{Vw(n,t)}if(e!==Pw&&e!==Yg&&i!==Yg&&n.equal(e,i)){n.value=e;return}n.value=i,n.version++}});function BU(){throw new Error}var CA=BU;function EA(){CA()}function IA(n){CA=n}var UU=null;function DA(n){let e=Object.create(SA);e.value=n;let t=()=>(Lw(e),e.value);return t[ro]=e,t}function jw(n,e){_A()||EA(),n.equal(n.value,e)||(n.value=e,jU(n))}function TA(n,e){_A()||EA(),jw(n,e(n.value))}var SA=Ee(Q({},Kh),{equal:fA,value:void 0});function jU(n){n.version++,FU(),mA(n),UU?.()}function Ae(n){return typeof n=="function"}function _u(n){let t=n(i=>{Error.call(i),i.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var tm=_u(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Sl(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Yt=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let s of t)s.remove(this);else t.remove(this);let{initialTeardown:i}=this;if(Ae(i))try{i()}catch(s){e=s instanceof tm?s.errors:[s]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let s of r)try{MA(s)}catch(o){e=e??[],o instanceof tm?e=[...e,...o.errors]:e.push(o)}}if(e)throw new tm(e)}}add(e){var t;if(e&&e!==this)if(this.closed)MA(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Sl(t,e)}remove(e){let{_finalizers:t}=this;t&&Sl(t,e),e instanceof n&&e._removeParent(this)}};Yt.EMPTY=(()=>{let n=new Yt;return n.closed=!0,n})();var zw=Yt.EMPTY;function nm(n){return n instanceof Yt||n&&"closed"in n&&Ae(n.remove)&&Ae(n.add)&&Ae(n.unsubscribe)}function MA(n){Ae(n)?n():n.unsubscribe()}var Or={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var yu={setTimeout(n,e,...t){let{delegate:i}=yu;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=yu;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function im(n){yu.setTimeout(()=>{let{onUnhandledError:e}=Or;if(e)e(n);else throw n})}function Ml(){}var AA=$w("C",void 0,void 0);function xA(n){return $w("E",void 0,n)}function RA(n){return $w("N",n,void 0)}function $w(n,e,t){return{kind:n,value:e,error:t}}var Al=null;function vu(n){if(Or.useDeprecatedSynchronousErrorHandling){let e=!Al;if(e&&(Al={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:i}=Al;if(Al=null,t)throw i}}else n()}function OA(n){Or.useDeprecatedSynchronousErrorHandling&&Al&&(Al.errorThrown=!0,Al.error=n)}var xl=class extends Yt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,nm(e)&&e.add(this)):this.destination=HU}static create(e,t,i){return new so(e,t,i)}next(e){this.isStopped?Gw(RA(e),this):this._next(e)}error(e){this.isStopped?Gw(xA(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Gw(AA,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},zU=Function.prototype.bind;function Hw(n,e){return zU.call(n,e)}var qw=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){rm(i)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){rm(i)}else rm(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){rm(t)}}},so=class extends xl{constructor(e,t,i){super();let r;if(Ae(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let s;this&&Or.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&Hw(e.next,s),error:e.error&&Hw(e.error,s),complete:e.complete&&Hw(e.complete,s)}):r=e}this.destination=new qw(r)}};function rm(n){Or.useDeprecatedSynchronousErrorHandling?OA(n):im(n)}function $U(n){throw n}function Gw(n,e){let{onStoppedNotification:t}=Or;t&&yu.setTimeout(()=>t(n,e))}var HU={closed:!0,next:Ml,error:$U,complete:Ml};var wu=typeof Symbol=="function"&&Symbol.observable||"@@observable";function jn(n){return n}function Ww(...n){return Kw(n)}function Kw(n){return n.length===0?jn:n.length===1?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}var Se=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){let s=qU(t)?t:new so(t,i,r);return vu(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return i=NA(i),new i((r,s)=>{let o=new so({next:a=>{try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(t){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(t)}[wu](){return this}pipe(...t){return Kw(t)(this)}toPromise(t){return t=NA(t),new t((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return n.create=e=>new n(e),n})();function NA(n){var e;return(e=n??Or.Promise)!==null&&e!==void 0?e:Promise}function GU(n){return n&&Ae(n.next)&&Ae(n.error)&&Ae(n.complete)}function qU(n){return n&&n instanceof xl||GU(n)&&nm(n)}function Qw(n){return Ae(n?.lift)}function Fe(n){return e=>{if(Qw(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Re(n,e,t,i,r){return new Zw(n,e,t,i,r)}var Zw=class extends xl{constructor(e,t,i,r,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function bu(){return Fe((n,e)=>{let t=null;n._refCount++;let i=Re(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}var Cu=class extends Se{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Qw(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Yt;let t=this.getSubject();e.add(this.source.subscribe(Re(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Yt.EMPTY)}return e}refCount(){return bu()(this)}};var kA=_u(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ke=(()=>{class n extends Se{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let i=new sm(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new kA}next(t){vu(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(t)}})}error(t){vu(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){vu(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:i,isStopped:r,observers:s}=this;return i||r?zw:(this.currentObservers=null,s.push(t),new Yt(()=>{this.currentObservers=null,Sl(s,t)}))}_checkFinalizedStatuses(t){let{hasError:i,thrownError:r,isStopped:s}=this;i?t.error(r):s&&t.complete()}asObservable(){let t=new Se;return t.source=this,t}}return n.create=(e,t)=>new sm(e,t),n})(),sm=class extends ke{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.next)===null||i===void 0||i.call(t,e)}error(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.error)===null||i===void 0||i.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,i;return(i=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&i!==void 0?i:zw}};var Ot=class extends ke{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var Qh={now(){return(Qh.delegate||Date).now()},delegate:void 0};var om=class extends ke{constructor(e=1/0,t=1/0,i=Qh){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){let{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:o}=this;t||(i.push(e),!r&&i.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let o=0;o<s.length&&!e.closed;o+=i?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){let{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*e;if(e<1/0&&s<i.length&&i.splice(0,i.length-s),!r){let o=t.now(),a=0;for(let l=1;l<i.length&&i[l]<=o;l+=2)a=l;a&&i.splice(0,a+1)}}};var am=class extends Yt{constructor(e,t){super()}schedule(e,t=0){return this}};var Zh={setInterval(n,e,...t){let{delegate:i}=Zh;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Zh;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Eu=class extends am{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;let r=this.id,s=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(s,r,t)),this.pending=!0,this.delay=t,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,i=0){return Zh.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return t;t!=null&&Zh.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,t);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i=!1,r;try{this.work(e)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Sl(i,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Iu=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}};Iu.now=Qh.now;var Du=class extends Iu{constructor(e,t=Iu.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}};var ra=new Du(Eu),Yw=ra;var lm=class extends Eu{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(e,t,i):(e.flush(this),0)}};var cm=class extends Du{};var Jw=new cm(lm);var En=new Se(n=>n.complete());function um(n){return n&&Ae(n.schedule)}function Xw(n){return n[n.length-1]}function sa(n){return Ae(Xw(n))?n.pop():void 0}function gs(n){return um(Xw(n))?n.pop():void 0}function PA(n,e){return typeof Xw(n)=="number"?n.pop():e}var Tu=n=>n&&typeof n.length=="number"&&typeof n!="function";function dm(n){return Ae(n?.then)}function hm(n){return Ae(n[wu])}function fm(n){return Symbol.asyncIterator&&Ae(n?.[Symbol.asyncIterator])}function pm(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function WU(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var gm=WU();function mm(n){return Ae(n?.[gm])}function _m(n){return rA(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:i,done:r}=yield Gg(t.read());if(r)return yield Gg(void 0);yield yield Gg(i)}}finally{t.releaseLock()}})}function ym(n){return Ae(n?.getReader)}function it(n){if(n instanceof Se)return n;if(n!=null){if(hm(n))return KU(n);if(Tu(n))return QU(n);if(dm(n))return ZU(n);if(fm(n))return FA(n);if(mm(n))return YU(n);if(ym(n))return JU(n)}throw pm(n)}function KU(n){return new Se(e=>{let t=n[wu]();if(Ae(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function QU(n){return new Se(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function ZU(n){return new Se(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,im)})}function YU(n){return new Se(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function FA(n){return new Se(e=>{XU(n,e).catch(t=>e.error(t))})}function JU(n){return FA(_m(n))}function XU(n,e){var t,i,r,s;return iA(this,void 0,void 0,function*(){try{for(t=sA(n);i=yield t.next(),!i.done;){let o=i.value;if(e.next(o),e.closed)return}}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=t.return)&&(yield s.call(t))}finally{if(r)throw r.error}}e.complete()})}function Ti(n,e,t,i=0,r=!1){let s=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(s),!r)return s}function $i(n,e=0){return Fe((t,i)=>{t.subscribe(Re(i,r=>Ti(i,n,()=>i.next(r),e),()=>Ti(i,n,()=>i.complete(),e),r=>Ti(i,n,()=>i.error(r),e)))})}function Nr(n,e=0){return Fe((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function LA(n,e){return it(n).pipe(Nr(e),$i(e))}function VA(n,e){return it(n).pipe(Nr(e),$i(e))}function BA(n,e){return new Se(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}function UA(n,e){return new Se(t=>{let i;return Ti(t,e,()=>{i=n[gm](),Ti(t,e,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){t.error(o);return}s?t.complete():t.next(r)},0,!0)}),()=>Ae(i?.return)&&i.return()})}function vm(n,e){if(!n)throw new Error("Iterable cannot be null");return new Se(t=>{Ti(t,e,()=>{let i=n[Symbol.asyncIterator]();Ti(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function jA(n,e){return vm(_m(n),e)}function zA(n,e){if(n!=null){if(hm(n))return LA(n,e);if(Tu(n))return BA(n,e);if(dm(n))return VA(n,e);if(fm(n))return vm(n,e);if(mm(n))return UA(n,e);if(ym(n))return jA(n,e)}throw pm(n)}function Ge(n,e){return e?zA(n,e):it(n)}function le(...n){let e=gs(n);return Ge(n,e)}function Su(n,e){let t=Ae(n)?n:()=>n,i=r=>r.error(t());return new Se(e?r=>e.schedule(i,0,r):i)}function eb(n){return!!n&&(n instanceof Se||Ae(n.lift)&&Ae(n.subscribe))}var oo=_u(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function $A(n){return n instanceof Date&&!isNaN(n)}function se(n,e){return Fe((t,i)=>{let r=0;t.subscribe(Re(i,s=>{i.next(n.call(e,s,r++))}))})}var{isArray:e4}=Array;function t4(n,e){return e4(e)?n(...e):n(e)}function Mu(n){return se(e=>t4(n,e))}var{isArray:n4}=Array,{getPrototypeOf:i4,prototype:r4,keys:s4}=Object;function wm(n){if(n.length===1){let e=n[0];if(n4(e))return{args:e,keys:null};if(o4(e)){let t=s4(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}function o4(n){return n&&typeof n=="object"&&i4(n)===r4}function bm(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function or(...n){let e=gs(n),t=sa(n),{args:i,keys:r}=wm(n);if(i.length===0)return Ge([],e);let s=new Se(a4(i,e,r?o=>bm(r,o):jn));return t?s.pipe(Mu(t)):s}function a4(n,e,t=jn){return i=>{HA(e,()=>{let{length:r}=n,s=new Array(r),o=r,a=r;for(let l=0;l<r;l++)HA(e,()=>{let c=Ge(n[l],e),d=!1;c.subscribe(Re(i,h=>{s[l]=h,d||(d=!0,a--),a||i.next(t(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}function HA(n,e,t){n?Ti(t,n,e):e()}function GA(n,e,t,i,r,s,o,a){let l=[],c=0,d=0,h=!1,m=()=>{h&&!l.length&&!c&&e.complete()},v=A=>c<i?C(A):l.push(A),C=A=>{s&&e.next(A),c++;let S=!1;it(t(A,d++)).subscribe(Re(e,j=>{r?.(j),s?v(j):e.next(j)},()=>{S=!0},void 0,()=>{if(S)try{for(c--;l.length&&c<i;){let j=l.shift();o?Ti(e,o,()=>C(j)):C(j)}m()}catch(j){e.error(j)}}))};return n.subscribe(Re(e,v,()=>{h=!0,m()})),()=>{a?.()}}function Gt(n,e,t=1/0){return Ae(e)?Gt((i,r)=>se((s,o)=>e(i,s,r,o))(it(n(i,r))),t):(typeof e=="number"&&(t=e),Fe((i,r)=>GA(i,r,n,t)))}function ms(n=1/0){return Gt(jn,n)}function qA(){return ms(1)}function oa(...n){return qA()(Ge(n,gs(n)))}function Cm(n){return new Se(e=>{it(n()).subscribe(e)})}function tb(...n){let e=sa(n),{args:t,keys:i}=wm(n),r=new Se(s=>{let{length:o}=t;if(!o){s.complete();return}let a=new Array(o),l=o,c=o;for(let d=0;d<o;d++){let h=!1;it(t[d]).subscribe(Re(s,m=>{h||(h=!0,c--),a[d]=m},()=>l--,void 0,()=>{(!l||!h)&&(c||s.next(i?bm(i,a):a),s.complete())}))}});return e?r.pipe(Mu(e)):r}var l4=["addListener","removeListener"],c4=["addEventListener","removeEventListener"],u4=["on","off"];function ar(n,e,t,i){if(Ae(t)&&(i=t,t=void 0),i)return ar(n,e,t).pipe(Mu(i));let[r,s]=f4(n)?c4.map(o=>a=>n[o](e,a,t)):d4(n)?l4.map(WA(n,e)):h4(n)?u4.map(WA(n,e)):[];if(!r&&Tu(n))return Gt(o=>ar(o,e,t))(it(n));if(!r)throw new TypeError("Invalid event target");return new Se(o=>{let a=(...l)=>o.next(1<l.length?l:l[0]);return r(a),()=>s(a)})}function WA(n,e){return t=>i=>n[t](e,i)}function d4(n){return Ae(n.addListener)&&Ae(n.removeListener)}function h4(n){return Ae(n.on)&&Ae(n.off)}function f4(n){return Ae(n.addEventListener)&&Ae(n.removeEventListener)}function nb(n=0,e,t=Yw){let i=-1;return e!=null&&(um(e)?t=e:i=e),new Se(r=>{let s=$A(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){r.closed||(r.next(o++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function Em(...n){let e=gs(n),t=PA(n,1/0),i=n;return i.length?i.length===1?it(i[0]):ms(t)(Ge(i,e)):En}var{isArray:p4}=Array;function Im(n){return n.length===1&&p4(n[0])?n[0]:n}function Ut(n,e){return Fe((t,i)=>{let r=0;t.subscribe(Re(i,s=>n.call(e,s,r++)&&i.next(s)))})}function ib(...n){return n=Im(n),n.length===1?it(n[0]):new Se(g4(n))}function g4(n){return e=>{let t=[];for(let i=0;t&&!e.closed&&i<n.length;i++)t.push(it(n[i]).subscribe(Re(e,r=>{if(t){for(let s=0;s<t.length;s++)s!==i&&t[s].unsubscribe();t=null}e.next(r)})))}}function Yh(...n){let e=sa(n),t=Im(n);return t.length?new Se(i=>{let r=t.map(()=>[]),s=t.map(()=>!1);i.add(()=>{r=s=null});for(let o=0;!i.closed&&o<t.length;o++)it(t[o]).subscribe(Re(i,a=>{if(r[o].push(a),r.every(l=>l.length)){let l=r.map(c=>c.shift());i.next(e?e(...l):l),r.some((c,d)=>!c.length&&s[d])&&i.complete()}},()=>{s[o]=!0,!r[o].length&&i.complete()}));return()=>{r=s=null}}):En}function ei(n){return Fe((e,t)=>{let i=null,r=!1,s;i=e.subscribe(Re(t,void 0,void 0,o=>{s=it(n(o,ei(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}function KA(n,e,t,i,r){return(s,o)=>{let a=t,l=e,c=0;s.subscribe(Re(o,d=>{let h=c++;l=a?n(l,d,h):(a=!0,d),i&&o.next(l)},r&&(()=>{a&&o.next(l),o.complete()})))}}function ao(n,e){return Ae(e)?Gt(n,e,1):Gt(n,1)}function rb(n,e=ra){return Fe((t,i)=>{let r=null,s=null,o=null,a=()=>{if(r){r.unsubscribe(),r=null;let c=s;s=null,i.next(c)}};function l(){let c=o+n,d=e.now();if(d<c){r=this.schedule(void 0,c-d),i.add(r);return}a()}t.subscribe(Re(i,c=>{s=c,o=e.now(),r||(r=e.schedule(l,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{s=r=null}))})}function aa(n){return Fe((e,t)=>{let i=!1;e.subscribe(Re(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function tn(n){return n<=0?()=>En:Fe((e,t)=>{let i=0;e.subscribe(Re(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function sb(n){return se(()=>n)}function Dm(n,e=jn){return n=n??m4,Fe((t,i)=>{let r,s=!0;t.subscribe(Re(i,o=>{let a=e(o);(s||!n(r,a))&&(s=!1,r=a,i.next(o))}))})}function m4(n,e){return n===e}function Tm(n=_4){return Fe((e,t)=>{let i=!1;e.subscribe(Re(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function _4(){return new oo}function ob(...n){return e=>oa(e,le(...n))}function zn(n){return Fe((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function lr(n,e){let t=arguments.length>=2;return i=>i.pipe(n?Ut((r,s)=>n(r,s,i)):jn,tn(1),t?aa(e):Tm(()=>new oo))}function Au(n){return n<=0?()=>En:Fe((e,t)=>{let i=[];e.subscribe(Re(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(let r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function ab(n,e){let t=arguments.length>=2;return i=>i.pipe(n?Ut((r,s)=>n(r,s,i)):jn,Au(1),t?aa(e):Tm(()=>new oo))}function Jh(){return Fe((n,e)=>{let t,i=!1;n.subscribe(Re(e,r=>{let s=t;t=r,i&&e.next([s,r]),i=!0}))})}function Rl(n,e){return Fe(KA(n,e,arguments.length>=2,!0))}function QA(n={}){let{connector:e=()=>new ke,resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return s=>{let o,a,l,c=0,d=!1,h=!1,m=()=>{a?.unsubscribe(),a=void 0},v=()=>{m(),o=l=void 0,d=h=!1},C=()=>{let A=o;v(),A?.unsubscribe()};return Fe((A,S)=>{c++,!h&&!d&&m();let j=l=l??e();S.add(()=>{c--,c===0&&!h&&!d&&(a=lb(C,r))}),j.subscribe(S),!o&&c>0&&(o=new so({next:Z=>j.next(Z),error:Z=>{h=!0,m(),a=lb(v,t,Z),j.error(Z)},complete:()=>{d=!0,m(),a=lb(v,i),j.complete()}}),it(A).subscribe(o))})(s)}}function lb(n,e,...t){if(e===!0){n();return}if(e===!1)return;let i=new so({next:()=>{i.unsubscribe(),n()}});return it(e(...t)).subscribe(i)}function Sm(n,e,t){let i,r=!1;return n&&typeof n=="object"?{bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n:i=n??1/0,QA({connector:()=>new om(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function kr(...n){let e=gs(n);return Fe((t,i)=>{(e?oa(n,t,e):oa(n,t)).subscribe(i)})}function Le(n,e){return Fe((t,i)=>{let r=null,s=0,o=!1,a=()=>o&&!r&&i.complete();t.subscribe(Re(i,l=>{r?.unsubscribe();let c=0,d=s++;it(n(l,d)).subscribe(r=Re(i,h=>i.next(e?e(l,h,d,c++):h),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function Mm(n,e){return Ae(e)?Le(()=>n,e):Le(()=>n)}function hn(n){return Fe((e,t)=>{it(n).subscribe(Re(t,()=>t.complete(),Ml)),!t.closed&&e.subscribe(t)})}function qt(n,e,t){let i=Ae(n)||e||t?{next:n,error:e,complete:t}:n;return i?Fe((r,s)=>{var o;(o=i.subscribe)===null||o===void 0||o.call(i);let a=!0;r.subscribe(Re(s,l=>{var c;(c=i.next)===null||c===void 0||c.call(i,l),s.next(l)},()=>{var l;a=!1,(l=i.complete)===null||l===void 0||l.call(i),s.complete()},l=>{var c;a=!1,(c=i.error)===null||c===void 0||c.call(i,l),s.error(l)},()=>{var l,c;a&&((l=i.unsubscribe)===null||l===void 0||l.call(i)),(c=i.finalize)===null||c===void 0||c.call(i)}))}):jn}function Am(...n){let e=sa(n);return Fe((t,i)=>{let r=n.length,s=new Array(r),o=n.map(()=>!1),a=!1;for(let l=0;l<r;l++)it(n[l]).subscribe(Re(i,c=>{s[l]=c,!a&&!o[l]&&(o[l]=!0,(a=o.every(jn))&&(o=null))},Ml));t.subscribe(Re(i,l=>{if(a){let c=[l,...s];i.next(e?e(...c):c)}}))})}var Vx="https://g.co/ng/security#xss",ie=class extends Error{constructor(e,t){super(m0(e,t)),this.code=e}};function m0(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function uf(n){return{toString:n}.toString()}var xm="__parameters__";function y4(n){return function(...t){if(n){let i=n(...t);for(let r in i)this[r]=i[r]}}}function Bx(n,e,t){return uf(()=>{let i=y4(e);function r(...s){if(this instanceof r)return i.apply(this,s),this;let o=new r(...s);return a.annotation=o,a;function a(l,c,d){let h=l.hasOwnProperty(xm)?l[xm]:Object.defineProperty(l,xm,{value:[]})[xm];for(;h.length<=d;)h.push(null);return(h[d]=h[d]||[]).push(o),l}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}var $n=globalThis;function St(n){for(let e in n)if(n[e]===St)return e;throw Error("Could not find renamed property on target object.")}function v4(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function fi(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(fi).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function Eb(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var w4=St({__forward_ref__:St});function Es(n){return n.__forward_ref__=Es,n.toString=function(){return fi(this())},n}function hi(n){return Ux(n)?n():n}function Ux(n){return typeof n=="function"&&n.hasOwnProperty(w4)&&n.__forward_ref__===Es}function X(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function ve(n){return{providers:n.providers||[],imports:n.imports||[]}}function _0(n){return ZA(n,zx)||ZA(n,$x)}function jx(n){return _0(n)!==null}function ZA(n,e){return n.hasOwnProperty(e)?n[e]:null}function b4(n){let e=n&&(n[zx]||n[$x]);return e||null}function YA(n){return n&&(n.hasOwnProperty(JA)||n.hasOwnProperty(C4))?n[JA]:null}var zx=St({\u0275prov:St}),JA=St({\u0275inj:St}),$x=St({ngInjectableDef:St}),C4=St({ngInjectorDef:St}),oe=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=X({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Hx(n){return n&&!!n.\u0275providers}var E4=St({\u0275cmp:St}),I4=St({\u0275dir:St}),D4=St({\u0275pipe:St}),T4=St({\u0275mod:St}),$m=St({\u0275fac:St}),ef=St({__NG_ELEMENT_ID__:St}),XA=St({__NG_ENV_ID__:St});function Fl(n){return typeof n=="string"?n:n==null?"":String(n)}function S4(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Fl(n)}function M4(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new ie(-200,n)}function x1(n,e){throw new ie(-201,!1)}var Ke=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Ke||{}),Ib;function Gx(){return Ib}function Si(n){let e=Ib;return Ib=n,e}function qx(n,e,t){let i=_0(n);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(t&Ke.Optional)return null;if(e!==void 0)return e;x1(n,"Injector")}var A4={},nf=A4,Db="__NG_DI_FLAG__",Hm="ngTempTokenPath",x4="ngTokenPath",R4=/\n/gm,O4="\u0275",ex="__source",ku;function N4(){return ku}function la(n){let e=ku;return ku=n,e}function k4(n,e=Ke.Default){if(ku===void 0)throw new ie(-203,!1);return ku===null?qx(n,void 0,e):ku.get(n,e&Ke.Optional?null:void 0,e)}function G(n,e=Ke.Default){return(Gx()||k4)(hi(n),e)}function K(n,e=Ke.Default){return G(n,y0(e))}function y0(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Tb(n){let e=[];for(let t=0;t<n.length;t++){let i=hi(n[t]);if(Array.isArray(i)){if(i.length===0)throw new ie(900,!1);let r,s=Ke.Default;for(let o=0;o<i.length;o++){let a=i[o],l=P4(a);typeof l=="number"?l===-1?r=a.token:s|=l:r=a}e.push(G(r,s))}else e.push(G(i))}return e}function Wx(n,e){return n[Db]=e,n.prototype[Db]=e,n}function P4(n){return n[Db]}function F4(n,e,t,i){let r=n[Hm];throw e[ex]&&r.unshift(e[ex]),n.message=L4(`
`+n.message,r,t,i),n[x4]=r,n[Hm]=null,n}function L4(n,e,t,i=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==O4?n.slice(2):n;let r=fi(e);if(Array.isArray(e))r=e.map(fi).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):fi(a)))}r=`{${s.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(R4,`
  `)}`}var Wl=Wx(Bx("Optional"),8);var v0=Wx(Bx("SkipSelf"),4);function Ll(n,e){let t=n.hasOwnProperty($m);return t?n[$m]:null}function V4(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],s=e[i];if(t&&(r=t(r),s=t(s)),s!==r)return!1}return!0}function B4(n){return n.flat(Number.POSITIVE_INFINITY)}function R1(n,e){n.forEach(t=>Array.isArray(t)?R1(t,e):e(t))}function Kx(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Gm(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function U4(n,e){let t=[];for(let i=0;i<n;i++)t.push(e);return t}function j4(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(r===1)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;){let s=r-2;n[r]=n[s],r--}n[e]=t,n[e+1]=i}}function O1(n,e,t){let i=df(n,e);return i>=0?n[i|1]=t:(i=~i,j4(n,i,e,t)),i}function cb(n,e){let t=df(n,e);if(t>=0)return n[t|1]}function df(n,e){return z4(n,e,1)}function z4(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){let s=i+(r-i>>1),o=n[s<<t];if(e===o)return s<<t;o>e?r=s:i=s+1}return~(r<<t)}var Fu={},Mi=[],Lu=new oe(""),Qx=new oe("",-1),Zx=new oe(""),qm=class{get(e,t=nf){if(t===nf){let i=new Error(`NullInjectorError: No provider for ${fi(e)}!`);throw i.name="NullInjectorError",i}return t}},Yx=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Yx||{}),vs=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(vs||{}),da=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(da||{});function $4(n,e,t){let i=n.length;for(;;){let r=n.indexOf(e,t);if(r===-1)return r;if(r===0||n.charCodeAt(r-1)<=32){let s=e.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}t=r+1}}function Sb(n,e,t){let i=0;for(;i<t.length;){let r=t[i];if(typeof r=="number"){if(r!==0)break;i++;let s=t[i++],o=t[i++],a=t[i++];n.setAttribute(e,o,a,s)}else{let s=r,o=t[++i];H4(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),i++}}return i}function Jx(n){return n===3||n===4||n===6}function H4(n){return n.charCodeAt(0)===64}function rf(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?t=r:t===0||(t===-1||t===2?tx(n,t,r,null,e[++i]):tx(n,t,r,null,null))}}return n}function tx(n,e,t,i,r){let s=0,o=n.length;if(e===-1)o=-1;else for(;s<n.length;){let a=n[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<n.length;){let a=n[s];if(typeof a=="number")break;if(a===t){if(i===null){r!==null&&(n[s+1]=r);return}else if(i===n[s+1]){n[s+2]=r;return}}s++,i!==null&&s++,r!==null&&s++}o!==-1&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),i!==null&&n.splice(s++,0,i),r!==null&&n.splice(s++,0,r)}var Xx="ng-template";function G4(n,e,t,i){let r=0;if(i){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&$4(e[r+1].toLowerCase(),t,0)!==-1)return!0}else if(N1(n))return!1;if(r=e.indexOf(1,r),r>-1){let s;for(;++r<e.length&&typeof(s=e[r])=="string";)if(s.toLowerCase()===t)return!0}return!1}function N1(n){return n.type===4&&n.value!==Xx}function q4(n,e,t){let i=n.type===4&&!t?Xx:n.value;return e===i}function W4(n,e,t){let i=4,r=n.attrs,s=r!==null?Z4(r):0,o=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!o&&!Pr(i)&&!Pr(l))return!1;if(o&&Pr(l))continue;o=!1,i=l|i&1;continue}if(!o)if(i&4){if(i=2|i&1,l!==""&&!q4(n,l,t)||l===""&&e.length===1){if(Pr(i))return!1;o=!0}}else if(i&8){if(r===null||!G4(n,r,l,t)){if(Pr(i))return!1;o=!0}}else{let c=e[++a],d=K4(l,r,N1(n),t);if(d===-1){if(Pr(i))return!1;o=!0;continue}if(c!==""){let h;if(d>s?h="":h=r[d+1].toLowerCase(),i&2&&c!==h){if(Pr(i))return!1;o=!0}}}}return Pr(i)||o}function Pr(n){return(n&1)===0}function K4(n,e,t,i){if(e===null)return-1;let r=0;if(i||!t){let s=!1;for(;r<e.length;){let o=e[r];if(o===n)return r;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(o===4)break;if(o===0){r+=4;continue}}r+=s?1:2}return-1}else return Y4(e,n)}function eR(n,e,t=!1){for(let i=0;i<e.length;i++)if(W4(n,e[i],t))return!0;return!1}function Q4(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if(!(t&1))return e[t+1]}return null}function Z4(n){for(let e=0;e<n.length;e++){let t=n[e];if(Jx(t))return e}return n.length}function Y4(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let i=n[t];if(typeof i=="number")return-1;if(i===e)return t;t++}return-1}function J4(n,e){e:for(let t=0;t<e.length;t++){let i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function nx(n,e){return n?":not("+e.trim()+")":e}function X4(n){let e=n[0],t=1,i=2,r="",s=!1;for(;t<n.length;){let o=n[t];if(typeof o=="string")if(i&2){let a=n[++t];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+o:i&4&&(r+=" "+o);else r!==""&&!Pr(o)&&(e+=nx(s,r),r=""),i=o,s=s||!Pr(i);t++}return r!==""&&(e+=nx(s,r)),e}function ej(n){return n.map(X4).join(",")}function tj(n){let e=[],t=[],i=1,r=2;for(;i<n.length;){let s=n[i];if(typeof s=="string")r===2?s!==""&&e.push(s,n[++i]):r===8&&t.push(s);else{if(!Pr(r))break;r=s}i++}return{attrs:e,classes:t}}function Oe(n){return uf(()=>{let e=sR(n),t=Ee(Q({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Yx.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||vs.Emulated,styles:n.styles||Mi,_:null,schemas:n.schemas||null,tView:null,id:""});oR(t);let i=n.dependencies;return t.directiveDefs=rx(i,!1),t.pipeDefs=rx(i,!0),t.id=rj(t),t})}function nj(n){return lo(n)||tR(n)}function ij(n){return n!==null}function we(n){return uf(()=>({type:n.type,bootstrap:n.bootstrap||Mi,declarations:n.declarations||Mi,imports:n.imports||Mi,exports:n.exports||Mi,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function ix(n,e){if(n==null)return Fu;let t={};for(let i in n)if(n.hasOwnProperty(i)){let r=n[i],s,o,a=da.None;Array.isArray(r)?(a=r[0],s=r[1],o=r[2]??s):(s=r,o=r),e?(t[s]=a!==da.None?[i,a]:i,e[s]=o):t[s]=i}return t}function Qe(n){return uf(()=>{let e=sR(n);return oR(e),e})}function w0(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function lo(n){return n[E4]||null}function tR(n){return n[I4]||null}function nR(n){return n[D4]||null}function iR(n){let e=lo(n)||tR(n)||nR(n);return e!==null?e.standalone:!1}function rR(n,e){let t=n[T4]||null;if(!t&&e===!0)throw new Error(`Type ${fi(n)} does not have '\u0275mod' property.`);return t}function sR(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Fu,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||Mi,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ix(n.inputs,e),outputs:ix(n.outputs),debugInfo:null}}function oR(n){n.features?.forEach(e=>e(n))}function rx(n,e){if(!n)return null;let t=e?nR:nj;return()=>(typeof n=="function"?n():n).map(i=>t(i)).filter(ij)}function rj(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let r of t)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Hu(n){return{\u0275providers:n}}function sj(...n){return{\u0275providers:aR(!0,n),\u0275fromNgModule:!0}}function aR(n,...e){let t=[],i=new Set,r,s=o=>{t.push(o)};return R1(e,o=>{let a=o;Mb(a,s,[],i)&&(r||=[],r.push(a))}),r!==void 0&&lR(r,s),t}function lR(n,e){for(let t=0;t<n.length;t++){let{ngModule:i,providers:r}=n[t];k1(r,s=>{e(s,i)})}}function Mb(n,e,t,i){if(n=hi(n),!n)return!1;let r=null,s=YA(n),o=!s&&lo(n);if(!s&&!o){let l=n.ngModule;if(s=YA(l),s)r=l;else return!1}else{if(o&&!o.standalone)return!1;r=n}let a=i.has(r);if(o){if(a)return!1;if(i.add(r),o.dependencies){let l=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let c of l)Mb(c,e,t,i)}}else if(s){if(s.imports!=null&&!a){i.add(r);let c;try{R1(s.imports,d=>{Mb(d,e,t,i)&&(c||=[],c.push(d))})}finally{}c!==void 0&&lR(c,e)}if(!a){let c=Ll(r)||(()=>new r);e({provide:r,useFactory:c,deps:Mi},r),e({provide:Zx,useValue:r,multi:!0},r),e({provide:Lu,useValue:()=>G(r),multi:!0},r)}let l=s.providers;if(l!=null&&!a){let c=n;k1(l,d=>{e(d,c)})}}else return!1;return r!==n&&n.providers!==void 0}function k1(n,e){for(let t of n)Hx(t)&&(t=t.\u0275providers),Array.isArray(t)?k1(t,e):e(t)}var oj=St({provide:String,useValue:St});function cR(n){return n!==null&&typeof n=="object"&&oj in n}function aj(n){return!!(n&&n.useExisting)}function lj(n){return!!(n&&n.useFactory)}function Vu(n){return typeof n=="function"}function cj(n){return!!n.useClass}var b0=new oe(""),Vm={},uj={},ub;function C0(){return ub===void 0&&(ub=new qm),ub}var Mn=class{},sf=class extends Mn{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,xb(e,o=>this.processProvider(o)),this.records.set(Qx,xu(void 0,this)),r.has("environment")&&this.records.set(Mn,xu(void 0,this));let s=this.records.get(b0);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Zx,Mi,Ke.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=lt(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of t)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),lt(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=la(this),i=Si(void 0),r;try{return e()}finally{la(t),Si(i)}}get(e,t=nf,i=Ke.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(XA))return e[XA](this);i=y0(i);let r,s=la(this),o=Si(void 0);try{if(!(i&Ke.SkipSelf)){let l=this.records.get(e);if(l===void 0){let c=gj(e)&&_0(e);c&&this.injectableDefInScope(c)?l=xu(Ab(e),Vm):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=i&Ke.Self?C0():this.parent;return t=i&Ke.Optional&&t===nf?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Hm]=a[Hm]||[]).unshift(fi(e)),s)throw a;return F4(a,e,"R3InjectorError",this.source)}else throw a}finally{Si(o),la(s)}}resolveInjectorInitializers(){let e=lt(null),t=la(this),i=Si(void 0),r;try{let s=this.get(Lu,Mi,Ke.Self);for(let o of s)o()}finally{la(t),Si(i),lt(e)}}toString(){let e=[],t=this.records;for(let i of t.keys())e.push(fi(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ie(205,!1)}processProvider(e){e=hi(e);let t=Vu(e)?e:hi(e&&e.provide),i=hj(e);if(!Vu(e)&&e.multi===!0){let r=this.records.get(t);r||(r=xu(void 0,Vm,!0),r.factory=()=>Tb(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){let i=lt(null);try{return t.value===Vm&&(t.value=uj,t.value=t.factory()),typeof t.value=="object"&&t.value&&pj(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{lt(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=hi(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Ab(n){let e=_0(n),t=e!==null?e.factory:Ll(n);if(t!==null)return t;if(n instanceof oe)throw new ie(204,!1);if(n instanceof Function)return dj(n);throw new ie(204,!1)}function dj(n){if(n.length>0)throw new ie(204,!1);let t=b4(n);return t!==null?()=>t.factory(n):()=>new n}function hj(n){if(cR(n))return xu(void 0,n.useValue);{let e=uR(n);return xu(e,Vm)}}function uR(n,e,t){let i;if(Vu(n)){let r=hi(n);return Ll(r)||Ab(r)}else if(cR(n))i=()=>hi(n.useValue);else if(lj(n))i=()=>n.useFactory(...Tb(n.deps||[]));else if(aj(n))i=()=>G(hi(n.useExisting));else{let r=hi(n&&(n.useClass||n.provide));if(fj(n))i=()=>new r(...Tb(n.deps));else return Ll(r)||Ab(r)}return i}function xu(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function fj(n){return!!n.deps}function pj(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function gj(n){return typeof n=="function"||typeof n=="object"&&n instanceof oe}function xb(n,e){for(let t of n)Array.isArray(t)?xb(t,e):t&&Hx(t)?xb(t.\u0275providers,e):e(t)}function dr(n,e){n instanceof sf&&n.assertNotDestroyed();let t,i=la(n),r=Si(void 0);try{return e()}finally{la(i),Si(r)}}function dR(){return Gx()!==void 0||N4()!=null}function mj(n){if(!dR())throw new ie(-203,!1)}function _j(n){let e=$n.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function yj(n){return typeof n=="function"}var Is=0,qe=1,Pe=2,ti=3,Lr=4,Ai=5,of=6,Wm=7,Vr=8,Bu=9,ws=10,jt=11,af=12,sx=13,Gu=14,ur=15,Vl=16,Ru=17,co=18,E0=19,hR=20,ca=21,db=22,cr=23,pi=25,P1=1;var Bl=7,Km=8,Uu=9,Hi=10,Qm=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(Qm||{});function ua(n){return Array.isArray(n)&&typeof n[P1]=="object"}function go(n){return Array.isArray(n)&&n[P1]===!0}function F1(n){return(n.flags&4)!==0}function I0(n){return n.componentOffset>-1}function D0(n){return(n.flags&1)===1}function uo(n){return!!n.template}function Rb(n){return(n[Pe]&512)!==0}var Ob=class{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}};function fR(n,e,t,i){e!==null?e.applyValueToInputSignal(e,i):n[t]=i}function In(){return pR}function pR(n){return n.type.prototype.ngOnChanges&&(n.setInput=wj),vj}In.ngInherit=!0;function vj(){let n=mR(this),e=n?.current;if(e){let t=n.previous;if(t===Fu)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function wj(n,e,t,i,r){let s=this.declaredInputs[i],o=mR(n)||bj(n,{previous:Fu,current:null}),a=o.current||(o.current={}),l=o.previous,c=l[s];a[s]=new Ob(c&&c.currentValue,t,l===Fu),fR(n,e,r,t)}var gR="__ngSimpleChanges__";function mR(n){return n[gR]||null}function bj(n,e){return n[gR]=e}var ox=null;var _s=function(n,e,t){ox?.(n,e,t)},_R="svg",Cj="math";function bs(n){for(;Array.isArray(n);)n=n[Is];return n}function Ej(n){for(;Array.isArray(n);){if(typeof n[P1]=="object")return n;n=n[Is]}return null}function yR(n,e){return bs(e[n])}function hr(n,e){return bs(e[n.index])}function vR(n,e){return n.data[e]}function L1(n,e){return n[e]}function ma(n,e){let t=e[n];return ua(t)?t:t[Is]}function Ij(n){return(n[Pe]&4)===4}function V1(n){return(n[Pe]&128)===128}function Dj(n){return go(n[ti])}function ju(n,e){return e==null?null:n[e]}function wR(n){n[Ru]=0}function bR(n){n[Pe]&1024||(n[Pe]|=1024,V1(n)&&S0(n))}function Tj(n,e){for(;n>0;)e=e[Gu],n--;return e}function T0(n){return!!(n[Pe]&9216||n[cr]?.dirty)}function Nb(n){n[ws].changeDetectionScheduler?.notify(8),n[Pe]&64&&(n[Pe]|=1024),T0(n)&&S0(n)}function S0(n){n[ws].changeDetectionScheduler?.notify(0);let e=Ul(n);for(;e!==null&&!(e[Pe]&8192||(e[Pe]|=8192,!V1(e)));)e=Ul(e)}function CR(n,e){if((n[Pe]&256)===256)throw new ie(911,!1);n[ca]===null&&(n[ca]=[]),n[ca].push(e)}function Sj(n,e){if(n[ca]===null)return;let t=n[ca].indexOf(e);t!==-1&&n[ca].splice(t,1)}function Ul(n){let e=n[ti];return go(e)?e[ti]:e}var $e={lFrame:OR(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var ER=!1;function Mj(){return $e.lFrame.elementDepthCount}function Aj(){$e.lFrame.elementDepthCount++}function xj(){$e.lFrame.elementDepthCount--}function IR(){return $e.bindingsEnabled}function DR(){return $e.skipHydrationRootTNode!==null}function Rj(n){return $e.skipHydrationRootTNode===n}function Oj(){$e.skipHydrationRootTNode=null}function Ve(){return $e.lFrame.lView}function Wt(){return $e.lFrame.tView}function ue(n){return $e.lFrame.contextLView=n,n[Vr]}function de(n){return $e.lFrame.contextLView=null,n}function Hn(){let n=TR();for(;n!==null&&n.type===64;)n=n.parent;return n}function TR(){return $e.lFrame.currentTNode}function Nj(){let n=$e.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Kl(n,e){let t=$e.lFrame;t.currentTNode=n,t.isParent=e}function B1(){return $e.lFrame.isParent}function U1(){$e.lFrame.isParent=!1}function kj(){return $e.lFrame.contextLView}function SR(){return ER}function ax(n){ER=n}function Ql(){let n=$e.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Pj(){return $e.lFrame.bindingIndex}function Fj(n){return $e.lFrame.bindingIndex=n}function hf(){return $e.lFrame.bindingIndex++}function j1(n){let e=$e.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function Lj(){return $e.lFrame.inI18n}function Vj(n,e){let t=$e.lFrame;t.bindingIndex=t.bindingRootIndex=n,kb(e)}function Bj(){return $e.lFrame.currentDirectiveIndex}function kb(n){$e.lFrame.currentDirectiveIndex=n}function MR(n){let e=$e.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function AR(){return $e.lFrame.currentQueryIndex}function z1(n){$e.lFrame.currentQueryIndex=n}function Uj(n){let e=n[qe];return e.type===2?e.declTNode:e.type===1?n[Ai]:null}function xR(n,e,t){if(t&Ke.SkipSelf){let r=e,s=n;for(;r=r.parent,r===null&&!(t&Ke.Host);)if(r=Uj(s),r===null||(s=s[Gu],r.type&10))break;if(r===null)return!1;e=r,n=s}let i=$e.lFrame=RR();return i.currentTNode=e,i.lView=n,!0}function $1(n){let e=RR(),t=n[qe];$e.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function RR(){let n=$e.lFrame,e=n===null?null:n.child;return e===null?OR(n):e}function OR(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function NR(){let n=$e.lFrame;return $e.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var kR=NR;function H1(){let n=NR();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function jj(n){return($e.lFrame.contextLView=Tj(n,$e.lFrame.contextLView))[Vr]}function _a(){return $e.lFrame.selectedIndex}function jl(n){$e.lFrame.selectedIndex=n}function ff(){let n=$e.lFrame;return vR(n.tView,n.selectedIndex)}function Ds(){$e.lFrame.currentNamespace=_R}function PR(){zj()}function zj(){$e.lFrame.currentNamespace=null}function $j(){return $e.lFrame.currentNamespace}var FR=!0;function M0(){return FR}function A0(n){FR=n}function Hj(n,e,t){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(i){let o=pR(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}r&&(t.preOrderHooks??=[]).push(0-n,r),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}function x0(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){let s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:d}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),c&&((n.viewHooks??=[]).push(t,c),(n.viewCheckHooks??=[]).push(t,c)),d!=null&&(n.destroyHooks??=[]).push(t,d)}}function Bm(n,e,t){LR(n,e,3,t)}function Um(n,e,t,i){(n[Pe]&3)===t&&LR(n,e,t,i)}function hb(n,e){let t=n[Pe];(t&3)===e&&(t&=16383,t+=1,n[Pe]=t)}function LR(n,e,t,i){let r=i!==void 0?n[Ru]&65535:0,s=i??-1,o=e.length-1,a=0;for(let l=r;l<o;l++)if(typeof e[l+1]=="number"){if(a=e[l],i!=null&&a>=i)break}else e[l]<0&&(n[Ru]+=65536),(a<s||s==-1)&&(Gj(n,t,e,l),n[Ru]=(n[Ru]&4294901760)+l+2),l++}function lx(n,e){_s(4,n,e);let t=lt(null);try{e.call(n)}finally{lt(t),_s(5,n,e)}}function Gj(n,e,t,i){let r=t[i]<0,s=t[i+1],o=r?-t[i]:t[i],a=n[o];r?n[Pe]>>14<n[Ru]>>16&&(n[Pe]&3)===e&&(n[Pe]+=16384,lx(a,s)):lx(a,s)}var Pu=-1,zl=class{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}};function qj(n){return n instanceof zl}function Wj(n){return(n.flags&8)!==0}function Kj(n){return(n.flags&16)!==0}var fb={},Pb=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=y0(i);let r=this.injector.get(e,fb,i);return r!==fb||t===fb?r:this.parentInjector.get(e,t,i)}};function VR(n){return n!==Pu}function Zm(n){return n&32767}function Qj(n){return n>>16}function Ym(n,e){let t=Qj(n),i=e;for(;t>0;)i=i[Gu],t--;return i}var Fb=!0;function Jm(n){let e=Fb;return Fb=n,e}var Zj=256,BR=Zj-1,UR=5,Yj=0,ys={};function Jj(n,e,t){let i;typeof t=="string"?i=t.charCodeAt(0)||0:t.hasOwnProperty(ef)&&(i=t[ef]),i==null&&(i=t[ef]=Yj++);let r=i&BR,s=1<<r;e.data[n+(r>>UR)]|=s}function Xm(n,e){let t=jR(n,e);if(t!==-1)return t;let i=e[qe];i.firstCreatePass&&(n.injectorIndex=e.length,pb(i.data,n),pb(e,null),pb(i.blueprint,null));let r=G1(n,e),s=n.injectorIndex;if(VR(r)){let o=Zm(r),a=Ym(r,e),l=a[qe].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=r,s}function pb(n,e){n.push(0,0,0,0,0,0,0,0,e)}function jR(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function G1(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;r!==null;){if(i=qR(r),i===null)return Pu;if(t++,r=r[Gu],i.injectorIndex!==-1)return i.injectorIndex|t<<16}return Pu}function Lb(n,e,t){Jj(n,e,t)}function Xj(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let i=t.length,r=0;for(;r<i;){let s=t[r];if(Jx(s))break;if(s===0)r=r+2;else if(typeof s=="number")for(r++;r<i&&typeof t[r]=="string";)r++;else{if(s===e)return t[r+1];r=r+2}}}return null}function zR(n,e,t){if(t&Ke.Optional||n!==void 0)return n;x1(e,"NodeInjector")}function $R(n,e,t,i){if(t&Ke.Optional&&i===void 0&&(i=null),!(t&(Ke.Self|Ke.Host))){let r=n[Bu],s=Si(void 0);try{return r?r.get(e,i,t&Ke.Optional):qx(e,i,t&Ke.Optional)}finally{Si(s)}}return zR(i,e,t)}function HR(n,e,t,i=Ke.Default,r){if(n!==null){if(e[Pe]&2048&&!(i&Ke.Self)){let o=iz(n,e,t,i,ys);if(o!==ys)return o}let s=GR(n,e,t,i,ys);if(s!==ys)return s}return $R(e,t,i,r)}function GR(n,e,t,i,r){let s=tz(t);if(typeof s=="function"){if(!xR(e,n,i))return i&Ke.Host?zR(r,t,i):$R(e,t,i,r);try{let o;if(o=s(i),o==null&&!(i&Ke.Optional))x1(t);else return o}finally{kR()}}else if(typeof s=="number"){let o=null,a=jR(n,e),l=Pu,c=i&Ke.Host?e[ur][Ai]:null;for((a===-1||i&Ke.SkipSelf)&&(l=a===-1?G1(n,e):e[a+8],l===Pu||!ux(i,!1)?a=-1:(o=e[qe],a=Zm(l),e=Ym(l,e)));a!==-1;){let d=e[qe];if(cx(s,a,d.data)){let h=ez(a,e,t,o,i,c);if(h!==ys)return h}l=e[a+8],l!==Pu&&ux(i,e[qe].data[a+8]===c)&&cx(s,a,e)?(o=d,a=Zm(l),e=Ym(l,e)):a=-1}}return r}function ez(n,e,t,i,r,s){let o=e[qe],a=o.data[n+8],l=i==null?I0(a)&&Fb:i!=o&&(a.type&3)!==0,c=r&Ke.Host&&s===a,d=jm(a,o,t,l,c);return d!==null?$l(e,o,d,a):ys}function jm(n,e,t,i,r){let s=n.providerIndexes,o=e.data,a=s&1048575,l=n.directiveStart,c=n.directiveEnd,d=s>>20,h=i?a:a+d,m=r?a+d:c;for(let v=h;v<m;v++){let C=o[v];if(v<l&&t===C||v>=l&&C.type===t)return v}if(r){let v=o[l];if(v&&uo(v)&&v.type===t)return l}return null}function $l(n,e,t,i){let r=n[t],s=e.data;if(qj(r)){let o=r;o.resolving&&M4(S4(s[t]));let a=Jm(o.canSeeViewProviders);o.resolving=!0;let l,c=o.injectImpl?Si(o.injectImpl):null,d=xR(n,i,Ke.Default);try{r=n[t]=o.factory(void 0,s,n,i),e.firstCreatePass&&t>=i.directiveStart&&Hj(t,s[t],e)}finally{c!==null&&Si(c),Jm(a),o.resolving=!1,kR()}}return r}function tz(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(ef)?n[ef]:void 0;return typeof e=="number"?e>=0?e&BR:nz:e}function cx(n,e,t){let i=1<<n;return!!(t[e+(n>>UR)]&i)}function ux(n,e){return!(n&Ke.Self)&&!(n&Ke.Host&&e)}var Pl=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return HR(this._tNode,this._lView,e,y0(i),t)}};function nz(){return new Pl(Hn(),Ve())}function gi(n){return uf(()=>{let e=n.prototype.constructor,t=e[$m]||Vb(e),i=Object.prototype,r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){let s=r[$m]||Vb(r);if(s&&s!==t)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function Vb(n){return Ux(n)?()=>{let e=Vb(hi(n));return e&&e()}:Ll(n)}function iz(n,e,t,i,r){let s=n,o=e;for(;s!==null&&o!==null&&o[Pe]&2048&&!(o[Pe]&512);){let a=GR(s,o,t,i|Ke.Self,ys);if(a!==ys)return a;let l=s.parent;if(!l){let c=o[hR];if(c){let d=c.get(t,ys,i);if(d!==ys)return d}l=qR(o),o=o[Gu]}s=l}return r}function qR(n){let e=n[qe],t=e.type;return t===2?e.declTNode:t===1?n[Ai]:null}function R0(n){return Xj(Hn(),n)}function dx(n,e=null,t=null,i){let r=WR(n,e,t,i);return r.resolveInjectorInitializers(),r}function WR(n,e=null,t=null,i,r=new Set){let s=[t||Mi,sj(n)];return i=i||(typeof n=="object"?void 0:fi(n)),new sf(s,e||C0(),i||null,r)}var Nl=class Nl{static create(e,t){if(Array.isArray(e))return dx({name:""},t,e,"");{let i=e.name??"";return dx({name:i},e.parent,e.providers,i)}}};Nl.THROW_IF_NOT_FOUND=nf,Nl.NULL=new qm,Nl.\u0275prov=X({token:Nl,providedIn:"any",factory:()=>G(Qx)}),Nl.__NG_ELEMENT_ID__=-1;var nn=Nl;var rz=new oe("");rz.__NG_ELEMENT_ID__=n=>{let e=Hn();if(e===null)throw new ie(204,!1);if(e.type&2)return e.value;if(n&Ke.Optional)return null;throw new ie(204,!1)};var sz="ngOriginalError";function gb(n){return n[sz]}var KR=!0,O0=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=oz,e.__NG_ENV_ID__=i=>i;let n=e;return n})(),Bb=class extends O0{constructor(e){super(),this._lView=e}onDestroy(e){return CR(this._lView,e),()=>Sj(this._lView,e)}};function oz(){return new Bb(Ve())}var mo=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ot(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=X({token:e,providedIn:"root",factory:()=>new e});let n=e;return n})();var Ub=class extends ke{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,dR()&&(this.destroyRef=K(O0,{optional:!0})??void 0,this.pendingTasks=K(mo,{optional:!0})??void 0)}emit(e){let t=lt(null);try{super.next(e)}finally{lt(t)}}subscribe(e,t,i){let r=e,s=t||(()=>null),o=i;if(e&&typeof e=="object"){let l=e;r=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=this.wrapInTimeout(s),r&&(r=this.wrapInTimeout(r)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:r,error:s,complete:o});return e instanceof Yt&&e.add(a),a}wrapInTimeout(e){return t=>{let i=this.pendingTasks?.add();setTimeout(()=>{e(t),i!==void 0&&this.pendingTasks?.remove(i)})}}},xe=Ub;function e0(...n){}function QR(n){let e,t;function i(){n=e0;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),i()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),i()})),()=>i()}function hx(n){return queueMicrotask(()=>n()),()=>{n=e0}}var q1="isAngularZone",t0=q1+"_ID",az=0,De=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xe(!1),this.onMicrotaskEmpty=new xe(!1),this.onStable=new xe(!1),this.onError=new xe(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:s=KR}=e;if(typeof Zone>"u")throw new ie(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&i,o.shouldCoalesceRunChangeDetection=r,o.callbackScheduled=!1,o.scheduleInRootZone=s,uz(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(q1)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new ie(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new ie(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,e,lz,e0,e0);try{return s.runTask(o,t,i)}finally{s.cancelTask(o)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}},lz={};function W1(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function cz(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){QR(()=>{n.callbackScheduled=!1,jb(n),n.isCheckStableRunning=!0,W1(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),jb(n)}function uz(n){let e=()=>{cz(n)},t=az++;n._inner=n._inner.fork({name:"angular",properties:{[q1]:!0,[t0]:t,[t0+t]:!0},onInvokeTask:(i,r,s,o,a,l)=>{if(dz(l))return i.invokeTask(s,o,a,l);try{return fx(n),i.invokeTask(s,o,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),px(n)}},onInvoke:(i,r,s,o,a,l,c)=>{try{return fx(n),i.invoke(s,o,a,l,c)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!hz(l)&&e(),px(n)}},onHasTask:(i,r,s,o)=>{i.hasTask(s,o),r===s&&(o.change=="microTask"?(n._hasPendingMicrotasks=o.microTask,jb(n),W1(n)):o.change=="macroTask"&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(i,r,s,o)=>(i.handleError(s,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}function jb(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function fx(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function px(n){n._nesting--,W1(n)}var n0=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xe,this.onMicrotaskEmpty=new xe,this.onStable=new xe,this.onError=new xe}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}};function dz(n){return ZR(n,"__ignore_ng_zone__")}function hz(n){return ZR(n,"__scheduler_tick__")}function ZR(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}function fz(n="zone.js",e){return n==="noop"?new n0:n==="zone.js"?new De(e):n}var ho=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&gb(e);for(;t&&gb(t);)t=gb(t);return t||null}},pz=new oe("",{providedIn:"root",factory:()=>{let n=K(De),e=K(ho);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function gz(){return qu(Hn(),Ve())}function qu(n,e){return new ct(hr(n,e))}var ct=(()=>{let e=class e{constructor(i){this.nativeElement=i}};e.__NG_ELEMENT_ID__=gz;let n=e;return n})();function mz(n){return n instanceof ct?n.nativeElement:n}function _z(){return this._results[Symbol.iterator]()}var zb=class n{get changes(){return this._changes??=new xe}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=n.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=_z)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let i=B4(e);(this._changesDetected=!V4(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function YR(n){return(n.flags&128)===128}var JR=new Map,yz=0;function vz(){return yz++}function wz(n){JR.set(n[E0],n)}function $b(n){JR.delete(n[E0])}var gx="__ngContext__";function ha(n,e){ua(e)?(n[gx]=e[E0],wz(e)):n[gx]=e}function XR(n){return tO(n[af])}function eO(n){return tO(n[Lr])}function tO(n){for(;n!==null&&!go(n);)n=n[Lr];return n}var Hb;function nO(n){Hb=n}function iO(){if(Hb!==void 0)return Hb;if(typeof document<"u")return document;throw new ie(210,!1)}var N0=new oe("",{providedIn:"root",factory:()=>bz}),bz="ng",K1=new oe(""),wt=new oe("",{providedIn:"platform",factory:()=>"unknown"});var Q1=new oe(""),Z1=new oe("",{providedIn:"root",factory:()=>iO().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Cz="h",Ez="b";var Iz=()=>null;function Y1(n,e,t=!1){return Iz(n,e,t)}var rO=!1,Dz=new oe("",{providedIn:"root",factory:()=>rO});var Rm;function Tz(){if(Rm===void 0&&(Rm=null,$n.trustedTypes))try{Rm=$n.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Rm}function k0(n){return Tz()?.createHTML(n)||n}var Om;function sO(){if(Om===void 0&&(Om=null,$n.trustedTypes))try{Om=$n.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Om}function mx(n){return sO()?.createHTML(n)||n}function _x(n){return sO()?.createScriptURL(n)||n}var fo=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Vx})`}},Gb=class extends fo{getTypeName(){return"HTML"}},qb=class extends fo{getTypeName(){return"Style"}},Wb=class extends fo{getTypeName(){return"Script"}},Kb=class extends fo{getTypeName(){return"URL"}},Qb=class extends fo{getTypeName(){return"ResourceURL"}};function fr(n){return n instanceof fo?n.changingThisBreaksApplicationSecurity:n}function _o(n,e){let t=Sz(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Vx})`)}return t===e}function Sz(n){return n instanceof fo&&n.getTypeName()||null}function oO(n){return new Gb(n)}function aO(n){return new qb(n)}function lO(n){return new Wb(n)}function cO(n){return new Kb(n)}function uO(n){return new Qb(n)}function Mz(n){let e=new Yb(n);return Az()?new Zb(e):e}var Zb=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(k0(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},Yb=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=k0(e),t}};function Az(){try{return!!new window.DOMParser().parseFromString(k0(""),"text/html")}catch{return!1}}var xz=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function P0(n){return n=String(n),n.match(xz)?n:"unsafe:"+n}function yo(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function pf(...n){let e={};for(let t of n)for(let i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}var dO=yo("area,br,col,hr,img,wbr"),hO=yo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),fO=yo("rp,rt"),Rz=pf(fO,hO),Oz=pf(hO,yo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Nz=pf(fO,yo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),yx=pf(dO,Oz,Nz,Rz),pO=yo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),kz=yo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Pz=yo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),Fz=pf(pO,kz,Pz),Lz=yo("script,style,template"),Jb=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,i=!0,r=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild){r.push(t),t=Uz(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let s=Bz(t);if(s){t=s;break}t=r.pop()}}return this.buf.join("")}startElement(e){let t=vx(e).toLowerCase();if(!yx.hasOwnProperty(t))return this.sanitizedSomething=!0,!Lz.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let i=e.attributes;for(let r=0;r<i.length;r++){let s=i.item(r),o=s.name,a=o.toLowerCase();if(!Fz.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;pO[a]&&(l=P0(l)),this.buf.push(" ",o,'="',wx(l),'"')}return this.buf.push(">"),!0}endElement(e){let t=vx(e).toLowerCase();yx.hasOwnProperty(t)&&!dO.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(wx(e))}};function Vz(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function Bz(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw gO(e);return e}function Uz(n){let e=n.firstChild;if(e&&Vz(n,e))throw gO(e);return e}function vx(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function gO(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var jz=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,zz=/([^\#-~ |!])/g;function wx(n){return n.replace(/&/g,"&amp;").replace(jz,function(e){let t=e.charCodeAt(0),i=e.charCodeAt(1);return"&#"+((t-55296)*1024+(i-56320)+65536)+";"}).replace(zz,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Nm;function J1(n,e){let t=null;try{Nm=Nm||Mz(n);let i=e?String(e):"";t=Nm.getInertBodyElement(i);let r=5,s=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=t.innerHTML,t=Nm.getInertBodyElement(i)}while(i!==s);let a=new Jb().sanitizeChildren(bx(t)||t);return k0(a)}finally{if(t){let i=bx(t)||t;for(;i.firstChild;)i.firstChild.remove()}}}function bx(n){return"content"in n&&$z(n)?n.content:null}function $z(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var Gi=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Gi||{});function X1(n){let e=eC();return e?mx(e.sanitize(Gi.HTML,n)||""):_o(n,"HTML")?mx(fr(n)):J1(iO(),Fl(n))}function Gn(n){let e=eC();return e?e.sanitize(Gi.URL,n)||"":_o(n,"URL")?fr(n):P0(Fl(n))}function Hz(n){let e=eC();if(e)return _x(e.sanitize(Gi.RESOURCE_URL,n)||"");if(_o(n,"ResourceURL"))return _x(fr(n));throw new ie(904,!1)}function Gz(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?Hz:Gn}function mO(n,e,t){return Gz(e,t)(n)}function eC(){let n=Ve();return n&&n[ws].sanitizer}var qz=/^>|^->|<!--|-->|--!>|<!-$/g,Wz=/(<|>)/g,Kz="\u200B$1\u200B";function Qz(n){return n.replace(qz,e=>e.replace(Wz,Kz))}function gf(n){return n.ownerDocument.defaultView}function _O(n){return n instanceof Function?n():n}function Zz(n){return(n??K(nn)).get(wt)==="browser"}var Cs=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Cs||{}),Yz;function tC(n,e){return Yz(n,e)}function Ou(n,e,t,i,r){if(i!=null){let s,o=!1;go(i)?s=i:ua(i)&&(o=!0,i=i[Is]);let a=bs(i);n===0&&t!==null?r==null?EO(e,t,a):i0(e,t,a,r||null,!0):n===1&&t!==null?i0(e,t,a,r||null,!0):n===2?d$(e,a,o):n===3&&e.destroyNode(a),s!=null&&f$(e,n,s,t,r)}}function Jz(n,e){return n.createText(e)}function Xz(n,e,t){n.setValue(e,t)}function e$(n,e){return n.createComment(Qz(e))}function yO(n,e,t){return n.createElement(e,t)}function t$(n,e){vO(n,e),e[Is]=null,e[Ai]=null}function n$(n,e,t,i,r,s){i[Is]=r,i[Ai]=e,L0(n,i,t,1,r,s)}function vO(n,e){e[ws].changeDetectionScheduler?.notify(9),L0(n,e,e[jt],2,null,null)}function i$(n){let e=n[af];if(!e)return mb(n[qe],n);for(;e;){let t=null;if(ua(e))t=e[af];else{let i=e[Hi];i&&(t=i)}if(!t){for(;e&&!e[Lr]&&e!==n;)ua(e)&&mb(e[qe],e),e=e[ti];e===null&&(e=n),ua(e)&&mb(e[qe],e),t=e&&e[Lr]}e=t}}function r$(n,e,t,i){let r=Hi+i,s=t.length;i>0&&(t[r-1][Lr]=e),i<s-Hi?(e[Lr]=t[r],Kx(t,Hi+i,e)):(t.push(e),e[Lr]=null),e[ti]=t;let o=e[Vl];o!==null&&t!==o&&wO(o,e);let a=e[co];a!==null&&a.insertView(n),Nb(e),e[Pe]|=128}function wO(n,e){let t=n[Uu],i=e[ti];if(ua(i))n[Pe]|=Qm.HasTransplantedViews;else{let r=i[ti][ur];e[ur]!==r&&(n[Pe]|=Qm.HasTransplantedViews)}t===null?n[Uu]=[e]:t.push(e)}function nC(n,e){let t=n[Uu],i=t.indexOf(e);t.splice(i,1)}function Xb(n,e){if(n.length<=Hi)return;let t=Hi+e,i=n[t];if(i){let r=i[Vl];r!==null&&r!==n&&nC(r,i),e>0&&(n[t-1][Lr]=i[Lr]);let s=Gm(n,Hi+e);t$(i[qe],i);let o=s[co];o!==null&&o.detachView(s[qe]),i[ti]=null,i[Lr]=null,i[Pe]&=-129}return i}function bO(n,e){if(!(e[Pe]&256)){let t=e[jt];t.destroyNode&&L0(n,e,t,3,null,null),i$(e)}}function mb(n,e){if(e[Pe]&256)return;let t=lt(null);try{e[Pe]&=-129,e[Pe]|=256,e[cr]&&Uw(e[cr]),o$(n,e),s$(n,e),e[qe].type===1&&e[jt].destroy();let i=e[Vl];if(i!==null&&go(e[ti])){i!==e[ti]&&nC(i,e);let r=e[co];r!==null&&r.detachView(n)}$b(e)}finally{lt(t)}}function s$(n,e){let t=n.cleanup,i=e[Wm];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let o=t[s+3];o>=0?i[o]():i[-o].unsubscribe(),s+=2}else{let o=i[t[s+1]];t[s].call(o)}i!==null&&(e[Wm]=null);let r=e[ca];if(r!==null){e[ca]=null;for(let s=0;s<r.length;s++){let o=r[s];o()}}}function o$(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let i=0;i<t.length;i+=2){let r=e[t[i]];if(!(r instanceof zl)){let s=t[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=r[s[o]],l=s[o+1];_s(4,a,l);try{l.call(a)}finally{_s(5,a,l)}}else{_s(4,r,s);try{s.call(r)}finally{_s(5,r,s)}}}}}function CO(n,e,t){return a$(n,e.parent,t)}function a$(n,e,t){let i=e;for(;i!==null&&i.type&168;)e=i,i=e.parent;if(i===null)return t[Is];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:s}=n.data[i.directiveStart+r];if(s===vs.None||s===vs.Emulated)return null}return hr(i,t)}}function i0(n,e,t,i,r){n.insertBefore(e,t,i,r)}function EO(n,e,t){n.appendChild(e,t)}function Cx(n,e,t,i,r){i!==null?i0(n,e,t,i,r):EO(n,e,t)}function IO(n,e){return n.parentNode(e)}function l$(n,e){return n.nextSibling(e)}function DO(n,e,t){return u$(n,e,t)}function c$(n,e,t){return n.type&40?hr(n,t):null}var u$=c$,Ex;function F0(n,e,t,i){let r=CO(n,i,e),s=e[jt],o=i.parent||e[Ai],a=DO(o,i,e);if(r!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)Cx(s,r,t[l],a,!1);else Cx(s,r,t,a,!1);Ex!==void 0&&Ex(s,i,e,t,r)}function Xh(n,e){if(e!==null){let t=e.type;if(t&3)return hr(e,n);if(t&4)return e1(-1,n[e.index]);if(t&8){let i=e.child;if(i!==null)return Xh(n,i);{let r=n[e.index];return go(r)?e1(-1,r):bs(r)}}else{if(t&128)return Xh(n,e.next);if(t&32)return tC(e,n)()||bs(n[e.index]);{let i=TO(n,e);if(i!==null){if(Array.isArray(i))return i[0];let r=Ul(n[ur]);return Xh(r,i)}else return Xh(n,e.next)}}}return null}function TO(n,e){if(e!==null){let i=n[ur][Ai],r=e.projection;return i.projection[r]}return null}function e1(n,e){let t=Hi+n+1;if(t<e.length){let i=e[t],r=i[qe].firstChild;if(r!==null)return Xh(i,r)}return e[Bl]}function d$(n,e,t){n.removeChild(null,e,t)}function iC(n,e,t,i,r,s,o){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=i[t.index],l=t.type;if(o&&e===0&&(a&&ha(bs(a),i),t.flags|=2),(t.flags&32)!==32)if(l&8)iC(n,e,t.child,i,r,s,!1),Ou(e,n,r,a,s);else if(l&32){let c=tC(t,i),d;for(;d=c();)Ou(e,n,r,d,s);Ou(e,n,r,a,s)}else l&16?SO(n,e,i,t,r,s):Ou(e,n,r,a,s);t=o?t.projectionNext:t.next}}function L0(n,e,t,i,r,s){iC(t,i,n.firstChild,e,r,s,!1)}function h$(n,e,t){let i=e[jt],r=CO(n,t,e),s=t.parent||e[Ai],o=DO(s,t,e);SO(i,0,e,t,r,o)}function SO(n,e,t,i,r,s){let o=t[ur],l=o[Ai].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let d=l[c];Ou(e,n,r,d,s)}else{let c=l,d=o[ti];YR(i)&&(c.flags|=128),iC(n,e,c,d,r,s,!0)}}function f$(n,e,t,i,r){let s=t[Bl],o=bs(t);s!==o&&Ou(e,n,i,s,r);for(let a=Hi;a<t.length;a++){let l=t[a];L0(l[qe],l,n,e,i,s)}}function p$(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let s=i.indexOf("-")===-1?void 0:Cs.DashCase;r==null?n.removeStyle(t,i,s):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=Cs.Important),n.setStyle(t,i,r,s))}}function g$(n,e,t){n.setAttribute(e,"style",t)}function MO(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function AO(n,e,t){let{mergedAttrs:i,classes:r,styles:s}=t;i!==null&&Sb(n,e,i),r!==null&&MO(n,e,r),s!==null&&g$(n,e,s)}var qi={};function T(n=1){xO(Wt(),Ve(),_a()+n,!1)}function xO(n,e,t,i){if(!i)if((e[Pe]&3)===3){let s=n.preOrderCheckHooks;s!==null&&Bm(e,s,t)}else{let s=n.preOrderHooks;s!==null&&Um(e,s,0,t)}jl(t)}function B(n,e=Ke.Default){let t=Ve();if(t===null)return G(n,e);let i=Hn();return HR(i,t,hi(n),e)}function RO(){let n="invalid";throw new Error(n)}function OO(n,e,t,i,r,s){let o=lt(null);try{let a=null;r&da.SignalBased&&(a=e[i][ro]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),r&da.HasDecoratorInputTransform&&(s=n.inputTransforms[i].call(e,s)),n.setInput!==null?n.setInput(e,a,s,t,i):fR(e,a,i,s)}finally{lt(o)}}function m$(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let i=0;i<t.length;i++){let r=t[i];if(r<0)jl(~r);else{let s=r,o=t[++i],a=t[++i];Vj(o,s);let l=e[s];a(2,l)}}}finally{jl(-1)}}function V0(n,e,t,i,r,s,o,a,l,c,d){let h=e.blueprint.slice();return h[Is]=r,h[Pe]=i|4|128|8|64,(c!==null||n&&n[Pe]&2048)&&(h[Pe]|=2048),wR(h),h[ti]=h[Gu]=n,h[Vr]=t,h[ws]=o||n&&n[ws],h[jt]=a||n&&n[jt],h[Bu]=l||n&&n[Bu]||null,h[Ai]=s,h[E0]=vz(),h[of]=d,h[hR]=c,h[ur]=e.type==2?n[ur]:h,h}function Wu(n,e,t,i,r){let s=n.data[e];if(s===null)s=_$(n,e,t,i,r),Lj()&&(s.flags|=32);else if(s.type&64){s.type=t,s.value=i,s.attrs=r;let o=Nj();s.injectorIndex=o===null?-1:o.injectorIndex}return Kl(s,!0),s}function _$(n,e,t,i,r){let s=TR(),o=B1(),a=o?s:s&&s.parent,l=n.data[e]=E$(n,a,t,e,i,r);return n.firstChild===null&&(n.firstChild=l),s!==null&&(o?s.child==null&&l.parent!==null&&(s.child=l):s.next===null&&(s.next=l,l.prev=s)),l}function NO(n,e,t,i){if(t===0)return-1;let r=e.length;for(let s=0;s<t;s++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function kO(n,e,t,i,r){let s=_a(),o=i&2;try{jl(-1),o&&e.length>pi&&xO(n,e,pi,!1),_s(o?2:0,r),t(i,r)}finally{jl(s),_s(o?3:1,r)}}function rC(n,e,t){if(F1(e)){let i=lt(null);try{let r=e.directiveStart,s=e.directiveEnd;for(let o=r;o<s;o++){let a=n.data[o];if(a.contentQueries){let l=t[o];a.contentQueries(1,l,o)}}}finally{lt(i)}}}function sC(n,e,t){IR()&&(A$(n,e,t,hr(t,e)),(t.flags&64)===64&&LO(n,e,t))}function oC(n,e,t=hr){let i=e.localNames;if(i!==null){let r=e.index+1;for(let s=0;s<i.length;s+=2){let o=i[s+1],a=o===-1?t(e,n):n[o];n[r++]=a}}}function PO(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=aC(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function aC(n,e,t,i,r,s,o,a,l,c,d){let h=pi+i,m=h+r,v=y$(h,m),C=typeof c=="function"?c():c;return v[qe]={type:n,blueprint:v,template:t,queries:null,viewQuery:a,declTNode:e,data:v.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:l,consts:C,incompleteFirstPass:!1,ssrId:d}}function y$(n,e){let t=[];for(let i=0;i<e;i++)t.push(i<n?null:qi);return t}function v$(n,e,t,i){let s=i.get(Dz,rO)||t===vs.ShadowDom,o=n.selectRootElement(e,s);return w$(o),o}function w$(n){b$(n)}var b$=()=>null;function C$(n,e,t,i){let r=UO(e);r.push(t),n.firstCreatePass&&jO(n).push(i,r.length-1)}function E$(n,e,t,i,r,s){let o=e?e.injectorIndex:-1,a=0;return DR()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Ix(n,e,t,i,r){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;i??={};let a,l=da.None;Array.isArray(o)?(a=o[0],l=o[1]):a=o;let c=s;if(r!==null){if(!r.hasOwnProperty(s))continue;c=r[s]}n===0?Dx(i,t,c,a,l):Dx(i,t,c,a)}return i}function Dx(n,e,t,i,r){let s;n.hasOwnProperty(t)?(s=n[t]).push(e,i):s=n[t]=[e,i],r!==void 0&&s.push(r)}function I$(n,e,t){let i=e.directiveStart,r=e.directiveEnd,s=n.data,o=e.attrs,a=[],l=null,c=null;for(let d=i;d<r;d++){let h=s[d],m=t?t.get(h):null,v=m?m.inputs:null,C=m?m.outputs:null;l=Ix(0,h.inputs,d,l,v),c=Ix(1,h.outputs,d,c,C);let A=l!==null&&o!==null&&!N1(e)?U$(l,d,o):null;a.push(A)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}function D$(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function B0(n,e,t,i,r,s,o,a){let l=hr(e,t),c=e.inputs,d;!a&&c!=null&&(d=c[i])?(cC(n,t,d,i,r),I0(e)&&T$(t,e.index)):e.type&3?(i=D$(i),r=o!=null?o(r,e.value||"",i):r,s.setProperty(l,i,r)):e.type&12}function T$(n,e){let t=ma(e,n);t[Pe]&16||(t[Pe]|=64)}function lC(n,e,t,i){if(IR()){let r=i===null?null:{"":-1},s=R$(n,t),o,a;s===null?o=a=null:[o,a]=s,o!==null&&FO(n,e,t,o,r,a),r&&O$(t,i,r)}t.mergedAttrs=rf(t.mergedAttrs,t.attrs)}function FO(n,e,t,i,r,s){for(let c=0;c<i.length;c++)Lb(Xm(t,e),n,i[c].type);k$(t,n.data.length,i.length);for(let c=0;c<i.length;c++){let d=i[c];d.providersResolver&&d.providersResolver(d)}let o=!1,a=!1,l=NO(n,e,i.length,null);for(let c=0;c<i.length;c++){let d=i[c];t.mergedAttrs=rf(t.mergedAttrs,d.hostAttrs),P$(n,t,e,l,d),N$(l,d,r),d.contentQueries!==null&&(t.flags|=4),(d.hostBindings!==null||d.hostAttrs!==null||d.hostVars!==0)&&(t.flags|=64);let h=d.type.prototype;!o&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),o=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}I$(n,t,s)}function S$(n,e,t,i,r){let s=r.hostBindings;if(s){let o=n.hostBindingOpCodes;o===null&&(o=n.hostBindingOpCodes=[]);let a=~e.index;M$(o)!=a&&o.push(a),o.push(t,i,s)}}function M$(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function A$(n,e,t,i){let r=t.directiveStart,s=t.directiveEnd;I0(t)&&F$(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Xm(t,e),ha(i,e);let o=t.initialInputs;for(let a=r;a<s;a++){let l=n.data[a],c=$l(e,n,a,t);if(ha(c,e),o!==null&&B$(e,a-r,c,l,t,o),uo(l)){let d=ma(t.index,e);d[Vr]=$l(e,n,a,t)}}}function LO(n,e,t){let i=t.directiveStart,r=t.directiveEnd,s=t.index,o=Bj();try{jl(s);for(let a=i;a<r;a++){let l=n.data[a],c=e[a];kb(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&x$(l,c)}}finally{jl(-1),kb(o)}}function x$(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function R$(n,e){let t=n.directiveRegistry,i=null,r=null;if(t)for(let s=0;s<t.length;s++){let o=t[s];if(eR(e,o.selectors,!1))if(i||(i=[]),uo(o))if(o.findHostDirectiveDefs!==null){let a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),i.unshift(...a,o);let l=a.length;t1(n,e,l)}else i.unshift(o),t1(n,e,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return i===null?null:[i,r]}function t1(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function O$(n,e,t){if(e){let i=n.localNames=[];for(let r=0;r<e.length;r+=2){let s=t[e[r+1]];if(s==null)throw new ie(-301,!1);i.push(e[r],s)}}}function N$(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;uo(e)&&(t[""]=n)}}function k$(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function P$(n,e,t,i,r){n.data[i]=r;let s=r.factory||(r.factory=Ll(r.type,!0)),o=new zl(s,uo(r),B);n.blueprint[i]=o,t[i]=o,S$(n,e,i,NO(n,t,r.hostVars,qi),r)}function F$(n,e,t){let i=hr(e,n),r=PO(t),s=n[ws].rendererFactory,o=16;t.signals?o=4096:t.onPush&&(o=64);let a=U0(n,V0(n,r,null,o,i,e,null,s.createRenderer(i,t),null,null,null));n[e.index]=a}function L$(n,e,t,i,r,s){let o=hr(n,e);V$(e[jt],o,s,n.value,t,i,r)}function V$(n,e,t,i,r,s,o){if(s==null)n.removeAttribute(e,r,t);else{let a=o==null?Fl(s):o(s,i||"",r);n.setAttribute(e,r,a,t)}}function B$(n,e,t,i,r,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let l=o[a++],c=o[a++],d=o[a++],h=o[a++];OO(i,t,l,c,d,h)}}function U$(n,e,t){let i=null,r=0;for(;r<t.length;){let s=t[r];if(s===0){r+=4;continue}else if(s===5){r+=2;continue}if(typeof s=="number")break;if(n.hasOwnProperty(s)){i===null&&(i=[]);let o=n[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){i.push(s,o[a+1],o[a+2],t[r+1]);break}}r+=2}return i}function VO(n,e,t,i){return[n,!0,0,e,null,i,null,t,null,null]}function BO(n,e){let t=n.contentQueries;if(t!==null){let i=lt(null);try{for(let r=0;r<t.length;r+=2){let s=t[r],o=t[r+1];if(o!==-1){let a=n.data[o];z1(s),a.contentQueries(2,e[o],o)}}}finally{lt(i)}}}function U0(n,e){return n[af]?n[sx][Lr]=e:n[af]=e,n[sx]=e,e}function n1(n,e,t){z1(0);let i=lt(null);try{e(n,t)}finally{lt(i)}}function UO(n){return n[Wm]??=[]}function jO(n){return n.cleanup??=[]}function j$(n,e,t){return(n===null||uo(n))&&(t=Ej(t[e.index])),t[jt]}function zO(n,e){let t=n[Bu],i=t?t.get(ho,null):null;i&&i.handleError(e)}function cC(n,e,t,i,r){for(let s=0;s<t.length;){let o=t[s++],a=t[s++],l=t[s++],c=e[o],d=n.data[o];OO(d,c,i,a,l,r)}}function $O(n,e,t){let i=yR(e,n);Xz(n[jt],i,t)}function z$(n,e){let t=ma(e,n),i=t[qe];$$(i,t);let r=t[Is];r!==null&&t[of]===null&&(t[of]=Y1(r,t[Bu])),uC(i,t,t[Vr])}function $$(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function uC(n,e,t){$1(e);try{let i=n.viewQuery;i!==null&&n1(1,i,t);let r=n.template;r!==null&&kO(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[co]?.finishViewCreation(n),n.staticContentQueries&&BO(n,e),n.staticViewQueries&&n1(2,n.viewQuery,t);let s=n.components;s!==null&&H$(e,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[Pe]&=-5,H1()}}function H$(n,e){for(let t=0;t<e.length;t++)z$(n,e[t])}function HO(n,e,t,i){let r=lt(null);try{let s=e.tView,a=n[Pe]&4096?4096:16,l=V0(n,s,t,a,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),c=n[e.index];l[Vl]=c;let d=n[co];return d!==null&&(l[co]=d.createEmbeddedView(s)),uC(s,l,t),l}finally{lt(r)}}function i1(n,e){return!e||e.firstChild===null||YR(n)}function GO(n,e,t,i=!0){let r=e[qe];if(r$(r,e,n,t),i){let o=e1(t,n),a=e[jt],l=IO(a,n[Bl]);l!==null&&n$(r,n[Ai],a,e,l,o)}let s=e[of];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function r0(n,e,t,i,r=!1){for(;t!==null;){if(t.type===128){t=r?t.projectionNext:t.next;continue}let s=e[t.index];s!==null&&i.push(bs(s)),go(s)&&G$(s,i);let o=t.type;if(o&8)r0(n,e,t.child,i);else if(o&32){let a=tC(t,e),l;for(;l=a();)i.push(l)}else if(o&16){let a=TO(e,t);if(Array.isArray(a))i.push(...a);else{let l=Ul(e[ur]);r0(l[qe],l,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function G$(n,e){for(let t=Hi;t<n.length;t++){let i=n[t],r=i[qe].firstChild;r!==null&&r0(i[qe],i,r,e)}n[Bl]!==n[Is]&&e.push(n[Bl])}var qO=[];function q$(n){return n[cr]??W$(n)}function W$(n){let e=qO.pop()??Object.create(Q$);return e.lView=n,e}function K$(n){n.lView[cr]!==n&&(n.lView=null,qO.push(n))}var Q$=Ee(Q({},Kh),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{S0(n.lView)},consumerOnSignalRead(){this.lView[cr]=this}});function Z$(n){let e=n[cr]??Object.create(Y$);return e.lView=n,e}var Y$=Ee(Q({},Kh),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=Ul(n.lView);for(;e&&!WO(e[qe]);)e=Ul(e);e&&bR(e)},consumerOnSignalRead(){this.lView[cr]=this}});function WO(n){return n.type!==2}var J$=100;function KO(n,e=!0,t=0){let i=n[ws],r=i.rendererFactory,s=!1;s||r.begin?.();try{X$(n,t)}catch(o){throw e&&zO(n,o),o}finally{s||(r.end?.(),i.inlineEffectRunner?.flush())}}function X$(n,e){let t=SR();try{ax(!0),r1(n,e);let i=0;for(;T0(n);){if(i===J$)throw new ie(103,!1);i++,r1(n,1)}}finally{ax(t)}}function e6(n,e,t,i){let r=e[Pe];if((r&256)===256)return;let s=!1,o=!1;!s&&e[ws].inlineEffectRunner?.flush(),$1(e);let a=!0,l=null,c=null;s||(WO(n)?(c=q$(e),l=Jg(c)):pA()===null?(a=!1,c=Z$(e),l=Jg(c)):e[cr]&&(Uw(e[cr]),e[cr]=null));try{wR(e),Fj(n.bindingStartIndex),t!==null&&kO(n,e,t,2,i);let d=(r&3)===3;if(!s)if(d){let v=n.preOrderCheckHooks;v!==null&&Bm(e,v,null)}else{let v=n.preOrderHooks;v!==null&&Um(e,v,0,null),hb(e,0)}if(o||t6(e),QO(e,0),n.contentQueries!==null&&BO(n,e),!s)if(d){let v=n.contentCheckHooks;v!==null&&Bm(e,v)}else{let v=n.contentHooks;v!==null&&Um(e,v,1),hb(e,1)}m$(n,e);let h=n.components;h!==null&&YO(e,h,0);let m=n.viewQuery;if(m!==null&&n1(2,m,i),!s)if(d){let v=n.viewCheckHooks;v!==null&&Bm(e,v)}else{let v=n.viewHooks;v!==null&&Um(e,v,2),hb(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[db]){for(let v of e[db])v();e[db]=null}s||(e[Pe]&=-73)}catch(d){throw s||S0(e),d}finally{c!==null&&(Vw(c,l),a&&K$(c)),H1()}}function QO(n,e){for(let t=XR(n);t!==null;t=eO(t))for(let i=Hi;i<t.length;i++){let r=t[i];ZO(r,e)}}function t6(n){for(let e=XR(n);e!==null;e=eO(e)){if(!(e[Pe]&Qm.HasTransplantedViews))continue;let t=e[Uu];for(let i=0;i<t.length;i++){let r=t[i];bR(r)}}}function n6(n,e,t){let i=ma(e,n);ZO(i,t)}function ZO(n,e){V1(n)&&r1(n,e)}function r1(n,e){let i=n[qe],r=n[Pe],s=n[cr],o=!!(e===0&&r&16);if(o||=!!(r&64&&e===0),o||=!!(r&1024),o||=!!(s?.dirty&&Bw(s)),o||=!1,s&&(s.dirty=!1),n[Pe]&=-9217,o)e6(i,n,i.template,n[Vr]);else if(r&8192){QO(n,1);let a=i.components;a!==null&&YO(n,a,1)}}function YO(n,e,t){for(let i=0;i<e.length;i++)n6(n,e[i],t)}function dC(n,e){let t=SR()?64:1088;for(n[ws].changeDetectionScheduler?.notify(e);n;){n[Pe]|=t;let i=Ul(n);if(Rb(n)&&!i)return n;n=i}return null}var Hl=class{get rootNodes(){let e=this._lView,t=e[qe];return r0(t,e,t.firstChild,[])}constructor(e,t,i=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Vr]}set context(e){this._lView[Vr]=e}get destroyed(){return(this._lView[Pe]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[ti];if(go(e)){let t=e[Km],i=t?t.indexOf(this):-1;i>-1&&(Xb(e,i),Gm(t,i))}this._attachedToViewContainer=!1}bO(this._lView[qe],this._lView)}onDestroy(e){CR(this._lView,e)}markForCheck(){dC(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Pe]&=-129}reattach(){Nb(this._lView),this._lView[Pe]|=128}detectChanges(){this._lView[Pe]|=1024,KO(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ie(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Rb(this._lView),t=this._lView[Vl];t!==null&&!e&&nC(t,this._lView),vO(this._lView[qe],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ie(902,!1);this._appRef=e;let t=Rb(this._lView),i=this._lView[Vl];i!==null&&!t&&wO(i,this._lView),Nb(this._lView)}},Br=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=s6;let n=e;return n})(),i6=Br,r6=class extends i6{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){let r=HO(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:i});return new Hl(r)}};function s6(){return j0(Hn(),Ve())}function j0(n,e){return n.type&4?new r6(e,n,qu(n,e)):null}var wde=new RegExp(`^(\\d+)*(${Ez}|${Cz})*(.*)`);var o6=()=>null;function s1(n,e){return o6(n,e)}var zu=class{},JO=new oe("",{providedIn:"root",factory:()=>!1});var XO=new oe(""),eN=new oe(""),o1=class{},s0=class{};function a6(n){let e=Error(`No component factory found for ${fi(n)}.`);return e[l6]=n,e}var l6="ngComponent";var a1=class{resolveComponentFactory(e){throw a6(e)}},DC=class DC{};DC.NULL=new a1;var fa=DC,pa=class{},An=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>c6();let n=e;return n})();function c6(){let n=Ve(),e=Hn(),t=ma(e.index,n);return(ua(t)?t:n)[jt]}var u6=(()=>{let e=class e{};e.\u0275prov=X({token:e,providedIn:"root",factory:()=>null});let n=e;return n})();function o0(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)r=Eb(r,a);else if(s==2){let l=a,c=e[++o];i=Eb(i,l+": "+c+";")}}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}var a0=class extends fa{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=lo(e);return new Gl(t,this.ngModule)}};function Tx(n,e){let t=[];for(let i in n){if(!n.hasOwnProperty(i))continue;let r=n[i];if(r===void 0)continue;let s=Array.isArray(r),o=s?r[0]:r,a=s?r[1]:da.None;e?t.push({propName:o,templateName:i,isSignal:(a&da.SignalBased)!==0}):t.push({propName:o,templateName:i})}return t}function d6(n){let e=n.toLowerCase();return e==="svg"?_R:e==="math"?Cj:null}var Gl=class extends s0{get inputs(){let e=this.componentDef,t=e.inputTransforms,i=Tx(e.inputs,!0);if(t!==null)for(let r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return Tx(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=ej(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let s=lt(null);try{r=r||this.ngModule;let o=r instanceof Mn?r:r?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new Pb(e,o):e,l=a.get(pa,null);if(l===null)throw new ie(407,!1);let c=a.get(u6,null),d=a.get(zu,null),h={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,changeDetectionScheduler:d},m=l.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",C=i?v$(m,i,this.componentDef.encapsulation,a):yO(m,v,d6(v)),A=512;this.componentDef.signals?A|=4096:this.componentDef.onPush||(A|=16);let S=null;C!==null&&(S=Y1(C,a,!0));let j=aC(0,null,null,1,0,null,null,null,null,null,null),Z=V0(null,j,null,A,null,null,h,m,a,null,S);$1(Z);let W,Y,ge=null;try{let ae=this.componentDef,R,D=null;ae.findHostDirectiveDefs?(R=[],D=new Map,ae.findHostDirectiveDefs(ae,R,D),R.push(ae)):R=[ae];let M=h6(Z,C);ge=f6(M,C,ae,R,Z,h,m),Y=vR(j,pi),C&&m6(m,ae,C,i),t!==void 0&&_6(Y,this.ngContentSelectors,t),W=g6(ge,ae,R,D,Z,[y6]),uC(j,Z,null)}catch(ae){throw ge!==null&&$b(ge),$b(Z),ae}finally{H1()}return new l1(this.componentType,W,qu(Y,Z),Z,Y)}finally{lt(s)}}},l1=class extends o1{constructor(e,t,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Hl(r,void 0,!1),this.componentType=e}setInput(e,t){let i=this._tNode.inputs,r;if(i!==null&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let s=this._rootLView;cC(s[qe],s,r,e,t),this.previousInputValues.set(e,t);let o=ma(this._tNode.index,s);dC(o,1)}}get injector(){return new Pl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function h6(n,e){let t=n[qe],i=pi;return n[i]=e,Wu(t,i,2,"#host",null)}function f6(n,e,t,i,r,s,o){let a=r[qe];p6(i,n,e,o);let l=null;e!==null&&(l=Y1(e,r[Bu]));let c=s.rendererFactory.createRenderer(e,t),d=16;t.signals?d=4096:t.onPush&&(d=64);let h=V0(r,PO(t),null,d,r[n.index],n,s,c,null,null,l);return a.firstCreatePass&&t1(a,n,i.length-1),U0(r,h),r[n.index]=h}function p6(n,e,t,i){for(let r of n)e.mergedAttrs=rf(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(o0(e,e.mergedAttrs,!0),t!==null&&AO(i,t,e))}function g6(n,e,t,i,r,s){let o=Hn(),a=r[qe],l=hr(o,r);FO(a,r,o,t,null,i);for(let d=0;d<t.length;d++){let h=o.directiveStart+d,m=$l(r,a,h,o);ha(m,r)}LO(a,r,o),l&&ha(l,r);let c=$l(r,a,o.directiveStart+o.componentOffset,o);if(n[Vr]=r[Vr]=c,s!==null)for(let d of s)d(c,e);return rC(a,o,r),c}function m6(n,e,t,i){if(i)Sb(n,t,["ng-version","18.2.4"]);else{let{attrs:r,classes:s}=tj(e.selectors[0]);r&&Sb(n,t,r),s&&s.length>0&&MO(n,t,s.join(" "))}}function _6(n,e,t){let i=n.projection=[];for(let r=0;r<e.length;r++){let s=t[r];i.push(s!=null?Array.from(s):null)}}function y6(){let n=Hn();x0(Ve()[qe],n)}var Ts=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=v6;let n=e;return n})();function v6(){let n=Hn();return nN(n,Ve())}var w6=Ts,tN=class extends w6{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return qu(this._hostTNode,this._hostLView)}get injector(){return new Pl(this._hostTNode,this._hostLView)}get parentInjector(){let e=G1(this._hostTNode,this._hostLView);if(VR(e)){let t=Ym(e,this._hostLView),i=Zm(e),r=t[qe].data[i+8];return new Pl(r,t)}else return new Pl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=Sx(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Hi}createEmbeddedView(e,t,i){let r,s;typeof i=="number"?r=i:i!=null&&(r=i.index,s=i.injector);let o=s1(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},s,o);return this.insertImpl(a,r,i1(this._hostTNode,o)),a}createComponent(e,t,i,r,s){let o=e&&!yj(e),a;if(o)a=t;else{let C=t||{};a=C.index,i=C.injector,r=C.projectableNodes,s=C.environmentInjector||C.ngModuleRef}let l=o?e:new Gl(lo(e)),c=i||this.parentInjector;if(!s&&l.ngModule==null){let A=(o?c:this.parentInjector).get(Mn,null);A&&(s=A)}let d=lo(l.componentType??{}),h=s1(this._lContainer,d?.id??null),m=h?.firstChild??null,v=l.create(c,r,m,s);return this.insertImpl(v.hostView,a,i1(this._hostTNode,h)),v}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,i){let r=e._lView;if(Dj(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=r[ti],c=new tN(l,l[Ai],l[ti]);c.detach(c.indexOf(e))}}let s=this._adjustIndex(t),o=this._lContainer;return GO(o,r,s,i),e.attachToViewContainerRef(),Kx(_b(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=Sx(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),i=Xb(this._lContainer,t);i&&(Gm(_b(this._lContainer),t),bO(i[qe],i))}detach(e){let t=this._adjustIndex(e,-1),i=Xb(this._lContainer,t);return i&&Gm(_b(this._lContainer),t)!=null?new Hl(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function Sx(n){return n[Km]}function _b(n){return n[Km]||(n[Km]=[])}function nN(n,e){let t,i=e[n.index];return go(i)?t=i:(t=VO(i,e,null,n),e[n.index]=t,U0(e,t)),C6(t,e,n,i),new tN(t,n,e)}function b6(n,e){let t=n[jt],i=t.createComment(""),r=hr(e,n),s=IO(t,r);return i0(t,s,i,l$(t,r),!1),i}var C6=D6,E6=()=>!1;function I6(n,e,t){return E6(n,e,t)}function D6(n,e,t,i){if(n[Bl])return;let r;t.type&8?r=bs(i):r=b6(e,t),n[Bl]=r}var c1=class n{constructor(e){this.queryList=e,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},u1=class n{constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let i=e.contentQueries!==null?e.contentQueries[0]:t.length,r=[];for(let s=0;s<i;s++){let o=t.getByIndex(s),a=this.queries[o.indexInDeclarationView];r.push(a.clone())}return new n(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)hC(e,t).matches!==null&&this.queries[t].setDirty()}},l0=class{constructor(e,t,i=null){this.flags=t,this.read=i,typeof e=="string"?this.predicate=N6(e):this.predicate=e}},d1=class n{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){let r=t!==null?t.length:0,s=this.getByIndex(i).embeddedTView(e,r);s&&(s.indexInDeclarationView=i,t!==null?t.push(s):t=[s])}return t!==null?new n(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},h1=class n{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==t;)i=i.parent;return t===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let s=i[r];this.matchTNodeWithReadOption(e,t,T6(t,s)),this.matchTNodeWithReadOption(e,t,jm(t,e,s,!1,!1))}else i===Br?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,jm(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===ct||r===Ts||r===Br&&t.type&4)this.addMatch(t.index,-2);else{let s=jm(t,e,r,!1,!1);s!==null&&this.addMatch(t.index,s)}else this.addMatch(t.index,i)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function T6(n,e){let t=n.localNames;if(t!==null){for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1]}return null}function S6(n,e){return n.type&11?qu(n,e):n.type&4?j0(n,e):null}function M6(n,e,t,i){return t===-1?S6(e,n):t===-2?A6(n,e,i):$l(n,n[qe],t,e)}function A6(n,e,t){if(t===ct)return qu(e,n);if(t===Br)return j0(e,n);if(t===Ts)return nN(e,n)}function iN(n,e,t,i){let r=e[co].queries[i];if(r.matches===null){let s=n.data,o=t.matches,a=[];for(let l=0;o!==null&&l<o.length;l+=2){let c=o[l];if(c<0)a.push(null);else{let d=s[c];a.push(M6(e,d,o[l+1],t.metadata.read))}}r.matches=a}return r.matches}function f1(n,e,t,i){let r=n.queries.getByIndex(t),s=r.matches;if(s!==null){let o=iN(n,e,r,t);for(let a=0;a<s.length;a+=2){let l=s[a];if(l>0)i.push(o[a/2]);else{let c=s[a+1],d=e[-l];for(let h=Hi;h<d.length;h++){let m=d[h];m[Vl]===m[ti]&&f1(m[qe],m,c,i)}if(d[Uu]!==null){let h=d[Uu];for(let m=0;m<h.length;m++){let v=h[m];f1(v[qe],v,c,i)}}}}}return i}function x6(n,e){return n[co].queries[e].queryList}function rN(n,e,t){let i=new zb((t&4)===4);return C$(n,e,i,i.destroy),(e[co]??=new u1).queries.push(new c1(i))-1}function R6(n,e,t){let i=Wt();return i.firstCreatePass&&(sN(i,new l0(n,e,t),-1),(e&2)===2&&(i.staticViewQueries=!0)),rN(i,Ve(),e)}function O6(n,e,t,i){let r=Wt();if(r.firstCreatePass){let s=Hn();sN(r,new l0(e,t,i),s.index),k6(r,n),(t&2)===2&&(r.staticContentQueries=!0)}return rN(r,Ve(),t)}function N6(n){return n.split(",").map(e=>e.trim())}function sN(n,e,t){n.queries===null&&(n.queries=new d1),n.queries.track(new h1(e,t))}function k6(n,e){let t=n.contentQueries||(n.contentQueries=[]),i=t.length?t[t.length-1]:-1;e!==i&&t.push(n.queries.length-1,e)}function hC(n,e){return n.queries.getByIndex(e)}function P6(n,e){let t=n[qe],i=hC(t,e);return i.crossesNgTemplate?f1(t,n,e,[]):iN(t,n,i,e)}var Mx=new Set;function Zl(n){Mx.has(n)||(Mx.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function F6(n){return typeof n=="function"&&n[ro]!==void 0}function xi(n,e){Zl("NgSignals");let t=DA(n),i=t[ro];return e?.equal&&(i.equal=e.equal),t.set=r=>jw(i,r),t.update=r=>TA(i,r),t.asReadonly=L6.bind(t),t}function L6(){let n=this[ro];if(n.readonlyFn===void 0){let e=()=>this();e[ro]=n,n.readonlyFn=e}return n.readonlyFn}function oN(n){return F6(n)&&typeof n.set=="function"}function V6(n){let e=[],t=new Map;function i(r){let s=t.get(r);if(!s){let o=n(r);t.set(r,s=o.then(z6))}return s}return c0.forEach((r,s)=>{let o=[];r.templateUrl&&o.push(i(r.templateUrl).then(c=>{r.template=c}));let a=typeof r.styles=="string"?[r.styles]:r.styles||[];if(r.styles=a,r.styleUrl&&r.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(r.styleUrls?.length){let c=r.styles.length,d=r.styleUrls;r.styleUrls.forEach((h,m)=>{a.push(""),o.push(i(h).then(v=>{a[c+m]=v,d.splice(d.indexOf(h),1),d.length==0&&(r.styleUrls=void 0)}))})}else r.styleUrl&&o.push(i(r.styleUrl).then(c=>{a.push(c),r.styleUrl=void 0}));let l=Promise.all(o).then(()=>$6(s));e.push(l)}),U6(),Promise.all(e).then(()=>{})}var c0=new Map,B6=new Set;function U6(){let n=c0;return c0=new Map,n}function j6(){return c0.size===0}function z6(n){return typeof n=="string"?n:n.text()}function $6(n){B6.delete(n)}function H6(n){return Object.getPrototypeOf(n.prototype).constructor}function fn(n){let e=H6(n.type),t=!0,i=[n];for(;e;){let r;if(uo(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ie(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);let o=n;o.inputs=km(n.inputs),o.inputTransforms=km(n.inputTransforms),o.declaredInputs=km(n.declaredInputs),o.outputs=km(n.outputs);let a=r.hostBindings;a&&Q6(n,a);let l=r.viewQuery,c=r.contentQueries;if(l&&W6(n,l),c&&K6(n,c),G6(n,r),v4(n.outputs,r.outputs),uo(r)&&r.data.animation){let d=n.data;d.animation=(d.animation||[]).concat(r.data.animation)}}let s=r.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(n),a===fn&&(t=!1)}}e=Object.getPrototypeOf(e)}q6(i)}function G6(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let i=e.inputs[t];if(i!==void 0&&(n.inputs[t]=i,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;n.inputTransforms??={},n.inputTransforms[r]=e.inputTransforms[r]}}}function q6(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){let r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=rf(r.hostAttrs,t=rf(t,r.hostAttrs))}}function km(n){return n===Fu?{}:n===Mi?[]:n}function W6(n,e){let t=n.viewQuery;t?n.viewQuery=(i,r)=>{e(i,r),t(i,r)}:n.viewQuery=e}function K6(n,e){let t=n.contentQueries;t?n.contentQueries=(i,r,s)=>{e(i,r,s),t(i,r,s)}:n.contentQueries=e}function Q6(n,e){let t=n.hostBindings;t?n.hostBindings=(i,r)=>{e(i,r),t(i,r)}:n.hostBindings=e}function mi(n){let e=n.inputConfig,t={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i];Array.isArray(r)&&r[3]&&(t[i]=r[3])}n.inputTransforms=t}var ga=class{},lf=class{};var u0=class extends ga{constructor(e,t,i,r=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new a0(this);let s=rR(e);this._bootstrapComponents=_O(s.bootstrap),this._r3Injector=WR(e,t,[{provide:ga,useValue:this},{provide:fa,useValue:this.componentFactoryResolver},...i],fi(e),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},d0=class extends lf{constructor(e){super(),this.moduleType=e}create(e){return new u0(this.moduleType,e,[])}};function Z6(n,e,t){return new u0(n,e,t,!1)}var p1=class extends ga{constructor(e){super(),this.componentFactoryResolver=new a0(this),this.instance=null;let t=new sf([...e.providers,{provide:ga,useValue:this},{provide:fa,useValue:this.componentFactoryResolver}],e.parent||C0(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function z0(n,e,t=null){return new p1({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function aN(n){return fC(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function Y6(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),i;for(;!(i=t.next()).done;)e(i.value)}}function fC(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function mf(n,e,t){return n[e]=t}function J6(n,e){return n[e]}function Ur(n,e,t){let i=n[e];return Object.is(i,t)?!1:(n[e]=t,!0)}function h0(n,e,t,i){let r=Ur(n,e,t);return Ur(n,e+1,i)||r}function X6(n,e,t,i,r,s){let o=h0(n,e,t,i);return h0(n,e+2,r,s)||o}function e8(n){return(n.flags&32)===32}function t8(n,e,t,i,r,s,o,a,l){let c=e.consts,d=Wu(e,n,4,o||null,a||null);lC(e,t,d,ju(c,l)),x0(e,d);let h=d.tView=aC(2,d,i,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return e.queries!==null&&(e.queries.template(e,d),h.queries=e.queries.embeddedTView(d)),d}function lN(n,e,t,i,r,s,o,a,l,c){let d=t+pi,h=e.firstCreatePass?t8(d,e,n,i,r,s,o,a,l):e.data[d];Kl(h,!1);let m=n8(e,n,h,t);M0()&&F0(e,n,m,h),ha(m,n);let v=VO(m,n,m,h);return n[d]=v,U0(n,v),I6(v,h,n),D0(h)&&sC(e,n,h),l!=null&&oC(n,h,c),h}function J(n,e,t,i,r,s,o,a){let l=Ve(),c=Wt(),d=ju(c.consts,s);return lN(l,c,n,e,t,i,r,d,o,a),J}var n8=i8;function i8(n,e,t,i){return A0(!0),e[jt].createComment("")}var Nu=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Nu||{}),cN=(()=>{let e=class e{constructor(){this.impl=null}execute(){this.impl?.execute()}};e.\u0275prov=X({token:e,providedIn:"root",factory:()=>new e});let n=e;return n})(),kl=class kl{constructor(){this.ngZone=K(De),this.scheduler=K(zu),this.errorHandler=K(ho,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(let e of kl.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(i){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}};kl.PHASES=[Nu.EarlyRead,Nu.Write,Nu.MixedReadWrite,Nu.Read],kl.\u0275prov=X({token:kl,providedIn:"root",factory:()=>new kl});var g1=kl,m1=class{constructor(e,t,i,r){this.impl=e,this.hooks=t,this.once=i,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=r.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy()}};function pC(n,e){!e?.injector&&mj(pC);let t=e?.injector??K(nn);return Zz(t)?(Zl("NgAfterNextRender"),s8(n,t,e,!0)):o8}function r8(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function s8(n,e,t,i){let r=e.get(cN);r.impl??=e.get(g1);let s=t?.phase??Nu.MixedReadWrite,o=new m1(r.impl,r8(n,s),i,e.get(O0));return r.impl.register(o),o}var o8={destroy(){}};function Je(n,e,t,i){let r=Ve(),s=hf();if(Ur(r,s,e)){let o=Wt(),a=ff();L$(a,r,n,e,t,i)}return Je}function uN(n,e,t,i){return Ur(n,hf(),t)?e+Fl(t)+i:qi}function a8(n,e,t,i,r,s){let o=Pj(),a=h0(n,o,t,r);return j1(2),a?e+Fl(t)+i+Fl(r)+s:qi}function Pm(n,e){return n<<17|e<<2}function ql(n){return n>>17&32767}function l8(n){return(n&2)==2}function c8(n,e){return n&131071|e<<17}function _1(n){return n|2}function $u(n){return(n&131068)>>2}function yb(n,e){return n&-131069|e<<2}function u8(n){return(n&1)===1}function y1(n){return n|1}function d8(n,e,t,i,r,s){let o=s?e.classBindings:e.styleBindings,a=ql(o),l=$u(o);n[i]=t;let c=!1,d;if(Array.isArray(t)){let h=t;d=h[1],(d===null||df(h,d)>0)&&(c=!0)}else d=t;if(r)if(l!==0){let m=ql(n[a+1]);n[i+1]=Pm(m,a),m!==0&&(n[m+1]=yb(n[m+1],i)),n[a+1]=c8(n[a+1],i)}else n[i+1]=Pm(a,0),a!==0&&(n[a+1]=yb(n[a+1],i)),a=i;else n[i+1]=Pm(l,0),a===0?a=i:n[l+1]=yb(n[l+1],i),l=i;c&&(n[i+1]=_1(n[i+1])),Ax(n,d,i,!0),Ax(n,d,i,!1),h8(e,d,n,i,s),o=Pm(a,l),s?e.classBindings=o:e.styleBindings=o}function h8(n,e,t,i,r){let s=r?n.residualClasses:n.residualStyles;s!=null&&typeof e=="string"&&df(s,e)>=0&&(t[i+1]=y1(t[i+1]))}function Ax(n,e,t,i){let r=n[t+1],s=e===null,o=i?ql(r):$u(r),a=!1;for(;o!==0&&(a===!1||s);){let l=n[o],c=n[o+1];f8(l,e)&&(a=!0,n[o+1]=i?y1(c):_1(c)),o=i?ql(c):$u(c)}a&&(n[t+1]=i?_1(r):y1(r))}function f8(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?df(n,e)>=0:!1}var Fr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function p8(n){return n.substring(Fr.key,Fr.keyEnd)}function g8(n){return m8(n),dN(n,hN(n,0,Fr.textEnd))}function dN(n,e){let t=Fr.textEnd;return t===e?-1:(e=Fr.keyEnd=_8(n,Fr.key=e,t),hN(n,e,t))}function m8(n){Fr.key=0,Fr.keyEnd=0,Fr.value=0,Fr.valueEnd=0,Fr.textEnd=n.length}function hN(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function _8(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function x(n,e,t){let i=Ve(),r=hf();if(Ur(i,r,e)){let s=Wt(),o=ff();B0(s,o,i,n,e,i[jt],t,!1)}return x}function v1(n,e,t,i,r){let s=e.inputs,o=r?"class":"style";cC(n,t,s[o],o,i)}function ya(n,e,t){return fN(n,e,t,!1),ya}function jr(n,e){return fN(n,e,null,!0),jr}function It(n){v8(D8,y8,n,!0)}function y8(n,e){for(let t=g8(e);t>=0;t=dN(e,t))O1(n,p8(e),!0)}function fN(n,e,t,i){let r=Ve(),s=Wt(),o=j1(2);if(s.firstUpdatePass&&gN(s,n,o,i),e!==qi&&Ur(r,o,e)){let a=s.data[_a()];mN(s,a,r,r[jt],n,r[o+1]=S8(e,t),i,o)}}function v8(n,e,t,i){let r=Wt(),s=j1(2);r.firstUpdatePass&&gN(r,null,s,i);let o=Ve();if(t!==qi&&Ur(o,s,t)){let a=r.data[_a()];if(_N(a,i)&&!pN(r,s)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(t=Eb(l,t||"")),v1(r,a,o,t,i)}else T8(r,a,o,o[jt],o[s+1],o[s+1]=I8(n,e,t),i,s)}}function pN(n,e){return e>=n.expandoStartIndex}function gN(n,e,t,i){let r=n.data;if(r[t+1]===null){let s=r[_a()],o=pN(n,t);_N(s,i)&&e===null&&!o&&(e=!1),e=w8(r,s,e,i),d8(r,s,e,t,o,i)}}function w8(n,e,t,i){let r=MR(n),s=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(t=vb(null,n,e,t,i),t=cf(t,e.attrs,i),s=null);else{let o=e.directiveStylingLast;if(o===-1||n[o]!==r)if(t=vb(r,n,e,t,i),s===null){let l=b8(n,e,i);l!==void 0&&Array.isArray(l)&&(l=vb(null,n,e,l[1],i),l=cf(l,e.attrs,i),C8(n,e,i,l))}else s=E8(n,e,i)}return s!==void 0&&(i?e.residualClasses=s:e.residualStyles=s),t}function b8(n,e,t){let i=t?e.classBindings:e.styleBindings;if($u(i)!==0)return n[ql(i)]}function C8(n,e,t,i){let r=t?e.classBindings:e.styleBindings;n[ql(r)]=i}function E8(n,e,t){let i,r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++){let o=n[s].hostAttrs;i=cf(i,o,t)}return cf(i,e.attrs,t)}function vb(n,e,t,i,r){let s=null,o=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<o&&(s=e[a],i=cf(i,s.hostAttrs,r),s!==n);)a++;return n!==null&&(t.directiveStylingLast=a),i}function cf(n,e,t){let i=t?1:2,r=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?r=o:r===i&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),O1(n,o,t?!0:e[++s]))}return n===void 0?null:n}function I8(n,e,t){if(t==null||t==="")return Mi;let i=[],r=fr(t);if(Array.isArray(r))for(let s=0;s<r.length;s++)n(i,r[s],!0);else if(typeof r=="object")for(let s in r)r.hasOwnProperty(s)&&n(i,s,r[s]);else typeof r=="string"&&e(i,r);return i}function D8(n,e,t){let i=String(e);i!==""&&!i.includes(" ")&&O1(n,i,t)}function T8(n,e,t,i,r,s,o,a){r===qi&&(r=Mi);let l=0,c=0,d=0<r.length?r[0]:null,h=0<s.length?s[0]:null;for(;d!==null||h!==null;){let m=l<r.length?r[l+1]:void 0,v=c<s.length?s[c+1]:void 0,C=null,A;d===h?(l+=2,c+=2,m!==v&&(C=h,A=v)):h===null||d!==null&&d<h?(l+=2,C=d):(c+=2,C=h,A=v),C!==null&&mN(n,e,t,i,C,A,o,a),d=l<r.length?r[l]:null,h=c<s.length?s[c]:null}}function mN(n,e,t,i,r,s,o,a){if(!(e.type&3))return;let l=n.data,c=l[a+1],d=u8(c)?xx(l,e,t,r,$u(c),o):void 0;if(!f0(d)){f0(s)||l8(c)&&(s=xx(l,null,t,r,a,o));let h=yR(_a(),t);p$(i,o,h,r,s)}}function xx(n,e,t,i,r,s){let o=e===null,a;for(;r>0;){let l=n[r],c=Array.isArray(l),d=c?l[1]:l,h=d===null,m=t[r+1];m===qi&&(m=h?Mi:void 0);let v=h?cb(m,i):d===i?m:void 0;if(c&&!f0(v)&&(v=cb(l,i)),f0(v)&&(a=v,o))return a;let C=n[r+1];r=o?ql(C):$u(C)}if(e!==null){let l=s?e.residualClasses:e.residualStyles;l!=null&&(a=cb(l,i))}return a}function f0(n){return n!==void 0}function S8(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=fi(fr(n)))),n}function _N(n,e){return(n.flags&(e?8:16))!==0}function M8(n,e,t,i,r,s){let o=e.consts,a=ju(o,r),l=Wu(e,n,2,i,a);return lC(e,t,l,ju(o,s)),l.attrs!==null&&o0(l,l.attrs,!1),l.mergedAttrs!==null&&o0(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function E(n,e,t,i){let r=Ve(),s=Wt(),o=pi+n,a=r[jt],l=s.firstCreatePass?M8(o,s,r,e,t,i):s.data[o],c=A8(s,r,l,a,e,n);r[o]=c;let d=D0(l);return Kl(l,!0),AO(a,c,l),!e8(l)&&M0()&&F0(s,r,c,l),Mj()===0&&ha(c,r),Aj(),d&&(sC(s,r,l),rC(s,l,r)),i!==null&&oC(r,l),E}function b(){let n=Hn();B1()?U1():(n=n.parent,Kl(n,!1));let e=n;Rj(e)&&Oj(),xj();let t=Wt();return t.firstCreatePass&&(x0(t,n),F1(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&Wj(e)&&v1(t,e,Ve(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&Kj(e)&&v1(t,e,Ve(),e.stylesWithoutHost,!1),b}function ne(n,e,t,i){return E(n,e,t,i),b(),ne}var A8=(n,e,t,i,r,s)=>(A0(!0),yO(i,r,$j()));function x8(n,e,t,i,r){let s=e.consts,o=ju(s,i),a=Wu(e,n,8,"ng-container",o);o!==null&&o0(a,o,!0);let l=ju(s,r);return lC(e,t,a,l),e.queries!==null&&e.queries.elementStart(e,a),a}function ni(n,e,t){let i=Ve(),r=Wt(),s=n+pi,o=r.firstCreatePass?x8(s,r,i,e,t):r.data[s];Kl(o,!0);let a=R8(r,i,o,n);return i[s]=a,M0()&&F0(r,i,a,o),ha(a,i),D0(o)&&(sC(r,i,o),rC(r,o,i)),t!=null&&oC(i,o),ni}function ii(){let n=Hn(),e=Wt();return B1()?U1():(n=n.parent,Kl(n,!1)),e.firstCreatePass&&(x0(e,n),F1(n)&&e.queries.elementEnd(n)),ii}function va(n,e,t){return ni(n,e,t),ii(),va}var R8=(n,e,t,i)=>(A0(!0),e$(e[jt],""));function Ce(){return Ve()}function gC(n,e,t){let i=Ve(),r=hf();if(Ur(i,r,e)){let s=Wt(),o=ff(),a=MR(s.data),l=j$(a,o,i);B0(s,o,i,n,e,l,t,!0)}return gC}var Ol=void 0;function O8(n){let e=n,t=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return t===1&&i===0?1:5}var N8=["en",[["a","p"],["AM","PM"],Ol],[["AM","PM"],Ol,Ol],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ol,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ol,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ol,"{1} 'at' {0}",Ol],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",O8],wb={};function pr(n){let e=k8(n),t=Rx(e);if(t)return t;let i=e.split("-")[0];if(t=Rx(i),t)return t;if(i==="en")return N8;throw new ie(701,!1)}function Rx(n){return n in wb||(wb[n]=$n.ng&&$n.ng.common&&$n.ng.common.locales&&$n.ng.common.locales[n]),wb[n]}var rn=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(rn||{});function k8(n){return n.toLowerCase().replace(/_/g,"-")}var p0="en-US";var P8=p0;function F8(n){typeof n=="string"&&(P8=n.toLowerCase().replace(/_/g,"-"))}var L8=(n,e,t)=>{};function re(n,e,t,i){let r=Ve(),s=Wt(),o=Hn();return yN(s,r,r[jt],o,n,e,i),re}function V8(n,e,t,i){let r=n.cleanup;if(r!=null)for(let s=0;s<r.length-1;s+=2){let o=r[s];if(o===t&&r[s+1]===i){let a=e[Wm],l=r[s+2];return a.length>l?a[l]:null}typeof o=="string"&&(s+=2)}return null}function yN(n,e,t,i,r,s,o){let a=D0(i),c=n.firstCreatePass&&jO(n),d=e[Vr],h=UO(e),m=!0;if(i.type&3||o){let A=hr(i,e),S=o?o(A):A,j=h.length,Z=o?Y=>o(bs(Y[i.index])):i.index,W=null;if(!o&&a&&(W=V8(n,e,r,i.index)),W!==null){let Y=W.__ngLastListenerFn__||W;Y.__ngNextListenerFn__=s,W.__ngLastListenerFn__=s,m=!1}else{s=Nx(i,e,d,s),L8(A,r,s);let Y=t.listen(S,r,s);h.push(s,Y),c&&c.push(r,Z,j,j+1)}}else s=Nx(i,e,d,s);let v=i.outputs,C;if(m&&v!==null&&(C=v[r])){let A=C.length;if(A)for(let S=0;S<A;S+=2){let j=C[S],Z=C[S+1],ge=e[j][Z].subscribe(s),ae=h.length;h.push(s,ge),c&&c.push(r,i.index,ae,-(ae+1))}}}function Ox(n,e,t,i){let r=lt(null);try{return _s(6,e,t),t(i)!==!1}catch(s){return zO(n,s),!1}finally{_s(7,e,t),lt(r)}}function Nx(n,e,t,i){return function r(s){if(s===Function)return i;let o=n.componentOffset>-1?ma(n.index,e):e;dC(o,5);let a=Ox(e,t,i,s),l=r.__ngNextListenerFn__;for(;l;)a=Ox(e,t,l,s)&&a,l=l.__ngNextListenerFn__;return a}}function U(n=1){return jj(n)}function B8(n,e){let t=null,i=Q4(n);for(let r=0;r<e.length;r++){let s=e[r];if(s==="*"){t=r;continue}if(i===null?eR(n,s,!0):J4(i,s))return r}return t}function Wi(n){let e=Ve()[ur][Ai];if(!e.projection){let t=n?n.length:1,i=e.projection=U4(t,null),r=i.slice(),s=e.child;for(;s!==null;){if(s.type!==128){let o=n?B8(s,n):0;o!==null&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s)}s=s.next}}}function _i(n,e=0,t,i,r,s){let o=Ve(),a=Wt(),l=i?n+1:null;l!==null&&lN(o,a,l,i,r,s,null,t);let c=Wu(a,pi+n,16,null,t||null);c.projection===null&&(c.projection=e),U1();let h=!o[of]||DR();o[ur][Ai].projection[c.projection]===null&&l!==null?U8(o,a,l):h&&(c.flags&32)!==32&&h$(a,o,c)}function U8(n,e,t){let i=pi+t,r=e.data[i],s=n[i],o=s1(s,r.tView.ssrId),a=HO(n,r,void 0,{dehydratedView:o});GO(s,a,0,i1(r,o))}function mC(n,e,t,i,r){let s=Ve(),o=uN(s,e,t,i);if(o!==qi){let a=Wt(),l=ff();B0(a,l,s,n,o,s[jt],r,!1)}return mC}function Ss(n,e,t,i){O6(n,e,t,i)}function Ms(n,e,t){R6(n,e,t)}function xn(n){let e=Ve(),t=Wt(),i=AR();z1(i+1);let r=hC(t,i);if(n.dirty&&Ij(e)===((r.metadata.flags&2)===2)){if(r.matches===null)n.reset([]);else{let s=P6(e,i);n.reset(s,mz),n.notifyOnChanges()}return!0}return!1}function Rn(){return x6(Ve(),AR())}function j8(n,e,t,i){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=i}function zr(n){let e=kj();return L1(e,pi+n)}function L(n,e=""){let t=Ve(),i=Wt(),r=n+pi,s=i.firstCreatePass?Wu(i,r,1,e,null):i.data[r],o=z8(i,t,s,e,n);t[r]=o,M0()&&F0(i,t,o,s),Kl(s,!1)}var z8=(n,e,t,i,r)=>(A0(!0),Jz(e[jt],i));function ht(n){return rt("",n,""),ht}function rt(n,e,t){let i=Ve(),r=uN(i,n,e,t);return r!==qi&&$O(i,_a(),r),rt}function $r(n,e,t,i,r){let s=Ve(),o=a8(s,n,e,t,i,r);return o!==qi&&$O(s,_a(),o),$r}function gr(n,e,t){oN(e)&&(e=e());let i=Ve(),r=hf();if(Ur(i,r,e)){let s=Wt(),o=ff();B0(s,o,i,n,e,i[jt],t,!1)}return gr}function Hr(n,e){let t=oN(n);return t&&n.set(e),t}function mr(n,e){let t=Ve(),i=Wt(),r=Hn();return yN(i,t,t[jt],r,n,e),mr}function $8(n,e,t){let i=Wt();if(i.firstCreatePass){let r=uo(n);w1(t,i.data,i.blueprint,r,!0),w1(e,i.data,i.blueprint,r,!1)}}function w1(n,e,t,i,r){if(n=hi(n),Array.isArray(n))for(let s=0;s<n.length;s++)w1(n[s],e,t,i,r);else{let s=Wt(),o=Ve(),a=Hn(),l=Vu(n)?n:hi(n.provide),c=uR(n),d=a.providerIndexes&1048575,h=a.directiveStart,m=a.providerIndexes>>20;if(Vu(n)||!n.multi){let v=new zl(c,r,B),C=Cb(l,e,r?d:d+m,h);C===-1?(Lb(Xm(a,o),s,l),bb(s,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(v),o.push(v)):(t[C]=v,o[C]=v)}else{let v=Cb(l,e,d+m,h),C=Cb(l,e,d,d+m),A=v>=0&&t[v],S=C>=0&&t[C];if(r&&!S||!r&&!A){Lb(Xm(a,o),s,l);let j=q8(r?G8:H8,t.length,r,i,c);!r&&S&&(t[C].providerFactory=j),bb(s,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(j),o.push(j)}else{let j=vN(t[r?C:v],c,!r&&i);bb(s,n,v>-1?v:C,j)}!r&&i&&S&&t[C].componentProviders++}}}function bb(n,e,t,i){let r=Vu(e),s=cj(e);if(r||s){let l=(s?hi(e.useClass):e).prototype.ngOnDestroy;if(l){let c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){let d=c.indexOf(t);d===-1?c.push(t,[i,l]):c[d+1].push(i,l)}else c.push(t,l)}}}function vN(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Cb(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function H8(n,e,t,i){return b1(this.multi,[])}function G8(n,e,t,i){let r=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=$l(t,t[qe],this.providerFactory.index,i);s=a.slice(0,o),b1(r,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],b1(r,s);return s}function b1(n,e){for(let t=0;t<n.length;t++){let i=n[t];e.push(i())}return e}function q8(n,e,t,i,r){let s=new zl(n,t,B);return s.multi=[],s.index=e,s.componentProviders=0,vN(s,r,i&&!t),s}function wa(n,e=[]){return t=>{t.providersResolver=(i,r)=>$8(i,r?r(n):n,e)}}var W8=(()=>{let e=class e{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){let r=aR(!1,i.type),s=r.length>0?z0([r],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,s)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(let i of this.cachedInjectors.values())i!==null&&i.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=X({token:e,providedIn:"environment",factory:()=>new e(G(Mn))});let n=e;return n})();function Nt(n){Zl("NgStandalone"),n.getStandaloneInjector=e=>e.get(W8).getOrCreateStandaloneInjector(n)}function Gr(n,e,t){let i=Ql()+n,r=Ve();return r[i]===qi?mf(r,i,t?e.call(t):e()):J6(r,i)}function qn(n,e,t,i){return CN(Ve(),Ql(),n,e,t,i)}function _f(n,e,t,i,r){return EN(Ve(),Ql(),n,e,t,i,r)}function wN(n,e,t,i,r,s,o){return K8(Ve(),Ql(),n,e,t,i,r,s,o)}function bN(n,e,t,i){return Q8(Ve(),Ql(),n,e,t,i)}function $0(n,e){let t=n[e];return t===qi?void 0:t}function CN(n,e,t,i,r,s){let o=e+t;return Ur(n,o,r)?mf(n,o+1,s?i.call(s,r):i(r)):$0(n,o+1)}function EN(n,e,t,i,r,s,o){let a=e+t;return h0(n,a,r,s)?mf(n,a+2,o?i.call(o,r,s):i(r,s)):$0(n,a+2)}function K8(n,e,t,i,r,s,o,a,l){let c=e+t;return X6(n,c,r,s,o,a)?mf(n,c+4,l?i.call(l,r,s,o,a):i(r,s,o,a)):$0(n,c+4)}function Q8(n,e,t,i,r,s){let o=e+t,a=!1;for(let l=0;l<r.length;l++)Ur(n,o++,r[l])&&(a=!0);return a?mf(n,o,i.apply(s,r)):$0(n,o)}function ri(n,e){let t=Wt(),i,r=n+pi;t.firstCreatePass?(i=Z8(e,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks??=[]).push(r,i.onDestroy)):i=t.data[r];let s=i.factory||(i.factory=Ll(i.type,!0)),o,a=Si(B);try{let l=Jm(!1),c=s();return Jm(l),j8(t,Ve(),r,c),c}finally{Si(a)}}function Z8(n,e){if(e)for(let t=e.length-1;t>=0;t--){let i=e[t];if(n===i.name)return i}}function qr(n,e,t){let i=n+pi,r=Ve(),s=L1(r,i);return IN(r,i)?CN(r,Ql(),e,s.transform,t,s):s.transform(t)}function Yl(n,e,t,i){let r=n+pi,s=Ve(),o=L1(s,r);return IN(s,r)?EN(s,Ql(),e,o.transform,t,i,o):o.transform(t,i)}function IN(n,e){return n[qe].data[e].pure}function Wr(n,e){return j0(n,e)}var Fm=null;function Y8(n){Fm!==null&&(n.defaultEncapsulation!==Fm.defaultEncapsulation||n.preserveWhitespaces!==Fm.preserveWhitespaces)||(Fm=n)}var po=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},DN=new po("18.2.4");var H0=(()=>{let e=class e{log(i){console.log(i)}warn(i){console.warn(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"platform"});let n=e;return n})();var _C=new oe(""),yf=new oe(""),G0=(()=>{let e=class e{constructor(i,r,s){this._ngZone=i,this.registry=r,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,yC||(J8(s),s.addToWindow(r)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{De.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb()}});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(i)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,r,s){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),i()},r)),this._callbacks.push({doneCb:i,timeoutId:o,updateCb:s})}whenStable(i,r,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,r,s),this._runCallbacksIfReady()}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,r,s){return[]}};e.\u0275fac=function(r){return new(r||e)(G(De),G(q0),G(yf))},e.\u0275prov=X({token:e,factory:e.\u0275fac});let n=e;return n})(),q0=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(i,r){this._applications.set(i,r)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,r=!0){return yC?.findTestabilityInTree(this,i,r)??null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"platform"});let n=e;return n})();function J8(n){yC=n}var yC;function ba(n){return!!n&&typeof n.then=="function"}function vC(n){return!!n&&typeof n.subscribe=="function"}var W0=new oe(""),TN=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r}),this.appInits=K(W0,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let i=[];for(let s of this.appInits){let o=s();if(ba(o))i.push(o);else if(vC(o)){let a=new Promise((l,c)=>{o.subscribe({complete:l,error:c})});i.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{r()}).catch(s=>{this.reject(s)}),i.length===0&&r(),this.initialized=!0}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),K0=new oe("");function X8(){IA(()=>{throw new ie(600,!1)})}function eH(n){return n.isBoundToModule}var tH=10;function nH(n,e,t){try{let i=t();return ba(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}function SN(n,e){return Array.isArray(e)?e.reduce(SN,n):Q(Q({},n),e)}var yi=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=K(pz),this.afterRenderManager=K(cN),this.zonelessEnabled=K(JO),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new ke,this.afterTick=new ke,this.componentTypes=[],this.components=[],this.isStable=K(mo).hasPendingTasks.pipe(se(i=>!i)),this._injector=K(Mn)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let i;return new Promise(r=>{i=this.isStable.subscribe({next:s=>{s&&r()}})}).finally(()=>{i.unsubscribe()})}get injector(){return this._injector}bootstrap(i,r){let s=i instanceof s0;if(!this._injector.get(TN).done){let v=!s&&iR(i),C=!1;throw new ie(405,C)}let a;s?a=i:a=this._injector.get(fa).resolveComponentFactory(i),this.componentTypes.push(a.componentType);let l=eH(a)?void 0:this._injector.get(ga),c=r||a.selector,d=a.create(nn.NULL,[],c,l),h=d.location.nativeElement,m=d.injector.get(_C,null);return m?.registerApplication(h),d.onDestroy(()=>{this.detachView(d.hostView),zm(this.components,d),m?.unregisterApplication(h)}),this._loadComponent(d),d}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new ie(101,!1);let i=lt(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,lt(i),this.afterTick.next()}}synchronize(){let i=null;this._injector.destroyed||(i=this._injector.get(pa,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<tH;)this.synchronizeOnce(i)}synchronizeOnce(i){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:s,notifyErrorHandler:o}of this._views)iH(s,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else i?.begin?.(),i?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:i})=>T0(i))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(i){let r=i;this._views.push(r),r.attachToAppRef(this)}detachView(i){let r=i;zm(this._views,r),r.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);let r=this._injector.get(K0,[]);[...this._bootstrapListeners,...r].forEach(s=>s(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>zm(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new ie(406,!1);let i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function zm(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function iH(n,e,t,i){if(!t&&!T0(n))return;KO(n,e,t&&!i?0:1)}var C1=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Q0=(()=>{let e=class e{compileModuleSync(i){return new d0(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){let r=this.compileModuleSync(i),s=rR(i),o=_O(s.declarations).reduce((a,l)=>{let c=lo(l);return c&&a.push(new Gl(c)),a},[]);return new C1(r,o)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),rH=new oe("");function sH(n,e,t){let i=new d0(t);return Promise.resolve(i)}function kx(n){for(let e=n.length-1;e>=0;e--)if(n[e]!==void 0)return n[e]}var oH=(()=>{let e=class e{constructor(){this.zone=K(De),this.changeDetectionScheduler=K(zu),this.applicationRef=K(yi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function aH({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new De(Ee(Q({},MN()),{scheduleInRootZone:t})),[{provide:De,useFactory:n},{provide:Lu,multi:!0,useFactory:()=>{let i=K(oH,{optional:!0});return()=>i.initialize()}},{provide:Lu,multi:!0,useFactory:()=>{let i=K(lH);return()=>{i.initialize()}}},e===!0?{provide:XO,useValue:!0}:[],{provide:eN,useValue:t??KR}]}function MN(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var lH=(()=>{let e=class e{constructor(){this.subscription=new Yt,this.initialized=!1,this.zone=K(De),this.pendingTasks=K(mo)}initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{De.assertNotInAngularZone(),queueMicrotask(()=>{i!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{De.assertInAngularZone(),i??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var cH=(()=>{let e=class e{constructor(){this.appRef=K(yi),this.taskService=K(mo),this.ngZone=K(De),this.zonelessEnabled=K(JO),this.disableScheduling=K(XO,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Yt,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(t0):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(K(eN,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof n0||!this.zoneIsDefined)}notify(i){if(!this.zonelessEnabled&&i===5)return;switch(i){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?hx:QR;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(t0+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let i=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(i),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,hx(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(i)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let i=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(i)}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function uH(){return typeof $localize<"u"&&$localize.locale||p0}var vf=new oe("",{providedIn:"root",factory:()=>K(vf,Ke.Optional|Ke.SkipSelf)||uH()});var wC=new oe("");function Lm(n){return!!n.platformInjector}function dH(n){let e=Lm(n)?n.r3Injector:n.moduleRef.injector,t=e.get(De);return t.run(()=>{Lm(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let i=e.get(ho,null),r;if(t.runOutsideAngular(()=>{r=t.onError.subscribe({next:s=>{i.handleError(s)}})}),Lm(n)){let s=()=>e.destroy(),o=n.platformInjector.get(wC);o.add(s),e.onDestroy(()=>{r.unsubscribe(),o.delete(s)})}else n.moduleRef.onDestroy(()=>{zm(n.allPlatformModules,n.moduleRef),r.unsubscribe()});return nH(i,t,()=>{let s=e.get(TN);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(vf,p0);if(F8(o||p0),Lm(n)){let a=e.get(yi);return n.rootComponent!==void 0&&a.bootstrap(n.rootComponent),a}else return hH(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function hH(n,e){let t=n.injector.get(yi);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>t.bootstrap(i));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new ie(-403,!1);e.push(n)}var AN=(()=>{let e=class e{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,r){let s=r?.scheduleInRootZone,o=()=>fz(r?.ngZone,Ee(Q({},MN({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing})),{scheduleInRootZone:s})),a=r?.ignoreChangesOutsideZone,l=[aH({ngZoneFactory:o,ignoreChangesOutsideZone:a}),{provide:zu,useExisting:cH}],c=Z6(i.moduleType,this.injector,l);return dH({moduleRef:c,allPlatformModules:this._modules})}bootstrapModule(i,r=[]){let s=SN({},r);return sH(this.injector,s,i).then(o=>this.bootstrapModuleFactory(o,s))}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ie(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());let i=this._injector.get(wC,null);i&&(i.forEach(r=>r()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};e.\u0275fac=function(r){return new(r||e)(G(nn))},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"platform"});let n=e;return n})(),tf=null,xN=new oe("");function fH(n){if(tf&&!tf.get(xN,!1))throw new ie(400,!1);X8(),tf=n;let e=n.get(AN);return mH(n),e}function bC(n,e,t=[]){let i=`Platform: ${e}`,r=new oe(i);return(s=[])=>{let o=RN();if(!o||o.injector.get(xN,!1)){let a=[...t,...s,{provide:r,useValue:!0}];n?n(a):fH(pH(a,i))}return gH(r)}}function pH(n=[],e){return nn.create({name:e,providers:[{provide:b0,useValue:"platform"},{provide:wC,useValue:new Set([()=>tf=null])},...n]})}function gH(n){let e=RN();if(!e)throw new ie(401,!1);return e}function RN(){return tf?.get(AN)??null}function mH(n){n.get(K1,null)?.forEach(t=>t())}function CC(){return!1}var Ri=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=_H;let n=e;return n})();function _H(n){return yH(Hn(),Ve(),(n&16)===16)}function yH(n,e,t){if(I0(n)&&!t){let i=ma(n.index,e);return new Hl(i,i)}else if(n.type&175){let i=e[ur];return new Hl(i,e)}return null}var E1=class{constructor(){}supports(e){return aN(e)}create(e){return new I1(e)}},vH=(n,e)=>e,I1=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||vH}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,s=null;for(;t||i;){let o=!i||t&&t.currentIndex<Px(i,r,s)?t:i,a=Px(o,r,s),l=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(t=t._next,o.previousIndex==null)r++;else{s||(s=[]);let c=a-r,d=l-r;if(c!=d){for(let m=0;m<c;m++){let v=m<s.length?s[m]:s[m]=0,C=v+m;d<=C&&C<c&&(s[m]=v+1)}let h=o.previousIndex;s[h]=d-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!aN(e))throw new ie(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,i=!1,r,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,s,o,a),i=!0):(i&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)),t=t._next}else r=0,Y6(e,a=>{o=this._trackByFn(r,a),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,a,o,r),i=!0):(i&&(t=this._verifyReinsertion(t,a,o,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,r),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,r)):e=this._addAfter(new D1(t,i),s,r)),e}_verifyReinsertion(e,t,i,r){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return s!==null?e=this._reinsertAfter(s,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,s=e._nextRemoved;return r===null?this._removalsHead=s:r._nextRemoved=s,s===null?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){let r=t===null?this._itHead:t._next;return e._next=r,e._prev=t,r===null?this._itTail=e:r._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new g0),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,i=e._next;return t===null?this._itHead=i:t._next=i,i===null?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new g0),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},D1=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},T1=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;i!==null;i=i._nextDup)if((t===null||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let t=e._prevDup,i=e._nextDup;return t===null?this._head=i:t._nextDup=i,i===null?this._tail=t:i._prevDup=t,this._head===null}},g0=class{constructor(){this.map=new Map}put(e){let t=e.trackById,i=this.map.get(t);i||(i=new T1,this.map.set(t,i)),i.add(e)}get(e,t){let i=e,r=this.map.get(i);return r?r.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Px(n,e,t){let i=n.previousIndex;if(i===null)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}var S1=class{constructor(){}supports(e){return e instanceof Map||fC(e)}create(){return new M1}},M1=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let t;for(t=this._mapHead;t!==null;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||fC(e)))throw new ie(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{let s=this._getOrCreateRecordForKey(r,i);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;i!==null;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){let i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){let r=this._records.get(e);this._maybeAddToChanges(r,t);let s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}let i=new A1(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}},A1=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function Fx(){return new EC([new E1])}var EC=(()=>{let e=class e{constructor(i){this.factories=i}static create(i,r){if(r!=null){let s=r.factories.slice();i=i.concat(s)}return new e(i)}static extend(i){return{provide:e,useFactory:r=>e.create(i,r||Fx()),deps:[[e,new v0,new Wl]]}}find(i){let r=this.factories.find(s=>s.supports(i));if(r!=null)return r;throw new ie(901,!1)}};e.\u0275prov=X({token:e,providedIn:"root",factory:Fx});let n=e;return n})();function Lx(){return new IC([new S1])}var IC=(()=>{let e=class e{constructor(i){this.factories=i}static create(i,r){if(r){let s=r.factories.slice();i=i.concat(s)}return new e(i)}static extend(i){return{provide:e,useFactory:r=>e.create(i,r||Lx()),deps:[[e,new v0,new Wl]]}}find(i){let r=this.factories.find(s=>s.supports(i));if(r)return r;throw new ie(901,!1)}};e.\u0275prov=X({token:e,providedIn:"root",factory:Lx});let n=e;return n})();var ON=bC(null,"core",[]),NN=(()=>{let e=class e{constructor(i){}};e.\u0275fac=function(r){return new(r||e)(G(yi))},e.\u0275mod=we({type:e}),e.\u0275inj=ve({});let n=e;return n})();var kN=new oe("");function Ue(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Jl(n,e=NaN){return!isNaN(parseFloat(n))&&!isNaN(Number(n))?Number(n):e}function Ku(n,e){Zl("NgSignals");let t=bA(n);return e?.equal&&(t[ro].equal=e.equal),t}function _r(n){let e=lt(null);try{return n()}finally{lt(e)}}function Z0(n,e){let t=lo(n),i=e.elementInjector||C0();return new Gl(t).create(i,e.projectableNodes,e.hostElement,e.environmentInjector)}function PN(n){let e=lo(n);if(!e)return null;let t=new Gl(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var zN=null;function As(){return zN}function $N(n){zN??=n}var s_=class{};var Ze=new oe(""),FC=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=X({token:e,factory:()=>K(bH),providedIn:"platform"});let n=e;return n})(),HN=new oe(""),bH=(()=>{let e=class e extends FC{constructor(){super(),this._doc=K(Ze),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return As().getBaseHref(this._doc)}onPopState(i){let r=As().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",i,!1),()=>r.removeEventListener("popstate",i)}onHashChange(i){let r=As().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",i,!1),()=>r.removeEventListener("hashchange",i)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(i){this._location.pathname=i}pushState(i,r,s){this._history.pushState(i,r,s)}replaceState(i,r,s){this._history.replaceState(i,r,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=X({token:e,factory:()=>new e,providedIn:"platform"});let n=e;return n})();function LC(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function FN(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,i=t-(n[t-1]==="/"?1:0);return n.slice(0,i)+n.slice(t)}function wo(n){return n&&n[0]!=="?"?"?"+n:n}var Co=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=X({token:e,factory:()=>K(VC),providedIn:"root"});let n=e;return n})(),GN=new oe(""),VC=(()=>{let e=class e extends Co{constructor(i,r){super(),this._platformLocation=i,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??K(Ze).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return LC(this._baseHref,i)}path(i=!1){let r=this._platformLocation.pathname+wo(this._platformLocation.search),s=this._platformLocation.hash;return s&&i?`${r}${s}`:r}pushState(i,r,s,o){let a=this.prepareExternalUrl(s+wo(o));this._platformLocation.pushState(i,r,a)}replaceState(i,r,s,o){let a=this.prepareExternalUrl(s+wo(o));this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)(G(FC),G(GN,8))},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),qN=(()=>{let e=class e extends Co{constructor(i,r){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(i){let r=LC(this._baseHref,i);return r.length>0?"#"+r:r}pushState(i,r,s,o){let a=this.prepareExternalUrl(s+wo(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(i,r,a)}replaceState(i,r,s,o){let a=this.prepareExternalUrl(s+wo(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)(G(FC),G(GN,8))},e.\u0275prov=X({token:e,factory:e.\u0275fac});let n=e;return n})(),Zu=(()=>{let e=class e{constructor(i){this._subject=new xe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=i;let r=this._locationStrategy.getBaseHref();this._basePath=IH(FN(LN(r))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(i=!1){return this.normalize(this._locationStrategy.path(i))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(i,r=""){return this.path()==this.normalize(i+wo(r))}normalize(i){return e.stripTrailingSlash(EH(this._basePath,LN(i)))}prepareExternalUrl(i){return i&&i[0]!=="/"&&(i="/"+i),this._locationStrategy.prepareExternalUrl(i)}go(i,r="",s=null){this._locationStrategy.pushState(s,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+wo(r)),s)}replaceState(i,r="",s=null){this._locationStrategy.replaceState(s,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+wo(r)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(i=0){this._locationStrategy.historyGo?.(i)}onUrlChange(i){return this._urlChangeListeners.push(i),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(i);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(i="",r){this._urlChangeListeners.forEach(s=>s(i,r))}subscribe(i,r,s){return this._subject.subscribe({next:i,error:r,complete:s})}};e.normalizeQueryParams=wo,e.joinWithSlash=LC,e.stripTrailingSlash=FN,e.\u0275fac=function(r){return new(r||e)(G(Co))},e.\u0275prov=X({token:e,factory:()=>CH(),providedIn:"root"});let n=e;return n})();function CH(){return new Zu(G(Co))}function EH(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function LN(n){return n.replace(/\/index.html$/,"")}function IH(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var vi=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(vi||{}),Mt=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(Mt||{}),Ki=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(Ki||{}),Ca={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function DH(n){return pr(n)[rn.LocaleId]}function TH(n,e,t){let i=pr(n),r=[i[rn.DayPeriodsFormat],i[rn.DayPeriodsStandalone]],s=yr(r,e);return yr(s,t)}function SH(n,e,t){let i=pr(n),r=[i[rn.DaysFormat],i[rn.DaysStandalone]],s=yr(r,e);return yr(s,t)}function MH(n,e,t){let i=pr(n),r=[i[rn.MonthsFormat],i[rn.MonthsStandalone]],s=yr(r,e);return yr(s,t)}function AH(n,e){let i=pr(n)[rn.Eras];return yr(i,e)}function Y0(n,e){let t=pr(n);return yr(t[rn.DateFormat],e)}function J0(n,e){let t=pr(n);return yr(t[rn.TimeFormat],e)}function X0(n,e){let i=pr(n)[rn.DateTimeFormat];return yr(i,e)}function a_(n,e){let t=pr(n),i=t[rn.NumberSymbols][e];if(typeof i>"u"){if(e===Ca.CurrencyDecimal)return t[rn.NumberSymbols][Ca.Decimal];if(e===Ca.CurrencyGroup)return t[rn.NumberSymbols][Ca.Group]}return i}function WN(n){if(!n[rn.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[rn.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function xH(n){let e=pr(n);return WN(e),(e[rn.ExtraData][2]||[]).map(i=>typeof i=="string"?TC(i):[TC(i[0]),TC(i[1])])}function RH(n,e,t){let i=pr(n);WN(i);let r=[i[rn.ExtraData][0],i[rn.ExtraData][1]],s=yr(r,e)||[];return yr(s,t)||[]}function yr(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function TC(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}var OH=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,e_={},NH=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,bo=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(bo||{}),pt=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(pt||{}),ft=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(ft||{});function KN(n,e,t,i){let r=zH(n);e=vo(t,e)||e;let o=[],a;for(;e;)if(a=NH.exec(e),a){o=o.concat(a.slice(1));let d=o.pop();if(!d)break;e=d}else{o.push(e);break}let l=r.getTimezoneOffset();i&&(l=ZN(i,l),r=jH(r,i,!0));let c="";return o.forEach(d=>{let h=BH(d);c+=h?h(r,t,l):d==="''"?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function o_(n,e,t){let i=new Date(0);return i.setFullYear(n,e,t),i.setHours(0,0,0),i}function vo(n,e){let t=DH(n);if(e_[t]??={},e_[t][e])return e_[t][e];let i="";switch(e){case"shortDate":i=Y0(n,Ki.Short);break;case"mediumDate":i=Y0(n,Ki.Medium);break;case"longDate":i=Y0(n,Ki.Long);break;case"fullDate":i=Y0(n,Ki.Full);break;case"shortTime":i=J0(n,Ki.Short);break;case"mediumTime":i=J0(n,Ki.Medium);break;case"longTime":i=J0(n,Ki.Long);break;case"fullTime":i=J0(n,Ki.Full);break;case"short":let r=vo(n,"shortTime"),s=vo(n,"shortDate");i=t_(X0(n,Ki.Short),[r,s]);break;case"medium":let o=vo(n,"mediumTime"),a=vo(n,"mediumDate");i=t_(X0(n,Ki.Medium),[o,a]);break;case"long":let l=vo(n,"longTime"),c=vo(n,"longDate");i=t_(X0(n,Ki.Long),[l,c]);break;case"full":let d=vo(n,"fullTime"),h=vo(n,"fullDate");i=t_(X0(n,Ki.Full),[d,h]);break}return i&&(e_[t][e]=i),i}function t_(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,i){return e!=null&&i in e?e[i]:t})),n}function Kr(n,e,t="-",i,r){let s="";(n<0||r&&n<=0)&&(r?n=-n+1:(n=-n,s=t));let o=String(n);for(;o.length<e;)o="0"+o;return i&&(o=o.slice(o.length-e)),s+o}function kH(n,e){return Kr(n,3).substring(0,e)}function pn(n,e,t=0,i=!1,r=!1){return function(s,o){let a=PH(n,s);if((t>0||a>-t)&&(a+=t),n===pt.Hours)a===0&&t===-12&&(a=12);else if(n===pt.FractionalSeconds)return kH(a,e);let l=a_(o,Ca.MinusSign);return Kr(a,e,l,i,r)}}function PH(n,e){switch(n){case pt.FullYear:return e.getFullYear();case pt.Month:return e.getMonth();case pt.Date:return e.getDate();case pt.Hours:return e.getHours();case pt.Minutes:return e.getMinutes();case pt.Seconds:return e.getSeconds();case pt.FractionalSeconds:return e.getMilliseconds();case pt.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function xt(n,e,t=vi.Format,i=!1){return function(r,s){return FH(r,s,n,e,t,i)}}function FH(n,e,t,i,r,s){switch(t){case ft.Months:return MH(e,r,i)[n.getMonth()];case ft.Days:return SH(e,r,i)[n.getDay()];case ft.DayPeriods:let o=n.getHours(),a=n.getMinutes();if(s){let c=xH(e),d=RH(e,r,i),h=c.findIndex(m=>{if(Array.isArray(m)){let[v,C]=m,A=o>=v.hours&&a>=v.minutes,S=o<C.hours||o===C.hours&&a<C.minutes;if(v.hours<C.hours){if(A&&S)return!0}else if(A||S)return!0}else if(m.hours===o&&m.minutes===a)return!0;return!1});if(h!==-1)return d[h]}return TH(e,r,i)[o<12?0:1];case ft.Eras:return AH(e,i)[n.getFullYear()<=0?0:1];default:let l=t;throw new Error(`unexpected translation type ${l}`)}}function n_(n){return function(e,t,i){let r=-1*i,s=a_(t,Ca.MinusSign),o=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case bo.Short:return(r>=0?"+":"")+Kr(o,2,s)+Kr(Math.abs(r%60),2,s);case bo.ShortGMT:return"GMT"+(r>=0?"+":"")+Kr(o,1,s);case bo.Long:return"GMT"+(r>=0?"+":"")+Kr(o,2,s)+":"+Kr(Math.abs(r%60),2,s);case bo.Extended:return i===0?"Z":(r>=0?"+":"")+Kr(o,2,s)+":"+Kr(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}var LH=0,r_=4;function VH(n){let e=o_(n,LH,1).getDay();return o_(n,0,1+(e<=r_?r_:r_+7)-e)}function QN(n){let e=n.getDay(),t=e===0?-3:r_-e;return o_(n.getFullYear(),n.getMonth(),n.getDate()+t)}function SC(n,e=!1){return function(t,i){let r;if(e){let s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,o=t.getDate();r=1+Math.floor((o+s)/7)}else{let s=QN(t),o=VH(s.getFullYear()),a=s.getTime()-o.getTime();r=1+Math.round(a/6048e5)}return Kr(r,n,a_(i,Ca.MinusSign))}}function i_(n,e=!1){return function(t,i){let s=QN(t).getFullYear();return Kr(s,n,a_(i,Ca.MinusSign),e)}}var MC={};function BH(n){if(MC[n])return MC[n];let e;switch(n){case"G":case"GG":case"GGG":e=xt(ft.Eras,Mt.Abbreviated);break;case"GGGG":e=xt(ft.Eras,Mt.Wide);break;case"GGGGG":e=xt(ft.Eras,Mt.Narrow);break;case"y":e=pn(pt.FullYear,1,0,!1,!0);break;case"yy":e=pn(pt.FullYear,2,0,!0,!0);break;case"yyy":e=pn(pt.FullYear,3,0,!1,!0);break;case"yyyy":e=pn(pt.FullYear,4,0,!1,!0);break;case"Y":e=i_(1);break;case"YY":e=i_(2,!0);break;case"YYY":e=i_(3);break;case"YYYY":e=i_(4);break;case"M":case"L":e=pn(pt.Month,1,1);break;case"MM":case"LL":e=pn(pt.Month,2,1);break;case"MMM":e=xt(ft.Months,Mt.Abbreviated);break;case"MMMM":e=xt(ft.Months,Mt.Wide);break;case"MMMMM":e=xt(ft.Months,Mt.Narrow);break;case"LLL":e=xt(ft.Months,Mt.Abbreviated,vi.Standalone);break;case"LLLL":e=xt(ft.Months,Mt.Wide,vi.Standalone);break;case"LLLLL":e=xt(ft.Months,Mt.Narrow,vi.Standalone);break;case"w":e=SC(1);break;case"ww":e=SC(2);break;case"W":e=SC(1,!0);break;case"d":e=pn(pt.Date,1);break;case"dd":e=pn(pt.Date,2);break;case"c":case"cc":e=pn(pt.Day,1);break;case"ccc":e=xt(ft.Days,Mt.Abbreviated,vi.Standalone);break;case"cccc":e=xt(ft.Days,Mt.Wide,vi.Standalone);break;case"ccccc":e=xt(ft.Days,Mt.Narrow,vi.Standalone);break;case"cccccc":e=xt(ft.Days,Mt.Short,vi.Standalone);break;case"E":case"EE":case"EEE":e=xt(ft.Days,Mt.Abbreviated);break;case"EEEE":e=xt(ft.Days,Mt.Wide);break;case"EEEEE":e=xt(ft.Days,Mt.Narrow);break;case"EEEEEE":e=xt(ft.Days,Mt.Short);break;case"a":case"aa":case"aaa":e=xt(ft.DayPeriods,Mt.Abbreviated);break;case"aaaa":e=xt(ft.DayPeriods,Mt.Wide);break;case"aaaaa":e=xt(ft.DayPeriods,Mt.Narrow);break;case"b":case"bb":case"bbb":e=xt(ft.DayPeriods,Mt.Abbreviated,vi.Standalone,!0);break;case"bbbb":e=xt(ft.DayPeriods,Mt.Wide,vi.Standalone,!0);break;case"bbbbb":e=xt(ft.DayPeriods,Mt.Narrow,vi.Standalone,!0);break;case"B":case"BB":case"BBB":e=xt(ft.DayPeriods,Mt.Abbreviated,vi.Format,!0);break;case"BBBB":e=xt(ft.DayPeriods,Mt.Wide,vi.Format,!0);break;case"BBBBB":e=xt(ft.DayPeriods,Mt.Narrow,vi.Format,!0);break;case"h":e=pn(pt.Hours,1,-12);break;case"hh":e=pn(pt.Hours,2,-12);break;case"H":e=pn(pt.Hours,1);break;case"HH":e=pn(pt.Hours,2);break;case"m":e=pn(pt.Minutes,1);break;case"mm":e=pn(pt.Minutes,2);break;case"s":e=pn(pt.Seconds,1);break;case"ss":e=pn(pt.Seconds,2);break;case"S":e=pn(pt.FractionalSeconds,1);break;case"SS":e=pn(pt.FractionalSeconds,2);break;case"SSS":e=pn(pt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=n_(bo.Short);break;case"ZZZZZ":e=n_(bo.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=n_(bo.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=n_(bo.Long);break;default:return null}return MC[n]=e,e}function ZN(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function UH(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function jH(n,e,t){let i=t?-1:1,r=n.getTimezoneOffset(),s=ZN(e,r);return UH(n,i*(s-r))}function zH(n){if(VN(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[r,s=1,o=1]=n.split("-").map(a=>+a);return o_(r,s-1,o)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let i;if(i=n.match(OH))return $H(i)}let e=new Date(n);if(!VN(e))throw new Error(`Unable to convert "${n}" into a date`);return e}function $H(n){let e=new Date(0),t=0,i=0,r=n[8]?e.setUTCFullYear:e.setFullYear,s=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let o=Number(n[4]||0)-t,a=Number(n[5]||0)-i,l=Number(n[6]||0),c=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return s.call(e,o,a,l,c),e}function VN(n){return n instanceof Date&&!isNaN(n.valueOf())}function l_(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let i=t.indexOf("="),[r,s]=i==-1?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}var AC=/\s+/,BN=[],Oi=(()=>{let e=class e{constructor(i,r){this._ngEl=i,this._renderer=r,this.initialClasses=BN,this.stateMap=new Map}set klass(i){this.initialClasses=i!=null?i.trim().split(AC):BN}set ngClass(i){this.rawClass=typeof i=="string"?i.trim().split(AC):i}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let i=this.rawClass;if(Array.isArray(i)||i instanceof Set)for(let r of i)this._updateState(r,!0);else if(i!=null)for(let r of Object.keys(i))this._updateState(r,!!i[r]);this._applyStateDiff()}_updateState(i,r){let s=this.stateMap.get(i);s!==void 0?(s.enabled!==r&&(s.changed=!0,s.enabled=r),s.touched=!0):this.stateMap.set(i,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let i of this.stateMap){let r=i[0],s=i[1];s.changed?(this._toggleClass(r,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),s.touched=!1}}_toggleClass(i,r){i=i.trim(),i.length>0&&i.split(AC).forEach(s=>{r?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}};e.\u0275fac=function(r){return new(r||e)(B(ct),B(An))},e.\u0275dir=Qe({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0});let n=e;return n})();var xC=class{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},xs=(()=>{let e=class e{set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}constructor(i,r,s){this._viewContainer=i,this._template=r,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let i=this._ngForOf;if(!this._differ&&i)if(0)try{}catch{}else this._differ=this._differs.find(i).create(this.ngForTrackBy)}if(this._differ){let i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){let r=this._viewContainer;i.forEachOperation((s,o,a)=>{if(s.previousIndex==null)r.createEmbeddedView(this._template,new xC(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)r.remove(o===null?void 0:o);else if(o!==null){let l=r.get(o);r.move(l,a),UN(l,s)}});for(let s=0,o=r.length;s<o;s++){let l=r.get(s).context;l.index=s,l.count=o,l.ngForOf=this._ngForOf}i.forEachIdentityChange(s=>{let o=r.get(s.currentIndex);UN(o,s)})}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(B(Ts),B(Br),B(EC))},e.\u0275dir=Qe({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let n=e;return n})();function UN(n,e){n.context.$implicit=e.item}var kt=(()=>{let e=class e{constructor(i,r){this._viewContainer=i,this._context=new RC,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){jN("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){jN("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(B(Ts),B(Br))},e.\u0275dir=Qe({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let n=e;return n})(),RC=class{constructor(){this.$implicit=null,this.ngIf=null}};function jN(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${fi(e)}'.`)}var c_=(()=>{let e=class e{constructor(i,r,s){this._ngEl=i,this._differs=r,this._renderer=s,this._ngStyle=null,this._differ=null}set ngStyle(i){this._ngStyle=i,!this._differ&&i&&(this._differ=this._differs.find(i).create())}ngDoCheck(){if(this._differ){let i=this._differ.diff(this._ngStyle);i&&this._applyChanges(i)}}_setStyle(i,r){let[s,o]=i.split("."),a=s.indexOf("-")===-1?void 0:Cs.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,s,o?`${r}${o}`:r,a):this._renderer.removeStyle(this._ngEl.nativeElement,s,a)}_applyChanges(i){i.forEachRemovedItem(r=>this._setStyle(r.key,null)),i.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),i.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}};e.\u0275fac=function(r){return new(r||e)(B(ct),B(IC),B(An))},e.\u0275dir=Qe({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0});let n=e;return n})(),wf=(()=>{let e=class e{constructor(i){this._viewContainerRef=i,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(i){if(this._shouldRecreateView(i)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let s=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,s,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(i){return!!i.ngTemplateOutlet||!!i.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(i,r,s)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,s):!1,get:(i,r,s)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,s)}})}};e.\u0275fac=function(r){return new(r||e)(B(Ts))},e.\u0275dir=Qe({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[In]});let n=e;return n})();function YN(n,e){return new ie(2100,!1)}var OC=class{createSubscription(e,t){return _r(()=>e.subscribe({next:t,error:i=>{throw i}}))}dispose(e){_r(()=>e.unsubscribe())}},NC=class{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}},HH=new NC,GH=new OC,Ea=(()=>{let e=class e{constructor(i){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=i}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(i){if(!this._obj){if(i)try{this.markForCheckOnValueUpdate=!1,this._subscribe(i)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return i!==this._obj?(this._dispose(),this.transform(i)):this._latestValue}_subscribe(i){this._obj=i,this._strategy=this._selectStrategy(i),this._subscription=this._strategy.createSubscription(i,r=>this._updateLatestValue(i,r))}_selectStrategy(i){if(ba(i))return HH;if(vC(i))return GH;throw YN(e,i)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(i,r){i===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}};e.\u0275fac=function(r){return new(r||e)(B(Ri,16))},e.\u0275pipe=w0({name:"async",type:e,pure:!1,standalone:!0});let n=e;return n})();var qH="mediumDate",WH=new oe(""),KH=new oe(""),Yu=(()=>{let e=class e{constructor(i,r,s){this.locale=i,this.defaultTimezone=r,this.defaultOptions=s}transform(i,r,s,o){if(i==null||i===""||i!==i)return null;try{let a=r??this.defaultOptions?.dateFormat??qH,l=s??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return KN(i,a,o||this.locale,l)}catch(a){throw YN(e,a.message)}}};e.\u0275fac=function(r){return new(r||e)(B(vf,16),B(WH,24),B(KH,24))},e.\u0275pipe=w0({name:"date",type:e,pure:!0,standalone:!0});let n=e;return n})();var Rs=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({});let n=e;return n})(),BC="browser",QH="server";function Qi(n){return n===BC}function Ia(n){return n===QH}var JN=(()=>{let e=class e{};e.\u0275prov=X({token:e,providedIn:"root",factory:()=>Qi(K(wt))?new kC(K(Ze),window):new PC});let n=e;return n})(),kC=class{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=ZH(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}};function ZH(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let s=r.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}r=i.nextNode()}}return null}var PC=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Qu=class{};var Cf=class{},d_=class{},Eo=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let i=t.indexOf(":");if(i>0){let r=t.slice(0,i),s=r.toLowerCase(),o=t.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(e.name,t);let r=(e.op==="a"?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":let s=e.value;if(!s)this.headers.delete(t),this.normalizedNames.delete(t);else{let o=this.headers.get(t);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}break}}setHeaderEntries(e,t){let i=(Array.isArray(t)?t:[t]).map(s=>s.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var jC=class{encodeKey(e){return XN(e)}encodeValue(e){return XN(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function XH(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{let s=r.indexOf("="),[o,a]=s==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],l=t.get(o)||[];l.push(a),t.set(o,l)}),t}var e9=/%(\d[a-f0-9])/gi,t9={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function XN(n){return encodeURIComponent(n).replace(e9,(e,t)=>t9[t]??e)}function u_(n){return`${n}`}var Ta=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new jC,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=XH(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let i=e.fromObject[t],r=Array.isArray(i)?i.map(u_):[u_(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(i=>{let r=e[i];Array.isArray(r)?r.forEach(s=>{t.push({param:i,value:s,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(u_(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let i=this.map.get(e.param)||[],r=i.indexOf(u_(e.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var zC=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function n9(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function ek(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function tk(n){return typeof Blob<"u"&&n instanceof Blob}function nk(n){return typeof FormData<"u"&&n instanceof FormData}function i9(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var bf=class n{constructor(e,t,i,r){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(n9(this.method)||r?(this.body=i!==void 0?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new Eo,this.context??=new zC,!this.params)this.params=new Ta,this.urlWithParams=t;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),l=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+l+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||ek(this.body)||tk(this.body)||nk(this.body)||i9(this.body)?this.body:this.body instanceof Ta?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||nk(this.body)?null:tk(this.body)?this.body.type||null:ek(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Ta?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,c=e.headers||this.headers,d=e.params||this.params,h=e.context??this.context;return e.setHeaders!==void 0&&(c=Object.keys(e.setHeaders).reduce((m,v)=>m.set(v,e.setHeaders[v]),c)),e.setParams&&(d=Object.keys(e.setParams).reduce((m,v)=>m.set(v,e.setParams[v]),d)),new n(t,i,o,{params:d,headers:c,context:h,reportProgress:l,responseType:r,withCredentials:a,transferCache:s})}},Sa=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Sa||{}),Ef=class{constructor(e,t=200,i="OK"){this.headers=e.headers||new Eo,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},h_=class n extends Ef{constructor(e={}){super(e),this.type=Sa.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},If=class n extends Ef{constructor(e={}){super(e),this.type=Sa.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Da=class extends Ef{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},ak=200,r9=204;function UC(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var GC=(()=>{let e=class e{constructor(i){this.handler=i}request(i,r,s={}){let o;if(i instanceof bf)o=i;else{let c;s.headers instanceof Eo?c=s.headers:c=new Eo(s.headers);let d;s.params&&(s.params instanceof Ta?d=s.params:d=new Ta({fromObject:s.params})),o=new bf(i,r,s.body!==void 0?s.body:null,{headers:c,context:s.context,params:d,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let a=le(o).pipe(ao(c=>this.handler.handle(c)));if(i instanceof bf||s.observe==="events")return a;let l=a.pipe(Ut(c=>c instanceof If));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return l.pipe(se(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return l.pipe(se(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return l.pipe(se(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return l.pipe(se(c=>c.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(i,r={}){return this.request("DELETE",i,r)}get(i,r={}){return this.request("GET",i,r)}head(i,r={}){return this.request("HEAD",i,r)}jsonp(i,r){return this.request("JSONP",i,{params:new Ta().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,r={}){return this.request("OPTIONS",i,r)}patch(i,r,s={}){return this.request("PATCH",i,UC(s,r))}post(i,r,s={}){return this.request("POST",i,UC(s,r))}put(i,r,s={}){return this.request("PUT",i,UC(s,r))}};e.\u0275fac=function(r){return new(r||e)(G(Cf))},e.\u0275prov=X({token:e,factory:e.\u0275fac});let n=e;return n})(),s9=/^\)\]\}',?\n/,o9="X-Request-URL";function ik(n){if(n.url)return n.url;let e=o9.toLocaleLowerCase();return n.headers.get(e)}var a9=(()=>{let e=class e{constructor(){this.fetchImpl=K($C,{optional:!0})?.fetch??((...i)=>globalThis.fetch(...i)),this.ngZone=K(De)}handle(i){return new Se(r=>{let s=new AbortController;return this.doRequest(i,s.signal,r).then(HC,o=>r.error(new Da({error:o}))),()=>s.abort()})}doRequest(i,r,s){return F(this,null,function*(){let o=this.createRequestInit(i),a;try{let C=this.ngZone.runOutsideAngular(()=>this.fetchImpl(i.urlWithParams,Q({signal:r},o)));l9(C),s.next({type:Sa.Sent}),a=yield C}catch(C){s.error(new Da({error:C,status:C.status??0,statusText:C.statusText,url:i.urlWithParams,headers:C.headers}));return}let l=new Eo(a.headers),c=a.statusText,d=ik(a)??i.urlWithParams,h=a.status,m=null;if(i.reportProgress&&s.next(new h_({headers:l,status:h,statusText:c,url:d})),a.body){let C=a.headers.get("content-length"),A=[],S=a.body.getReader(),j=0,Z,W,Y=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>F(this,null,function*(){for(;;){let{done:ae,value:R}=yield S.read();if(ae)break;if(A.push(R),j+=R.length,i.reportProgress){W=i.responseType==="text"?(W??"")+(Z??=new TextDecoder).decode(R,{stream:!0}):void 0;let D=()=>s.next({type:Sa.DownloadProgress,total:C?+C:void 0,loaded:j,partialText:W});Y?Y.run(D):D()}}}));let ge=this.concatChunks(A,j);try{let ae=a.headers.get("Content-Type")??"";m=this.parseBody(i,ge,ae)}catch(ae){s.error(new Da({error:ae,headers:new Eo(a.headers),status:a.status,statusText:a.statusText,url:ik(a)??i.urlWithParams}));return}}h===0&&(h=m?ak:0),h>=200&&h<300?(s.next(new If({body:m,headers:l,status:h,statusText:c,url:d})),s.complete()):s.error(new Da({error:m,headers:l,status:h,statusText:c,url:d}))})}parseBody(i,r,s){switch(i.responseType){case"json":let o=new TextDecoder().decode(r).replace(s9,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:s});case"arraybuffer":return r.buffer}}createRequestInit(i){let r={},s=i.withCredentials?"include":void 0;if(i.headers.forEach((o,a)=>r[o]=a.join(",")),i.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!i.headers.has("Content-Type")){let o=i.detectContentTypeHeader();o!==null&&(r["Content-Type"]=o)}return{body:i.serializeBody(),method:i.method,headers:r,credentials:s}}concatChunks(i,r){let s=new Uint8Array(r),o=0;for(let a of i)s.set(a,o),o+=a.length;return s}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=X({token:e,factory:e.\u0275fac});let n=e;return n})(),$C=class{};function HC(){}function l9(n){n.then(HC,HC)}function lk(n,e){return e(n)}function c9(n,e){return(t,i)=>e.intercept(t,{handle:r=>n(r,i)})}function u9(n,e,t){return(i,r)=>dr(t,()=>e(i,s=>n(s,r)))}var d9=new oe(""),qC=new oe(""),h9=new oe(""),ck=new oe("",{providedIn:"root",factory:()=>!0});function f9(){let n=null;return(e,t)=>{n===null&&(n=(K(d9,{optional:!0})??[]).reduceRight(c9,lk));let i=K(mo);if(K(ck)){let s=i.add();return n(e,t).pipe(zn(()=>i.remove(s)))}else return n(e,t)}}var rk=(()=>{let e=class e extends Cf{constructor(i,r){super(),this.backend=i,this.injector=r,this.chain=null,this.pendingTasks=K(mo),this.contributeToStability=K(ck)}handle(i){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(qC),...this.injector.get(h9,[])]));this.chain=r.reduceRight((s,o)=>u9(s,o,this.injector),lk)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(i,s=>this.backend.handle(s)).pipe(zn(()=>this.pendingTasks.remove(r)))}else return this.chain(i,r=>this.backend.handle(r))}};e.\u0275fac=function(r){return new(r||e)(G(d_),G(Mn))},e.\u0275prov=X({token:e,factory:e.\u0275fac});let n=e;return n})();var p9=/^\)\]\}',?\n/;function g9(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var sk=(()=>{let e=class e{constructor(i){this.xhrFactory=i}handle(i){if(i.method==="JSONP")throw new ie(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Ge(r.\u0275loadImpl()):le(null)).pipe(Le(()=>new Se(o=>{let a=r.build();if(a.open(i.method,i.urlWithParams),i.withCredentials&&(a.withCredentials=!0),i.headers.forEach((S,j)=>a.setRequestHeader(S,j.join(","))),i.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!i.headers.has("Content-Type")){let S=i.detectContentTypeHeader();S!==null&&a.setRequestHeader("Content-Type",S)}if(i.responseType){let S=i.responseType.toLowerCase();a.responseType=S!=="json"?S:"text"}let l=i.serializeBody(),c=null,d=()=>{if(c!==null)return c;let S=a.statusText||"OK",j=new Eo(a.getAllResponseHeaders()),Z=g9(a)||i.url;return c=new h_({headers:j,status:a.status,statusText:S,url:Z}),c},h=()=>{let{headers:S,status:j,statusText:Z,url:W}=d(),Y=null;j!==r9&&(Y=typeof a.response>"u"?a.responseText:a.response),j===0&&(j=Y?ak:0);let ge=j>=200&&j<300;if(i.responseType==="json"&&typeof Y=="string"){let ae=Y;Y=Y.replace(p9,"");try{Y=Y!==""?JSON.parse(Y):null}catch(R){Y=ae,ge&&(ge=!1,Y={error:R,text:Y})}}ge?(o.next(new If({body:Y,headers:S,status:j,statusText:Z,url:W||void 0})),o.complete()):o.error(new Da({error:Y,headers:S,status:j,statusText:Z,url:W||void 0}))},m=S=>{let{url:j}=d(),Z=new Da({error:S,status:a.status||0,statusText:a.statusText||"Unknown Error",url:j||void 0});o.error(Z)},v=!1,C=S=>{v||(o.next(d()),v=!0);let j={type:Sa.DownloadProgress,loaded:S.loaded};S.lengthComputable&&(j.total=S.total),i.responseType==="text"&&a.responseText&&(j.partialText=a.responseText),o.next(j)},A=S=>{let j={type:Sa.UploadProgress,loaded:S.loaded};S.lengthComputable&&(j.total=S.total),o.next(j)};return a.addEventListener("load",h),a.addEventListener("error",m),a.addEventListener("timeout",m),a.addEventListener("abort",m),i.reportProgress&&(a.addEventListener("progress",C),l!==null&&a.upload&&a.upload.addEventListener("progress",A)),a.send(l),o.next({type:Sa.Sent}),()=>{a.removeEventListener("error",m),a.removeEventListener("abort",m),a.removeEventListener("load",h),a.removeEventListener("timeout",m),i.reportProgress&&(a.removeEventListener("progress",C),l!==null&&a.upload&&a.upload.removeEventListener("progress",A)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(r){return new(r||e)(G(Qu))},e.\u0275prov=X({token:e,factory:e.\u0275fac});let n=e;return n})(),uk=new oe(""),m9="XSRF-TOKEN",_9=new oe("",{providedIn:"root",factory:()=>m9}),y9="X-XSRF-TOKEN",v9=new oe("",{providedIn:"root",factory:()=>y9}),f_=class{},w9=(()=>{let e=class e{constructor(i,r,s){this.doc=i,this.platform=r,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let i=this.doc.cookie||"";return i!==this.lastCookieString&&(this.parseCount++,this.lastToken=l_(i,this.cookieName),this.lastCookieString=i),this.lastToken}};e.\u0275fac=function(r){return new(r||e)(G(Ze),G(wt),G(_9))},e.\u0275prov=X({token:e,factory:e.\u0275fac});let n=e;return n})();function b9(n,e){let t=n.url.toLowerCase();if(!K(uk)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let i=K(f_).getToken(),r=K(v9);return i!=null&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}var dk=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(dk||{});function C9(n,e){return{\u0275kind:n,\u0275providers:e}}function E9(...n){let e=[GC,sk,rk,{provide:Cf,useExisting:rk},{provide:d_,useFactory:()=>K(a9,{optional:!0})??K(sk)},{provide:qC,useValue:b9,multi:!0},{provide:uk,useValue:!0},{provide:f_,useClass:w9}];for(let t of n)e.push(...t.\u0275providers);return Hu(e)}var ok=new oe("");function I9(){return C9(dk.LegacyInterceptors,[{provide:ok,useFactory:f9},{provide:qC,useExisting:ok,multi:!0}])}var hk=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({providers:[E9(I9())]});let n=e;return n})();var QC=class extends s_{constructor(){super(...arguments),this.supportsDOMEvents=!0}},ZC=class n extends QC{static makeCurrent(){$N(new n)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=T9();return t==null?null:S9(t)}resetBaseElement(){Df=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return l_(document.cookie,e)}},Df=null;function T9(){return Df=Df||document.querySelector("base"),Df?Df.getAttribute("href"):null}function S9(n){return new URL(n,document.baseURI).pathname}var YC=class{addToWindow(e){$n.getAngularTestability=(i,r=!0)=>{let s=e.findTestabilityInTree(i,r);if(s==null)throw new ie(5103,!1);return s},$n.getAllAngularTestabilities=()=>e.getAllTestabilities(),$n.getAllAngularRootElements=()=>e.getAllRootElements();let t=i=>{let r=$n.getAllAngularTestabilities(),s=r.length,o=function(){s--,s==0&&i()};r.forEach(a=>{a.whenStable(o)})};$n.frameworkStabilizers||($n.frameworkStabilizers=[]),$n.frameworkStabilizers.push(t)}findTestabilityInTree(e,t,i){if(t==null)return null;let r=e.getTestability(t);return r??(i?As().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},M9=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=X({token:e,factory:e.\u0275fac});let n=e;return n})(),p_=new oe(""),gk=(()=>{let e=class e{constructor(i,r){this._zone=r,this._eventNameToPlugin=new Map,i.forEach(s=>{s.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,r,s){return this._findPluginFor(r).addEventListener(i,r,s)}getZone(){return this._zone}_findPluginFor(i){let r=this._eventNameToPlugin.get(i);if(r)return r;if(r=this._plugins.find(o=>o.supports(i)),!r)throw new ie(5101,!1);return this._eventNameToPlugin.set(i,r),r}};e.\u0275fac=function(r){return new(r||e)(G(p_),G(De))},e.\u0275prov=X({token:e,factory:e.\u0275fac});let n=e;return n})(),Tf=class{constructor(e){this._doc=e}},WC="ng-app-id",mk=(()=>{let e=class e{constructor(i,r,s,o={}){this.doc=i,this.appId=r,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ia(o),this.resetHostNodes()}addStyles(i){for(let r of i)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(i){for(let r of i)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let i=this.styleNodesInDOM;i&&(i.forEach(r=>r.remove()),i.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(let r of this.getAllStyles())this.addStyleToHost(i,r)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(let r of this.hostNodes)this.addStyleToHost(r,i)}onStyleRemoved(i){let r=this.styleRef;r.get(i)?.elements?.forEach(s=>s.remove()),r.delete(i)}collectServerRenderedStyles(){let i=this.doc.head?.querySelectorAll(`style[${WC}="${this.appId}"]`);if(i?.length){let r=new Map;return i.forEach(s=>{s.textContent!=null&&r.set(s.textContent,s)}),r}return null}changeUsageCount(i,r){let s=this.styleRef;if(s.has(i)){let o=s.get(i);return o.usage+=r,o.usage}return s.set(i,{usage:r,elements:[]}),r}getStyleElement(i,r){let s=this.styleNodesInDOM,o=s?.get(r);if(o?.parentNode===i)return s.delete(r),o.removeAttribute(WC),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(WC,this.appId),i.appendChild(a),a}}addStyleToHost(i,r){let s=this.getStyleElement(i,r),o=this.styleRef,a=o.get(r)?.elements;a?a.push(s):o.set(r,{elements:[s],usage:1})}resetHostNodes(){let i=this.hostNodes;i.clear(),i.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)(G(Ze),G(N0),G(Z1,8),G(wt))},e.\u0275prov=X({token:e,factory:e.\u0275fac});let n=e;return n})(),KC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},XC=/%COMP%/g,_k="%COMP%",A9=`_nghost-${_k}`,x9=`_ngcontent-${_k}`,R9=!0,O9=new oe("",{providedIn:"root",factory:()=>R9});function N9(n){return x9.replace(XC,n)}function k9(n){return A9.replace(XC,n)}function yk(n,e){return e.map(t=>t.replace(XC,n))}var g_=(()=>{let e=class e{constructor(i,r,s,o,a,l,c,d=null){this.eventManager=i,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=Ia(l),this.defaultRenderer=new Sf(i,a,c,this.platformIsServer)}createRenderer(i,r){if(!i||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===vs.ShadowDom&&(r=Ee(Q({},r),{encapsulation:vs.Emulated}));let s=this.getOrCreateRenderer(i,r);return s instanceof m_?s.applyToHost(i):s instanceof Mf&&s.applyStyles(),s}getOrCreateRenderer(i,r){let s=this.rendererByCompId,o=s.get(r.id);if(!o){let a=this.doc,l=this.ngZone,c=this.eventManager,d=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(r.encapsulation){case vs.Emulated:o=new m_(c,d,r,this.appId,h,a,l,m);break;case vs.ShadowDom:return new JC(c,d,i,r,a,l,this.nonce,m);default:o=new Mf(c,d,r,h,a,l,m);break}s.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)(G(gk),G(mk),G(N0),G(O9),G(Ze),G(wt),G(De),G(Z1))},e.\u0275prov=X({token:e,factory:e.\u0275fac});let n=e;return n})(),Sf=class{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(KC[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(fk(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(fk(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){t.remove()}selectRootElement(e,t){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new ie(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;let s=KC[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){let r=KC[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(Cs.DashCase|Cs.Important)?e.style.setProperty(t,i,r&Cs.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Cs.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e!=null&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i){if(typeof e=="string"&&(e=As().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function fk(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var JC=class extends Sf{constructor(e,t,i,r,s,o,a,l){super(e,s,o,l),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=yk(r.id,r.styles);for(let d of c){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=d,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Mf=class extends Sf{constructor(e,t,i,r,s,o,a,l){super(e,s,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=l?yk(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},m_=class extends Mf{constructor(e,t,i,r,s,o,a,l){let c=r+"-"+i.id;super(e,t,i,s,o,a,l,c),this.contentAttr=N9(c),this.hostAttr=k9(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}},P9=(()=>{let e=class e extends Tf{constructor(i){super(i)}supports(i){return!0}addEventListener(i,r,s){return i.addEventListener(r,s,!1),()=>this.removeEventListener(i,r,s)}removeEventListener(i,r,s){return i.removeEventListener(r,s)}};e.\u0275fac=function(r){return new(r||e)(G(Ze))},e.\u0275prov=X({token:e,factory:e.\u0275fac});let n=e;return n})(),F9=(()=>{let e=class e extends Tf{constructor(i){super(i),this.delegate=K(kN,{optional:!0})}supports(i){return this.delegate?this.delegate.supports(i):!1}addEventListener(i,r,s){return this.delegate.addEventListener(i,r,s)}removeEventListener(i,r,s){return this.delegate.removeEventListener(i,r,s)}};e.\u0275fac=function(r){return new(r||e)(G(Ze))},e.\u0275prov=X({token:e,factory:e.\u0275fac});let n=e;return n})(),pk=["alt","control","meta","shift"],L9={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},V9={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},B9=(()=>{let e=class e extends Tf{constructor(i){super(i)}supports(i){return e.parseEventName(i)!=null}addEventListener(i,r,s){let o=e.parseEventName(r),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>As().onAndCancel(i,o.domEventName,a))}static parseEventName(i){let r=i.toLowerCase().split("."),s=r.shift();if(r.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(r.pop()),a="",l=r.indexOf("code");if(l>-1&&(r.splice(l,1),a="code."),pk.forEach(d=>{let h=r.indexOf(d);h>-1&&(r.splice(h,1),a+=d+".")}),a+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=s,c.fullKey=a,c}static matchEventFullKeyCode(i,r){let s=L9[i.key]||i.key,o="";return r.indexOf("code.")>-1&&(s=i.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),pk.forEach(a=>{if(a!==s){let l=V9[a];l(i)&&(o+=a+".")}}),o+=s,o===r)}static eventCallback(i,r,s){return o=>{e.matchEventFullKeyCode(o,i)&&s.runGuarded(()=>r(o))}}static _normalizeKey(i){return i==="esc"?"escape":i}};e.\u0275fac=function(r){return new(r||e)(G(Ze))},e.\u0275prov=X({token:e,factory:e.\u0275fac});let n=e;return n})();function U9(){ZC.makeCurrent()}function j9(){return new ho}function z9(){return nO(document),document}var $9=[{provide:wt,useValue:BC},{provide:K1,useValue:U9,multi:!0},{provide:Ze,useFactory:z9,deps:[]}],vk=bC(ON,"browser",$9),H9=new oe(""),G9=[{provide:yf,useClass:YC,deps:[]},{provide:_C,useClass:G0,deps:[De,q0,yf]},{provide:G0,useClass:G0,deps:[De,q0,yf]}],q9=[{provide:b0,useValue:"root"},{provide:ho,useFactory:j9,deps:[]},{provide:p_,useClass:P9,multi:!0,deps:[Ze,De,wt]},{provide:p_,useClass:B9,multi:!0,deps:[Ze]},{provide:p_,useClass:F9,multi:!0},g_,mk,gk,{provide:pa,useExisting:g_},{provide:Qu,useClass:M9,deps:[]},[]],__=(()=>{let e=class e{constructor(i){}static withServerTransition(i){return{ngModule:e,providers:[{provide:N0,useValue:i.appId}]}}};e.\u0275fac=function(r){return new(r||e)(G(H9,12))},e.\u0275mod=we({type:e}),e.\u0275inj=ve({providers:[...q9,...G9],imports:[Rs,NN]});let n=e;return n})();var wk=(()=>{let e=class e{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}};e.\u0275fac=function(r){return new(r||e)(G(Ze))},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var eE=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=X({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=G(W9),s},providedIn:"root"});let n=e;return n})(),W9=(()=>{let e=class e extends eE{constructor(i){super(),this._doc=i}sanitize(i,r){if(r==null)return null;switch(i){case Gi.NONE:return r;case Gi.HTML:return _o(r,"HTML")?fr(r):J1(this._doc,String(r)).toString();case Gi.STYLE:return _o(r,"Style")?fr(r):r;case Gi.SCRIPT:if(_o(r,"Script"))return fr(r);throw new ie(5200,!1);case Gi.URL:return _o(r,"URL")?fr(r):P0(String(r));case Gi.RESOURCE_URL:if(_o(r,"ResourceURL"))return fr(r);throw new ie(5201,!1);default:throw new ie(5202,!1)}}bypassSecurityTrustHtml(i){return oO(i)}bypassSecurityTrustStyle(i){return aO(i)}bypassSecurityTrustScript(i){return lO(i)}bypassSecurityTrustUrl(i){return cO(i)}bypassSecurityTrustResourceUrl(i){return uO(i)}};e.\u0275fac=function(r){return new(r||e)(G(Ze))},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var K9="firebase",Q9="10.12.2";Un(K9,Q9,"app");var Do=new po("ANGULARFIRE2_VERSION");var Z9=(n,e)=>{let t=e?[e]:hA(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(o=>{i.includes(o)||i.push(o)})}),i},Io=class{constructor(){return Z9(Y9)}},Y9="app-check";function nE(){}var y_=class{zone;delegate;constructor(e,t=Jw){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){let r=this.zone,s=function(o){r.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,t,i)}},iE=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",nE,{},nE,nE)),t.pipe(qt({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Ju=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new y_(Zone.current)),this.insideAngular=t.run(()=>new y_(Zone.current,ra)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(G(De))};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function bk(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function rE(n){return n.pipe($i(bk().outsideAngular))}function Wn(n){return J9(bk())(n)}function J9(n){return function(t){return t=t.lift(new iE(n.ngZone)),t.pipe(Nr(n.outsideAngular),$i(n.insideAngular))}}var X9="firebase",eG="10.12.2";vt.registerVersion(X9,eG,"app-compat");var tG=["ngOnDestroy"],Ek=(n,e,t,i={})=>new Proxy(n,{get:(r,s)=>t.runOutsideAngular(()=>{if(n[s])return i?.spy?.get&&i.spy.get(s,n[s]),n[s];if(tG.indexOf(s)>-1)return()=>{};let o=e.toPromise().then(a=>{let l=a?.[s];return typeof l=="function"?l.bind(a):l?.then?l.then(c=>t.run(()=>c)):t.run(()=>l)});return new Proxy(()=>{},{get:(a,l)=>o[l],apply:(a,l,c)=>o.then(d=>{let h=d?.(...c);return i?.spy?.apply&&i.spy.apply(s,c,h),h})})})});var v_=class{constructor(e){return e}},Ma=new oe("angularfire2.app.options"),Aa=new oe("angularfire2.app.name");function Xl(n,e,t){let i=typeof t=="string"&&t||"[DEFAULT]",r=typeof t=="object"&&t||{};r.name=r.name||i;let o=vt.apps.filter(a=>a&&a.name===r.name)[0]||e.runOutsideAngular(()=>vt.initializeApp(n,r));try{if(JSON.stringify(n)!==JSON.stringify(o.options)){let a=!!module.hot;nG("error",`${o.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new v_(o)}var nG=(n,...e)=>{CC()&&typeof console<"u"&&console[n](...e)},iG={provide:v_,useFactory:Xl,deps:[Ma,De,[new Wl,Aa]]},Ik=(()=>{class n{static initializeApp(t,i){return{ngModule:n,providers:[{provide:Ma,useValue:t},{provide:Aa,useValue:i}]}}constructor(t){vt.registerVersion("angularfire",Do.full,"core"),vt.registerVersion("angularfire",Do.full,"app-compat"),vt.registerVersion("angular",DN.full,t.toString())}static \u0275fac=function(i){return new(i||n)(G(wt))};static \u0275mod=we({type:n});static \u0275inj=ve({providers:[iG]})}return n})();function Xu(n,e,t,i,r){let[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(s)return rG(r,o)||(Ck("error",`${e} was already initialized on the ${t} Firebase App with different settings.${sG?" You may need to reload as Firebase is not HMR aware.":""}`),Ck("warn",{is:r,was:o})),s;{let a=i();return globalThis.\u0275AngularfireInstanceCache.push([n,a,r]),a}}function rG(n,e){try{return n.toString()===e.toString()}catch{return n===e}}var sG=typeof module<"u"&&!!module.hot,Ck=(n,...e)=>{CC()&&typeof console<"u"&&console[n](...e)};globalThis.\u0275AngularfireInstanceCache||=[];var oG=new Map,aG={activated:!1,tokenObservers:[]},lG={initialized:!1,enabled:!1};function Qr(n){return oG.get(n)||Object.assign({},aG)}function Ak(){return lG}var cG="https://content-firebaseappcheck.googleapis.com/v1";var uG="exchangeDebugToken",Dk={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},Phe=24*60*60*1e3;var aE=class{constructor(e,t,i,r,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return F(this,null,function*(){this.stop();try{this.pending=new Nw,this.pending.promise.catch(t=>{}),yield dG(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Nw,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function dG(n){return new Promise(e=>{setTimeout(e,n)})}var hG={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},xa=new pu("appCheck","AppCheck",hG);function xk(n){if(!Qr(n).activated)throw xa.create("use-before-activation",{appName:n.name})}function Rk(i,r){return F(this,arguments,function*({url:n,body:e},t){let s={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){let v=yield o.getHeartbeatsHeader();v&&(s["X-Firebase-Client"]=v)}let a={method:"POST",body:JSON.stringify(e),headers:s},l;try{l=yield fetch(n,a)}catch(v){throw xa.create("fetch-network-error",{originalErrorMessage:v?.message})}if(l.status!==200)throw xa.create("fetch-status-error",{httpStatus:l.status});let c;try{c=yield l.json()}catch(v){throw xa.create("fetch-parse-error",{originalErrorMessage:v?.message})}let d=c.ttl.match(/^([\d.]+)(s)$/);if(!d||!d[2]||isNaN(Number(d[1])))throw xa.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});let h=Number(d[1])*1e3,m=Date.now();return{token:c.token,expireTimeMillis:m+h,issuedAtTimeMillis:m}})}function Ok(n,e){let{projectId:t,appId:i,apiKey:r}=n.options;return{url:`${cG}/projects/${t}/apps/${i}:${uG}?key=${r}`,body:{debug_token:e}}}var fG="firebase-app-check-database",pG=1,lE="firebase-app-check-store";var w_=null;function gG(){return w_||(w_=new Promise((n,e)=>{try{let t=indexedDB.open(fG,pG);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(xa.create("storage-open",{originalErrorMessage:(r=i.target.error)===null||r===void 0?void 0:r.message}))},t.onupgradeneeded=i=>{let r=i.target.result;switch(i.oldVersion){case 0:r.createObjectStore(lE,{keyPath:"compositeKey"})}}}catch(t){e(xa.create("storage-open",{originalErrorMessage:t?.message}))}}),w_)}function mG(n,e){return _G(yG(n),e)}function _G(n,e){return F(this,null,function*(){let i=(yield gG()).transaction(lE,"readwrite"),s=i.objectStore(lE).put({compositeKey:n,value:e});return new Promise((o,a)=>{s.onsuccess=l=>{o()},i.onerror=l=>{var c;a(xa.create("storage-set",{originalErrorMessage:(c=l.target.error)===null||c===void 0?void 0:c.message}))}})})}function yG(n){return`${n.options.appId}-${n.name}`}var cE=new gu("@firebase/app-check");function oE(n,e){return fu()?mG(n,e).catch(t=>{cE.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Nk(){return Ak().enabled}function kk(){return F(this,null,function*(){let n=Ak();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var vG={error:"UNKNOWN_ERROR"};function wG(n){return oA.encodeString(JSON.stringify(n),!1)}function uE(n,e=!1){return F(this,null,function*(){let t=n.app;xk(t);let i=Qr(t),r=i.token,s;if(r&&!Af(r)&&(i.token=void 0,r=void 0),!r){let l=yield i.cachedTokenPromise;l&&(Af(l)?r=l:yield oE(t,void 0))}if(!e&&r&&Af(r))return{token:r.token};let o=!1;if(Nk()){i.exchangeTokenPromise||(i.exchangeTokenPromise=Rk(Ok(t,yield kk()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),o=!0);let l=yield i.exchangeTokenPromise;return yield oE(t,l),i.token=l,{token:l.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),o=!0),r=yield Qr(t).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?cE.warn(l.message):cE.error(l),s=l}let a;return r?s?Af(r)?a={token:r.token,internalError:s}:a=Sk(s):(a={token:r.token},i.token=r,yield oE(t,r)):a=Sk(s),o&&IG(t,a),a})}function bG(n){return F(this,null,function*(){let e=n.app;xk(e);let{provider:t}=Qr(e);if(Nk()){let i=yield kk(),{token:r}=yield Rk(Ok(e,i),n.heartbeatServiceProvider);return{token:r}}else{let{token:i}=yield t.getToken();return{token:i}}})}function CG(n,e,t,i){let{app:r}=n,s=Qr(r),o={next:t,error:i,type:e};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&Af(s.token)){let a=s.token;Promise.resolve().then(()=>{t({token:a.token}),Tk(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>Tk(n))}function Pk(n,e){let t=Qr(n),i=t.tokenObservers.filter(r=>r.next!==e);i.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function Tk(n){let{app:e}=n,t=Qr(e),i=t.tokenRefresher;i||(i=EG(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function EG(n){let{app:e}=n;return new aE(()=>F(this,null,function*(){let t=Qr(e),i;if(t.token?i=yield uE(n,!0):i=yield uE(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{let t=Qr(e);if(t.token){let i=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,r=t.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,r),Math.max(0,i-Date.now())}else return 0},Dk.RETRIAL_MIN_WAIT,Dk.RETRIAL_MAX_WAIT)}function IG(n,e){let t=Qr(n).tokenObservers;for(let i of t)try{i.type==="EXTERNAL"&&e.error!=null?i.error(e.error):i.next(e)}catch{}}function Af(n){return n.expireTimeMillis-Date.now()>0}function Sk(n){return{token:wG(vG),error:n}}var dE=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=Qr(this.app);for(let t of e)Pk(this.app,t.next);return Promise.resolve()}};function DG(n,e){return new dE(n,e)}function TG(n){return{getToken:e=>uE(n,e),getLimitedUseToken:()=>bG(n),addTokenListener:e=>CG(n,"INTERNAL",e),removeTokenListener:e=>Pk(n.app,e)}}var SG="@firebase/app-check",MG="0.8.4";var AG="app-check",Mk="app-check-internal";function xG(){zi(new Bn(AG,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return DG(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Mk).initialize()})),zi(new Bn(Mk,n=>{let e=n.getProvider("app-check").getImmediate();return TG(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Un(SG,MG)}xG();var RG=["localhost","0.0.0.0","127.0.0.1"],Whe=typeof window<"u"&&RG.includes(window.location.hostname);var fE=new oe("angularfire2.auth.use-emulator"),pE=new oe("angularfire2.auth.settings"),gE=new oe("angularfire2.auth.tenant-id"),mE=new oe("angularfire2.auth.langugage-code"),_E=new oe("angularfire2.auth.use-device-language"),yE=new oe("angularfire.auth.persistence"),vE=(n,e,t,i,r,s,o,a)=>Xu(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{let l=e.runOutsideAngular(()=>n.auth());if(t&&l.useEmulator(...t),i&&(l.tenantId=i),l.languageCode=r,s&&l.useDeviceLanguage(),o)for(let[c,d]of Object.entries(o))l.settings[c]=d;return a&&l.setPersistence(a),l},[t,i,r,s,o,a]),Zr=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(t,i,r,s,o,a,l,c,d,h,m,v){let C=new ke,A=le(void 0).pipe($i(o.outsideAngular),Le(()=>s.runOutsideAngular(()=>import("./chunk-XXY5BYLN.js"))),se(()=>Xl(t,s,i)),se(S=>vE(S,s,a,c,d,h,l,m)),Sm({bufferSize:1,refCount:!1}));if(Ia(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=le(null);else{A.pipe(lr()).subscribe();let S=A.pipe(Le(W=>W.getRedirectResult().then(Y=>Y,()=>null)),Wn,Sm({bufferSize:1,refCount:!1})),j=A.pipe(Le(W=>new Se(Y=>({unsubscribe:s.runOutsideAngular(()=>W.onAuthStateChanged(ge=>Y.next(ge),ge=>Y.error(ge),()=>Y.complete()))})))),Z=A.pipe(Le(W=>new Se(Y=>({unsubscribe:s.runOutsideAngular(()=>W.onIdTokenChanged(ge=>Y.next(ge),ge=>Y.error(ge),()=>Y.complete()))}))));this.authState=S.pipe(Mm(j),Nr(o.outsideAngular),$i(o.insideAngular)),this.user=S.pipe(Mm(Z),Nr(o.outsideAngular),$i(o.insideAngular)),this.idToken=this.user.pipe(Le(W=>W?Ge(W.getIdToken()):le(null))),this.idTokenResult=this.user.pipe(Le(W=>W?Ge(W.getIdTokenResult()):le(null))),this.credential=Em(S,C,this.authState.pipe(Ut(W=>!W))).pipe(se(W=>W?.user?W:null),Nr(o.outsideAngular),$i(o.insideAngular))}return Ek(this,A,s,{spy:{apply:(S,j,Z)=>{(S.startsWith("signIn")||S.startsWith("createUser"))&&Z.then(W=>C.next(W))}}})}static \u0275fac=function(i){return new(i||n)(G(Ma),G(Aa,8),G(wt),G(De),G(Ju),G(fE,8),G(pE,8),G(gE,8),G(mE,8),G(_E,8),G(yE,8),G(Io,8))};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),Fk=(()=>{class n{constructor(){vt.registerVersion("angularfire",Do.full,"auth-compat")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=we({type:n});static \u0275inj=ve({providers:[Zr]})}return n})();var Lk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Vk={};var Ra,wE;(function(){var n;function e(R,D){function M(){}M.prototype=D.prototype,R.D=D.prototype,R.prototype=new M,R.prototype.constructor=R,R.C=function(N,P,k){for(var O=Array(arguments.length-2),Ii=2;Ii<arguments.length;Ii++)O[Ii-2]=arguments[Ii];return D.prototype[P].apply(N,O)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(R,D,M){M||(M=0);var N=Array(16);if(typeof D=="string")for(var P=0;16>P;++P)N[P]=D.charCodeAt(M++)|D.charCodeAt(M++)<<8|D.charCodeAt(M++)<<16|D.charCodeAt(M++)<<24;else for(P=0;16>P;++P)N[P]=D[M++]|D[M++]<<8|D[M++]<<16|D[M++]<<24;D=R.g[0],M=R.g[1],P=R.g[2];var k=R.g[3],O=D+(k^M&(P^k))+N[0]+3614090360&4294967295;D=M+(O<<7&4294967295|O>>>25),O=k+(P^D&(M^P))+N[1]+3905402710&4294967295,k=D+(O<<12&4294967295|O>>>20),O=P+(M^k&(D^M))+N[2]+606105819&4294967295,P=k+(O<<17&4294967295|O>>>15),O=M+(D^P&(k^D))+N[3]+3250441966&4294967295,M=P+(O<<22&4294967295|O>>>10),O=D+(k^M&(P^k))+N[4]+4118548399&4294967295,D=M+(O<<7&4294967295|O>>>25),O=k+(P^D&(M^P))+N[5]+1200080426&4294967295,k=D+(O<<12&4294967295|O>>>20),O=P+(M^k&(D^M))+N[6]+2821735955&4294967295,P=k+(O<<17&4294967295|O>>>15),O=M+(D^P&(k^D))+N[7]+4249261313&4294967295,M=P+(O<<22&4294967295|O>>>10),O=D+(k^M&(P^k))+N[8]+1770035416&4294967295,D=M+(O<<7&4294967295|O>>>25),O=k+(P^D&(M^P))+N[9]+2336552879&4294967295,k=D+(O<<12&4294967295|O>>>20),O=P+(M^k&(D^M))+N[10]+4294925233&4294967295,P=k+(O<<17&4294967295|O>>>15),O=M+(D^P&(k^D))+N[11]+2304563134&4294967295,M=P+(O<<22&4294967295|O>>>10),O=D+(k^M&(P^k))+N[12]+1804603682&4294967295,D=M+(O<<7&4294967295|O>>>25),O=k+(P^D&(M^P))+N[13]+4254626195&4294967295,k=D+(O<<12&4294967295|O>>>20),O=P+(M^k&(D^M))+N[14]+2792965006&4294967295,P=k+(O<<17&4294967295|O>>>15),O=M+(D^P&(k^D))+N[15]+1236535329&4294967295,M=P+(O<<22&4294967295|O>>>10),O=D+(P^k&(M^P))+N[1]+4129170786&4294967295,D=M+(O<<5&4294967295|O>>>27),O=k+(M^P&(D^M))+N[6]+3225465664&4294967295,k=D+(O<<9&4294967295|O>>>23),O=P+(D^M&(k^D))+N[11]+643717713&4294967295,P=k+(O<<14&4294967295|O>>>18),O=M+(k^D&(P^k))+N[0]+3921069994&4294967295,M=P+(O<<20&4294967295|O>>>12),O=D+(P^k&(M^P))+N[5]+3593408605&4294967295,D=M+(O<<5&4294967295|O>>>27),O=k+(M^P&(D^M))+N[10]+38016083&4294967295,k=D+(O<<9&4294967295|O>>>23),O=P+(D^M&(k^D))+N[15]+3634488961&4294967295,P=k+(O<<14&4294967295|O>>>18),O=M+(k^D&(P^k))+N[4]+3889429448&4294967295,M=P+(O<<20&4294967295|O>>>12),O=D+(P^k&(M^P))+N[9]+568446438&4294967295,D=M+(O<<5&4294967295|O>>>27),O=k+(M^P&(D^M))+N[14]+3275163606&4294967295,k=D+(O<<9&4294967295|O>>>23),O=P+(D^M&(k^D))+N[3]+4107603335&4294967295,P=k+(O<<14&4294967295|O>>>18),O=M+(k^D&(P^k))+N[8]+1163531501&4294967295,M=P+(O<<20&4294967295|O>>>12),O=D+(P^k&(M^P))+N[13]+2850285829&4294967295,D=M+(O<<5&4294967295|O>>>27),O=k+(M^P&(D^M))+N[2]+4243563512&4294967295,k=D+(O<<9&4294967295|O>>>23),O=P+(D^M&(k^D))+N[7]+1735328473&4294967295,P=k+(O<<14&4294967295|O>>>18),O=M+(k^D&(P^k))+N[12]+2368359562&4294967295,M=P+(O<<20&4294967295|O>>>12),O=D+(M^P^k)+N[5]+4294588738&4294967295,D=M+(O<<4&4294967295|O>>>28),O=k+(D^M^P)+N[8]+2272392833&4294967295,k=D+(O<<11&4294967295|O>>>21),O=P+(k^D^M)+N[11]+1839030562&4294967295,P=k+(O<<16&4294967295|O>>>16),O=M+(P^k^D)+N[14]+4259657740&4294967295,M=P+(O<<23&4294967295|O>>>9),O=D+(M^P^k)+N[1]+2763975236&4294967295,D=M+(O<<4&4294967295|O>>>28),O=k+(D^M^P)+N[4]+1272893353&4294967295,k=D+(O<<11&4294967295|O>>>21),O=P+(k^D^M)+N[7]+4139469664&4294967295,P=k+(O<<16&4294967295|O>>>16),O=M+(P^k^D)+N[10]+3200236656&4294967295,M=P+(O<<23&4294967295|O>>>9),O=D+(M^P^k)+N[13]+681279174&4294967295,D=M+(O<<4&4294967295|O>>>28),O=k+(D^M^P)+N[0]+3936430074&4294967295,k=D+(O<<11&4294967295|O>>>21),O=P+(k^D^M)+N[3]+3572445317&4294967295,P=k+(O<<16&4294967295|O>>>16),O=M+(P^k^D)+N[6]+76029189&4294967295,M=P+(O<<23&4294967295|O>>>9),O=D+(M^P^k)+N[9]+3654602809&4294967295,D=M+(O<<4&4294967295|O>>>28),O=k+(D^M^P)+N[12]+3873151461&4294967295,k=D+(O<<11&4294967295|O>>>21),O=P+(k^D^M)+N[15]+530742520&4294967295,P=k+(O<<16&4294967295|O>>>16),O=M+(P^k^D)+N[2]+3299628645&4294967295,M=P+(O<<23&4294967295|O>>>9),O=D+(P^(M|~k))+N[0]+4096336452&4294967295,D=M+(O<<6&4294967295|O>>>26),O=k+(M^(D|~P))+N[7]+1126891415&4294967295,k=D+(O<<10&4294967295|O>>>22),O=P+(D^(k|~M))+N[14]+2878612391&4294967295,P=k+(O<<15&4294967295|O>>>17),O=M+(k^(P|~D))+N[5]+4237533241&4294967295,M=P+(O<<21&4294967295|O>>>11),O=D+(P^(M|~k))+N[12]+1700485571&4294967295,D=M+(O<<6&4294967295|O>>>26),O=k+(M^(D|~P))+N[3]+2399980690&4294967295,k=D+(O<<10&4294967295|O>>>22),O=P+(D^(k|~M))+N[10]+4293915773&4294967295,P=k+(O<<15&4294967295|O>>>17),O=M+(k^(P|~D))+N[1]+2240044497&4294967295,M=P+(O<<21&4294967295|O>>>11),O=D+(P^(M|~k))+N[8]+1873313359&4294967295,D=M+(O<<6&4294967295|O>>>26),O=k+(M^(D|~P))+N[15]+4264355552&4294967295,k=D+(O<<10&4294967295|O>>>22),O=P+(D^(k|~M))+N[6]+2734768916&4294967295,P=k+(O<<15&4294967295|O>>>17),O=M+(k^(P|~D))+N[13]+1309151649&4294967295,M=P+(O<<21&4294967295|O>>>11),O=D+(P^(M|~k))+N[4]+4149444226&4294967295,D=M+(O<<6&4294967295|O>>>26),O=k+(M^(D|~P))+N[11]+3174756917&4294967295,k=D+(O<<10&4294967295|O>>>22),O=P+(D^(k|~M))+N[2]+718787259&4294967295,P=k+(O<<15&4294967295|O>>>17),O=M+(k^(P|~D))+N[9]+3951481745&4294967295,R.g[0]=R.g[0]+D&4294967295,R.g[1]=R.g[1]+(P+(O<<21&4294967295|O>>>11))&4294967295,R.g[2]=R.g[2]+P&4294967295,R.g[3]=R.g[3]+k&4294967295}i.prototype.u=function(R,D){D===void 0&&(D=R.length);for(var M=D-this.blockSize,N=this.B,P=this.h,k=0;k<D;){if(P==0)for(;k<=M;)r(this,R,k),k+=this.blockSize;if(typeof R=="string"){for(;k<D;)if(N[P++]=R.charCodeAt(k++),P==this.blockSize){r(this,N),P=0;break}}else for(;k<D;)if(N[P++]=R[k++],P==this.blockSize){r(this,N),P=0;break}}this.h=P,this.o+=D},i.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var D=1;D<R.length-8;++D)R[D]=0;var M=8*this.o;for(D=R.length-8;D<R.length;++D)R[D]=M&255,M/=256;for(this.u(R),R=Array(16),D=M=0;4>D;++D)for(var N=0;32>N;N+=8)R[M++]=this.g[D]>>>N&255;return R};function s(R,D){var M=a;return Object.prototype.hasOwnProperty.call(M,R)?M[R]:M[R]=D(R)}function o(R,D){this.h=D;for(var M=[],N=!0,P=R.length-1;0<=P;P--){var k=R[P]|0;N&&k==D||(M[P]=k,N=!1)}this.g=M}var a={};function l(R){return-128<=R&&128>R?s(R,function(D){return new o([D|0],0>D?-1:0)}):new o([R|0],0>R?-1:0)}function c(R){if(isNaN(R)||!isFinite(R))return h;if(0>R)return S(c(-R));for(var D=[],M=1,N=0;R>=M;N++)D[N]=R/M|0,M*=4294967296;return new o(D,0)}function d(R,D){if(R.length==0)throw Error("number format error: empty string");if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(R.charAt(0)=="-")return S(d(R.substring(1),D));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=c(Math.pow(D,8)),N=h,P=0;P<R.length;P+=8){var k=Math.min(8,R.length-P),O=parseInt(R.substring(P,P+k),D);8>k?(k=c(Math.pow(D,k)),N=N.j(k).add(c(O))):(N=N.j(M),N=N.add(c(O)))}return N}var h=l(0),m=l(1),v=l(16777216);n=o.prototype,n.m=function(){if(A(this))return-S(this).m();for(var R=0,D=1,M=0;M<this.g.length;M++){var N=this.i(M);R+=(0<=N?N:4294967296+N)*D,D*=4294967296}return R},n.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(C(this))return"0";if(A(this))return"-"+S(this).toString(R);for(var D=c(Math.pow(R,6)),M=this,N="";;){var P=Y(M,D).g;M=j(M,P.j(D));var k=((0<M.g.length?M.g[0]:M.h)>>>0).toString(R);if(M=P,C(M))return k+N;for(;6>k.length;)k="0"+k;N=k+N}},n.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function C(R){if(R.h!=0)return!1;for(var D=0;D<R.g.length;D++)if(R.g[D]!=0)return!1;return!0}function A(R){return R.h==-1}n.l=function(R){return R=j(this,R),A(R)?-1:C(R)?0:1};function S(R){for(var D=R.g.length,M=[],N=0;N<D;N++)M[N]=~R.g[N];return new o(M,~R.h).add(m)}n.abs=function(){return A(this)?S(this):this},n.add=function(R){for(var D=Math.max(this.g.length,R.g.length),M=[],N=0,P=0;P<=D;P++){var k=N+(this.i(P)&65535)+(R.i(P)&65535),O=(k>>>16)+(this.i(P)>>>16)+(R.i(P)>>>16);N=O>>>16,k&=65535,O&=65535,M[P]=O<<16|k}return new o(M,M[M.length-1]&-2147483648?-1:0)};function j(R,D){return R.add(S(D))}n.j=function(R){if(C(this)||C(R))return h;if(A(this))return A(R)?S(this).j(S(R)):S(S(this).j(R));if(A(R))return S(this.j(S(R)));if(0>this.l(v)&&0>R.l(v))return c(this.m()*R.m());for(var D=this.g.length+R.g.length,M=[],N=0;N<2*D;N++)M[N]=0;for(N=0;N<this.g.length;N++)for(var P=0;P<R.g.length;P++){var k=this.i(N)>>>16,O=this.i(N)&65535,Ii=R.i(P)>>>16,Tr=R.i(P)&65535;M[2*N+2*P]+=O*Tr,Z(M,2*N+2*P),M[2*N+2*P+1]+=k*Tr,Z(M,2*N+2*P+1),M[2*N+2*P+1]+=O*Ii,Z(M,2*N+2*P+1),M[2*N+2*P+2]+=k*Ii,Z(M,2*N+2*P+2)}for(N=0;N<D;N++)M[N]=M[2*N+1]<<16|M[2*N];for(N=D;N<2*D;N++)M[N]=0;return new o(M,0)};function Z(R,D){for(;(R[D]&65535)!=R[D];)R[D+1]+=R[D]>>>16,R[D]&=65535,D++}function W(R,D){this.g=R,this.h=D}function Y(R,D){if(C(D))throw Error("division by zero");if(C(R))return new W(h,h);if(A(R))return D=Y(S(R),D),new W(S(D.g),S(D.h));if(A(D))return D=Y(R,S(D)),new W(S(D.g),D.h);if(30<R.g.length){if(A(R)||A(D))throw Error("slowDivide_ only works with positive integers.");for(var M=m,N=D;0>=N.l(R);)M=ge(M),N=ge(N);var P=ae(M,1),k=ae(N,1);for(N=ae(N,2),M=ae(M,2);!C(N);){var O=k.add(N);0>=O.l(R)&&(P=P.add(M),k=O),N=ae(N,1),M=ae(M,1)}return D=j(R,P.j(D)),new W(P,D)}for(P=h;0<=R.l(D);){for(M=Math.max(1,Math.floor(R.m()/D.m())),N=Math.ceil(Math.log(M)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),k=c(M),O=k.j(D);A(O)||0<O.l(R);)M-=N,k=c(M),O=k.j(D);C(k)&&(k=m),P=P.add(k),R=j(R,O)}return new W(P,R)}n.A=function(R){return Y(this,R).h},n.and=function(R){for(var D=Math.max(this.g.length,R.g.length),M=[],N=0;N<D;N++)M[N]=this.i(N)&R.i(N);return new o(M,this.h&R.h)},n.or=function(R){for(var D=Math.max(this.g.length,R.g.length),M=[],N=0;N<D;N++)M[N]=this.i(N)|R.i(N);return new o(M,this.h|R.h)},n.xor=function(R){for(var D=Math.max(this.g.length,R.g.length),M=[],N=0;N<D;N++)M[N]=this.i(N)^R.i(N);return new o(M,this.h^R.h)};function ge(R){for(var D=R.g.length+1,M=[],N=0;N<D;N++)M[N]=R.i(N)<<1|R.i(N-1)>>>31;return new o(M,R.h)}function ae(R,D){var M=D>>5;D%=32;for(var N=R.g.length-M,P=[],k=0;k<N;k++)P[k]=0<D?R.i(k+M)>>>D|R.i(k+M+1)<<32-D:R.i(k+M);return new o(P,R.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,wE=Vk.Md5=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,Ra=Vk.Integer=o}).apply(typeof Lk<"u"?Lk:typeof self<"u"?self:typeof window<"u"?window:{});var b_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},To={};var bE,CE,ed,EE,Rf,C_,IE,DE,TE;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,_){return u==Array.prototype||u==Object.prototype||(u[g]=_.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof b_=="object"&&b_];for(var g=0;g<u.length;++g){var _=u[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=t(this);function r(u,g){if(g)e:{var _=i;u=u.split(".");for(var w=0;w<u.length-1;w++){var V=u[w];if(!(V in _))break e;_=_[V]}u=u[u.length-1],w=_[u],g=g(w),g!=w&&g!=null&&e(_,u,{configurable:!0,writable:!0,value:g})}}function s(u,g){u instanceof String&&(u+="");var _=0,w=!1,V={next:function(){if(!w&&_<u.length){var H=_++;return{value:g(H,u[H]),done:!1}}return w=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}r("Array.prototype.values",function(u){return u||function(){return s(this,function(g,_){return _})}});var o=o||{},a=this||self;function l(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function c(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function d(u,g,_){return u.call.apply(u.bind,arguments)}function h(u,g,_){if(!u)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,w),u.apply(g,V)}}return function(){return u.apply(g,arguments)}}function m(u,g,_){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,m.apply(null,arguments)}function v(u,g){var _=Array.prototype.slice.call(arguments,1);return function(){var w=_.slice();return w.push.apply(w,arguments),u.apply(this,w)}}function C(u,g){function _(){}_.prototype=g.prototype,u.aa=g.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(w,V,H){for(var ce=Array(arguments.length-2),yt=2;yt<arguments.length;yt++)ce[yt-2]=arguments[yt];return g.prototype[V].apply(w,ce)}}function A(u){let g=u.length;if(0<g){let _=Array(g);for(let w=0;w<g;w++)_[w]=u[w];return _}return[]}function S(u,g){for(let _=1;_<arguments.length;_++){let w=arguments[_];if(l(w)){let V=u.length||0,H=w.length||0;u.length=V+H;for(let ce=0;ce<H;ce++)u[V+ce]=w[ce]}else u.push(w)}}class j{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function Z(u){return/^[\s\xa0]*$/.test(u)}function W(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function Y(u){return Y[" "](u),u}Y[" "]=function(){};var ge=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function ae(u,g,_){for(let w in u)g.call(_,u[w],w,u)}function R(u,g){for(let _ in u)g.call(void 0,u[_],_,u)}function D(u){let g={};for(let _ in u)g[_]=u[_];return g}let M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(u,g){let _,w;for(let V=1;V<arguments.length;V++){w=arguments[V];for(_ in w)u[_]=w[_];for(let H=0;H<M.length;H++)_=M[H],Object.prototype.hasOwnProperty.call(w,_)&&(u[_]=w[_])}}function P(u){var g=1;u=u.split(":");let _=[];for(;0<g&&u.length;)_.push(u.shift()),g--;return u.length&&_.push(u.join(":")),_}function k(u){a.setTimeout(()=>{throw u},0)}function O(){var u=ze;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class Ii{constructor(){this.h=this.g=null}add(g,_){let w=Tr.get();w.set(g,_),this.h?this.h.next=w:this.g=w,this.h=w}}var Tr=new j(()=>new me,u=>u.reset());class me{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let be,Ie=!1,ze=new Ii,ut=()=>{let u=a.Promise.resolve(void 0);be=()=>{u.then(wn)}};var wn=()=>{for(var u;u=O();){try{u.h.call(u.g)}catch(_){k(_)}var g=Tr;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}Ie=!1};function gt(){this.s=this.s,this.C=this.C}gt.prototype.s=!1,gt.prototype.ma=function(){this.s||(this.s=!0,this.N())},gt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Dt(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}Dt.prototype.h=function(){this.defaultPrevented=!0};var dt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{let _=()=>{};a.addEventListener("test",_,g),a.removeEventListener("test",_,g)}catch{}return u}();function Di(u,g){if(Dt.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,w=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(ge){e:{try{Y(g.nodeName);var V=!0;break e}catch{}V=!1}V||(g=null)}}else _=="mouseover"?g=u.fromElement:_=="mouseout"&&(g=u.toElement);this.relatedTarget=g,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Gc[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Di.aa.h.call(this)}}C(Di,Dt);var Gc={2:"touch",3:"pen",4:"mouse"};Di.prototype.h=function(){Di.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Tt="closure_listenable_"+(1e6*Math.random()|0),Li=0;function Zn(u,g,_,w,V){this.listener=u,this.proxy=null,this.src=g,this.type=_,this.capture=!!w,this.ha=V,this.key=++Li,this.da=this.fa=!1}function Vi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function sr(u){this.src=u,this.g={},this.h=0}sr.prototype.add=function(u,g,_,w,V){var H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);var ce=Ch(u,g,w,V);return-1<ce?(g=u[ce],_||(g.fa=!1)):(g=new Zn(g,this.src,H,!!w,V),g.fa=_,u.push(g)),g};function Ho(u,g){var _=g.type;if(_ in u.g){var w=u.g[_],V=Array.prototype.indexOf.call(w,g,void 0),H;(H=0<=V)&&Array.prototype.splice.call(w,V,1),H&&(Vi(g),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Ch(u,g,_,w){for(var V=0;V<u.length;++V){var H=u[V];if(!H.da&&H.listener==g&&H.capture==!!_&&H.ha==w)return V}return-1}var Fn="closure_lm_"+(1e6*Math.random()|0),Bi={};function lg(u,g,_,w,V){if(w&&w.once)return Eh(u,g,_,w,V);if(Array.isArray(g)){for(var H=0;H<g.length;H++)lg(u,g[H],_,w,V);return null}return _=cn(_),u&&u[Tt]?u.K(g,_,c(w)?!!w.capture:!!w,V):Yn(u,g,_,!1,w,V)}function Yn(u,g,_,w,V,H){if(!g)throw Error("Invalid event type");var ce=c(V)?!!V.capture:!!V,yt=Sr(u);if(yt||(u[Fn]=yt=new sr(u)),_=yt.add(g,_,w,ce,H),_.proxy)return _;if(w=qc(),_.proxy=w,w.src=u,w.listener=_,u.addEventListener)dt||(V=ce),V===void 0&&(V=!1),u.addEventListener(g.toString(),w,V);else if(u.attachEvent)u.attachEvent(Ui(g.toString()),w);else if(u.addListener&&u.removeListener)u.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return _}function qc(){function u(_){return g.call(u.src,u.listener,_)}let g=os;return u}function Eh(u,g,_,w,V){if(Array.isArray(g)){for(var H=0;H<g.length;H++)Eh(u,g[H],_,w,V);return null}return _=cn(_),u&&u[Tt]?u.L(g,_,c(w)?!!w.capture:!!w,V):Yn(u,g,_,!0,w,V)}function Ih(u,g,_,w,V){if(Array.isArray(g))for(var H=0;H<g.length;H++)Ih(u,g[H],_,w,V);else w=c(w)?!!w.capture:!!w,_=cn(_),u&&u[Tt]?(u=u.i,g=String(g).toString(),g in u.g&&(H=u.g[g],_=Ch(H,_,w,V),-1<_&&(Vi(H[_]),Array.prototype.splice.call(H,_,1),H.length==0&&(delete u.g[g],u.h--)))):u&&(u=Sr(u))&&(g=u.g[g.toString()],u=-1,g&&(u=Ch(g,_,w,V)),(_=-1<u?g[u]:null)&&Xe(_))}function Xe(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[Tt])Ho(g.i,u);else{var _=u.type,w=u.proxy;g.removeEventListener?g.removeEventListener(_,w,u.capture):g.detachEvent?g.detachEvent(Ui(_),w):g.addListener&&g.removeListener&&g.removeListener(w),(_=Sr(g))?(Ho(_,u),_.h==0&&(_.src=null,g[Fn]=null)):Vi(u)}}}function Ui(u){return u in Bi?Bi[u]:Bi[u]="on"+u}function os(u,g){if(u.da)u=!0;else{g=new Di(g,this);var _=u.listener,w=u.ha||u.src;u.fa&&Xe(u),u=_.call(w,g)}return u}function Sr(u){return u=u[Fn],u instanceof sr?u:null}var Zt="__closure_events_fn_"+(1e9*Math.random()>>>0);function cn(u){return typeof u=="function"?u:(u[Zt]||(u[Zt]=function(g){return u.handleEvent(g)}),u[Zt])}function un(){gt.call(this),this.i=new sr(this),this.M=this,this.F=null}C(un,gt),un.prototype[Tt]=!0,un.prototype.removeEventListener=function(u,g,_,w){Ih(this,u,g,_,w)};function Tn(u,g){var _,w=u.F;if(w)for(_=[];w;w=w.F)_.push(w);if(u=u.M,w=g.type||g,typeof g=="string")g=new Dt(g,u);else if(g instanceof Dt)g.target=g.target||u;else{var V=g;g=new Dt(w,u),N(g,V)}if(V=!0,_)for(var H=_.length-1;0<=H;H--){var ce=g.g=_[H];V=as(ce,w,!0,g)&&V}if(ce=g.g=u,V=as(ce,w,!0,g)&&V,V=as(ce,w,!1,g)&&V,_)for(H=0;H<_.length;H++)ce=g.g=_[H],V=as(ce,w,!1,g)&&V}un.prototype.N=function(){if(un.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var _=u.g[g],w=0;w<_.length;w++)Vi(_[w]);delete u.g[g],u.h--}}this.F=null},un.prototype.K=function(u,g,_,w){return this.i.add(String(u),g,!1,_,w)},un.prototype.L=function(u,g,_,w){return this.i.add(String(u),g,!0,_,w)};function as(u,g,_,w){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var V=!0,H=0;H<g.length;++H){var ce=g[H];if(ce&&!ce.da&&ce.capture==_){var yt=ce.listener,dn=ce.ha||ce.src;ce.fa&&Ho(u.i,ce),V=yt.call(dn,w)!==!1&&V}}return V&&!w.defaultPrevented}function Ln(u,g,_){if(typeof u=="function")_&&(u=m(u,_));else if(u&&typeof u.handleEvent=="function")u=m(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:a.setTimeout(u,g||0)}function cg(u){u.g=Ln(()=>{u.g=null,u.i&&(u.i=!1,cg(u))},u.l);let g=u.h;u.h=null,u.m.apply(null,g)}class ug extends gt{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:cg(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Go(u){gt.call(this),this.h=u,this.g={}}C(Go,gt);var Wc=[];function dg(u){ae(u.g,function(g,_){this.g.hasOwnProperty(_)&&Xe(g)},u),u.g={}}Go.prototype.N=function(){Go.aa.N.call(this),dg(this)},Go.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Kc=a.JSON.stringify,fw=a.JSON.parse,pw=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function Mr(){}Mr.prototype.h=null;function hg(u){return u.h||(u.h=u.i())}function fg(){}var dl={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Dh(){Dt.call(this,"d")}C(Dh,Dt);function Th(){Dt.call(this,"c")}C(Th,Dt);var Ar={},pg=null;function Qc(){return pg=pg||new un}Ar.La="serverreachability";function ls(u){Dt.call(this,Ar.La,u)}C(ls,Dt);function hl(u){let g=Qc();Tn(g,new ls(g))}Ar.STAT_EVENT="statevent";function gg(u,g){Dt.call(this,Ar.STAT_EVENT,u),this.stat=g}C(gg,Dt);function Vn(u){let g=Qc();Tn(g,new gg(g,u))}Ar.Ma="timingevent";function Zc(u,g){Dt.call(this,Ar.Ma,u),this.size=g}C(Zc,Dt);function fl(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},g)}function pl(){this.g=!0}pl.prototype.xa=function(){this.g=!1};function gw(u,g,_,w,V,H){u.info(function(){if(u.g)if(H)for(var ce="",yt=H.split("&"),dn=0;dn<yt.length;dn++){var nt=yt[dn].split("=");if(1<nt.length){var bn=nt[0];nt=nt[1];var Sn=bn.split("_");ce=2<=Sn.length&&Sn[1]=="type"?ce+(bn+"="+nt+"&"):ce+(bn+"=redacted&")}}else ce=null;else ce=H;return"XMLHTTP REQ ("+w+") [attempt "+V+"]: "+g+`
`+_+`
`+ce})}function mw(u,g,_,w,V,H,ce){u.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+V+"]: "+g+`
`+_+`
`+H+" "+ce})}function qo(u,g,_,w){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+_w(u,_)+(w?" "+w:"")})}function Ct(u,g){u.info(function(){return"TIMEOUT: "+g})}pl.prototype.info=function(){};function _w(u,g){if(!u.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var w=_[u];if(!(2>w.length)){var V=w[1];if(Array.isArray(V)&&!(1>V.length)){var H=V[0];if(H!="noop"&&H!="stop"&&H!="close")for(var ce=1;ce<V.length;ce++)V[ce]=""}}}}return Kc(_)}catch{return g}}var Yc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},mg={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Sh;function Jc(){}C(Jc,Mr),Jc.prototype.g=function(){return new XMLHttpRequest},Jc.prototype.i=function(){return{}},Sh=new Jc;function cs(u,g,_,w){this.j=u,this.i=g,this.l=_,this.R=w||1,this.U=new Go(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Xc}function Xc(){this.i=null,this.g="",this.h=!1}var Wo={},eu={};function Ko(u,g,_){u.L=1,u.v=su(Jn(g)),u.m=_,u.P=!0,Vt(u,null)}function Vt(u,g){u.F=Date.now(),tu(u),u.A=Jn(u.v);var _=u.A,w=u.R;Array.isArray(w)||(w=[String(w)]),Mg(_.i,"t",w),u.C=0,_=u.j.J,u.h=new Xc,u.g=jh(u.j,_?g:null,!u.m),0<u.O&&(u.M=new ug(m(u.Y,u,u.g),u.O)),g=u.U,_=u.g,w=u.ca;var V="readystatechange";Array.isArray(V)||(V&&(Wc[0]=V.toString()),V=Wc);for(var H=0;H<V.length;H++){var ce=lg(_,V[H],w||g.handleEvent,!1,g.h||g);if(!ce)break;g.g[ce.key]=ce}g=u.H?D(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),hl(),gw(u.i,u.u,u.A,u.l,u.R,u.m)}cs.prototype.ca=function(u){u=u.target;let g=this.M;g&&Rr(u)==3?g.j():this.Y(u)},cs.prototype.Y=function(u){try{if(u==this.g)e:{let Sn=Rr(this.g);var g=this.g.Ba();let no=this.g.Z();if(!(3>Sn)&&(Sn!=3||this.g&&(this.h.h||this.g.oa()||Lg(this.g)))){this.J||Sn!=4||g==7||(g==8||0>=no?hl(3):hl(2)),Ah(this);var _=this.g.Z();this.X=_;t:if(_g(this)){var w=Lg(this.g);u="";var V=w.length,H=Rr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Xs(this),gl(this);var ce="";break t}this.h.i=new a.TextDecoder}for(g=0;g<V;g++)this.h.h=!0,u+=this.h.i.decode(w[g],{stream:!(H&&g==V-1)});w.length=0,this.h.g+=u,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=_==200,mw(this.i,this.u,this.A,this.l,this.R,Sn,_),this.o){if(this.T&&!this.K){t:{if(this.g){var yt,dn=this.g;if((yt=dn.g?dn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Z(yt)){var nt=yt;break t}}nt=null}if(_=nt)qo(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,nu(this,_);else{this.o=!1,this.s=3,Vn(12),Xs(this),gl(this);break e}}if(this.P){_=!0;let di;for(;!this.J&&this.C<ce.length;)if(di=yw(this,ce),di==eu){Sn==4&&(this.s=4,Vn(14),_=!1),qo(this.i,this.l,null,"[Incomplete Response]");break}else if(di==Wo){this.s=4,Vn(15),qo(this.i,this.l,ce,"[Invalid Chunk]"),_=!1;break}else qo(this.i,this.l,di,null),nu(this,di);if(_g(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Sn!=4||ce.length!=0||this.h.h||(this.s=1,Vn(16),_=!1),this.o=this.o&&_,!_)qo(this.i,this.l,ce,"[Invalid Chunked Response]"),Xs(this),gl(this);else if(0<ce.length&&!this.W){this.W=!0;var bn=this.j;bn.g==this&&bn.ba&&!bn.M&&(bn.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),El(bn),bn.M=!0,Vn(11))}}else qo(this.i,this.l,ce,null),nu(this,ce);Sn==4&&Xs(this),this.o&&!this.J&&(Sn==4?Lh(this.j,this):(this.o=!1,tu(this)))}else Mw(this.g),_==400&&0<ce.indexOf("Unknown SID")?(this.s=3,Vn(12)):(this.s=0,Vn(13)),Xs(this),gl(this)}}}catch{}finally{}};function _g(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function yw(u,g){var _=u.C,w=g.indexOf(`
`,_);return w==-1?eu:(_=Number(g.substring(_,w)),isNaN(_)?Wo:(w+=1,w+_>g.length?eu:(g=g.slice(w,w+_),u.C=w+_,g)))}cs.prototype.cancel=function(){this.J=!0,Xs(this)};function tu(u){u.S=Date.now()+u.I,Mh(u,u.I)}function Mh(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=fl(m(u.ba,u),g)}function Ah(u){u.B&&(a.clearTimeout(u.B),u.B=null)}cs.prototype.ba=function(){this.B=null;let u=Date.now();0<=u-this.S?(Ct(this.i,this.A),this.L!=2&&(hl(),Vn(17)),Xs(this),this.s=2,gl(this)):Mh(this,this.S-u)};function gl(u){u.j.G==0||u.J||Lh(u.j,u)}function Xs(u){Ah(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,dg(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function nu(u,g){try{var _=u.j;if(_.G!=0&&(_.g==u||Rh(_.h,u))){if(!u.K&&Rh(_.h,u)&&_.G==3){try{var w=_.Da.g.parse(g)}catch{w=null}if(Array.isArray(w)&&w.length==3){var V=w;if(V[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)uu(_),bl(_);else break e;cu(_),Vn(18)}}else _.za=V[1],0<_.za-_.T&&37500>V[2]&&_.F&&_.v==0&&!_.C&&(_.C=fl(m(_.Za,_),6e3));if(1>=vg(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else hs(_,11)}else if((u.K||_.g==u)&&uu(_),!Z(g))for(V=_.Da.g.parse(g),g=0;g<V.length;g++){let nt=V[g];if(_.T=nt[0],nt=nt[1],_.G==2)if(nt[0]=="c"){_.K=nt[1],_.ia=nt[2];let bn=nt[3];bn!=null&&(_.la=bn,_.j.info("VER="+_.la));let Sn=nt[4];Sn!=null&&(_.Aa=Sn,_.j.info("SVER="+_.Aa));let no=nt[5];no!=null&&typeof no=="number"&&0<no&&(w=1.5*no,_.L=w,_.j.info("backChannelRequestTimeoutMs_="+w)),w=_;let di=u.g;if(di){let du=di.g?di.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(du){var H=w.h;H.g||du.indexOf("spdy")==-1&&du.indexOf("quic")==-1&&du.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Oh(H,H.h),H.h=null))}if(w.D){let $h=di.g?di.g.getResponseHeader("X-HTTP-Session-Id"):null;$h&&(w.ya=$h,Et(w.I,w.D,$h))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),w=_;var ce=u;if(w.qa=Uh(w,w.J?w.ia:null,w.W),ce.K){wg(w.h,ce);var yt=ce,dn=w.L;dn&&(yt.I=dn),yt.B&&(Ah(yt),tu(yt)),w.g=ce}else Fh(w);0<_.i.length&&au(_)}else nt[0]!="stop"&&nt[0]!="close"||hs(_,7);else _.G==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?hs(_,7):ta(_):nt[0]!="noop"&&_.l&&_.l.ta(nt),_.v=0)}}hl(4)}catch{}}var vw=class{constructor(u,g){this.g=u,this.map=g}};function xh(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function yg(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function vg(u){return u.h?1:u.g?u.g.size:0}function Rh(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function Oh(u,g){u.g?u.g.add(g):u.h=g}function wg(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}xh.prototype.cancel=function(){if(this.i=bg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let u of this.g.values())u.cancel();this.g.clear()}};function bg(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(let _ of u.g.values())g=g.concat(_.D);return g}return A(u.i)}function ww(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var g=[],_=u.length,w=0;w<_;w++)g.push(u[w]);return g}g=[],_=0;for(w in u)g[_++]=u[w];return g}function Cg(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var g=[];u=u.length;for(var _=0;_<u;_++)g.push(_);return g}g=[],_=0;for(let w in u)g[_++]=w;return g}}}function Eg(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var _=Cg(u),w=ww(u),V=w.length,H=0;H<V;H++)g.call(void 0,w[H],_&&_[H],u)}var Nh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bw(u,g){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var w=u[_].indexOf("="),V=null;if(0<=w){var H=u[_].substring(0,w);V=u[_].substring(w+1)}else H=u[_];g(H,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function eo(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof eo){this.h=u.h,ml(this,u.j),this.o=u.o,this.g=u.g,iu(this,u.s),this.l=u.l;var g=u.i,_=new Zo;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),ru(this,_),this.m=u.m}else u&&(g=String(u).match(Nh))?(this.h=!1,ml(this,g[1]||"",!0),this.o=_l(g[2]||""),this.g=_l(g[3]||"",!0),iu(this,g[4]),this.l=_l(g[5]||"",!0),ru(this,g[6]||"",!0),this.m=_l(g[7]||"")):(this.h=!1,this.i=new Zo(null,this.h))}eo.prototype.toString=function(){var u=[],g=this.j;g&&u.push(yl(g,Ig,!0),":");var _=this.g;return(_||g=="file")&&(u.push("//"),(g=this.o)&&u.push(yl(g,Ig,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(yl(_,_.charAt(0)=="/"?Qo:Ew,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",yl(_,Dg)),u.join("")};function Jn(u){return new eo(u)}function ml(u,g,_){u.j=_?_l(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function iu(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function ru(u,g,_){g instanceof Zo?(u.i=g,Dw(u.i,u.h)):(_||(g=yl(g,Iw)),u.i=new Zo(g,u.h))}function Et(u,g,_){u.i.set(g,_)}function su(u){return Et(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function _l(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function yl(u,g,_){return typeof u=="string"?(u=encodeURI(u).replace(g,Cw),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Cw(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ig=/[#\/\?@]/g,Ew=/[#\?:]/g,Qo=/[#\?]/g,Iw=/[#\?@]/g,Dg=/#/g;function Zo(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function us(u){u.g||(u.g=new Map,u.h=0,u.i&&bw(u.i,function(g,_){u.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}n=Zo.prototype,n.add=function(u,g){us(this),this.i=null,u=Yo(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(g),this.h+=1,this};function Tg(u,g){us(u),g=Yo(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function Sg(u,g){return us(u),g=Yo(u,g),u.g.has(g)}n.forEach=function(u,g){us(this),this.g.forEach(function(_,w){_.forEach(function(V){u.call(g,V,w,this)},this)},this)},n.na=function(){us(this);let u=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let w=0;w<g.length;w++){let V=u[w];for(let H=0;H<V.length;H++)_.push(g[w])}return _},n.V=function(u){us(this);let g=[];if(typeof u=="string")Sg(this,u)&&(g=g.concat(this.g.get(Yo(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)g=g.concat(u[_])}return g},n.set=function(u,g){return us(this),this.i=null,u=Yo(this,u),Sg(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},n.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function Mg(u,g,_){Tg(u,g),0<_.length&&(u.i=null,u.g.set(Yo(u,g),A(_)),u.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let u=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var w=g[_];let H=encodeURIComponent(String(w)),ce=this.V(w);for(w=0;w<ce.length;w++){var V=H;ce[w]!==""&&(V+="="+encodeURIComponent(String(ce[w]))),u.push(V)}}return this.i=u.join("&")};function Yo(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function Dw(u,g){g&&!u.j&&(us(u),u.i=null,u.g.forEach(function(_,w){var V=w.toLowerCase();w!=V&&(Tg(this,w),Mg(this,V,_))},u)),u.j=g}function Tw(u,g){let _=new pl;if(a.Image){let w=new Image;w.onload=v(ds,_,"TestLoadImage: loaded",!0,g,w),w.onerror=v(ds,_,"TestLoadImage: error",!1,g,w),w.onabort=v(ds,_,"TestLoadImage: abort",!1,g,w),w.ontimeout=v(ds,_,"TestLoadImage: timeout",!1,g,w),a.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=u}else g(!1)}function Jo(u,g){let _=new pl,w=new AbortController,V=setTimeout(()=>{w.abort(),ds(_,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:w.signal}).then(H=>{clearTimeout(V),H.ok?ds(_,"TestPingServer: ok",!0,g):ds(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(V),ds(_,"TestPingServer: error",!1,g)})}function ds(u,g,_,w,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),w(_)}catch{}}function Sw(){this.g=new pw}function Ag(u,g,_){let w=_||"";try{Eg(u,function(V,H){let ce=V;c(V)&&(ce=Kc(V)),g.push(w+H+"="+encodeURIComponent(ce))})}catch(V){throw g.push(w+"type="+encodeURIComponent("_badmap")),V}}function vl(u){this.l=u.Ub||null,this.j=u.eb||!1}C(vl,Mr),vl.prototype.g=function(){return new ji(this.l,this.j)},vl.prototype.i=function(u){return function(){return u}}({});function ji(u,g){un.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(ji,un),n=ji.prototype,n.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,xr(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||a).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Xo(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,xr(this)),this.g&&(this.readyState=3,xr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xg(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function xg(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?Xo(this):xr(this),this.readyState==3&&xg(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,Xo(this))},n.Qa=function(u){this.g&&(this.response=u,Xo(this))},n.ga=function(){this.g&&Xo(this)};function Xo(u){u.readyState=4,u.l=null,u.j=null,u.v=null,xr(u)}n.setRequestHeader=function(u,g){this.u.append(u,g)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let u=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=g.next();return u.join(`\r
`)};function xr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ji.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Rg(u){let g="";return ae(u,function(_,w){g+=w,g+=":",g+=_,g+=`\r
`}),g}function kh(u,g,_){e:{for(w in _){var w=!1;break e}w=!0}w||(_=Rg(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):Et(u,g,_))}function Bt(u){un.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Bt,un);var Og=/^https?$/i,ea=["POST","PUT"];n=Bt.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,g,_,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Sh.g(),this.v=this.o?hg(this.o):hg(Sh),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(H){Ng(this,H);return}if(u=_||"",_=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var V in w)_.set(V,w[V]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(let H of w.keys())_.set(H,w.get(H));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(_.keys()).find(H=>H.toLowerCase()=="content-type"),V=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(ea,g,void 0))||w||V||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[H,ce]of _)this.g.setRequestHeader(H,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Fg(this),this.u=!0,this.g.send(u),this.u=!1}catch(H){Ng(this,H)}};function Ng(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,kg(u),ou(u)}function kg(u){u.A||(u.A=!0,Tn(u,"complete"),Tn(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Tn(this,"complete"),Tn(this,"abort"),ou(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ou(this,!0)),Bt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Pg(this):this.bb())},n.bb=function(){Pg(this)};function Pg(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Rr(u)!=4||u.Z()!=2)){if(u.u&&Rr(u)==4)Ln(u.Ea,0,u);else if(Tn(u,"readystatechange"),Rr(u)==4){u.h=!1;try{let ce=u.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var w;if(w=ce===0){var V=String(u.D).match(Nh)[1]||null;!V&&a.self&&a.self.location&&(V=a.self.location.protocol.slice(0,-1)),w=!Og.test(V?V.toLowerCase():"")}_=w}if(_)Tn(u,"complete"),Tn(u,"success");else{u.m=6;try{var H=2<Rr(u)?u.g.statusText:""}catch{H=""}u.l=H+" ["+u.Z()+"]",kg(u)}}finally{ou(u)}}}}function ou(u,g){if(u.g){Fg(u);let _=u.g,w=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||Tn(u,"ready");try{_.onreadystatechange=w}catch{}}}function Fg(u){u.I&&(a.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function Rr(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<Rr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),fw(g)}};function Lg(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Mw(u){let g={};u=(u.g&&2<=Rr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<u.length;w++){if(Z(u[w]))continue;var _=P(u[w]);let V=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();let H=g[V]||[];g[V]=H,H.push(_)}R(g,function(w){return w.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function wl(u,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||g}function Vg(u){this.Aa=0,this.i=[],this.j=new pl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=wl("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=wl("baseRetryDelayMs",5e3,u),this.cb=wl("retryDelaySeedMs",1e4,u),this.Wa=wl("forwardChannelMaxRetries",2,u),this.wa=wl("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new xh(u&&u.concurrentRequestLimit),this.Da=new Sw,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Vg.prototype,n.la=8,n.G=1,n.connect=function(u,g,_,w){Vn(0),this.W=u,this.H=g||{},_&&w!==void 0&&(this.H.OSID=_,this.H.OAID=w),this.F=this.X,this.I=Uh(this,null,this.W),au(this)};function ta(u){if(Bg(u),u.G==3){var g=u.U++,_=Jn(u.I);if(Et(_,"SID",u.K),Et(_,"RID",g),Et(_,"TYPE","terminate"),Cl(u,_),g=new cs(u,u.j,g),g.L=2,g.v=su(Jn(_)),_=!1,a.navigator&&a.navigator.sendBeacon)try{_=a.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&a.Image&&(new Image().src=g.v,_=!0),_||(g.g=jh(g.j,null),g.g.ea(g.v)),g.F=Date.now(),tu(g)}Bh(u)}function bl(u){u.g&&(El(u),u.g.cancel(),u.g=null)}function Bg(u){bl(u),u.u&&(a.clearTimeout(u.u),u.u=null),uu(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function au(u){if(!yg(u.h)&&!u.s){u.s=!0;var g=u.Ga;be||ut(),Ie||(be(),Ie=!0),ze.add(g,u),u.B=0}}function Aw(u,g){return vg(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=fl(m(u.Ga,u,g),Vh(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;let V=new cs(this,this.j,u),H=this.o;if(this.S&&(H?(H=D(H),N(H,this.S)):H=this.S),this.m!==null||this.O||(V.H=H,H=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var w=this.i[_];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(g+=w,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=lu(this,V,g),_=Jn(this.I),Et(_,"RID",u),Et(_,"CVER",22),this.D&&Et(_,"X-HTTP-Session-Id",this.D),Cl(this,_),H&&(this.O?g="headers="+encodeURIComponent(String(Rg(H)))+"&"+g:this.m&&kh(_,this.m,H)),Oh(this.h,V),this.Ua&&Et(_,"TYPE","init"),this.P?(Et(_,"$req",g),Et(_,"SID","null"),V.T=!0,Ko(V,_,null)):Ko(V,_,g),this.G=2}}else this.G==3&&(u?Ph(this,u):this.i.length==0||yg(this.h)||Ph(this))};function Ph(u,g){var _;g?_=g.l:_=u.U++;let w=Jn(u.I);Et(w,"SID",u.K),Et(w,"RID",_),Et(w,"AID",u.T),Cl(u,w),u.m&&u.o&&kh(w,u.m,u.o),_=new cs(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),g&&(u.i=g.D.concat(u.i)),g=lu(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Oh(u.h,_),Ko(_,w,g)}function Cl(u,g){u.H&&ae(u.H,function(_,w){Et(g,w,_)}),u.l&&Eg({},function(_,w){Et(g,w,_)})}function lu(u,g,_){_=Math.min(u.i.length,_);var w=u.l?m(u.l.Na,u.l,u):null;e:{var V=u.i;let H=-1;for(;;){let ce=["count="+_];H==-1?0<_?(H=V[0].g,ce.push("ofs="+H)):H=0:ce.push("ofs="+H);let yt=!0;for(let dn=0;dn<_;dn++){let nt=V[dn].g,bn=V[dn].map;if(nt-=H,0>nt)H=Math.max(0,V[dn].g-100),yt=!1;else try{Ag(bn,ce,"req"+nt+"_")}catch{w&&w(bn)}}if(yt){w=ce.join("&");break e}}}return u=u.i.splice(0,_),g.D=u,w}function Fh(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;be||ut(),Ie||(be(),Ie=!0),ze.add(g,u),u.v=0}}function cu(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=fl(m(u.Fa,u),Vh(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,Il(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=fl(m(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Vn(10),bl(this),Il(this))};function El(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function Il(u){u.g=new cs(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=Jn(u.qa);Et(g,"RID","rpc"),Et(g,"SID",u.K),Et(g,"AID",u.T),Et(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&Et(g,"TO",u.ja),Et(g,"TYPE","xmlhttp"),Cl(u,g),u.m&&u.o&&kh(g,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=su(Jn(g)),_.m=null,_.P=!0,Vt(_,u)}n.Za=function(){this.C!=null&&(this.C=null,bl(this),cu(this),Vn(19))};function uu(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function Lh(u,g){var _=null;if(u.g==g){uu(u),El(u),u.g=null;var w=2}else if(Rh(u.h,g))_=g.D,wg(u.h,g),w=1;else return;if(u.G!=0){if(g.o)if(w==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var V=u.B;w=Qc(),Tn(w,new Zc(w,_)),au(u)}else Fh(u);else if(V=g.s,V==3||V==0&&0<g.X||!(w==1&&Aw(u,g)||w==2&&cu(u)))switch(_&&0<_.length&&(g=u.h,g.i=g.i.concat(_)),V){case 1:hs(u,5);break;case 4:hs(u,10);break;case 3:hs(u,6);break;default:hs(u,2)}}}function Vh(u,g){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*g}function hs(u,g){if(u.j.info("Error code "+g),g==2){var _=m(u.fb,u),w=u.Xa;let V=!w;w=new eo(w||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ml(w,"https"),su(w),V?Tw(w.toString(),_):Jo(w.toString(),_)}else Vn(2);u.G=0,u.l&&u.l.sa(g),Bh(u),Bg(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Vn(2)):(this.j.info("Failed to ping google.com"),Vn(1))};function Bh(u){if(u.G=0,u.ka=[],u.l){let g=bg(u.h);(g.length!=0||u.i.length!=0)&&(S(u.ka,g),S(u.ka,u.i),u.h.i.length=0,A(u.i),u.i.length=0),u.l.ra()}}function Uh(u,g,_){var w=_ instanceof eo?Jn(_):new eo(_);if(w.g!="")g&&(w.g=g+"."+w.g),iu(w,w.s);else{var V=a.location;w=V.protocol,g=g?g+"."+V.hostname:V.hostname,V=+V.port;var H=new eo(null);w&&ml(H,w),g&&(H.g=g),V&&iu(H,V),_&&(H.l=_),w=H}return _=u.D,g=u.ya,_&&g&&Et(w,_,g),Et(w,"VER",u.la),Cl(u,w),w}function jh(u,g,_){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new Bt(new vl({eb:_})):new Bt(u.pa),g.Ha(u.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function zh(){}n=zh.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Dl(){}Dl.prototype.g=function(u,g){return new Xn(u,g)};function Xn(u,g){un.call(this),this.g=new Vg(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!Z(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!Z(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new na(this)}C(Xn,un),Xn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xn.prototype.close=function(){ta(this.g)},Xn.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=Kc(u),u=_);g.i.push(new vw(g.Ya++,u)),g.G==3&&au(g)},Xn.prototype.N=function(){this.g.l=null,delete this.j,ta(this.g),delete this.g,Xn.aa.N.call(this)};function to(u){Dh.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(let _ in g){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}C(to,Dh);function Ug(){Th.call(this),this.status=1}C(Ug,Th);function na(u){this.g=u}C(na,zh),na.prototype.ua=function(){Tn(this.g,"a")},na.prototype.ta=function(u){Tn(this.g,new to(u))},na.prototype.sa=function(u){Tn(this.g,new Ug)},na.prototype.ra=function(){Tn(this.g,"b")},Dl.prototype.createWebChannel=Dl.prototype.g,Xn.prototype.send=Xn.prototype.o,Xn.prototype.open=Xn.prototype.m,Xn.prototype.close=Xn.prototype.close,TE=To.createWebChannelTransport=function(){return new Dl},DE=To.getStatEventTarget=function(){return Qc()},IE=To.Event=Ar,C_=To.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Yc.NO_ERROR=0,Yc.TIMEOUT=8,Yc.HTTP_ERROR=6,Rf=To.ErrorCode=Yc,mg.COMPLETE="complete",EE=To.EventType=mg,fg.EventType=dl,dl.OPEN="a",dl.CLOSE="b",dl.ERROR="c",dl.MESSAGE="d",un.prototype.listen=un.prototype.K,ed=To.WebChannel=fg,CE=To.FetchXmlHttpFactory=vl,Bt.prototype.listenOnce=Bt.prototype.L,Bt.prototype.getLastError=Bt.prototype.Ka,Bt.prototype.getLastErrorCode=Bt.prototype.Ba,Bt.prototype.getStatus=Bt.prototype.Z,Bt.prototype.getResponseJson=Bt.prototype.Oa,Bt.prototype.getResponseText=Bt.prototype.oa,Bt.prototype.send=Bt.prototype.ea,Bt.prototype.setWithCredentials=Bt.prototype.Ha,bE=To.XhrIo=Bt}).apply(typeof b_<"u"?b_:typeof self<"u"?self:typeof window<"u"?window:{});var Bk="@firebase/firestore";var _n=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};_n.UNAUTHENTICATED=new _n(null),_n.GOOGLE_CREDENTIALS=new _n("google-credentials-uid"),_n.FIRST_PARTY=new _n("first-party-uid"),_n.MOCK_USER=new _n("mock-user");var Rd="10.12.1";var Va=new gu("@firebase/firestore");function sd(){return Va.logLevel}function BP(n){Va.setLogLevel(n)}function te(n,...e){if(Va.logLevel<=ps.DEBUG){let t=e.map(AD);Va.debug(`Firestore (${Rd}): ${n}`,...t)}}function sn(n,...e){if(Va.logLevel<=ps.ERROR){let t=e.map(AD);Va.error(`Firestore (${Rd}): ${n}`,...t)}}function br(n,...e){if(Va.logLevel<=ps.WARN){let t=e.map(AD);Va.warn(`Firestore (${Rd}): ${n}`,...t)}}function AD(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function ye(n="Unexpected state"){let e=`FIRESTORE (${Rd}) INTERNAL ASSERTION FAILED: `+n;throw sn(e),new Error(e)}function Te(n,e){n||ye()}function UP(n,e){n||ye()}function pe(n,e){return n}var q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ee=class extends ia{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var yn=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var N_=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},RE=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(_n.UNAUTHENTICATED))}shutdown(){}},OE=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},NE=class{constructor(e){this.t=e,this.currentUser=_n.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let i=this.i,r=l=>this.i!==i?(i=this.i,t(l)):Promise.resolve(),s=new yn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new yn,e.enqueueRetryable(()=>r(this.currentUser))};let o=()=>{let l=s;e.enqueueRetryable(()=>F(this,null,function*(){yield l.promise,yield r(this.currentUser)}))},a=l=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?a(l):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new yn)}},0),o()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Te(typeof i.accessToken=="string"),new N_(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Te(e===null||typeof e=="string"),new _n(e)}},kE=class{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=_n.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},PE=class{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new kE(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(_n.FIRST_PARTY))}shutdown(){}invalidateToken(){}},FE=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},LE=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){let i=s=>{s.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,te("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};let r=s=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?r(s):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Te(typeof t.token=="string"),this.R=t.token,new FE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function NG(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}var k_=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,i="";for(;i.length<20;){let r=NG(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+=e.charAt(r[s]%e.length))}return i}};function je(n,e){return n<e?-1:n>e?1:0}function pd(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function jP(n){return n+"\0"}var Kt=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ee(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ee(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ee(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ee(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new n(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var Me=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new Kt(0,0))}static max(){return new n(new Kt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var P_=class n{constructor(e,t,i){t===void 0?t=0:t>e.length&&ye(),i===void 0?i=e.length-t:i>e.length-t&&ye(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let i=Math.min(e.length,t.length);for(let r=0;r<i;r++){let s=e.get(r),o=t.get(r);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},ot=class n extends P_{construct(e,t,i){return new n(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let i of e){if(i.indexOf("//")>=0)throw new ee(q.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new n(t)}static emptyPath(){return new n([])}},kG=/^[_a-zA-Z][_a-zA-Z0-9]*$/,on=class n extends P_{construct(e,t,i){return new n(e,t,i)}static isValidIdentifier(e){return kG.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],i="",r=0,s=()=>{if(i.length===0)throw new ee(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""},o=!1;for(;r<e.length;){let a=e[r];if(a==="\\"){if(r+1===e.length)throw new ee(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ee(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new ee(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var fe=class n{constructor(e){this.path=e}static fromPath(e){return new n(ot.fromString(e))}static fromName(e){return new n(ot.fromString(e).popFirst(5))}static empty(){return new n(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ot.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new ot(e.slice()))}};var gd=class{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}};function VE(n){return n.fields.find(e=>e.kind===2)}function tc(n){return n.fields.filter(e=>e.kind!==2)}gd.UNKNOWN_ID=-1;var dd=class{constructor(e,t){this.fieldPath=e,this.kind=t}};var $f=class n{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new n(0,Cr.min())}};function zP(n,e){let t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Me.fromTimestamp(i===1e9?new Kt(t+1,0):new Kt(t,i));return new Cr(r,fe.empty(),e)}function $P(n){return new Cr(n.readTime,n.key,-1)}var Cr=class n{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new n(Me.min(),fe.empty(),-1)}static max(){return new n(Me.max(),fe.empty(),-1)}};function xD(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=fe.comparator(n.documentKey,e.documentKey),t!==0?t:je(n.largestBatchId,e.largestBatchId))}var HP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",F_=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Ka(n){return F(this,null,function*(){if(n.code!==q.FAILED_PRECONDITION||n.message!==HP)throw n;te("LocalStore","Unexpectedly lost primary lease")})}var $=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ye(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,i)=>{t(e)})}static reject(e){return new n((t,i)=>{i(e)})}static waitFor(e){return new n((t,i)=>{let r=0,s=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&t()},l=>i(l))}),o=!0,s===r&&t()})}static or(e){let t=n.resolve(!1);for(let i of e)t=t.next(r=>r?n.resolve(r):i());return t}static forEach(e,t){let i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}static mapArray(e,t){return new n((i,r)=>{let s=e.length,o=new Array(s),a=0;for(let l=0;l<s;l++){let c=l;t(e[c]).next(d=>{o[c]=d,++a,a===s&&i(o)},d=>r(d))}})}static doWhile(e,t){return new n((i,r)=>{let s=()=>{e()===!0?t().next(()=>{s()},r):i()};s()})}};var L_=class n{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new yn,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new ac(e,t.error)):this.V.resolve()},this.transaction.onerror=i=>{let r=RD(i.target.error);this.V.reject(new ac(e,r))}}static open(e,t,i,r){try{return new n(t,e.transaction(r,i))}catch(s){throw new ac(t,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(te("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let t=this.transaction.objectStore(e);return new UE(t)}},Ba=class n{constructor(e,t,i){this.name=e,this.version=t,this.p=i,n.S(Gh())===12.2&&sn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return te("SimpleDb","Removing database:",e),nc(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!fu())return!1;if(n.C())return!0;let e=Gh(),t=n.S(e),i=0<t&&t<10,r=GP(e),s=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.v)==="YES"}static F(e,t){return e.store(t)}static S(e){let t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}M(e){return F(this,null,function*(){return this.db||(te("SimpleDb","Opening database:",this.name),this.db=yield new Promise((t,i)=>{let r=indexedDB.open(this.name,this.version);r.onsuccess=s=>{let o=s.target.result;t(o)},r.onblocked=()=>{i(new ac(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=s=>{let o=s.target.error;o.name==="VersionError"?i(new ee(q.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?i(new ee(q.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):i(new ac(e,o))},r.onupgradeneeded=s=>{te("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);let o=s.target.result;this.p.O(o,r.transaction,s.oldVersion,this.version).next(()=>{te("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=t=>this.N(t)),this.db})}L(e){this.N=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){return F(this,null,function*(){let s=t==="readonly",o=0;for(;;){++o;try{this.db=yield this.M(e);let a=L_.open(this.db,e,s?"readonly":"readwrite",i),l=r(a).next(c=>(a.g(),c)).catch(c=>(a.abort(c),$.reject(c))).toPromise();return l.catch(()=>{}),yield a.m,l}catch(a){let l=a,c=l.name!=="FirebaseError"&&o<3;if(te("SimpleDb","Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}})}close(){this.db&&this.db.close(),this.db=void 0}};function GP(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}var BE=class{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return nc(this.B.delete())}},ac=class extends ee{constructor(e,t){super(q.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}};function Qa(n){return n.name==="IndexedDbTransactionError"}var UE=class{constructor(e){this.store=e}put(e,t){let i;return t!==void 0?(te("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(te("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),nc(i)}add(e){return te("SimpleDb","ADD",this.store.name,e,e),nc(this.store.add(e))}get(e){return nc(this.store.get(e)).next(t=>(t===void 0&&(t=null),te("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return te("SimpleDb","DELETE",this.store.name,e),nc(this.store.delete(e))}count(){return te("SimpleDb","COUNT",this.store.name),nc(this.store.count())}U(e,t){let i=this.options(e,t),r=i.index?this.store.index(i.index):this.store;if(typeof r.getAll=="function"){let s=r.getAll(i.range);return new $((o,a)=>{s.onerror=l=>{a(l.target.error)},s.onsuccess=l=>{o(l.target.result)}})}{let s=this.cursor(i),o=[];return this.W(s,(a,l)=>{o.push(l)}).next(()=>o)}}G(e,t){let i=this.store.getAll(e,t===null?void 0:t);return new $((r,s)=>{i.onerror=o=>{s(o.target.error)},i.onsuccess=o=>{r(o.target.result)}})}j(e,t){te("SimpleDb","DELETE ALL",this.store.name);let i=this.options(e,t);i.H=!1;let r=this.cursor(i);return this.W(r,(s,o,a)=>a.delete())}J(e,t){let i;t?i=e:(i={},t=e);let r=this.cursor(i);return this.W(r,t)}Y(e){let t=this.cursor({});return new $((i,r)=>{t.onerror=s=>{let o=RD(s.target.error);r(o)},t.onsuccess=s=>{let o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():i()}):i()}})}W(e,t){let i=[];return new $((r,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{let a=o.target.result;if(!a)return void r();let l=new BE(a),c=t(a.primaryKey,a.value,l);if(c instanceof $){let d=c.catch(h=>(l.done(),$.reject(h)));i.push(d)}l.isDone?r():l.K===null?a.continue():a.continue(l.K)}}).next(()=>$.waitFor(i))}options(e,t){let i;return e!==void 0&&(typeof e=="string"?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){let i=this.store.index(e.index);return e.H?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}};function nc(n){return new $((e,t)=>{n.onsuccess=i=>{let r=i.target.result;e(r)},n.onerror=i=>{let r=RD(i.target.error);t(r)}})}var Uk=!1;function RD(n){let e=Ba.S(Gh());if(e>=12.2&&e<13){let t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){let i=new ee("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Uk||(Uk=!0,setTimeout(()=>{throw i},0)),i}}return n}var jE=class{constructor(e,t){this.asyncQueue=e,this.Z=t,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){te("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,()=>F(this,null,function*(){this.task=null;try{te("IndexBackfiller",`Documents written: ${yield this.Z.ee()}`)}catch(t){Qa(t)?te("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",t):yield Ka(t)}yield this.X(6e4)}))}},zE=class{constructor(e,t){this.localStore=e,this.persistence=t}ee(e=50){return F(this,null,function*(){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.te(t,e))})}te(e,t){let i=new Set,r=t,s=!0;return $.doWhile(()=>s===!0&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!i.has(o))return te("IndexBackfiller",`Processing collection: ${o}`),this.ne(e,o,r).next(a=>{r-=a,i.add(o)});s=!1})).next(()=>t-r)}ne(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(s=>{let o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.re(r,s)).next(a=>(te("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,t,a))).next(()=>o.size)}))}re(e,t){let i=e;return t.changes.forEach((r,s)=>{let o=$P(s);xD(o,i)>0&&(i=o)}),new Cr(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}};var Zi=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ie(r),this.se=r=>i.writeSequenceNumber(r))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function dp(n){return n==null}function Hf(n){return n===0&&1/n==-1/0}function qP(n){return typeof n=="number"&&Number.isInteger(n)&&!Hf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function wi(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=jk(e)),e=PG(n.get(t),e);return jk(e)}function PG(n,e){let t=e,i=n.length;for(let r=0;r<i;r++){let s=n.charAt(r);switch(s){case"\0":t+="";break;case"":t+="";break;default:t+=s}}return t}function jk(n){return n+""}function Os(n){let e=n.length;if(Te(e>=2),e===2)return Te(n.charAt(0)===""&&n.charAt(1)===""),ot.emptyPath();let t=e-2,i=[],r="";for(let s=0;s<e;){let o=n.indexOf("",s);switch((o<0||o>t)&&ye(),n.charAt(o+1)){case"":let a=n.substring(s,o),l;r.length===0?l=a:(r+=a,l=r,r=""),i.push(l);break;case"":r+=n.substring(s,o),r+="\0";break;case"":r+=n.substring(s,o+1);break;default:ye()}s=o+2}return new ot(i)}var zk=["userId","batchId"];function S_(n,e){return[n,wi(e)]}function WP(n,e,t){return[n,wi(e),t]}var FG={},LG=["prefixPath","collectionGroup","readTime","documentId"],VG=["prefixPath","collectionGroup","documentId"],BG=["collectionGroup","readTime","prefixPath","documentId"],UG=["canonicalId","targetId"],jG=["targetId","path"],zG=["path","targetId"],$G=["collectionId","parent"],HG=["indexId","uid"],GG=["uid","sequenceNumber"],qG=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],WG=["indexId","uid","orderedDocumentKey"],KG=["userId","collectionPath","documentId"],QG=["userId","collectionPath","largestBatchId"],ZG=["userId","collectionGroup","largestBatchId"],KP=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],YG=[...KP,"documentOverlays"],QP=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ZP=QP,YP=[...ZP,"indexConfiguration","indexState","indexEntries"],JG=YP;var Gf=class extends F_{constructor(e,t){super(),this._e=e,this.currentSequenceNumber=t}};function Nn(n,e){let t=pe(n);return Ba.F(t._e,e)}function $k(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function vc(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function JP(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Pt=class n{constructor(e,t){this.comparator=e,this.root=t||ks.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ks.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ks.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){let e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ud(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ud(this.root,e,this.comparator,!1)}getReverseIterator(){return new ud(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ud(this.root,e,this.comparator,!0)}},ud=class{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},ks=class n{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??n.RED,this.left=r??n.EMPTY,this.right=s??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new n(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this,s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):s===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return n.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ye();let e=this.left.check();if(e!==this.right.check())throw ye();return e+(this.isRed()?0:1)}};ks.EMPTY=null,ks.RED=!0,ks.BLACK=!1;ks.EMPTY=new class{constructor(){this.size=0}get key(){throw ye()}get value(){throw ye()}get color(){throw ye()}get left(){throw ye()}get right(){throw ye()}copy(e,t,i,r,s){return this}insert(e,t,i){return new ks(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var At=class n{constructor(e){this.comparator=e,this.data=new Pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new V_(this.data.getIterator())}getIteratorFrom(e){return new V_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){let r=t.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},V_=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};function td(n){return n.hasNext()?n.getNext():void 0}var Yi=class n{constructor(e){this.fields=e,e.sort(on.comparator)}static empty(){return new n([])}unionWith(e){let t=new At(on.comparator);for(let i of this.fields)t=t.add(i);for(let i of e)t=t.add(i);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return pd(this.fields,e.fields,(t,i)=>t.isEqual(i))}};var B_=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};function XP(){return typeof atob<"u"}var On=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new B_("Invalid base64 string: "+s):s}}(e);return new n(t)}static fromUint8Array(e){let t=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};On.EMPTY_BYTE_STRING=new On("");var XG=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ao(n){if(Te(!!n),typeof n=="string"){let e=0,t=XG.exec(n);if(Te(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Jt(n.seconds),nanos:Jt(n.nanos)}}function Jt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ua(n){return typeof n=="string"?On.fromBase64String(n):On.fromUint8Array(n)}function Ay(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function OD(n){let e=n.mapValue.fields.__previous_value__;return Ay(e)?OD(e):e}function qf(n){let e=Ao(n.mapValue.fields.__local_write_time__.timestampValue);return new Kt(e.seconds,e.nanos)}var $E=class{constructor(e,t,i,r,s,o,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}},ja=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var Fa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},M_={nullValue:"NULL_VALUE"};function lc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ay(n)?4:e2(n)?9007199254740991:10:ye()}function Ls(n,e){if(n===e)return!0;let t=lc(n);if(t!==lc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return qf(n).isEqual(qf(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;let o=Ao(r.timestampValue),a=Ao(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(r,s){return Ua(r.bytesValue).isEqual(Ua(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,s){return Jt(r.geoPointValue.latitude)===Jt(s.geoPointValue.latitude)&&Jt(r.geoPointValue.longitude)===Jt(s.geoPointValue.longitude)}(n,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Jt(r.integerValue)===Jt(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){let o=Jt(r.doubleValue),a=Jt(s.doubleValue);return o===a?Hf(o)===Hf(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return pd(n.arrayValue.values||[],e.arrayValue.values||[],Ls);case 10:return function(r,s){let o=r.mapValue.fields||{},a=s.mapValue.fields||{};if($k(o)!==$k(a))return!1;for(let l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Ls(o[l],a[l])))return!1;return!0}(n,e);default:return ye()}}function Wf(n,e){return(n.values||[]).find(t=>Ls(t,e))!==void 0}function za(n,e){if(n===e)return 0;let t=lc(n),i=lc(e);if(t!==i)return je(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return je(n.booleanValue,e.booleanValue);case 2:return function(s,o){let a=Jt(s.integerValue||s.doubleValue),l=Jt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return Hk(n.timestampValue,e.timestampValue);case 4:return Hk(qf(n),qf(e));case 5:return je(n.stringValue,e.stringValue);case 6:return function(s,o){let a=Ua(s),l=Ua(o);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){let d=je(a[c],l[c]);if(d!==0)return d}return je(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){let a=je(Jt(s.latitude),Jt(o.latitude));return a!==0?a:je(Jt(s.longitude),Jt(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(s,o){let a=s.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){let d=za(a[c],l[c]);if(d)return d}return je(a.length,l.length)}(n.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Fa.mapValue&&o===Fa.mapValue)return 0;if(s===Fa.mapValue)return 1;if(o===Fa.mapValue)return-1;let a=s.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){let m=je(l[h],d[h]);if(m!==0)return m;let v=za(a[l[h]],c[d[h]]);if(v!==0)return v}return je(l.length,d.length)}(n.mapValue,e.mapValue);default:throw ye()}}function Hk(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return je(n,e);let t=Ao(n),i=Ao(e),r=je(t.seconds,i.seconds);return r!==0?r:je(t.nanos,i.nanos)}function md(n){return HE(n)}function HE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let i=Ao(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ua(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return fe.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",r=!0;for(let s of t.values||[])r?r=!1:i+=",",i+=HE(s);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){let i=Object.keys(t.fields||{}).sort(),r="{",s=!0;for(let o of i)s?s=!1:r+=",",r+=`${o}:${HE(t.fields[o])}`;return r+"}"}(n.mapValue):ye()}function cc(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function GE(n){return!!n&&"integerValue"in n}function Kf(n){return!!n&&"arrayValue"in n}function Gk(n){return!!n&&"nullValue"in n}function qk(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function A_(n){return!!n&&"mapValue"in n}function Vf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return vc(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Vf(i)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Vf(n.arrayValue.values[t]);return e}return Object.assign({},n)}function e2(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function e7(n){return"nullValue"in n?M_:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?cc(ja.empty(),fe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ye()}function t7(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?cc(ja.empty(),fe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Fa:ye()}function Wk(n,e){let t=za(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function Kk(n,e){let t=za(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}var oi=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!A_(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vf(t)}setAll(e){let t=on.emptyPath(),i={},r=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){let l=this.getFieldsMap(t);this.applyChanges(l,i,r),i={},r=[],t=a.popLast()}o?i[a.lastSegment()]=Vf(o):r.push(a.lastSegment())});let s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){let t=this.field(e.popLast());A_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ls(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];A_(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){vc(t,(r,s)=>e[r]=s);for(let r of i)delete e[r]}clone(){return new n(Vf(this.value))}};function t2(n){let e=[];return vc(n.fields,(t,i)=>{let r=new on([t]);if(A_(i)){let s=t2(i.mapValue).fields;if(s.length===0)e.push(r);else for(let o of s)e.push(r.child(o))}else e.push(r)}),new Yi(e)}var vn=class n{constructor(e,t,i,r,s,o,a){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new n(e,0,Me.min(),Me.min(),Me.min(),oi.empty(),0)}static newFoundDocument(e,t,i,r){return new n(e,1,t,Me.min(),i,r,0)}static newNoDocument(e,t){return new n(e,2,t,Me.min(),Me.min(),oi.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,Me.min(),Me.min(),oi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=oi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=oi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Vs=class{constructor(e,t){this.position=e,this.inclusive=t}};function Qk(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){let s=e[r],o=n.position[r];if(s.field.isKeyField()?i=fe.comparator(fe.fromName(o.referenceValue),t.key):i=za(o,t.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function Zk(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ls(n.position[t],e.position[t]))return!1;return!0}var uc=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function n7(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var U_=class{},et=class n extends U_{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new KE(e,t,i):t==="array-contains"?new YE(e,i):t==="in"?new j_(e,i):t==="not-in"?new JE(e,i):t==="array-contains-any"?new XE(e,i):new n(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new QE(e,i):new ZE(e,i)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(za(t,this.value)):t!==null&&lc(this.value)===lc(t)&&this.matchesComparison(za(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},bt=class n extends U_{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return _d(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function _d(n){return n.op==="and"}function qE(n){return n.op==="or"}function ND(n){return n2(n)&&_d(n)}function n2(n){for(let e of n.filters)if(e instanceof bt)return!1;return!0}function WE(n){if(n instanceof et)return n.field.canonicalString()+n.op.toString()+md(n.value);if(ND(n))return n.filters.map(e=>WE(e)).join(",");{let e=n.filters.map(t=>WE(t)).join(",");return`${n.op}(${e})`}}function i2(n,e){return n instanceof et?function(i,r){return r instanceof et&&i.op===r.op&&i.field.isEqual(r.field)&&Ls(i.value,r.value)}(n,e):n instanceof bt?function(i,r){return r instanceof bt&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,a)=>s&&i2(o,r.filters[a]),!0):!1}(n,e):void ye()}function r2(n,e){let t=n.filters.concat(e);return bt.create(t,n.op)}function s2(n){return n instanceof et?function(t){return`${t.field.canonicalString()} ${t.op} ${md(t.value)}`}(n):n instanceof bt?function(t){return t.op.toString()+" {"+t.getFilters().map(s2).join(" ,")+"}"}(n):"Filter"}var KE=class extends et{constructor(e,t,i){super(e,t,i),this.key=fe.fromName(i.referenceValue)}matches(e){let t=fe.comparator(e.key,this.key);return this.matchesComparison(t)}},QE=class extends et{constructor(e,t){super(e,"in",t),this.keys=o2("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},ZE=class extends et{constructor(e,t){super(e,"not-in",t),this.keys=o2("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function o2(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>fe.fromName(i.referenceValue))}var YE=class extends et{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return Kf(t)&&Wf(t.arrayValue,this.value)}},j_=class extends et{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Wf(this.value.arrayValue,t)}},JE=class extends et{constructor(e,t){super(e,"not-in",t)}matches(e){if(Wf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!Wf(this.value.arrayValue,t)}},XE=class extends et{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!Kf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Wf(this.value.arrayValue,i))}};var eI=class{constructor(e,t=null,i=[],r=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function tI(n,e=null,t=[],i=[],r=null,s=null,o=null){return new eI(n,e,t,i,r,s,o)}function dc(n){let e=pe(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>WE(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),dp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>md(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>md(i)).join(",")),e.ue=t}return e.ue}function hp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!n7(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!i2(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Zk(n.startAt,e.startAt)&&Zk(n.endAt,e.endAt)}function z_(n){return fe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function $_(n,e){return n.filters.filter(t=>t instanceof et&&t.field.isEqual(e))}function Yk(n,e,t){let i=M_,r=!0;for(let s of $_(n,e)){let o=M_,a=!0;switch(s.op){case"<":case"<=":o=e7(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=M_}Wk({value:i,inclusive:r},{value:o,inclusive:a})<0&&(i=o,r=a)}if(t!==null){for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){let o=t.position[s];Wk({value:i,inclusive:r},{value:o,inclusive:t.inclusive})<0&&(i=o,r=t.inclusive);break}}return{value:i,inclusive:r}}function Jk(n,e,t){let i=Fa,r=!0;for(let s of $_(n,e)){let o=Fa,a=!0;switch(s.op){case">=":case">":o=t7(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=Fa}Kk({value:i,inclusive:r},{value:o,inclusive:a})>0&&(i=o,r=a)}if(t!==null){for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){let o=t.position[s];Kk({value:i,inclusive:r},{value:o,inclusive:t.inclusive})>0&&(i=o,r=t.inclusive);break}}return{value:i,inclusive:r}}var Yr=class{constructor(e,t=null,i=[],r=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function a2(n,e,t,i,r,s,o,a){return new Yr(n,e,t,i,r,s,o,a)}function Od(n){return new Yr(n)}function Xk(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function kD(n){return n.collectionGroup!==null}function hd(n){let e=pe(n);if(e.ce===null){e.ce=[];let t=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),t.add(s.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new At(on.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.ce.push(new uc(s,i))}),t.has(on.keyField().canonicalString())||e.ce.push(new uc(on.keyField(),i))}return e.ce}function bi(n){let e=pe(n);return e.le||(e.le=i7(e,hd(n))),e.le}function i7(n,e){if(n.limitType==="F")return tI(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(r=>{let s=r.dir==="desc"?"asc":"desc";return new uc(r.field,s)});let t=n.endAt?new Vs(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Vs(n.startAt.position,n.startAt.inclusive):null;return tI(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function nI(n,e){let t=n.filters.concat([e]);return new Yr(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function H_(n,e,t){return new Yr(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function fp(n,e){return hp(bi(n),bi(e))&&n.limitType===e.limitType}function l2(n){return`${dc(bi(n))}|lt:${n.limitType}`}function od(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(r=>s2(r)).join(", ")}]`),dp(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>md(r)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>md(r)).join(",")),`Target(${i})`}(bi(n))}; limitType=${n.limitType})`}function pp(n,e){return e.isFoundDocument()&&function(i,r){let s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):fe.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(n,e)&&function(i,r){for(let s of hd(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(n,e)&&function(i,r){for(let s of i.filters)if(!s.matches(r))return!1;return!0}(n,e)&&function(i,r){return!(i.startAt&&!function(o,a,l){let c=Qk(o,a,l);return o.inclusive?c<=0:c<0}(i.startAt,hd(i),r)||i.endAt&&!function(o,a,l){let c=Qk(o,a,l);return o.inclusive?c>=0:c>0}(i.endAt,hd(i),r))}(n,e)}function c2(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function u2(n){return(e,t)=>{let i=!1;for(let r of hd(n)){let s=r7(r,e,t);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function r7(n,e,t){let i=n.field.isKeyField()?fe.comparator(e.key,t.key):function(s,o,a){let l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?za(l,c):ye()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ye()}}var Bs=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(let[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){let i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){vc(this.inner,(t,i)=>{for(let[r,s]of i)e(r,s)})}isEmpty(){return JP(this.inner)}size(){return this.innerSize}};var s7=new Pt(fe.comparator);function Ni(){return s7}var d2=new Pt(fe.comparator);function Ff(...n){let e=d2;for(let t of n)e=e.insert(t.key,t);return e}function h2(n){let e=d2;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Ns(){return Bf()}function f2(){return Bf()}function Bf(){return new Bs(n=>n.toString(),(n,e)=>n.isEqual(e))}var o7=new Pt(fe.comparator),a7=new At(fe.comparator);function He(...n){let e=a7;for(let t of n)e=e.add(t);return e}var l7=new At(je);function PD(){return l7}function p2(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hf(e)?"-0":e}}function g2(n){return{integerValue:""+n}}function m2(n,e){return qP(e)?g2(e):p2(n,e)}var yd=class{constructor(){this._=void 0}};function c7(n,e,t){return n instanceof $a?function(r,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&Ay(s)&&(s=OD(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,e):n instanceof xo?y2(n,e):n instanceof Ro?v2(n,e):function(r,s){let o=_2(r,s),a=eP(o)+eP(r.Pe);return GE(o)&&GE(r.Pe)?g2(a):p2(r.serializer,a)}(n,e)}function u7(n,e,t){return n instanceof xo?y2(n,e):n instanceof Ro?v2(n,e):t}function _2(n,e){return n instanceof Ha?function(i){return GE(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}var $a=class extends yd{},xo=class extends yd{constructor(e){super(),this.elements=e}};function y2(n,e){let t=w2(e);for(let i of n.elements)t.some(r=>Ls(r,i))||t.push(i);return{arrayValue:{values:t}}}var Ro=class extends yd{constructor(e){super(),this.elements=e}};function v2(n,e){let t=w2(e);for(let i of n.elements)t=t.filter(r=>!Ls(r,i));return{arrayValue:{values:t}}}var Ha=class extends yd{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function eP(n){return Jt(n.integerValue||n.doubleValue)}function w2(n){return Kf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}var hc=class{constructor(e,t){this.field=e,this.transform=t}};function d7(n,e){return n.field.isEqual(e.field)&&function(i,r){return i instanceof xo&&r instanceof xo||i instanceof Ro&&r instanceof Ro?pd(i.elements,r.elements,Ls):i instanceof Ha&&r instanceof Ha?Ls(i.Pe,r.Pe):i instanceof $a&&r instanceof $a}(n.transform,e.transform)}var iI=class{constructor(e,t){this.version=e,this.transformResults=t}},Xt=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function x_(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var vd=class{};function b2(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new qa(n.key,Xt.none()):new Ga(n.key,n.data,Xt.none());{let t=n.data,i=oi.empty(),r=new At(on.comparator);for(let s of e.fields)if(!r.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new Jr(n.key,i,new Yi(r.toArray()),Xt.none())}}function h7(n,e,t){n instanceof Ga?function(r,s,o){let a=r.value.clone(),l=nP(r.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Jr?function(r,s,o){if(!x_(r.precondition,s))return void s.convertToUnknownDocument(o.version);let a=nP(r.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(C2(r)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,e,t):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function Uf(n,e,t,i){return n instanceof Ga?function(s,o,a,l){if(!x_(s.precondition,o))return a;let c=s.value.clone(),d=iP(s.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(n,e,t,i):n instanceof Jr?function(s,o,a,l){if(!x_(s.precondition,o))return a;let c=iP(s.fieldTransforms,l,o),d=o.data;return d.setAll(C2(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(n,e,t,i):function(s,o,a){return x_(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(n,e,t)}function f7(n,e){let t=null;for(let i of n.fieldTransforms){let r=e.data.field(i.field),s=_2(i.transform,r||null);s!=null&&(t===null&&(t=oi.empty()),t.set(i.field,s))}return t||null}function tP(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&pd(i,r,(s,o)=>d7(s,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Ga=class extends vd{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},Jr=class extends vd{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function C2(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let i=n.data.field(t);e.set(t,i)}}),e}function nP(n,e,t){let i=new Map;Te(n.length===t.length);for(let r=0;r<t.length;r++){let s=n[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,u7(o,a,t[r]))}return i}function iP(n,e,t){let i=new Map;for(let r of n){let s=r.transform,o=t.data.field(r.field);i.set(r.field,c7(s,o,e))}return i}var qa=class extends vd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Qf=class extends vd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Zf=class{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){let i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){let s=this.mutations[r];s.key.isEqual(e.key)&&h7(s,e,i[r])}}applyToLocalView(e,t){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(t=Uf(i,e,t,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(t=Uf(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let i=f2();return this.mutations.forEach(r=>{let s=e.get(r.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=t.has(r.key)?null:a;let l=b2(o,a);l!==null&&i.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(Me.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),He())}isEqual(e){return this.batchId===e.batchId&&pd(this.mutations,e.mutations,(t,i)=>tP(t,i))&&pd(this.baseMutations,e.baseMutations,(t,i)=>tP(t,i))}},rI=class n{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Te(e.mutations.length===i.length);let r=function(){return o7}(),s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new n(e,t,i,r)}};var Yf=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var sI=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var gn,st;function E2(n){switch(n){default:return ye();case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0}}function I2(n){if(n===void 0)return sn("GRPC error has no .code"),q.UNKNOWN;switch(n){case gn.OK:return q.OK;case gn.CANCELLED:return q.CANCELLED;case gn.UNKNOWN:return q.UNKNOWN;case gn.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case gn.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case gn.INTERNAL:return q.INTERNAL;case gn.UNAVAILABLE:return q.UNAVAILABLE;case gn.UNAUTHENTICATED:return q.UNAUTHENTICATED;case gn.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case gn.NOT_FOUND:return q.NOT_FOUND;case gn.ALREADY_EXISTS:return q.ALREADY_EXISTS;case gn.PERMISSION_DENIED:return q.PERMISSION_DENIED;case gn.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case gn.ABORTED:return q.ABORTED;case gn.OUT_OF_RANGE:return q.OUT_OF_RANGE;case gn.UNIMPLEMENTED:return q.UNIMPLEMENTED;case gn.DATA_LOSS:return q.DATA_LOSS;default:return ye()}}(st=gn||(gn={}))[st.OK=0]="OK",st[st.CANCELLED=1]="CANCELLED",st[st.UNKNOWN=2]="UNKNOWN",st[st.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",st[st.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",st[st.NOT_FOUND=5]="NOT_FOUND",st[st.ALREADY_EXISTS=6]="ALREADY_EXISTS",st[st.PERMISSION_DENIED=7]="PERMISSION_DENIED",st[st.UNAUTHENTICATED=16]="UNAUTHENTICATED",st[st.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",st[st.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",st[st.ABORTED=10]="ABORTED",st[st.OUT_OF_RANGE=11]="OUT_OF_RANGE",st[st.UNIMPLEMENTED=12]="UNIMPLEMENTED",st[st.INTERNAL=13]="INTERNAL",st[st.UNAVAILABLE=14]="UNAVAILABLE",st[st.DATA_LOSS=15]="DATA_LOSS";var rP=null;function D2(){return new TextEncoder}var p7=new Ra([4294967295,4294967295],0);function sP(n){let e=D2().encode(n),t=new wE;return t.update(e),new Uint8Array(t.digest())}function oP(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ra([t,i],0),new Ra([r,s],0)]}var oI=class n{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new oc(`Invalid padding: ${t}`);if(i<0)throw new oc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new oc(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new oc(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Ra.fromNumber(this.Ie)}Ee(e,t,i){let r=e.add(t.multiply(Ra.fromNumber(i)));return r.compare(p7)===1&&(r=new Ra([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=sP(e),[i,r]=oP(t);for(let s=0;s<this.hashCount;s++){let o=this.Ee(i,r,s);if(!this.de(o))return!1}return!0}static create(e,t,i){let r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new n(s,r,t);return i.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let t=sP(e),[i,r]=oP(t);for(let s=0;s<this.hashCount;s++){let o=this.Ee(i,r,s);this.Ae(o)}}Ae(e){let t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}},oc=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Jf=class n{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,i){let r=new Map;return r.set(e,Xf.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new n(Me.min(),r,new Pt(je),Ni(),He())}},Xf=class n{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new n(i,t,He(),He(),He())}};var fd=class{constructor(e,t,i,r){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=r}},G_=class{constructor(e,t){this.targetId=e,this.me=t}},q_=class{constructor(e,t,i=On.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}},W_=class{constructor(){this.fe=0,this.ge=lP(),this.pe=On.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=He(),t=He(),i=He();return this.ge.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:ye()}}),new Xf(this.pe,this.ye,e,t,i)}ve(){this.we=!1,this.ge=lP()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Te(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},aI=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ni(),this.qe=aP(),this.Qe=new Pt(je)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let i=this.Ge(t);switch(e.state){case 0:this.ze(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.ve(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),i.De(e.resumeToken));break;default:ye()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,r)=>{this.ze(r)&&t(r)})}He(e){let t=e.targetId,i=e.me.count,r=this.Je(t);if(r){let s=r.target;if(z_(s))if(i===0){let o=new fe(s.path);this.Ue(t,o,vn.newNoDocument(o,Me.min()))}else Te(i===1);else{let o=this.Ye(t);if(o!==i){let a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(t);let c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,c)}rP?.et(function(d,h,m,v,C){var A,S,j,Z,W,Y;let ge={localCacheCount:d,existenceFilterCount:h.count,databaseId:m.database,projectId:m.projectId},ae=h.unchangedNames;return ae&&(ge.bloomFilter={applied:C===0,hashCount:(A=ae?.hashCount)!==null&&A!==void 0?A:0,bitmapLength:(Z=(j=(S=ae?.bits)===null||S===void 0?void 0:S.bitmap)===null||j===void 0?void 0:j.length)!==null&&Z!==void 0?Z:0,padding:(Y=(W=ae?.bits)===null||W===void 0?void 0:W.padding)!==null&&Y!==void 0?Y:0,mightContain:R=>{var D;return(D=v?.mightContain(R))!==null&&D!==void 0&&D}}),ge}(o,e.me,this.Le.tt(),a,l))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=t,o,a;try{o=Ua(i).toUint8Array()}catch(l){if(l instanceof B_)return br("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new oI(o,r,s)}catch(l){return br(l instanceof oc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,t,i){return t.me.count===i-this.nt(e,t.targetId)?0:2}nt(e,t){let i=this.Le.getRemoteKeysForTarget(t),r=0;return i.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,s,null),r++)}),r}rt(e){let t=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&z_(a.target)){let l=new fe(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,vn.newNoDocument(l,e))}s.be&&(t.set(o,s.Ce()),s.ve())}});let i=He();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{let c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let r=new Jf(e,t,this.Qe,this.ke,i);return this.ke=Ni(),this.qe=aP(),this.Qe=new Pt(je),r}$e(e,t){if(!this.ze(e))return;let i=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,i){if(!this.ze(e))return;let r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new W_,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new At(je),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||te("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new W_),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function aP(){return new Pt(fe.comparator)}function lP(){return new Pt(fe.comparator)}var g7={asc:"ASCENDING",desc:"DESCENDING"},m7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_7={and:"AND",or:"OR"},lI=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function cI(n,e){return n.useProto3Json||dp(e)?e:{value:e}}function wd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function T2(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function y7(n,e){return wd(n,e.toTimestamp())}function an(n){return Te(!!n),Me.fromTimestamp(function(t){let i=Ao(t);return new Kt(i.seconds,i.nanos)}(n))}function FD(n,e){return uI(n,e).canonicalString()}function uI(n,e){let t=function(r){return new ot(["projects",r.projectId,"databases",r.database])}(n).child("documents");return e===void 0?t:t.child(e)}function S2(n){let e=ot.fromString(n);return Te(L2(e)),e}function ep(n,e){return FD(n.databaseId,e.path)}function Ps(n,e){let t=S2(e);if(t.get(1)!==n.databaseId.projectId)throw new ee(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ee(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new fe(x2(t))}function M2(n,e){return FD(n.databaseId,e)}function A2(n){let e=S2(n);return e.length===4?ot.emptyPath():x2(e)}function dI(n){return new ot(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function x2(n){return Te(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function cP(n,e,t){return{name:ep(n,e),fields:t.value.mapValue.fields}}function R2(n,e,t){let i=Ps(n,e.name),r=an(e.updateTime),s=e.createTime?an(e.createTime):Me.min(),o=new oi({mapValue:{fields:e.fields}}),a=vn.newFoundDocument(i,r,s,o);return t&&a.setHasCommittedMutations(),t?a.setHasCommittedMutations():a}function v7(n,e){return"found"in e?function(i,r){Te(!!r.found),r.found.name,r.found.updateTime;let s=Ps(i,r.found.name),o=an(r.found.updateTime),a=r.found.createTime?an(r.found.createTime):Me.min(),l=new oi({mapValue:{fields:r.found.fields}});return vn.newFoundDocument(s,o,a,l)}(n,e):"missing"in e?function(i,r){Te(!!r.missing),Te(!!r.readTime);let s=Ps(i,r.missing),o=an(r.readTime);return vn.newNoDocument(s,o)}(n,e):ye()}function w7(n,e){let t;if("targetChange"in e){e.targetChange;let i=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ye()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(Te(d===void 0||typeof d=="string"),On.fromBase64String(d||"")):(Te(d===void 0||d instanceof Buffer||d instanceof Uint8Array),On.fromUint8Array(d||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){let d=c.code===void 0?q.UNKNOWN:I2(c.code);return new ee(d,c.message||"")}(o);t=new q_(i,r,s,a||null)}else if("documentChange"in e){e.documentChange;let i=e.documentChange;i.document,i.document.name,i.document.updateTime;let r=Ps(n,i.document.name),s=an(i.document.updateTime),o=i.document.createTime?an(i.document.createTime):Me.min(),a=new oi({mapValue:{fields:i.document.fields}}),l=vn.newFoundDocument(r,s,o,a),c=i.targetIds||[],d=i.removedTargetIds||[];t=new fd(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;let i=e.documentDelete;i.document;let r=Ps(n,i.document),s=i.readTime?an(i.readTime):Me.min(),o=vn.newNoDocument(r,s),a=i.removedTargetIds||[];t=new fd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let i=e.documentRemove;i.document;let r=Ps(n,i.document),s=i.removedTargetIds||[];t=new fd([],s,r,null)}else{if(!("filter"in e))return ye();{e.filter;let i=e.filter;i.targetId;let{count:r=0,unchangedNames:s}=i,o=new sI(r,s),a=i.targetId;t=new G_(a,o)}}return t}function tp(n,e){let t;if(e instanceof Ga)t={update:cP(n,e.key,e.value)};else if(e instanceof qa)t={delete:ep(n,e.key)};else if(e instanceof Jr)t={update:cP(n,e.key,e.data),updateMask:T7(e.fieldMask)};else{if(!(e instanceof Qf))return ye();t={verify:ep(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(s,o){let a=o.transform;if(a instanceof $a)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof xo)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ro)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ha)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ye()}(0,i))),e.precondition.isNone||(t.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:y7(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ye()}(n,e.precondition)),t}function hI(n,e){let t=e.currentDocument?function(s){return s.updateTime!==void 0?Xt.updateTime(an(s.updateTime)):s.exists!==void 0?Xt.exists(s.exists):Xt.none()}(e.currentDocument):Xt.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(o,a){let l=null;if("setToServerValue"in a)Te(a.setToServerValue==="REQUEST_TIME"),l=new $a;else if("appendMissingElements"in a){let d=a.appendMissingElements.values||[];l=new xo(d)}else if("removeAllFromArray"in a){let d=a.removeAllFromArray.values||[];l=new Ro(d)}else"increment"in a?l=new Ha(o,a.increment):ye();let c=on.fromServerFormat(a.fieldPath);return new hc(c,l)}(n,r)):[];if(e.update){e.update.name;let r=Ps(n,e.update.name),s=new oi({mapValue:{fields:e.update.fields}});if(e.updateMask){let o=function(l){let c=l.fieldPaths||[];return new Yi(c.map(d=>on.fromServerFormat(d)))}(e.updateMask);return new Jr(r,s,o,t,i)}return new Ga(r,s,t,i)}if(e.delete){let r=Ps(n,e.delete);return new qa(r,t)}if(e.verify){let r=Ps(n,e.verify);return new Qf(r,t)}return ye()}function b7(n,e){return n&&n.length>0?(Te(e!==void 0),n.map(t=>function(r,s){let o=r.updateTime?an(r.updateTime):an(s);return o.isEqual(Me.min())&&(o=an(s)),new iI(o,r.transformResults||[])}(t,e))):[]}function O2(n,e){return{documents:[M2(n,e.path)]}}function N2(n,e){let t={structuredQuery:{}},i=e.path,r;e.collectionGroup!==null?(r=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=M2(n,r);let s=function(c){if(c.length!==0)return F2(bt.create(c,"and"))}(e.filters);s&&(t.structuredQuery.where=s);let o=function(c){if(c.length!==0)return c.map(d=>function(m){return{field:ad(m.field),direction:E7(m.dir)}}(d))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);let a=cI(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:t,parent:r}}function k2(n){let e=A2(n.parent),t=n.structuredQuery,i=t.from?t.from.length:0,r=null;if(i>0){Te(i===1);let d=t.from[0];d.allDescendants?r=d.collectionId:e=e.child(d.collectionId)}let s=[];t.where&&(s=function(h){let m=P2(h);return m instanceof bt&&ND(m)?m.getFilters():[m]}(t.where));let o=[];t.orderBy&&(o=function(h){return h.map(m=>function(C){return new uc(ld(C.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(m))}(t.orderBy));let a=null;t.limit&&(a=function(h){let m;return m=typeof h=="object"?h.value:h,dp(m)?null:m}(t.limit));let l=null;t.startAt&&(l=function(h){let m=!!h.before,v=h.values||[];return new Vs(v,m)}(t.startAt));let c=null;return t.endAt&&(c=function(h){let m=!h.before,v=h.values||[];return new Vs(v,m)}(t.endAt)),a2(e,r,o,s,a,"F",l,c)}function C7(n,e){let t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function P2(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let i=ld(t.unaryFilter.field);return et.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=ld(t.unaryFilter.field);return et.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=ld(t.unaryFilter.field);return et.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=ld(t.unaryFilter.field);return et.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ye()}}(n):n.fieldFilter!==void 0?function(t){return et.create(ld(t.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ye()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return bt.create(t.compositeFilter.filters.map(i=>P2(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return ye()}}(t.compositeFilter.op))}(n):ye()}function E7(n){return g7[n]}function I7(n){return m7[n]}function D7(n){return _7[n]}function ad(n){return{fieldPath:n.canonicalString()}}function ld(n){return on.fromServerFormat(n.fieldPath)}function F2(n){return n instanceof et?function(t){if(t.op==="=="){if(qk(t.value))return{unaryFilter:{field:ad(t.field),op:"IS_NAN"}};if(Gk(t.value))return{unaryFilter:{field:ad(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(qk(t.value))return{unaryFilter:{field:ad(t.field),op:"IS_NOT_NAN"}};if(Gk(t.value))return{unaryFilter:{field:ad(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ad(t.field),op:I7(t.op),value:t.value}}}(n):n instanceof bt?function(t){let i=t.getFilters().map(r=>F2(r));return i.length===1?i[0]:{compositeFilter:{op:D7(t.op),filters:i}}}(n):ye()}function T7(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function L2(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var bd=class n{constructor(e,t,i,r,s=Me.min(),o=Me.min(),a=On.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var K_=class{constructor(e){this.ct=e}};function S7(n,e){let t;if(e.document)t=R2(n.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){let i=fe.fromSegments(e.noDocument.path),r=pc(e.noDocument.readTime);t=vn.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ye();{let i=fe.fromSegments(e.unknownDocument.path),r=pc(e.unknownDocument.version);t=vn.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(r){let s=new Kt(r[0],r[1]);return Me.fromTimestamp(s)}(e.readTime)),t}function uP(n,e){let t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Q_(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document=function(s,o){return{name:ep(s,o.key),fields:o.data.value.mapValue.fields,updateTime:wd(s,o.version.toTimestamp()),createTime:wd(s,o.createTime.toTimestamp())}}(n.ct,e);else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:fc(e.version)};else{if(!e.isUnknownDocument())return ye();i.unknownDocument={path:t.path.toArray(),version:fc(e.version)}}return i}function Q_(n){let e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function fc(n){let e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function pc(n){let e=new Kt(n.seconds,n.nanoseconds);return Me.fromTimestamp(e)}function ic(n,e){let t=(e.baseMutations||[]).map(s=>hI(n.ct,s));for(let s=0;s<e.mutations.length-1;++s){let o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){let a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}let i=e.mutations.map(s=>hI(n.ct,s)),r=Kt.fromMillis(e.localWriteTimeMs);return new Zf(e.batchId,r,t,i)}function Lf(n){let e=pc(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?pc(n.lastLimboFreeSnapshotVersion):Me.min(),i;return i=function(s){return s.documents!==void 0}(n.query)?function(s){return Te(s.documents.length===1),bi(Od(A2(s.documents[0])))}(n.query):function(s){return bi(k2(s))}(n.query),new bd(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,On.fromBase64String(n.resumeToken))}function V2(n,e){let t=fc(e.snapshotVersion),i=fc(e.lastLimboFreeSnapshotVersion),r;r=z_(e.target)?O2(n.ct,e.target):N2(n.ct,e.target)._t;let s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:dc(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function LD(n){let e=k2({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?H_(e,e.limit,"L"):e}function SE(n,e){return new Yf(e.largestBatchId,hI(n.ct,e.overlayMutation))}function dP(n,e){let t=e.path.lastSegment();return[n,wi(e.path.popLast()),t]}function hP(n,e,t,i){return{indexId:n,uid:e,sequenceNumber:t,readTime:fc(i.readTime),documentKey:wi(i.documentKey.path),largestBatchId:i.largestBatchId}}var fI=class{getBundleMetadata(e,t){return fP(e).get(t).next(i=>{if(i)return function(s){return{id:s.bundleId,createTime:pc(s.createTime),version:s.version}}(i)})}saveBundleMetadata(e,t){return fP(e).put(function(r){return{bundleId:r.id,createTime:fc(an(r.createTime)),version:r.version}}(t))}getNamedQuery(e,t){return pP(e).get(t).next(i=>{if(i)return function(s){return{name:s.name,query:LD(s.bundledQuery),readTime:pc(s.readTime)}}(i)})}saveNamedQuery(e,t){return pP(e).put(function(r){return{name:r.name,readTime:fc(an(r.readTime)),bundledQuery:r.bundledQuery}}(t))}};function fP(n){return Nn(n,"bundles")}function pP(n){return Nn(n,"namedQueries")}var Z_=class n{constructor(e,t){this.serializer=e,this.userId=t}static lt(e,t){let i=t.uid||"";return new n(e,i)}getOverlay(e,t){return Of(e).get(dP(this.userId,t)).next(i=>i?SE(this.serializer,i):null)}getOverlays(e,t){let i=Ns();return $.forEach(t,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){let r=[];return i.forEach((s,o)=>{let a=new Yf(t,o);r.push(this.ht(e,a))}),$.waitFor(r)}removeOverlaysForBatchId(e,t,i){let r=new Set;t.forEach(o=>r.add(wi(o.getCollectionPath())));let s=[];return r.forEach(o=>{let a=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,i+1],!1,!0);s.push(Of(e).j("collectionPathOverlayIndex",a))}),$.waitFor(s)}getOverlaysForCollection(e,t,i){let r=Ns(),s=wi(t),o=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Of(e).U("collectionPathOverlayIndex",o).next(a=>{for(let l of a){let c=SE(this.serializer,l);r.set(c.getKey(),c)}return r})}getOverlaysForCollectionGroup(e,t,i,r){let s=Ns(),o,a=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Of(e).J({index:"collectionGroupOverlayIndex",range:a},(l,c,d)=>{let h=SE(this.serializer,c);s.size()<r||h.largestBatchId===o?(s.set(h.getKey(),h),o=h.largestBatchId):d.done()}).next(()=>s)}ht(e,t){return Of(e).put(function(r,s,o){let[a,l,c]=dP(s,o.mutation.key);return{userId:s,collectionPath:l,documentId:c,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:tp(r.ct,o.mutation)}}(this.serializer,this.userId,t))}};function Of(n){return Nn(n,"documentOverlays")}var So=class{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(Jt(e.integerValue));else if("doubleValue"in e){let i=Jt(e.doubleValue);isNaN(i)?this.Et(t,13):(this.Et(t,15),Hf(i)?t.dt(0):t.dt(i))}else if("timestampValue"in e){let i=e.timestampValue;this.Et(t,20),typeof i=="string"&&(i=Ao(i)),t.At(`${i.seconds||""}`),t.dt(i.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(Ua(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){let i=e.geoPointValue;this.Et(t,45),t.dt(i.latitude||0),t.dt(i.longitude||0)}else"mapValue"in e?e2(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):ye()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){let i=e.fields||{};this.Et(t,55);for(let r of Object.keys(i))this.Rt(r,t),this.It(i[r],t)}wt(e,t){let i=e.values||[];this.Et(t,50);for(let r of i)this.It(r,t)}gt(e,t){this.Et(t,37),fe.fromName(e).path.forEach(i=>{this.Et(t,60),this.St(i,t)})}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}};So.bt=new So;function M7(n){if(n===0)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function gP(n){let e=64-function(i){let r=0;for(let s=0;s<8;++s){let o=M7(255&i[s]);if(r+=o,o!==8)break}return r}(n);return Math.ceil(e/8)}var pI=class{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){let t=e[Symbol.iterator](),i=t.next();for(;!i.done;)this.Ct(i.value),i=t.next();this.vt()}Ft(e){let t=e[Symbol.iterator](),i=t.next();for(;!i.done;)this.Mt(i.value),i=t.next();this.xt()}Ot(e){for(let t of e){let i=t.charCodeAt(0);if(i<128)this.Ct(i);else if(i<2048)this.Ct(960|i>>>6),this.Ct(128|63&i);else if(t<"\uD800"||"\uDBFF"<t)this.Ct(480|i>>>12),this.Ct(128|63&i>>>6),this.Ct(128|63&i);else{let r=t.codePointAt(0);this.Ct(240|r>>>18),this.Ct(128|63&r>>>12),this.Ct(128|63&r>>>6),this.Ct(128|63&r)}}this.vt()}Nt(e){for(let t of e){let i=t.charCodeAt(0);if(i<128)this.Mt(i);else if(i<2048)this.Mt(960|i>>>6),this.Mt(128|63&i);else if(t<"\uD800"||"\uDBFF"<t)this.Mt(480|i>>>12),this.Mt(128|63&i>>>6),this.Mt(128|63&i);else{let r=t.codePointAt(0);this.Mt(240|r>>>18),this.Mt(128|63&r>>>12),this.Mt(128|63&r>>>6),this.Mt(128|63&r)}}this.xt()}Lt(e){let t=this.Bt(e),i=gP(t);this.kt(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}qt(e){let t=this.Bt(e),i=gP(t);this.kt(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){let t=function(s){let o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),i=(128&t[0])!=0;t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}Ct(e){let t=255&e;t===0?(this.Kt(0),this.Kt(255)):t===255?(this.Kt(255),this.Kt(0)):this.Kt(t)}Mt(e){let t=255&e;t===0?(this.Ut(0),this.Ut(255)):t===255?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){let t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);let r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}},gI=class{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}},mI=class{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}},rc=class{constructor(){this.Gt=new pI,this.zt=new gI(this.Gt),this.jt=new mI(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return e===0?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}};var sc=class n{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Jt(){let e=this.directionalValue.length,t=e===0||this.directionalValue[e-1]===255?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new n(this.indexId,this.documentKey,this.arrayValue,i)}};function Oa(n,e){let t=n.indexId-e.indexId;return t!==0?t:(t=mP(n.arrayValue,e.arrayValue),t!==0?t:(t=mP(n.directionalValue,e.directionalValue),t!==0?t:fe.comparator(n.documentKey,e.documentKey)))}function mP(n,e){for(let t=0;t<n.length&&t<e.length;++t){let i=n[t]-e[t];if(i!==0)return i}return n.length-e.length}var Y_=class{constructor(e){this.Yt=new At((t,i)=>on.comparator(t.field,i.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(let t of e.filters){let i=t;i.isInequality()?this.Yt=this.Yt.add(i):this.Xt.push(i)}}get en(){return this.Yt.size>1}tn(e){if(Te(e.collectionGroup===this.collectionId),this.en)return!1;let t=VE(e);if(t!==void 0&&!this.nn(t))return!1;let i=tc(e),r=new Set,s=0,o=0;for(;s<i.length&&this.nn(i[s]);++s)r=r.add(i[s].fieldPath.canonicalString());if(s===i.length)return!0;if(this.Yt.size>0){let a=this.Yt.getIterator().getNext();if(!r.has(a.field.canonicalString())){let l=i[s];if(!this.rn(a,l)||!this.sn(this.Zt[o++],l))return!1}++s}for(;s<i.length;++s){let a=i[s];if(o>=this.Zt.length||!this.sn(this.Zt[o++],a))return!1}return!0}on(){if(this.en)return null;let e=new At(on.comparator),t=[];for(let i of this.Xt)if(!i.field.isKeyField())if(i.op==="array-contains"||i.op==="array-contains-any")t.push(new dd(i.field,2));else{if(e.has(i.field))continue;e=e.add(i.field),t.push(new dd(i.field,0))}for(let i of this.Zt)i.field.isKeyField()||e.has(i.field)||(e=e.add(i.field),t.push(new dd(i.field,i.dir==="asc"?0:1)));return new gd(gd.UNKNOWN_ID,this.collectionId,t,$f.empty())}nn(e){for(let t of this.Xt)if(this.rn(t,e))return!0;return!1}rn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;let i=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===i}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}};function B2(n){var e,t;if(Te(n instanceof et||n instanceof bt),n instanceof et){if(n instanceof j_){let r=((t=(e=n.value.arrayValue)===null||e===void 0?void 0:e.values)===null||t===void 0?void 0:t.map(s=>et.create(n.field,"==",s)))||[];return bt.create(r,"or")}return n}let i=n.filters.map(r=>B2(r));return bt.create(i,n.op)}function A7(n){if(n.getFilters().length===0)return[];let e=vI(B2(n));return Te(U2(e)),_I(e)||yI(e)?[e]:e.getFilters()}function _I(n){return n instanceof et}function yI(n){return n instanceof bt&&ND(n)}function U2(n){return _I(n)||yI(n)||function(t){if(t instanceof bt&&qE(t)){for(let i of t.getFilters())if(!_I(i)&&!yI(i))return!1;return!0}return!1}(n)}function vI(n){if(Te(n instanceof et||n instanceof bt),n instanceof et)return n;if(n.filters.length===1)return vI(n.filters[0]);let e=n.filters.map(i=>vI(i)),t=bt.create(e,n.op);return t=J_(t),U2(t)?t:(Te(t instanceof bt),Te(_d(t)),Te(t.filters.length>1),t.filters.reduce((i,r)=>VD(i,r)))}function VD(n,e){let t;return Te(n instanceof et||n instanceof bt),Te(e instanceof et||e instanceof bt),t=n instanceof et?e instanceof et?function(r,s){return bt.create([r,s],"and")}(n,e):_P(n,e):e instanceof et?_P(e,n):function(r,s){if(Te(r.filters.length>0&&s.filters.length>0),_d(r)&&_d(s))return r2(r,s.getFilters());let o=qE(r)?r:s,a=qE(r)?s:r,l=o.filters.map(c=>VD(c,a));return bt.create(l,"or")}(n,e),J_(t)}function _P(n,e){if(_d(e))return r2(e,n.getFilters());{let t=e.filters.map(i=>VD(n,i));return bt.create(t,"or")}}function J_(n){if(Te(n instanceof et||n instanceof bt),n instanceof et)return n;let e=n.getFilters();if(e.length===1)return J_(e[0]);if(n2(n))return n;let t=e.map(r=>J_(r)),i=[];return t.forEach(r=>{r instanceof et?i.push(r):r instanceof bt&&(r.op===n.op?i.push(...r.filters):i.push(r))}),i.length===1?i[0]:bt.create(i,n.op)}var wI=class{constructor(){this._n=new np}addToCollectionParentIndex(e,t){return this._n.add(t),$.resolve()}getCollectionParents(e,t){return $.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return $.resolve()}deleteFieldIndex(e,t){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,t){return $.resolve()}getDocumentsMatchingTarget(e,t){return $.resolve(null)}getIndexType(e,t){return $.resolve(0)}getFieldIndexes(e,t){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,t){return $.resolve(Cr.min())}getMinOffsetFromCollectionGroup(e,t){return $.resolve(Cr.min())}updateCollectionGroup(e,t,i){return $.resolve()}updateIndexEntries(e,t){return $.resolve()}},np=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new At(ot.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){let t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new At(ot.comparator)).toArray()}};var E_=new Uint8Array(0),bI=class{constructor(e,t){this.databaseId=t,this.an=new np,this.un=new Bs(i=>dc(i),(i,r)=>hp(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.an.has(t)){let i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.an.add(t)});let s={collectionId:i,parent:wi(r)};return yP(e).put(s)}return $.resolve()}getCollectionParents(e,t){let i=[],r=IDBKeyRange.bound([t,""],[jP(t),""],!1,!0);return yP(e).U(r).next(s=>{for(let o of s){if(o.collectionId!==t)break;i.push(Os(o.parent))}return i})}addFieldIndex(e,t){let i=Nf(e),r=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(t);delete r.indexId;let s=i.add(r);if(t.indexState){let o=id(e);return s.next(a=>{o.put(hP(a,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){let i=Nf(e),r=id(e),s=nd(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){let t=Nf(e),i=nd(e),r=id(e);return t.j().next(()=>i.j()).next(()=>r.j())}createTargetIndexes(e,t){return $.forEach(this.cn(t),i=>this.getIndexType(e,i).next(r=>{if(r===0||r===1){let s=new Y_(i).on();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,t){let i=nd(e),r=!0,s=new Map;return $.forEach(this.cn(t),o=>this.ln(e,o).next(a=>{r&&(r=!!a),s.set(o,a)})).next(()=>{if(r){let o=He(),a=[];return $.forEach(s,(l,c)=>{te("IndexedDbIndexManager",`Using index ${function(W){return`id=${W.indexId}|cg=${W.collectionGroup}|f=${W.fields.map(Y=>`${Y.fieldPath}:${Y.kind}`).join(",")}`}(l)} to execute ${dc(t)}`);let d=function(W,Y){let ge=VE(Y);if(ge===void 0)return null;for(let ae of $_(W,ge.fieldPath))switch(ae.op){case"array-contains-any":return ae.value.arrayValue.values||[];case"array-contains":return[ae.value]}return null}(c,l),h=function(W,Y){let ge=new Map;for(let ae of tc(Y))for(let R of $_(W,ae.fieldPath))switch(R.op){case"==":case"in":ge.set(ae.fieldPath.canonicalString(),R.value);break;case"not-in":case"!=":return ge.set(ae.fieldPath.canonicalString(),R.value),Array.from(ge.values())}return null}(c,l),m=function(W,Y){let ge=[],ae=!0;for(let R of tc(Y)){let D=R.kind===0?Yk(W,R.fieldPath,W.startAt):Jk(W,R.fieldPath,W.startAt);ge.push(D.value),ae&&(ae=D.inclusive)}return new Vs(ge,ae)}(c,l),v=function(W,Y){let ge=[],ae=!0;for(let R of tc(Y)){let D=R.kind===0?Jk(W,R.fieldPath,W.endAt):Yk(W,R.fieldPath,W.endAt);ge.push(D.value),ae&&(ae=D.inclusive)}return new Vs(ge,ae)}(c,l),C=this.hn(l,c,m),A=this.hn(l,c,v),S=this.Pn(l,c,h),j=this.In(l.indexId,d,C,m.inclusive,A,v.inclusive,S);return $.forEach(j,Z=>i.G(Z,t.limit).next(W=>{W.forEach(Y=>{let ge=fe.fromSegments(Y.documentKey);o.has(ge)||(o=o.add(ge),a.push(ge))})}))}).next(()=>a)}return $.resolve(null)})}cn(e){let t=this.un.get(e);return t||(e.filters.length===0?t=[e]:t=A7(bt.create(e.filters,"and")).map(i=>tI(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}In(e,t,i,r,s,o,a){let l=(t!=null?t.length:1)*Math.max(i.length,s.length),c=l/(t!=null?t.length:1),d=[];for(let h=0;h<l;++h){let m=t?this.Tn(t[h/c]):E_,v=this.En(e,m,i[h%c],r),C=this.dn(e,m,s[h%c],o),A=a.map(S=>this.En(e,m,S,!0));d.push(...this.createRange(v,C,A))}return d}En(e,t,i,r){let s=new sc(e,fe.empty(),t,i);return r?s:s.Jt()}dn(e,t,i,r){let s=new sc(e,fe.empty(),t,i);return r?s.Jt():s}ln(e,t){let i=new Y_(t),r=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(s=>{let o=null;for(let a of s)i.tn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,t){let i=2,r=this.cn(t);return $.forEach(r,s=>this.ln(e,s).next(o=>{o?i!==0&&o.fields.length<function(l){let c=new At(on.comparator),d=!1;for(let h of l.filters)for(let m of h.getFlattenedFilters())m.field.isKeyField()||(m.op==="array-contains"||m.op==="array-contains-any"?d=!0:c=c.add(m.field));for(let h of l.orderBy)h.field.isKeyField()||(c=c.add(h.field));return c.size+(d?1:0)}(s)&&(i=1):i=0})).next(()=>function(o){return o.limit!==null}(t)&&r.length>1&&i===2?1:i)}An(e,t){let i=new rc;for(let r of tc(e)){let s=t.data.field(r.fieldPath);if(s==null)return null;let o=i.Ht(r.kind);So.bt.Pt(s,o)}return i.Wt()}Tn(e){let t=new rc;return So.bt.Pt(e,t.Ht(0)),t.Wt()}Rn(e,t){let i=new rc;return So.bt.Pt(cc(this.databaseId,t),i.Ht(function(s){let o=tc(s);return o.length===0?0:o[o.length-1].kind}(e))),i.Wt()}Pn(e,t,i){if(i===null)return[];let r=[];r.push(new rc);let s=0;for(let o of tc(e)){let a=i[s++];for(let l of r)if(this.Vn(t,o.fieldPath)&&Kf(a))r=this.mn(r,o,a);else{let c=l.Ht(o.kind);So.bt.Pt(a,c)}}return this.fn(r)}hn(e,t,i){return this.Pn(e,t,i.position)}fn(e){let t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Wt();return t}mn(e,t,i){let r=[...e],s=[];for(let o of i.arrayValue.values||[])for(let a of r){let l=new rc;l.seed(a.Wt()),So.bt.Pt(o,l.Ht(t.kind)),s.push(l)}return s}Vn(e,t){return!!e.filters.find(i=>i instanceof et&&i.field.isEqual(t)&&(i.op==="in"||i.op==="not-in"))}getFieldIndexes(e,t){let i=Nf(e),r=id(e);return(t?i.U("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.U()).next(s=>{let o=[];return $.forEach(s,a=>r.get([a.indexId,this.uid]).next(l=>{o.push(function(d,h){let m=h?new $f(h.sequenceNumber,new Cr(pc(h.readTime),new fe(Os(h.documentKey)),h.largestBatchId)):$f.empty(),v=d.fields.map(([C,A])=>new dd(on.fromServerFormat(C),A));return new gd(d.indexId,d.collectionGroup,v,m)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>t.length===0?null:(t.sort((i,r)=>{let s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return s!==0?s:je(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){let r=Nf(e),s=id(e);return this.gn(e).next(o=>r.U("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(a=>$.forEach(a,l=>s.put(hP(l.indexId,this.uid,o,i)))))}updateIndexEntries(e,t){let i=new Map;return $.forEach(t,(r,s)=>{let o=i.get(r.collectionGroup);return(o?$.resolve(o):this.getFieldIndexes(e,r.collectionGroup)).next(a=>(i.set(r.collectionGroup,a),$.forEach(a,l=>this.pn(e,r,l).next(c=>{let d=this.yn(s,l);return c.isEqual(d)?$.resolve():this.wn(e,s,l,c,d)}))))})}Sn(e,t,i,r){return nd(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.Rn(i,t.key),documentKey:t.key.path.toArray()})}bn(e,t,i,r){return nd(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.Rn(i,t.key),t.key.path.toArray()])}pn(e,t,i){let r=nd(e),s=new At(Oa);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.Rn(i,t)])},(o,a)=>{s=s.add(new sc(i.indexId,t,a.arrayValue,a.directionalValue))}).next(()=>s)}yn(e,t){let i=new At(Oa),r=this.An(t,e);if(r==null)return i;let s=VE(t);if(s!=null){let o=e.data.field(s.fieldPath);if(Kf(o))for(let a of o.arrayValue.values||[])i=i.add(new sc(t.indexId,e.key,this.Tn(a),r))}else i=i.add(new sc(t.indexId,e.key,E_,r));return i}wn(e,t,i,r,s){te("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);let o=[];return function(l,c,d,h,m){let v=l.getIterator(),C=c.getIterator(),A=td(v),S=td(C);for(;A||S;){let j=!1,Z=!1;if(A&&S){let W=d(A,S);W<0?Z=!0:W>0&&(j=!0)}else A!=null?Z=!0:j=!0;j?(h(S),S=td(C)):Z?(m(A),A=td(v)):(A=td(v),S=td(C))}}(r,s,Oa,a=>{o.push(this.Sn(e,t,i,a))},a=>{o.push(this.bn(e,t,i,a))}),$.waitFor(o)}gn(e){let t=1;return id(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((o,a)=>Oa(o,a)).filter((o,a,l)=>!a||Oa(o,l[a-1])!==0);let r=[];r.push(e);for(let o of i){let a=Oa(o,e),l=Oa(o,t);if(a===0)r[0]=e.Jt();else if(a>0&&l<0)r.push(o),r.push(o.Jt());else if(l>0)break}r.push(t);let s=[];for(let o=0;o<r.length;o+=2){if(this.Dn(r[o],r[o+1]))return[];let a=[r[o].indexId,this.uid,r[o].arrayValue,r[o].directionalValue,E_,[]],l=[r[o+1].indexId,this.uid,r[o+1].arrayValue,r[o+1].directionalValue,E_,[]];s.push(IDBKeyRange.bound(a,l))}return s}Dn(e,t){return Oa(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(vP)}getMinOffset(e,t){return $.mapArray(this.cn(t),i=>this.ln(e,i).next(r=>r||ye())).next(vP)}};function yP(n){return Nn(n,"collectionParents")}function nd(n){return Nn(n,"indexEntries")}function Nf(n){return Nn(n,"indexConfiguration")}function id(n){return Nn(n,"indexState")}function vP(n){Te(n.length!==0);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){let r=n[i].indexState.offset;xD(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new Cr(e.readTime,e.documentKey,t)}var wP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wr=class n{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};function j2(n,e,t){let i=n.store("mutations"),r=n.store("documentMutations"),s=[],o=IDBKeyRange.only(t.batchId),a=0,l=i.J({range:o},(d,h,m)=>(a++,m.delete()));s.push(l.next(()=>{Te(a===1)}));let c=[];for(let d of t.mutations){let h=WP(e,d.key.path,t.batchId);s.push(r.delete(h)),c.push(d.key)}return $.waitFor(s).next(()=>c)}function X_(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ye();e=n.noDocument}return JSON.stringify(e).length}wr.DEFAULT_COLLECTION_PERCENTILE=10,wr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wr.DEFAULT=new wr(41943040,wr.DEFAULT_COLLECTION_PERCENTILE,wr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wr.DISABLED=new wr(-1,0,0);var ey=class n{constructor(e,t,i,r){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=r,this.Cn={}}static lt(e,t,i,r){Te(e.uid!=="");let s=e.isAuthenticated()?e.uid:"";return new n(s,t,i,r)}checkEmpty(e){let t=!0,i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Na(e).J({index:"userMutationsIndex",range:i},(r,s,o)=>{t=!1,o.done()}).next(()=>t)}addMutationBatch(e,t,i,r){let s=cd(e),o=Na(e);return o.add({}).next(a=>{Te(typeof a=="number");let l=new Zf(a,t,i,r),c=function(v,C,A){let S=A.baseMutations.map(Z=>tp(v.ct,Z)),j=A.mutations.map(Z=>tp(v.ct,Z));return{userId:C,batchId:A.batchId,localWriteTimeMs:A.localWriteTime.toMillis(),baseMutations:S,mutations:j}}(this.serializer,this.userId,l),d=[],h=new At((m,v)=>je(m.canonicalString(),v.canonicalString()));for(let m of r){let v=WP(this.userId,m.key.path,a);h=h.add(m.key.path.popLast()),d.push(o.put(c)),d.push(s.put(v,FG))}return h.forEach(m=>{d.push(this.indexManager.addToCollectionParentIndex(e,m))}),e.addOnCommittedListener(()=>{this.Cn[a]=l.keys()}),$.waitFor(d).next(()=>l)})}lookupMutationBatch(e,t){return Na(e).get(t).next(i=>i?(Te(i.userId===this.userId),ic(this.serializer,i)):null)}vn(e,t){return this.Cn[t]?$.resolve(this.Cn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){let r=i.keys();return this.Cn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){let i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]),s=null;return Na(e).J({index:"userMutationsIndex",range:r},(o,a,l)=>{a.userId===this.userId&&(Te(a.batchId>=i),s=ic(this.serializer,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){let t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),i=-1;return Na(e).J({index:"userMutationsIndex",range:t,reverse:!0},(r,s,o)=>{i=s.batchId,o.done()}).next(()=>i)}getAllMutationBatches(e){let t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Na(e).U("userMutationsIndex",t).next(i=>i.map(r=>ic(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){let i=S_(this.userId,t.path),r=IDBKeyRange.lowerBound(i),s=[];return cd(e).J({range:r},(o,a,l)=>{let[c,d,h]=o,m=Os(d);if(c===this.userId&&t.path.isEqual(m))return Na(e).get(h).next(v=>{if(!v)throw ye();Te(v.userId===this.userId),s.push(ic(this.serializer,v))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new At(je),r=[];return t.forEach(s=>{let o=S_(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=cd(e).J({range:a},(c,d,h)=>{let[m,v,C]=c,A=Os(v);m===this.userId&&s.path.isEqual(A)?i=i.add(C):h.done()});r.push(l)}),$.waitFor(r).next(()=>this.Fn(e,i))}getAllMutationBatchesAffectingQuery(e,t){let i=t.path,r=i.length+1,s=S_(this.userId,i),o=IDBKeyRange.lowerBound(s),a=new At(je);return cd(e).J({range:o},(l,c,d)=>{let[h,m,v]=l,C=Os(m);h===this.userId&&i.isPrefixOf(C)?C.length===r&&(a=a.add(v)):d.done()}).next(()=>this.Fn(e,a))}Fn(e,t){let i=[],r=[];return t.forEach(s=>{r.push(Na(e).get(s).next(o=>{if(o===null)throw ye();Te(o.userId===this.userId),i.push(ic(this.serializer,o))}))}),$.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return j2(e._e,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.Mn(t.batchId)}),$.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return $.resolve();let i=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),r=[];return cd(e).J({range:i},(s,o,a)=>{if(s[0]===this.userId){let l=Os(s[1]);r.push(l)}else a.done()}).next(()=>{Te(r.length===0)})})}containsKey(e,t){return z2(e,this.userId,t)}xn(e){return $2(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}};function z2(n,e,t){let i=S_(e,t.path),r=i[1],s=IDBKeyRange.lowerBound(i),o=!1;return cd(n).J({range:s,H:!0},(a,l,c)=>{let[d,h,m]=a;d===e&&h===r&&(o=!0),c.done()}).next(()=>o)}function Na(n){return Nn(n,"mutations")}function cd(n){return Nn(n,"documentMutations")}function $2(n){return Nn(n,"mutationQueues")}var Cd=class n{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new n(0)}static Ln(){return new n(-1)}};var CI=class{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Bn(e).next(t=>{let i=new Cd(t.highestTargetId);return t.highestTargetId=i.next(),this.kn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(t=>Me.fromTimestamp(new Kt(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.Bn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.kn(e,r)))}addTargetData(e,t){return this.qn(e,t).next(()=>this.Bn(e).next(i=>(i.targetCount+=1,this.Qn(t,i),this.kn(e,i))))}updateTargetData(e,t){return this.qn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>rd(e).delete(t.targetId)).next(()=>this.Bn(e)).next(i=>(Te(i.targetCount>0),i.targetCount-=1,this.kn(e,i)))}removeTargets(e,t,i){let r=0,s=[];return rd(e).J((o,a)=>{let l=Lf(a);l.sequenceNumber<=t&&i.get(l.targetId)===null&&(r++,s.push(this.removeTargetData(e,l)))}).next(()=>$.waitFor(s)).next(()=>r)}forEachTarget(e,t){return rd(e).J((i,r)=>{let s=Lf(r);t(s)})}Bn(e){return bP(e).get("targetGlobalKey").next(t=>(Te(t!==null),t))}kn(e,t){return bP(e).put("targetGlobalKey",t)}qn(e,t){return rd(e).put(V2(this.serializer,t))}Qn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Bn(e).next(t=>t.targetCount)}getTargetData(e,t){let i=dc(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]),s=null;return rd(e).J({range:r,index:"queryTargetsIndex"},(o,a,l)=>{let c=Lf(a);hp(t,c.target)&&(s=c,l.done())}).next(()=>s)}addMatchingKeys(e,t,i){let r=[],s=ka(e);return t.forEach(o=>{let a=wi(o.path);r.push(s.put({targetId:i,path:a})),r.push(this.referenceDelegate.addReference(e,i,o))}),$.waitFor(r)}removeMatchingKeys(e,t,i){let r=ka(e);return $.forEach(t,s=>{let o=wi(s.path);return $.waitFor([r.delete([i,o]),this.referenceDelegate.removeReference(e,i,s)])})}removeMatchingKeysForTargetId(e,t){let i=ka(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){let i=IDBKeyRange.bound([t],[t+1],!1,!0),r=ka(e),s=He();return r.J({range:i,H:!0},(o,a,l)=>{let c=Os(o[1]),d=new fe(c);s=s.add(d)}).next(()=>s)}containsKey(e,t){let i=wi(t.path),r=IDBKeyRange.bound([i],[jP(i)],!1,!0),s=0;return ka(e).J({index:"documentTargetsIndex",H:!0,range:r},([o,a],l,c)=>{o!==0&&(s++,c.done())}).next(()=>s>0)}ot(e,t){return rd(e).get(t).next(i=>i?Lf(i):null)}};function rd(n){return Nn(n,"targets")}function bP(n){return Nn(n,"targetGlobal")}function ka(n){return Nn(n,"targetDocuments")}function CP([n,e],[t,i]){let r=je(n,t);return r===0?je(e,i):r}var EI=class{constructor(e){this.Kn=e,this.buffer=new At(CP),this.$n=0}Un(){return++this.$n}Wn(e){let t=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(t);else{let i=this.buffer.last();CP(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}},II=class{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Gn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return this.Gn!==null}zn(e){te("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>F(this,null,function*(){this.Gn=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){Qa(t)?te("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):yield Ka(t)}yield this.zn(3e5)}))}},DI=class{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.Hn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return $.resolve(Zi.oe);let i=new EI(t);return this.jn.forEachTarget(e,r=>i.Wn(r.sequenceNumber)).next(()=>this.jn.Jn(e,r=>i.Wn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.jn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(te("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(wP)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wP):this.Yn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,t){let i,r,s,o,a,l,c,d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),r=this.params.maximumSequenceNumbersToCollect):r=h,o=Date.now(),this.nthSequenceNumber(e,r))).next(h=>(i=h,a=Date.now(),this.removeTargets(e,i,t))).next(h=>(s=h,l=Date.now(),this.removeOrphanedDocuments(e,i))).next(h=>(c=Date.now(),sd()<=ps.DEBUG&&te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${r} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:h})))}};function x7(n,e){return new DI(n,e)}var TI=class{constructor(e,t){this.db=e,this.garbageCollector=x7(this,t)}Hn(e){let t=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Zn(e){let t=0;return this.Jn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Jn(e,t){return this.Xn(e,(i,r)=>t(r))}addReference(e,t,i){return I_(e,i)}removeReference(e,t,i){return I_(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return I_(e,t)}er(e,t){return function(r,s){let o=!1;return $2(r).Y(a=>z2(r,a,s).next(l=>(l&&(o=!0),$.resolve(!l)))).next(()=>o)}(e,t)}removeOrphanedDocuments(e,t){let i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[],s=0;return this.Xn(e,(o,a)=>{if(a<=t){let l=this.er(e,o).next(c=>{if(!c)return s++,i.getEntry(e,o).next(()=>(i.removeEntry(o,Me.min()),ka(e).delete(function(h){return[0,wi(h.path)]}(o))))});r.push(l)}}).next(()=>$.waitFor(r)).next(()=>i.apply(e)).next(()=>s)}removeTarget(e,t){let i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return I_(e,t)}Xn(e,t){let i=ka(e),r,s=Zi.oe;return i.J({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:c})=>{o===0?(s!==Zi.oe&&t(new fe(Os(r)),s),s=c,r=l):s=Zi.oe}).next(()=>{s!==Zi.oe&&t(new fe(Os(r)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}};function I_(n,e){return ka(n).put(function(i,r){return{targetId:0,path:wi(i.path),sequenceNumber:r}}(e,n.currentSequenceNumber))}var ty=class{constructor(){this.changes=new Bs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,vn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let i=this.changes.get(t);return i!==void 0?$.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var SI=class{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return ec(e).put(i)}removeEntry(e,t,i){return ec(e).delete(function(s,o){let a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],Q_(o),a[a.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.tr(e,i)))}getEntry(e,t){let i=vn.newInvalidDocument(t);return ec(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(kf(t))},(r,s)=>{i=this.nr(t,s)}).next(()=>i)}rr(e,t){let i={size:0,document:vn.newInvalidDocument(t)};return ec(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(kf(t))},(r,s)=>{i={document:this.nr(t,s),size:X_(s)}}).next(()=>i)}getEntries(e,t){let i=Ni();return this.ir(e,t,(r,s)=>{let o=this.nr(r,s);i=i.insert(r,o)}).next(()=>i)}sr(e,t){let i=Ni(),r=new Pt(fe.comparator);return this.ir(e,t,(s,o)=>{let a=this.nr(s,o);i=i.insert(s,a),r=r.insert(s,X_(o))}).next(()=>({documents:i,_r:r}))}ir(e,t,i){if(t.isEmpty())return $.resolve();let r=new At(DP);t.forEach(l=>r=r.add(l));let s=IDBKeyRange.bound(kf(r.first()),kf(r.last())),o=r.getIterator(),a=o.getNext();return ec(e).J({index:"documentKeyIndex",range:s},(l,c,d)=>{let h=fe.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&DP(a,h)<0;)i(a,null),a=o.getNext();a&&a.isEqual(h)&&(i(a,c),a=o.hasNext()?o.getNext():null),a?d.$(kf(a)):d.done()}).next(()=>{for(;a;)i(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,t,i,r,s){let o=t.path,a=[o.popLast().toArray(),o.lastSegment(),Q_(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ec(e).U(IDBKeyRange.bound(a,l,!0)).next(c=>{s?.incrementDocumentReadCount(c.length);let d=Ni();for(let h of c){let m=this.nr(fe.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);m.isFoundDocument()&&(pp(t,m)||r.has(m.key))&&(d=d.insert(m.key,m))}return d})}getAllFromCollectionGroup(e,t,i,r){let s=Ni(),o=IP(t,i),a=IP(t,Cr.max());return ec(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,c,d)=>{let h=this.nr(fe.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);s=s.insert(h.key,h),s.size===r&&d.done()}).next(()=>s)}newChangeBuffer(e){return new MI(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return EP(e).get("remoteDocumentGlobalKey").next(t=>(Te(!!t),t))}tr(e,t){return EP(e).put("remoteDocumentGlobalKey",t)}nr(e,t){if(t){let i=S7(this.serializer,t);if(!(i.isNoDocument()&&i.version.isEqual(Me.min())))return i}return vn.newInvalidDocument(e)}};function H2(n){return new SI(n)}var MI=class extends ty{constructor(e,t){super(),this.ar=e,this.trackRemovals=t,this.ur=new Bs(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){let t=[],i=0,r=new At((s,o)=>je(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{let a=this.ur.get(s);if(t.push(this.ar.removeEntry(e,s,a.readTime)),o.isValidDocument()){let l=uP(this.ar.serializer,o);r=r.add(s.path.popLast());let c=X_(l);i+=c-a.size,t.push(this.ar.addEntry(e,s,l))}else if(i-=a.size,this.trackRemovals){let l=uP(this.ar.serializer,o.convertToNoDocument(Me.min()));t.push(this.ar.addEntry(e,s,l))}}),r.forEach(s=>{t.push(this.ar.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.ar.updateMetadata(e,i)),$.waitFor(t)}getFromCache(e,t){return this.ar.rr(e,t).next(i=>(this.ur.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.ar.sr(e,t).next(({documents:i,_r:r})=>(r.forEach((s,o)=>{this.ur.set(s,{size:o,readTime:i.get(s).readTime})}),i))}};function EP(n){return Nn(n,"remoteDocumentGlobal")}function ec(n){return Nn(n,"remoteDocumentsV14")}function kf(n){let e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function IP(n,e){let t=e.documentKey.path.toArray();return[n,Q_(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function DP(n,e){let t=n.path.toArray(),i=e.path.toArray(),r=0;for(let s=0;s<t.length-2&&s<i.length-2;++s)if(r=je(t[s],i[s]),r)return r;return r=je(t.length,i.length),r||(r=je(t[t.length-2],i[i.length-2]),r||je(t[t.length-1],i[i.length-1]))}var AI=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var ny=class{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(i!==null&&Uf(i.mutation,r,Yi.empty(),Kt.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,He()).next(()=>i))}getLocalViewOfDocuments(e,t,i=He()){let r=Ns();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(s=>{let o=Ff();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){let i=Ns();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,He()))}populateOverlays(e,t,i){let r=[];return i.forEach(s=>{t.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,i,r){let s=Ni(),o=Bf(),a=function(){return Bf()}();return t.forEach((l,c)=>{let d=i.get(c.key);r.has(c.key)&&(d===void 0||d.mutation instanceof Jr)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),Uf(d.mutation,c,d.mutation.getFieldMask(),Kt.now())):o.set(c.key,Yi.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,d)=>o.set(c,d)),t.forEach((c,d)=>{var h;return a.set(c,new AI(d,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,t){let i=Bf(),r=new Pt((o,a)=>o-a),s=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(let a of o)a.keys().forEach(l=>{let c=t.get(l);if(c===null)return;let d=i.get(l)||Yi.empty();d=a.applyToLocalView(c,d),i.set(l,d);let h=(r.get(a.batchId)||He()).add(l);r=r.insert(a.batchId,h)})}).next(()=>{let o=[],a=r.getReverseIterator();for(;a.hasNext();){let l=a.getNext(),c=l.key,d=l.value,h=f2();d.forEach(m=>{if(!s.has(m)){let v=b2(t.get(m),i.get(m));v!==null&&h.set(m,v),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return $.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,r){return function(o){return fe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):kD(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r)}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(s=>{let o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-s.size):$.resolve(Ns()),a=-1,l=s;return o.next(c=>$.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(d)?$.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{l=l.insert(d,m)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,He())).next(d=>({batchId:a,changes:h2(d)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new fe(t)).next(i=>{let r=Ff();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){let s=t.collectionGroup,o=Ff();return this.indexManager.getCollectionParents(e,s).next(a=>$.forEach(a,l=>{let c=function(h,m){return new Yr(m,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(t,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,i,r).next(d=>{d.forEach((h,m)=>{o=o.insert(h,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,s,r))).next(o=>{s.forEach((l,c)=>{let d=c.getKey();o.get(d)===null&&(o=o.insert(d,vn.newInvalidDocument(d)))});let a=Ff();return o.forEach((l,c)=>{let d=s.get(l);d!==void 0&&Uf(d.mutation,c,Yi.empty(),Kt.now()),pp(t,c)&&(a=a.insert(l,c))}),a})}};var xI=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return $.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,function(r){return{id:r.id,version:r.version,createTime:an(r.createTime)}}(t)),$.resolve()}getNamedQuery(e,t){return $.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,function(r){return{name:r.name,query:LD(r.bundledQuery),readTime:an(r.readTime)}}(t)),$.resolve()}};var RI=class{constructor(){this.overlays=new Pt(fe.comparator),this.hr=new Map}getOverlay(e,t){return $.resolve(this.overlays.get(t))}getOverlays(e,t){let i=Ns();return $.forEach(t,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.ht(e,t,s)}),$.resolve()}removeOverlaysForBatchId(e,t,i){let r=this.hr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(i)),$.resolve()}getOverlaysForCollection(e,t,i){let r=Ns(),s=t.length+1,o=new fe(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let l=a.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return $.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new Pt((c,d)=>c-d),o=this.overlays.getIterator();for(;o.hasNext();){let c=o.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>i){let d=s.get(c.largestBatchId);d===null&&(d=Ns(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}let a=Ns(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=r)););return $.resolve(a)}ht(e,t,i){let r=this.overlays.get(i.key);if(r!==null){let o=this.hr.get(r.largestBatchId).delete(i.key);this.hr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new Yf(t,i));let s=this.hr.get(t);s===void 0&&(s=He(),this.hr.set(t,s)),this.hr.set(t,s.add(i.key))}};var ip=class{constructor(){this.Pr=new At(mn.Ir),this.Tr=new At(mn.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){let i=new mn(e,t);this.Pr=this.Pr.add(i),this.Tr=this.Tr.add(i)}dr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Ar(new mn(e,t))}Rr(e,t){e.forEach(i=>this.removeReference(i,t))}Vr(e){let t=new fe(new ot([])),i=new mn(t,e),r=new mn(t,e+1),s=[];return this.Tr.forEachInRange([i,r],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let t=new fe(new ot([])),i=new mn(t,e),r=new mn(t,e+1),s=He();return this.Tr.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){let t=new mn(e,0),i=this.Pr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}},mn=class{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return fe.comparator(e.key,t.key)||je(e.pr,t.pr)}static Er(e,t){return je(e.pr,t.pr)||fe.comparator(e.key,t.key)}};var OI=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new At(mn.Ir)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,r){let s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new Zf(s,t,i,r);this.mutationQueue.push(o);for(let a of r)this.wr=this.wr.add(new mn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $.resolve(o)}lookupMutationBatch(e,t){return $.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){let i=t+1,r=this.br(i),s=r<0?0:r;return $.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let i=new mn(t,0),r=new mn(t,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([i,r],o=>{let a=this.Sr(o.pr);s.push(a)}),$.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new At(je);return t.forEach(r=>{let s=new mn(r,0),o=new mn(r,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{i=i.add(a.pr)})}),$.resolve(this.Dr(i))}getAllMutationBatchesAffectingQuery(e,t){let i=t.path,r=i.length+1,s=i;fe.isDocumentKey(s)||(s=s.child(""));let o=new mn(new fe(s),0),a=new At(je);return this.wr.forEachWhile(l=>{let c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.pr)),!0)},o),$.resolve(this.Dr(a))}Dr(e){let t=[];return e.forEach(i=>{let r=this.Sr(i);r!==null&&t.push(r)}),t}removeMutationBatch(e,t){Te(this.Cr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.wr;return $.forEach(t.mutations,r=>{let s=new mn(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.wr=i})}Mn(e){}containsKey(e,t){let i=new mn(t,0),r=this.wr.firstAfterOrEqual(i);return $.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}Cr(e,t){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var NI=class{constructor(e){this.vr=e,this.docs=function(){return new Pt(fe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let i=t.key,r=this.docs.get(i),s=r?r.size:0,o=this.vr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let i=this.docs.get(t);return $.resolve(i?i.document.mutableCopy():vn.newInvalidDocument(t))}getEntries(e,t){let i=Ni();return t.forEach(r=>{let s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():vn.newInvalidDocument(r))}),$.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let s=Ni(),o=t.path,a=new fe(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){let{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||xD($P(d),i)<=0||(r.has(d.key)||pp(t,d))&&(s=s.insert(d.key,d.mutableCopy()))}return $.resolve(s)}getAllFromCollectionGroup(e,t,i,r){ye()}Fr(e,t){return $.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new kI(this)}getSize(e){return $.resolve(this.size)}},kI=class extends ty{constructor(e){super(),this.ar=e}applyChanges(e){let t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.ar.addEntry(e,r)):this.ar.removeEntry(i)}),$.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}};var PI=class{constructor(e){this.persistence=e,this.Mr=new Bs(t=>dc(t),hp),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.Or=0,this.Nr=new ip,this.targetCount=0,this.Lr=Cd.Nn()}forEachTarget(e,t){return this.Mr.forEach((i,r)=>t(r)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Or&&(this.Or=t),$.resolve()}qn(e){this.Mr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.Lr=new Cd(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,$.resolve()}updateTargetData(e,t){return this.qn(t),$.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,t,i){let r=0,s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=t&&i.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),$.waitFor(s).next(()=>r)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,t){let i=this.Mr.get(t)||null;return $.resolve(i)}addMatchingKeys(e,t,i){return this.Nr.dr(t,i),$.resolve()}removeMatchingKeys(e,t,i){this.Nr.Rr(t,i);let r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),$.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),$.resolve()}getMatchingKeysForTargetId(e,t){let i=this.Nr.gr(t);return $.resolve(i)}containsKey(e,t){return $.resolve(this.Nr.containsKey(t))}};var iy=class{constructor(e,t){this.Br={},this.overlays={},this.kr=new Zi(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new PI(this),this.indexManager=new wI,this.remoteDocumentCache=function(r){return new NI(r)}(i=>this.referenceDelegate.Kr(i)),this.serializer=new K_(t),this.$r=new xI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new RI,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Br[e.toKey()];return i||(i=new OI(t,this.referenceDelegate),this.Br[e.toKey()]=i),i}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,i){te("MemoryPersistence","Starting transaction:",e);let r=new FI(this.kr.next());return this.referenceDelegate.Ur(),i(r).next(s=>this.referenceDelegate.Wr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Gr(e,t){return $.or(Object.values(this.Br).map(i=>()=>i.containsKey(e,t)))}},FI=class extends F_{constructor(e){super(),this.currentSequenceNumber=e}},ry=class n{constructor(e){this.persistence=e,this.zr=new ip,this.jr=null}static Hr(e){return new n(e)}get Jr(){if(this.jr)return this.jr;throw ye()}addReference(e,t,i){return this.zr.addReference(i,t),this.Jr.delete(i.toString()),$.resolve()}removeReference(e,t,i){return this.zr.removeReference(i,t),this.Jr.add(i.toString()),$.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),$.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach(r=>this.Jr.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.Jr.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}Ur(){this.jr=new Set}Wr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.Jr,i=>{let r=fe.fromPath(i);return this.Yr(e,r).next(s=>{s||t.removeEntry(r,Me.min())})}).next(()=>(this.jr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Yr(e,t).next(i=>{i?this.Jr.delete(t.toString()):this.Jr.add(t.toString())})}Kr(e){return 0}Yr(e,t){return $.or([()=>$.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}};var LI=class{constructor(e){this.serializer=e}O(e,t,i,r){let s=new L_("createOrUpgrade",t);i<1&&r>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",zk,{unique:!0}),l.createObjectStore("documentMutations")}(e),TP(e),function(l){l.createObjectStore("remoteDocuments")}(e));let o=$.resolve();return i<3&&r>=3&&(i!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),TP(e)),o=o.next(()=>function(l){let c=l.store("targetGlobal"),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Me.min().toTimestamp(),targetCount:0};return c.put("targetGlobalKey",d)}(s))),i<4&&r>=4&&(i!==0&&(o=o.next(()=>function(l,c){return c.store("mutations").U().next(d=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",zk,{unique:!0});let h=c.store("mutations"),m=d.map(v=>h.put(v));return $.waitFor(m)})}(e,s))),o=o.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),i<5&&r>=5&&(o=o.next(()=>this.Xr(s))),i<6&&r>=6&&(o=o.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.ei(s)))),i<7&&r>=7&&(o=o.next(()=>this.ti(s))),i<8&&r>=8&&(o=o.next(()=>this.ni(e,s))),i<9&&r>=9&&(o=o.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),i<10&&r>=10&&(o=o.next(()=>this.ri(s))),i<11&&r>=11&&(o=o.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(o=o.next(()=>{(function(l){let c=l.createObjectStore("documentOverlays",{keyPath:KG});c.createIndex("collectionPathOverlayIndex",QG,{unique:!1}),c.createIndex("collectionGroupOverlayIndex",ZG,{unique:!1})})(e)})),i<13&&r>=13&&(o=o.next(()=>function(l){let c=l.createObjectStore("remoteDocumentsV14",{keyPath:LG});c.createIndex("documentKeyIndex",VG),c.createIndex("collectionGroupIndex",BG)}(e)).next(()=>this.ii(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(o=o.next(()=>this.si(e,s))),i<15&&r>=15&&(o=o.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:HG}).createIndex("sequenceNumberIndex",GG,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:qG}).createIndex("documentKeyIndex",WG,{unique:!1})}(e))),i<16&&r>=16&&(o=o.next(()=>{t.objectStore("indexState").clear()}).next(()=>{t.objectStore("indexEntries").clear()})),o}ei(e){let t=0;return e.store("remoteDocuments").J((i,r)=>{t+=X_(r)}).next(()=>{let i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Xr(e){let t=e.store("mutationQueues"),i=e.store("mutations");return t.U().next(r=>$.forEach(r,s=>{let o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.U("userMutationsIndex",o).next(a=>$.forEach(a,l=>{Te(l.userId===s.userId);let c=ic(this.serializer,l);return j2(e,s.userId,c).next(()=>{})}))}))}ti(e){let t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{let s=[];return i.J((o,a)=>{let l=new ot(o),c=function(h){return[0,wi(h)]}(l);s.push(t.get(c).next(d=>d?$.resolve():(h=>t.put({targetId:0,path:wi(h),sequenceNumber:r.highestListenSequenceNumber}))(l)))}).next(()=>$.waitFor(s))})}ni(e,t){e.createObjectStore("collectionParents",{keyPath:$G});let i=t.store("collectionParents"),r=new np,s=o=>{if(r.add(o)){let a=o.lastSegment(),l=o.popLast();return i.put({collectionId:a,parent:wi(l)})}};return t.store("remoteDocuments").J({H:!0},(o,a)=>{let l=new ot(o);return s(l.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([o,a,l],c)=>{let d=Os(a);return s(d.popLast())}))}ri(e){let t=e.store("targets");return t.J((i,r)=>{let s=Lf(r),o=V2(this.serializer,s);return t.put(o)})}ii(e,t){let i=t.store("remoteDocuments"),r=[];return i.J((s,o)=>{let a=t.store("remoteDocumentsV14"),l=function(h){return h.document?new fe(ot.fromString(h.document.name).popFirst(5)):h.noDocument?fe.fromSegments(h.noDocument.path):h.unknownDocument?fe.fromSegments(h.unknownDocument.path):ye()}(o).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};r.push(a.put(c))}).next(()=>$.waitFor(r))}si(e,t){let i=t.store("mutations"),r=H2(this.serializer),s=new iy(ry.Hr,this.serializer.ct);return i.U().next(o=>{let a=new Map;return o.forEach(l=>{var c;let d=(c=a.get(l.userId))!==null&&c!==void 0?c:He();ic(this.serializer,l).keys().forEach(h=>d=d.add(h)),a.set(l.userId,d)}),$.forEach(a,(l,c)=>{let d=new _n(c),h=Z_.lt(this.serializer,d),m=s.getIndexManager(d),v=ey.lt(d,this.serializer,m,s.referenceDelegate);return new ny(r,v,h,m).recalculateAndSaveOverlaysForDocumentKeys(new Gf(t,Zi.oe),l).next()})})}};function TP(n){n.createObjectStore("targetDocuments",{keyPath:jG}).createIndex("documentTargetsIndex",zG,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",UG,{unique:!0}),n.createObjectStore("targetGlobal")}var ME="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",VI=class n{constructor(e,t,i,r,s,o,a,l,c,d,h=16){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.oi=s,this.window=o,this.document=a,this._i=c,this.ai=d,this.ui=h,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=m=>Promise.resolve(),!n.D())throw new ee(q.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new TI(this,r),this.Ti=t+"main",this.serializer=new K_(l),this.Ei=new Ba(this.Ti,this.ui,new LI(this.serializer)),this.Qr=new CI(this.referenceDelegate,this.serializer),this.remoteDocumentCache=H2(this.serializer),this.$r=new fI,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,d===!1&&sn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ee(q.FAILED_PRECONDITION,ME);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new Zi(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){return this.Ii=t=>F(this,null,function*(){if(this.started)return e(t)}),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L(t=>F(this,null,function*(){t.newVersion===null&&(yield e())}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget(()=>F(this,null,function*(){this.started&&(yield this.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>D_(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(t=>{t||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(t=>this.isPrimary&&!t?this.yi(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Qa(e))return te("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return te("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return Pf(e).get("owner").next(t=>$.resolve(this.Si(t)))}bi(e){return D_(e).delete(this.clientId)}Di(){return F(this,null,function*(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();let e=yield this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{let i=Nn(t,"clientMetadata");return i.U().next(r=>{let s=this.vi(r,18e5),o=r.filter(a=>s.indexOf(a)===-1);return $.forEach(o,a=>i.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.di)for(let t of e)this.di.removeItem(this.Fi(t.clientId))}})}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?$.resolve(!0):Pf(e).get("owner").next(t=>{if(t!==null&&this.Ci(t.leaseTimestampMs,5e3)&&!this.Mi(t.ownerId)){if(this.Si(t)&&this.networkEnabled)return!0;if(!this.Si(t)){if(!t.allowTabSynchronization)throw new ee(q.FAILED_PRECONDITION,ME);return!1}}return!(!this.networkEnabled||!this.inForeground)||D_(e).U().next(i=>this.vi(i,5e3).find(r=>{if(this.clientId!==r.clientId){let s=!this.networkEnabled&&r.networkEnabled,o=!this.inForeground&&r.inForeground,a=this.networkEnabled===r.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(t=>(this.isPrimary!==t&&te("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){return F(this,null,function*(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),yield this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{let t=new Gf(e,Zi.oe);return this.yi(t).next(()=>this.bi(t))}),this.Ei.close(),this.Li()})}vi(e,t){return e.filter(i=>this.Ci(i.updateTimeMs,t)&&!this.Mi(i.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>D_(e).U().next(t=>this.vi(t,18e5).map(i=>i.clientId)))}get started(){return this.qr}getMutationQueue(e,t){return ey.lt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new bI(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Z_.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,t,i){te("IndexedDbPersistence","Starting transaction:",e);let r=t==="readonly"?"readonly":"readwrite",s=function(l){return l===16?JG:l===15?YP:l===14?ZP:l===13?QP:l===12?YG:l===11?KP:void ye()}(this.ui),o;return this.Ei.runTransaction(e,r,s,a=>(o=new Gf(a,this.kr?this.kr.next():Zi.oe),t==="readwrite-primary"?this.gi(o).next(l=>!!l||this.pi(o)).next(l=>{if(!l)throw sn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new ee(q.FAILED_PRECONDITION,HP);return i(o)}).next(l=>this.wi(o).next(()=>l)):this.ki(o).next(()=>i(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}ki(e){return Pf(e).get("owner").next(t=>{if(t!==null&&this.Ci(t.leaseTimestampMs,5e3)&&!this.Mi(t.ownerId)&&!this.Si(t)&&!(this.ai||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ee(q.FAILED_PRECONDITION,ME)})}wi(e){let t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Pf(e).put("owner",t)}static D(){return Ba.D()}yi(e){let t=Pf(e);return t.get("owner").next(i=>this.Si(i)?(te("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):$.resolve())}Ci(e,t){let i=Date.now();return!(e<i-t)&&(!(e>i)||(sn(`Detected an update time that is in the future: ${e} > ${i}`),!1))}Ri(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground=this.document.visibilityState==="visible")}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ci=()=>{this.xi();let t=/(?:Version|Mobile)\/1[456]/;kw()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var t;try{let i=((t=this.di)===null||t===void 0?void 0:t.getItem(this.Fi(e)))!==null;return te("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return sn("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){sn("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}};function Pf(n){return Nn(n,"owner")}function D_(n){return Nn(n,"clientMetadata")}function BD(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}var BI=class n{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.qi=i,this.Qi=r}static Ki(e,t){let i=He(),r=He();for(let s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new n(e,t.fromCache,i,r)}};var UI=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var sy=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return kw()?8:GP(Gh())>0?6:4}()}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,i,r){let s={result:null};return this.ji(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,t,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new UI;return this.Ji(e,t,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,t,o,a.size)})}).next(()=>s.result)}Yi(e,t,i,r){return i.documentReadCount<this.Wi?(sd()<=ps.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",od(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),$.resolve()):(sd()<=ps.DEBUG&&te("QueryEngine","Query:",od(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Gi*r?(sd()<=ps.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",od(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bi(t))):$.resolve())}ji(e,t){if(Xk(t))return $.resolve(null);let i=bi(t);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(t.limit!==null&&r===1&&(t=H_(t,null,"F"),i=bi(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{let o=He(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,i).next(l=>{let c=this.Zi(t,a);return this.Xi(t,c,o,l.readTime)?this.ji(e,H_(t,null,"F")):this.es(e,c,t,l)}))})))}Hi(e,t,i,r){return Xk(t)||r.isEqual(Me.min())?$.resolve(null):this.zi.getDocuments(e,i).next(s=>{let o=this.Zi(t,s);return this.Xi(t,o,i,r)?$.resolve(null):(sd()<=ps.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),od(t)),this.es(e,o,t,zP(r,-1)).next(a=>a))})}Zi(e,t){let i=new At(u2(e));return t.forEach((r,s)=>{pp(e,s)&&(i=i.add(s))}),i}Xi(e,t,i,r){if(e.limit===null)return!1;if(i.size!==t.size)return!0;let s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ji(e,t,i){return sd()<=ps.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",od(t)),this.zi.getDocumentsMatchingQuery(e,t,Cr.min(),i)}es(e,t,i,r){return this.zi.getDocumentsMatchingQuery(e,i,r).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}};var jI=class{constructor(e,t,i,r){this.persistence=e,this.ts=t,this.serializer=r,this.ns=new Pt(je),this.rs=new Bs(s=>dc(s),hp),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(i)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ny(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ns))}};function G2(n,e,t,i){return new jI(n,e,t,i)}function q2(n,e){return F(this,null,function*(){let t=pe(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,t._s(e),t.mutationQueue.getAllMutationBatches(i))).next(s=>{let o=[],a=[],l=He();for(let c of r){o.push(c.batchId);for(let d of c.mutations)l=l.add(d.key)}for(let c of s){a.push(c.batchId);for(let d of c.mutations)l=l.add(d.key)}return t.localDocuments.getDocuments(i,l).next(c=>({us:c,removedBatchIds:o,addedBatchIds:a}))})})})}function R7(n,e){let t=pe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let r=e.batch.keys(),s=t.os.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){let h=c.batch,m=h.keys(),v=$.resolve();return m.forEach(C=>{v=v.next(()=>d.getEntry(l,C)).next(A=>{let S=c.docVersions.get(C);Te(S!==null),A.version.compareTo(S)<0&&(h.applyToRemoteDocument(A,c),A.isValidDocument()&&(A.setReadTime(c.commitVersion),d.addEntry(A)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=He();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function W2(n){let e=pe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Qr.getLastRemoteSnapshotVersion(t))}function O7(n,e){let t=pe(n),i=e.snapshotVersion,r=t.ns;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=t.os.newChangeBuffer({trackRemovals:!0});r=t.ns;let a=[];e.targetChanges.forEach((d,h)=>{let m=r.get(h);if(!m)return;a.push(t.Qr.removeMatchingKeys(s,d.removedDocuments,h).next(()=>t.Qr.addMatchingKeys(s,d.addedDocuments,h)));let v=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?v=v.withResumeToken(On.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):d.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(d.resumeToken,i)),r=r.insert(h,v),function(A,S,j){return A.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=3e8?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(m,v,d)&&a.push(t.Qr.updateTargetData(s,v))});let l=Ni(),c=He();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(K2(s,o,e.documentUpdates).next(d=>{l=d.cs,c=d.ls})),!i.isEqual(Me.min())){let d=t.Qr.getLastRemoteSnapshotVersion(s).next(h=>t.Qr.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(d)}return $.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(t.ns=r,s))}function K2(n,e,t){let i=He(),r=He();return t.forEach(s=>i=i.add(s)),e.getEntries(n,i).next(s=>{let o=Ni();return t.forEach((a,l)=>{let c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(Me.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):te("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{cs:o,ls:r}})}function N7(n,e){let t=pe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Ed(n,e){let t=pe(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Qr.getTargetData(i,e).next(s=>s?(r=s,$.resolve(r)):t.Qr.allocateTargetId(i).next(o=>(r=new bd(e,o,"TargetPurposeListen",i.currentSequenceNumber),t.Qr.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=t.ns.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.ns=t.ns.insert(i.targetId,i),t.rs.set(e,i.targetId)),i})}function Id(n,e,t){return F(this,null,function*(){let i=pe(n),r=i.ns.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!Qa(o))throw o;te("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}i.ns=i.ns.remove(e),i.rs.delete(r.target)})}function oy(n,e,t){let i=pe(n),r=Me.min(),s=He();return i.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){let h=pe(l),m=h.rs.get(d);return m!==void 0?$.resolve(h.ns.get(m)):h.Qr.getTargetData(c,d)}(i,o,bi(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>i.ts.getDocumentsMatchingQuery(o,e,t?r:Me.min(),t?s:He())).next(a=>(Y2(i,c2(e),a),{documents:a,hs:s})))}function Q2(n,e){let t=pe(n),i=pe(t.Qr),r=t.ns.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",s=>i.ot(s,e).next(o=>o?o.target:null))}function Z2(n,e){let t=pe(n),i=t.ss.get(e)||Me.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.os.getAllFromCollectionGroup(r,e,zP(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(Y2(t,e,r),r))}function Y2(n,e,t){let i=n.ss.get(e)||Me.min();t.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.ss.set(e,i)}function k7(n,e,t,i){return F(this,null,function*(){let r=pe(n),s=He(),o=Ni();for(let c of t){let d=e.Ps(c.metadata.name);c.document&&(s=s.add(d));let h=e.Is(c);h.setReadTime(e.Ts(c.metadata.readTime)),o=o.insert(d,h)}let a=r.os.newChangeBuffer({trackRemovals:!0}),l=yield Ed(r,function(d){return bi(Od(ot.fromString(`__bundle__/docs/${d}`)))}(i));return r.persistence.runTransaction("Apply bundle documents","readwrite",c=>K2(c,a,o).next(d=>(a.apply(c),d)).next(d=>r.Qr.removeMatchingKeysForTargetId(c,l.targetId).next(()=>r.Qr.addMatchingKeys(c,s,l.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(c,d.cs,d.ls)).next(()=>d.cs)))})}function P7(i,r){return F(this,arguments,function*(n,e,t=He()){let s=yield Ed(n,bi(LD(e.bundledQuery))),o=pe(n);return o.persistence.runTransaction("Save named query","readwrite",a=>{let l=an(e.readTime);if(s.snapshotVersion.compareTo(l)>=0)return o.$r.saveNamedQuery(a,e);let c=s.withResumeToken(On.EMPTY_BYTE_STRING,l);return o.ns=o.ns.insert(c.targetId,c),o.Qr.updateTargetData(a,c).next(()=>o.Qr.removeMatchingKeysForTargetId(a,s.targetId)).next(()=>o.Qr.addMatchingKeys(a,t,s.targetId)).next(()=>o.$r.saveNamedQuery(a,e))})})}function SP(n,e){return`firestore_clients_${n}_${e}`}function MP(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function AE(n,e){return`firestore_targets_${n}_${e}`}var ay=class n{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Es(e,t,i){let r=JSON.parse(i),s,o=typeof r=="object"&&["pending","acknowledged","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return o&&r.error&&(o=typeof r.error.message=="string"&&typeof r.error.code=="string",o&&(s=new ee(r.error.code,r.error.message))),o?new n(e,t,r.state,s):(sn("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}ds(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},jf=class n{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Es(e,t){let i=JSON.parse(t),r,s=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return s&&i.error&&(s=typeof i.error.message=="string"&&typeof i.error.code=="string",s&&(r=new ee(i.error.code,i.error.message))),s?new n(e,i.state,r):(sn("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}ds(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},ly=class n{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Es(e,t){let i=JSON.parse(t),r=typeof i=="object"&&i.activeTargetIds instanceof Array,s=PD();for(let o=0;r&&o<i.activeTargetIds.length;++o)r=qP(i.activeTargetIds[o]),s=s.add(i.activeTargetIds[o]);return r?new n(e,s):(sn("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}},zI=class n{constructor(e,t){this.clientId=e,this.onlineState=t}static Es(e){let t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new n(t.clientId,t.onlineState):(sn("SharedClientState",`Failed to parse online state: ${e}`),null)}},rp=class{constructor(){this.activeTargetIds=PD()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}},zf=class{constructor(e,t,i,r,s){this.window=e,this.oi=t,this.persistenceKey=i,this.Vs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new Pt(je),this.started=!1,this.ys=[];let o=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ws=SP(this.persistenceKey,this.Vs),this.Ss=function(l){return`firestore_sequence_number_${l}`}(this.persistenceKey),this.ps=this.ps.insert(this.Vs,new rp),this.bs=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.vs=function(l){return`firestore_online_state_${l}`}(this.persistenceKey),this.Fs=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}start(){return F(this,null,function*(){let e=yield this.syncEngine.Bi();for(let i of e){if(i===this.Vs)continue;let r=this.getItem(SP(this.persistenceKey,i));if(r){let s=ly.Es(i,r);s&&(this.ps=this.ps.insert(s.clientId,s))}}this.Ms();let t=this.storage.getItem(this.vs);if(t){let i=this.xs(t);i&&this.Os(i)}for(let i of this.ys)this.gs(i);this.ys=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0})}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let t=!1;return this.ps.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,t,i){this.Ls(e,t,i),this.Bs(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){let i=this.storage.getItem(AE(this.persistenceKey,e));if(i){let r=jf.Es(e,i);r&&(t=r.state)}}return this.ks.As(e),this.Ms(),t}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(AE(this.persistenceKey,e))}updateQueryState(e,t,i){this.qs(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Bs(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){let t=this.storage.getItem(e);return te("SharedClientState","READ",e,t),t}setItem(e,t){te("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){te("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){let t=e;if(t.storageArea===this.storage){if(te("SharedClientState","EVENT",t.key,t.newValue),t.key===this.ws)return void sn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable(()=>F(this,null,function*(){if(this.started){if(t.key!==null){if(this.bs.test(t.key)){if(t.newValue==null){let i=this.$s(t.key);return this.Us(i,null)}{let i=this.Ws(t.key,t.newValue);if(i)return this.Us(i.clientId,i)}}else if(this.Ds.test(t.key)){if(t.newValue!==null){let i=this.Gs(t.key,t.newValue);if(i)return this.zs(i)}}else if(this.Cs.test(t.key)){if(t.newValue!==null){let i=this.js(t.key,t.newValue);if(i)return this.Hs(i)}}else if(t.key===this.vs){if(t.newValue!==null){let i=this.xs(t.newValue);if(i)return this.Os(i)}}else if(t.key===this.Ss){let i=function(s){let o=Zi.oe;if(s!=null)try{let a=JSON.parse(s);Te(typeof a=="number"),o=a}catch(a){sn("SharedClientState","Failed to read sequence number from WebStorage",a)}return o}(t.newValue);i!==Zi.oe&&this.sequenceNumberHandler(i)}else if(t.key===this.Fs){let i=this.Js(t.newValue);yield Promise.all(i.map(r=>this.syncEngine.Ys(r)))}}}else this.ys.push(t)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,t,i){let r=new ay(this.currentUser,e,t,i),s=MP(this.persistenceKey,this.currentUser,e);this.setItem(s,r.ds())}Bs(e){let t=MP(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Qs(e){let t={clientId:this.Vs,onlineState:e};this.storage.setItem(this.vs,JSON.stringify(t))}qs(e,t,i){let r=AE(this.persistenceKey,e),s=new jf(e,t,i);this.setItem(r,s.ds())}Ks(e){let t=JSON.stringify(Array.from(e));this.setItem(this.Fs,t)}$s(e){let t=this.bs.exec(e);return t?t[1]:null}Ws(e,t){let i=this.$s(e);return ly.Es(i,t)}Gs(e,t){let i=this.Ds.exec(e),r=Number(i[1]),s=i[2]!==void 0?i[2]:null;return ay.Es(new _n(s),r,t)}js(e,t){let i=this.Cs.exec(e),r=Number(i[1]);return jf.Es(r,t)}xs(e){return zI.Es(e)}Js(e){return JSON.parse(e)}zs(e){return F(this,null,function*(){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Zs(e.batchId,e.state,e.error);te("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,t){let i=t?this.ps.insert(e,t):this.ps.remove(e),r=this.Ns(this.ps),s=this.Ns(i),o=[],a=[];return s.forEach(l=>{r.has(l)||o.push(l)}),r.forEach(l=>{s.has(l)||a.push(l)}),this.syncEngine.eo(o,a).then(()=>{this.ps=i})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let t=PD();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}},cy=class{constructor(){this.no=new rp,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,i){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new rp,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var $I=class{io(e){}shutdown(){}};var uy=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var T_=null;function xE(){return T_===null?T_=function(){return 268435456+Math.round(2147483648*Math.random())}():T_++,"0x"+T_.toString(16)}var F7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var HI=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}};var si="WebChannelConnection",GI=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=i+"://"+t.host,this.So=`projects/${r}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get Do(){return!1}Co(t,i,r,s,o){let a=xE(),l=this.vo(t,i.toUriEncodedString());te("RestConnection",`Sending RPC '${t}' ${a}:`,l,r);let c={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(c,s,o),this.Mo(t,l,c,r).then(d=>(te("RestConnection",`Received RPC '${t}' ${a}: `,d),d),d=>{throw br("RestConnection",`RPC '${t}' ${a} failed with error: `,d,"url: ",l,"request:",r),d})}xo(t,i,r,s,o,a){return this.Co(t,i,r,s,o)}Fo(t,i,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Rd}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>t[o]=s),r&&r.headers.forEach((s,o)=>t[o]=s)}vo(t,i){let r=F7[t];return`${this.wo}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,t,i,r){let s=xE();return new Promise((o,a)=>{let l=new bE;l.setWithCredentials(!0),l.listenOnce(EE.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Rf.NO_ERROR:let d=l.getResponseJson();te(si,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case Rf.TIMEOUT:te(si,`RPC '${e}' ${s} timed out`),a(new ee(q.DEADLINE_EXCEEDED,"Request time out"));break;case Rf.HTTP_ERROR:let h=l.getStatus();if(te(si,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);let v=m?.error;if(v&&v.status&&v.message){let C=function(S){let j=S.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(j)>=0?j:q.UNKNOWN}(v.status);a(new ee(C,v.message))}else a(new ee(q.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ee(q.UNAVAILABLE,"Connection failed."));break;default:ye()}}finally{te(si,`RPC '${e}' ${s} completed.`)}});let c=JSON.stringify(r);te(si,`RPC '${e}' ${s} sending request:`,r),l.send(t,"POST",c,i,15)})}Oo(e,t,i){let r=xE(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=TE(),a=DE(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new CE({})),this.Fo(l.initMessageHeaders,t,i),l.encodeInitMessageHeaders=!0;let d=s.join("");te(si,`Creating RPC '${e}' stream ${r}: ${d}`,l);let h=o.createWebChannel(d,l),m=!1,v=!1,C=new HI({lo:S=>{v?te(si,`Not sending because RPC '${e}' stream ${r} is closed:`,S):(m||(te(si,`Opening RPC '${e}' stream ${r} transport.`),h.open(),m=!0),te(si,`RPC '${e}' stream ${r} sending:`,S),h.send(S))},ho:()=>h.close()}),A=(S,j,Z)=>{S.listen(j,W=>{try{Z(W)}catch(Y){setTimeout(()=>{throw Y},0)}})};return A(h,ed.EventType.OPEN,()=>{v||(te(si,`RPC '${e}' stream ${r} transport opened.`),C.mo())}),A(h,ed.EventType.CLOSE,()=>{v||(v=!0,te(si,`RPC '${e}' stream ${r} transport closed`),C.po())}),A(h,ed.EventType.ERROR,S=>{v||(v=!0,br(si,`RPC '${e}' stream ${r} transport errored:`,S),C.po(new ee(q.UNAVAILABLE,"The operation could not be completed")))}),A(h,ed.EventType.MESSAGE,S=>{var j;if(!v){let Z=S.data[0];Te(!!Z);let W=Z,Y=W.error||((j=W[0])===null||j===void 0?void 0:j.error);if(Y){te(si,`RPC '${e}' stream ${r} received error:`,Y);let ge=Y.status,ae=function(M){let N=gn[M];if(N!==void 0)return I2(N)}(ge),R=Y.message;ae===void 0&&(ae=q.INTERNAL,R="Unknown error status: "+ge+" with message "+Y.message),v=!0,C.po(new ee(ae,R)),h.close()}else te(si,`RPC '${e}' stream ${r} received:`,Z),C.yo(Z)}}),A(a,IE.STAT_EVENT,S=>{S.stat===C_.PROXY?te(si,`RPC '${e}' stream ${r} detected buffering proxy`):S.stat===C_.NOPROXY&&te(si,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{C.fo()},0),C}};function J2(){return typeof window<"u"?window:null}function R_(){return typeof document<"u"?document:null}function gp(n){return new lI(n,!0)}var sp=class{constructor(e,t,i=1e3,r=1.5,s=6e4){this.oi=e,this.timerId=t,this.No=i,this.Lo=r,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();let t=Math.floor(this.ko+this.Uo()),i=Math.max(0,Date.now()-this.Qo),r=Math.max(0,t-i);r>0&&te("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.ko} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,r,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}};var dy=class{constructor(e,t,i,r,s,o,a,l){this.oi=e,this.Go=i,this.zo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new sp(e,t)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}stop(){return F(this,null,function*(){this.Zo()&&(yield this.close(0))})}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){return F(this,null,function*(){if(this.Xo())return this.close(0)})}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,t){return F(this,null,function*(){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():t&&t.code===q.RESOURCE_EXHAUSTED?(sn(t.toString()),sn("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):t&&t.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Ao(t)})}__(){}auth(){this.state=1;let e=this.a_(this.jo),t=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.jo===t&&this.u_(i,r)},i=>{e(()=>{let r=new ee(q.UNKNOWN,"Fetching auth token failed: "+i.message);return this.c_(r)})})}u_(e,t){let i=this.a_(this.jo);this.stream=this.l_(e,t),this.stream.Po(()=>{i(()=>this.listener.Po())}),this.stream.To(()=>{i(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(r=>{i(()=>this.c_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}e_(){this.state=5,this.Yo.$o(()=>F(this,null,function*(){this.state=0,this.start()}))}c_(e){return te("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return t=>{this.oi.enqueueAndForget(()=>this.jo===e?t():(te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},qI=class extends dy{constructor(e,t,i,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,o),this.serializer=s}l_(e,t){return this.connection.Oo("Listen",e,t)}onMessage(e){this.Yo.reset();let t=w7(this.serializer,e),i=function(s){if(!("targetChange"in s))return Me.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?Me.min():o.readTime?an(o.readTime):Me.min()}(e);return this.listener.h_(t,i)}P_(e){let t={};t.database=dI(this.serializer),t.addTarget=function(s,o){let a,l=o.target;if(a=z_(l)?{documents:O2(s,l)}:{query:N2(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=T2(s,o.resumeToken);let c=cI(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Me.min())>0){a.readTime=wd(s,o.snapshotVersion.toTimestamp());let c=cI(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);let i=C7(this.serializer,e);i&&(t.labels=i),this.i_(t)}I_(e){let t={};t.database=dI(this.serializer),t.removeTarget=e,this.i_(t)}},WI=class extends dy{constructor(e,t,i,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,o),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,t){return this.connection.Oo("Write",e,t)}onMessage(e){if(Te(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();let t=b7(e.writeResults,e.commitTime),i=an(e.commitTime);return this.listener.A_(i,t)}return Te(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){let e={};e.database=dI(this.serializer),this.i_(e)}d_(e){let t={streamToken:this.lastStreamToken,writes:e.map(i=>tp(this.serializer,i))};this.i_(t)}};var KI=class extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.m_=!1}f_(){if(this.m_)throw new ee(q.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,t,i,r){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,uI(t,i),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ee(q.UNKNOWN,s.toString())})}xo(e,t,i,r,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.xo(e,uI(t,i),r,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ee(q.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}},QI=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(sn(t),this.y_=!1):te("OnlineStateTracker",t)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}};var ZI=class{constructor(e,t,i,r,s){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(o=>{i.enqueueAndForget(()=>F(this,null,function*(){Za(this)&&(te("RemoteStore","Restarting streams for network reachability change."),yield function(l){return F(this,null,function*(){let c=pe(l);c.M_.add(4),yield Nd(c),c.N_.set("Unknown"),c.M_.delete(4),yield mp(c)})}(this))}))}),this.N_=new QI(i,r)}};function mp(n){return F(this,null,function*(){if(Za(n))for(let e of n.x_)yield e(!0)})}function Nd(n){return F(this,null,function*(){for(let e of n.x_)yield e(!1)})}function xy(n,e){let t=pe(n);t.F_.has(e.targetId)||(t.F_.set(e.targetId,e),zD(t)?jD(t):Pd(t).Xo()&&UD(t,e))}function Dd(n,e){let t=pe(n),i=Pd(t);t.F_.delete(e),i.Xo()&&X2(t,e),t.F_.size===0&&(i.Xo()?i.n_():Za(t)&&t.N_.set("Unknown"))}function UD(n,e){if(n.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Pd(n).P_(e)}function X2(n,e){n.L_.xe(e),Pd(n).I_(e)}function jD(n){n.L_=new aI({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.F_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),Pd(n).start(),n.N_.w_()}function zD(n){return Za(n)&&!Pd(n).Zo()&&n.F_.size>0}function Za(n){return pe(n).M_.size===0}function eF(n){n.L_=void 0}function L7(n){return F(this,null,function*(){n.N_.set("Online")})}function V7(n){return F(this,null,function*(){n.F_.forEach((e,t)=>{UD(n,e)})})}function B7(n,e){return F(this,null,function*(){eF(n),zD(n)?(n.N_.D_(e),jD(n)):n.N_.set("Unknown")})}function U7(n,e,t){return F(this,null,function*(){if(n.N_.set("Online"),e instanceof q_&&e.state===2&&e.cause)try{yield function(r,s){return F(this,null,function*(){let o=s.cause;for(let a of s.targetIds)r.F_.has(a)&&(yield r.remoteSyncer.rejectListen(a,o),r.F_.delete(a),r.L_.removeTarget(a))})}(n,e)}catch(i){te("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield hy(n,i)}else if(e instanceof fd?n.L_.Ke(e):e instanceof G_?n.L_.He(e):n.L_.We(e),!t.isEqual(Me.min()))try{let i=yield W2(n.localStore);t.compareTo(i)>=0&&(yield function(s,o){let a=s.L_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){let d=s.F_.get(c);d&&s.F_.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{let d=s.F_.get(l);if(!d)return;s.F_.set(l,d.withResumeToken(On.EMPTY_BYTE_STRING,d.snapshotVersion)),X2(s,l);let h=new bd(d.target,l,c,d.sequenceNumber);UD(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(i){te("RemoteStore","Failed to raise snapshot:",i),yield hy(n,i)}})}function hy(n,e,t){return F(this,null,function*(){if(!Qa(e))throw e;n.M_.add(1),yield Nd(n),n.N_.set("Offline"),t||(t=()=>W2(n.localStore)),n.asyncQueue.enqueueRetryable(()=>F(this,null,function*(){te("RemoteStore","Retrying IndexedDB access"),yield t(),n.M_.delete(1),yield mp(n)}))})}function tF(n,e){return e().catch(t=>hy(n,t,e))}function kd(n){return F(this,null,function*(){let e=pe(n),t=Wa(e),i=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;j7(e);)try{let r=yield N7(e.localStore,i);if(r===null){e.v_.length===0&&t.n_();break}i=r.batchId,z7(e,r)}catch(r){yield hy(e,r)}nF(e)&&iF(e)})}function j7(n){return Za(n)&&n.v_.length<10}function z7(n,e){n.v_.push(e);let t=Wa(n);t.Xo()&&t.E_&&t.d_(e.mutations)}function nF(n){return Za(n)&&!Wa(n).Zo()&&n.v_.length>0}function iF(n){Wa(n).start()}function $7(n){return F(this,null,function*(){Wa(n).V_()})}function H7(n){return F(this,null,function*(){let e=Wa(n);for(let t of n.v_)e.d_(t.mutations)})}function G7(n,e,t){return F(this,null,function*(){let i=n.v_.shift(),r=rI.from(i,e,t);yield tF(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield kd(n)})}function q7(n,e){return F(this,null,function*(){e&&Wa(n).E_&&(yield function(i,r){return F(this,null,function*(){if(function(o){return E2(o)&&o!==q.ABORTED}(r.code)){let s=i.v_.shift();Wa(i).t_(),yield tF(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),yield kd(i)}})}(n,e)),nF(n)&&iF(n)})}function AP(n,e){return F(this,null,function*(){let t=pe(n);t.asyncQueue.verifyOperationInProgress(),te("RemoteStore","RemoteStore received new credentials");let i=Za(t);t.M_.add(3),yield Nd(t),i&&t.N_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.M_.delete(3),yield mp(t)})}function YI(n,e){return F(this,null,function*(){let t=pe(n);e?(t.M_.delete(2),yield mp(t)):e||(t.M_.add(2),yield Nd(t),t.N_.set("Unknown"))})}function Pd(n){return n.B_||(n.B_=function(t,i,r){let s=pe(t);return s.f_(),new qI(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{Po:L7.bind(null,n),To:V7.bind(null,n),Ao:B7.bind(null,n),h_:U7.bind(null,n)}),n.x_.push(e=>F(this,null,function*(){e?(n.B_.t_(),zD(n)?jD(n):n.N_.set("Unknown")):(yield n.B_.stop(),eF(n))}))),n.B_}function Wa(n){return n.k_||(n.k_=function(t,i,r){let s=pe(t);return s.f_(),new WI(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{Po:()=>Promise.resolve(),To:$7.bind(null,n),Ao:q7.bind(null,n),R_:H7.bind(null,n),A_:G7.bind(null,n)}),n.x_.push(e=>F(this,null,function*(){e?(n.k_.t_(),yield kd(n)):(yield n.k_.stop(),n.v_.length>0&&(te("RemoteStore",`Stopping write stream with ${n.v_.length} pending writes`),n.v_=[]))}))),n.k_}var JI=class n{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new yn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,s){let o=Date.now()+i,a=new n(e,t,o,r,s);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ee(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Fd(n,e){if(sn("AsyncQueue",`${e}: ${n}`),Qa(n))return new ee(q.UNAVAILABLE,`${e}: ${n}`);throw n}var fy=class n{constructor(e){this.comparator=e?(t,i)=>e(t,i)||fe.comparator(t.key,i.key):(t,i)=>fe.comparator(t.key,i.key),this.keyedMap=Ff(),this.sortedSet=new Pt(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){let r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let i=new n;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}};var py=class{constructor(){this.q_=new Pt(fe.comparator)}track(e){let t=e.doc.key,i=this.q_.get(t);i?e.type!==0&&i.type===3?this.q_=this.q_.insert(t,e):e.type===3&&i.type!==1?this.q_=this.q_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.q_=this.q_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.q_=this.q_.remove(t):e.type===1&&i.type===2?this.q_=this.q_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):ye():this.q_=this.q_.insert(t,e)}Q_(){let e=[];return this.q_.inorderTraversal((t,i)=>{e.push(i)}),e}},Td=class n{constructor(e,t,i,r,s,o,a,l,c){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,i,r,s){let o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new n(e,t,fy.emptySet(t),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}};var XI=class{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}},eD=class{constructor(){this.queries=new Bs(e=>l2(e),fp),this.onlineState="Unknown",this.z_=new Set}};function $D(n,e){return F(this,null,function*(){let t=pe(n),i=3,r=e.query,s=t.queries.get(r);s?!s.W_()&&e.G_()&&(i=2):(s=new XI,i=e.G_()?0:1);try{switch(i){case 0:s.K_=yield t.onListen(r,!0);break;case 1:s.K_=yield t.onListen(r,!1);break;case 2:yield t.onFirstRemoteStoreListen(r)}}catch(o){let a=Fd(o,`Initialization of query '${od(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.U_.push(e),e.j_(t.onlineState),s.K_&&e.H_(s.K_)&&GD(t)})}function HD(n,e){return F(this,null,function*(){let t=pe(n),i=e.query,r=3,s=t.queries.get(i);if(s){let o=s.U_.indexOf(e);o>=0&&(s.U_.splice(o,1),s.U_.length===0?r=e.G_()?0:1:!s.W_()&&e.G_()&&(r=2))}switch(r){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}})}function W7(n,e){let t=pe(n),i=!1;for(let r of e){let s=r.query,o=t.queries.get(s);if(o){for(let a of o.U_)a.H_(r)&&(i=!0);o.K_=r}}i&&GD(t)}function K7(n,e,t){let i=pe(n),r=i.queries.get(e);if(r)for(let s of r.U_)s.onError(t);i.queries.delete(e)}function GD(n){n.z_.forEach(e=>{e.next()})}var tD,xP;(xP=tD||(tD={})).J_="default",xP.Cache="cache";var op=class{constructor(e,t,i){this.query=e,this.Y_=t,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=i||{}}H_(e){if(!this.options.includeMetadataChanges){let i=[];for(let r of e.docChanges)r.type!==3&&i.push(r);e=new Td(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),t=!0):this.ta(e,this.onlineState)&&(this.na(e),t=!0),this.X_=e,t}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let t=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),t=!0),t}ta(e,t){if(!e.fromCache||!this.G_())return!0;let i=t!=="Offline";return(!this.options.ra||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ea(e){if(e.docChanges.length>0)return!0;let t=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}na(e){e=Td.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==tD.Cache}};var nD=class{constructor(e,t){this.ia=e,this.byteLength=t}sa(){return"metadata"in this.ia}};var gy=class{constructor(e){this.serializer=e}Ps(e){return Ps(this.serializer,e)}Is(e){return e.metadata.exists?R2(this.serializer,e.document,!1):vn.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return an(e)}},iD=class{constructor(e,t,i){this.oa=e,this.localStore=t,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=rF(e)}_a(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ia.namedQuery)this.queries.push(e.ia.namedQuery);else if(e.ia.documentMetadata){this.documents.push({metadata:e.ia.documentMetadata}),e.ia.documentMetadata.exists||++t;let i=ot.fromString(e.ia.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.ia.document&&(this.documents[this.documents.length-1].document=e.ia.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}aa(e){let t=new Map,i=new gy(this.serializer);for(let r of e)if(r.metadata.queries){let s=i.Ps(r.metadata.name);for(let o of r.metadata.queries){let a=(t.get(o)||He()).add(s);t.set(o,a)}}return t}complete(){return F(this,null,function*(){let e=yield k7(this.localStore,new gy(this.serializer),this.documents,this.oa.id),t=this.aa(this.documents);for(let i of this.queries)yield P7(this.localStore,i,t.get(i.name));return this.progress.taskState="Success",{progress:this.progress,ua:this.collectionGroups,ca:e}})}};function rF(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}var my=class{constructor(e){this.key=e}},_y=class{constructor(e){this.key=e}},yy=class{constructor(e,t){this.query=e,this.la=t,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=He(),this.mutatedKeys=He(),this.Ia=u2(e),this.Ta=new fy(this.Ia)}get Ea(){return this.la}da(e,t){let i=t?t.Aa:new py,r=t?t.Ta:this.Ta,s=t?t.mutatedKeys:this.mutatedKeys,o=r,a=!1,l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((d,h)=>{let m=r.get(d),v=pp(this.query,h)?h:null,C=!!m&&this.mutatedKeys.has(m.key),A=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations),S=!1;m&&v?m.data.isEqual(v.data)?C!==A&&(i.track({type:3,doc:v}),S=!0):this.Ra(m,v)||(i.track({type:2,doc:v}),S=!0,(l&&this.Ia(v,l)>0||c&&this.Ia(v,c)<0)&&(a=!0)):!m&&v?(i.track({type:0,doc:v}),S=!0):m&&!v&&(i.track({type:1,doc:m}),S=!0,(l||c)&&(a=!0)),S&&(v?(o=o.add(v),s=A?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),i.track({type:1,doc:d})}return{Ta:o,Aa:i,Xi:a,mutatedKeys:s}}Ra(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){let s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;let o=e.Aa.Q_();o.sort((d,h)=>function(v,C){let A=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye()}};return A(v)-A(C)}(d.type,h.type)||this.Ia(d.doc,h.doc)),this.Va(i),r=r!=null&&r;let a=t&&!r?this.ma():[],l=this.Pa.size===0&&this.current&&!r?1:0,c=l!==this.ha;return this.ha=l,o.length!==0||c?{snapshot:new Td(this.query,e.Ta,s,o,e.mutatedKeys,l===0,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new py,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(t=>this.la=this.la.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.la=this.la.delete(t)),this.current=e.current)}ma(){if(!this.current)return[];let e=this.Pa;this.Pa=He(),this.Ta.forEach(i=>{this.ga(i.key)&&(this.Pa=this.Pa.add(i.key))});let t=[];return e.forEach(i=>{this.Pa.has(i)||t.push(new _y(i))}),this.Pa.forEach(i=>{e.has(i)||t.push(new my(i))}),t}pa(e){this.la=e.hs,this.Pa=He();let t=this.da(e.documents);return this.applyChanges(t,!0)}ya(){return Td.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}},rD=class{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}},sD=class{constructor(e){this.key=e,this.wa=!1}},oD=class{constructor(e,t,i,r,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new Bs(a=>l2(a),fp),this.Da=new Map,this.Ca=new Set,this.va=new Pt(fe.comparator),this.Fa=new Map,this.Ma=new ip,this.xa={},this.Oa=new Map,this.Na=Cd.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}};function Q7(n,e,t=!0){return F(this,null,function*(){let i=Ry(n),r,s=i.ba.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.ya()):r=yield sF(i,e,t,!0),r})}function Z7(n,e){return F(this,null,function*(){let t=Ry(n);yield sF(t,e,!0,!1)})}function sF(n,e,t,i){return F(this,null,function*(){let r=yield Ed(n.localStore,bi(e)),s=r.targetId,o=t?n.sharedClientState.addLocalQueryTarget(s):"not-current",a;return i&&(a=yield qD(n,e,s,o==="current",r.resumeToken)),n.isPrimaryClient&&t&&xy(n.remoteStore,r),a})}function qD(n,e,t,i,r){return F(this,null,function*(){n.Ba=(h,m,v)=>function(A,S,j,Z){return F(this,null,function*(){let W=S.view.da(j);W.Xi&&(W=yield oy(A.localStore,S.query,!1).then(({documents:R})=>S.view.da(R,W)));let Y=Z&&Z.targetChanges.get(S.targetId),ge=Z&&Z.targetMismatches.get(S.targetId)!=null,ae=S.view.applyChanges(W,A.isPrimaryClient,Y,ge);return aD(A,S.targetId,ae.fa),ae.snapshot})}(n,h,m,v);let s=yield oy(n.localStore,e,!0),o=new yy(e,s.hs),a=o.da(s.documents),l=Xf.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",r),c=o.applyChanges(a,n.isPrimaryClient,l);aD(n,t,c.fa);let d=new rD(e,t,o);return n.ba.set(e,d),n.Da.has(t)?n.Da.get(t).push(e):n.Da.set(t,[e]),c.snapshot})}function Y7(n,e,t){return F(this,null,function*(){let i=pe(n),r=i.ba.get(e),s=i.Da.get(r.targetId);if(s.length>1)return i.Da.set(r.targetId,s.filter(o=>!fp(o,e))),void i.ba.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Id(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),t&&Dd(i.remoteStore,r.targetId),Sd(i,r.targetId)}).catch(Ka))):(Sd(i,r.targetId),yield Id(i.localStore,r.targetId,!0))})}function J7(n,e){return F(this,null,function*(){let t=pe(n),i=t.ba.get(e),r=t.Da.get(i.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Dd(t.remoteStore,i.targetId))})}function X7(n,e,t){return F(this,null,function*(){let i=ZD(n);try{let r=yield function(o,a){let l=pe(o),c=Kt.now(),d=a.reduce((v,C)=>v.add(C.key),He()),h,m;return l.persistence.runTransaction("Locally write mutations","readwrite",v=>{let C=Ni(),A=He();return l.os.getEntries(v,d).next(S=>{C=S,C.forEach((j,Z)=>{Z.isValidDocument()||(A=A.add(j))})}).next(()=>l.localDocuments.getOverlayedDocuments(v,C)).next(S=>{h=S;let j=[];for(let Z of a){let W=f7(Z,h.get(Z.key).overlayedDocument);W!=null&&j.push(new Jr(Z.key,W,t2(W.value.mapValue),Xt.exists(!0)))}return l.mutationQueue.addMutationBatch(v,c,j,a)}).next(S=>{m=S;let j=S.applyToLocalDocumentSet(h,A);return l.documentOverlayCache.saveOverlays(v,S.batchId,j)})}).then(()=>({batchId:m.batchId,changes:h2(h)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,l){let c=o.xa[o.currentUser.toKey()];c||(c=new Pt(je)),c=c.insert(a,l),o.xa[o.currentUser.toKey()]=c}(i,r.batchId,t),yield ko(i,r.changes),yield kd(i.remoteStore)}catch(r){let s=Fd(r,"Failed to persist write");t.reject(s)}})}function oF(n,e){return F(this,null,function*(){let t=pe(n);try{let i=yield O7(t.localStore,e);e.targetChanges.forEach((r,s)=>{let o=t.Fa.get(s);o&&(Te(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.wa=!0:r.modifiedDocuments.size>0?Te(o.wa):r.removedDocuments.size>0&&(Te(o.wa),o.wa=!1))}),yield ko(t,i,e)}catch(i){yield Ka(i)}})}function RP(n,e,t){let i=pe(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){let r=[];i.ba.forEach((s,o)=>{let a=o.view.j_(e);a.snapshot&&r.push(a.snapshot)}),function(o,a){let l=pe(o);l.onlineState=a;let c=!1;l.queries.forEach((d,h)=>{for(let m of h.U_)m.j_(a)&&(c=!0)}),c&&GD(l)}(i.eventManager,e),r.length&&i.Sa.h_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function eq(n,e,t){return F(this,null,function*(){let i=pe(n);i.sharedClientState.updateQueryState(e,"rejected",t);let r=i.Fa.get(e),s=r&&r.key;if(s){let o=new Pt(fe.comparator);o=o.insert(s,vn.newNoDocument(s,Me.min()));let a=He().add(s),l=new Jf(Me.min(),new Map,new Pt(je),o,a);yield oF(i,l),i.va=i.va.remove(s),i.Fa.delete(e),QD(i)}else yield Id(i.localStore,e,!1).then(()=>Sd(i,e,t)).catch(Ka)})}function tq(n,e){return F(this,null,function*(){let t=pe(n),i=e.batch.batchId;try{let r=yield R7(t.localStore,e);KD(t,i,null),WD(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield ko(t,r)}catch(r){yield Ka(r)}})}function nq(n,e,t){return F(this,null,function*(){let i=pe(n);try{let r=yield function(o,a){let l=pe(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(Te(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(i.localStore,e);KD(i,e,t),WD(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield ko(i,r)}catch(r){yield Ka(r)}})}function iq(n,e){return F(this,null,function*(){let t=pe(n);Za(t.remoteStore)||te("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{let i=yield function(o){let a=pe(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(t.localStore);if(i===-1)return void e.resolve();let r=t.Oa.get(i)||[];r.push(e),t.Oa.set(i,r)}catch(i){let r=Fd(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}})}function WD(n,e){(n.Oa.get(e)||[]).forEach(t=>{t.resolve()}),n.Oa.delete(e)}function KD(n,e,t){let i=pe(n),r=i.xa[i.currentUser.toKey()];if(r){let s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.xa[i.currentUser.toKey()]=r}}function Sd(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let i of n.Da.get(e))n.ba.delete(i),t&&n.Sa.ka(i,t);n.Da.delete(e),n.isPrimaryClient&&n.Ma.Vr(e).forEach(i=>{n.Ma.containsKey(i)||aF(n,i)})}function aF(n,e){n.Ca.delete(e.path.canonicalString());let t=n.va.get(e);t!==null&&(Dd(n.remoteStore,t),n.va=n.va.remove(e),n.Fa.delete(t),QD(n))}function aD(n,e,t){for(let i of t)i instanceof my?(n.Ma.addReference(i.key,e),rq(n,i)):i instanceof _y?(te("SyncEngine","Document no longer in limbo: "+i.key),n.Ma.removeReference(i.key,e),n.Ma.containsKey(i.key)||aF(n,i.key)):ye()}function rq(n,e){let t=e.key,i=t.path.canonicalString();n.va.get(t)||n.Ca.has(i)||(te("SyncEngine","New document in limbo: "+t),n.Ca.add(i),QD(n))}function QD(n){for(;n.Ca.size>0&&n.va.size<n.maxConcurrentLimboResolutions;){let e=n.Ca.values().next().value;n.Ca.delete(e);let t=new fe(ot.fromString(e)),i=n.Na.next();n.Fa.set(i,new sD(t)),n.va=n.va.insert(t,i),xy(n.remoteStore,new bd(bi(Od(t.path)),i,"TargetPurposeLimboResolution",Zi.oe))}}function ko(n,e,t){return F(this,null,function*(){let i=pe(n),r=[],s=[],o=[];i.ba.isEmpty()||(i.ba.forEach((a,l)=>{o.push(i.Ba(l,e,t).then(c=>{if((c||t)&&i.isPrimaryClient){let d=c&&!c.fromCache;i.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){r.push(c);let d=BI.Ki(l.targetId,c);s.push(d)}}))}),yield Promise.all(o),i.Sa.h_(r),yield function(l,c){return F(this,null,function*(){let d=pe(l);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>$.forEach(c,m=>$.forEach(m.qi,v=>d.persistence.referenceDelegate.addReference(h,m.targetId,v)).next(()=>$.forEach(m.Qi,v=>d.persistence.referenceDelegate.removeReference(h,m.targetId,v)))))}catch(h){if(!Qa(h))throw h;te("LocalStore","Failed to update sequence numbers: "+h)}for(let h of c){let m=h.targetId;if(!h.fromCache){let v=d.ns.get(m),C=v.snapshotVersion,A=v.withLastLimboFreeSnapshotVersion(C);d.ns=d.ns.insert(m,A)}}})}(i.localStore,s))})}function sq(n,e){return F(this,null,function*(){let t=pe(n);if(!t.currentUser.isEqual(e)){te("SyncEngine","User change. New user:",e.toKey());let i=yield q2(t.localStore,e);t.currentUser=e,function(s,o){s.Oa.forEach(a=>{a.forEach(l=>{l.reject(new ee(q.CANCELLED,o))})}),s.Oa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield ko(t,i.us)}})}function oq(n,e){let t=pe(n),i=t.Fa.get(e);if(i&&i.wa)return He().add(i.key);{let r=He(),s=t.Da.get(e);if(!s)return r;for(let o of s){let a=t.ba.get(o);r=r.unionWith(a.view.Ea)}return r}}function aq(n,e){return F(this,null,function*(){let t=pe(n),i=yield oy(t.localStore,e.query,!0),r=e.view.pa(i);return t.isPrimaryClient&&aD(t,e.targetId,r.fa),r})}function lq(n,e){return F(this,null,function*(){let t=pe(n);return Z2(t.localStore,e).then(i=>ko(t,i))})}function cq(n,e,t,i){return F(this,null,function*(){let r=pe(n),s=yield function(a,l){let c=pe(a),d=pe(c.mutationQueue);return c.persistence.runTransaction("Lookup mutation documents","readonly",h=>d.vn(h,l).next(m=>m?c.localDocuments.getDocuments(h,m):$.resolve(null)))}(r.localStore,e);s!==null?(t==="pending"?yield kd(r.remoteStore):t==="acknowledged"||t==="rejected"?(KD(r,e,i||null),WD(r,e),function(a,l){pe(pe(a).mutationQueue).Mn(l)}(r.localStore,e)):ye(),yield ko(r,s)):te("SyncEngine","Cannot apply mutation batch with id: "+e)})}function uq(n,e){return F(this,null,function*(){let t=pe(n);if(Ry(t),ZD(t),e===!0&&t.La!==!0){let i=t.sharedClientState.getAllActiveQueryTargets(),r=yield OP(t,i.toArray());t.La=!0,yield YI(t.remoteStore,!0);for(let s of r)xy(t.remoteStore,s)}else if(e===!1&&t.La!==!1){let i=[],r=Promise.resolve();t.Da.forEach((s,o)=>{t.sharedClientState.isLocalQueryTarget(o)?i.push(o):r=r.then(()=>(Sd(t,o),Id(t.localStore,o,!0))),Dd(t.remoteStore,o)}),yield r,yield OP(t,i),function(o){let a=pe(o);a.Fa.forEach((l,c)=>{Dd(a.remoteStore,c)}),a.Ma.mr(),a.Fa=new Map,a.va=new Pt(fe.comparator)}(t),t.La=!1,yield YI(t.remoteStore,!1)}})}function OP(n,e,t){return F(this,null,function*(){let i=pe(n),r=[],s=[];for(let o of e){let a,l=i.Da.get(o);if(l&&l.length!==0){a=yield Ed(i.localStore,bi(l[0]));for(let c of l){let d=i.ba.get(c),h=yield aq(i,d);h.snapshot&&s.push(h.snapshot)}}else{let c=yield Q2(i.localStore,o);a=yield Ed(i.localStore,c),yield qD(i,lF(c),o,!1,a.resumeToken)}r.push(a)}return i.Sa.h_(s),r})}function lF(n){return a2(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function dq(n){return function(t){return pe(pe(t).persistence).Bi()}(pe(n).localStore)}function hq(n,e,t,i){return F(this,null,function*(){let r=pe(n);if(r.La)return void te("SyncEngine","Ignoring unexpected query state notification.");let s=r.Da.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{let o=yield Z2(r.localStore,c2(s[0])),a=Jf.createSynthesizedRemoteEventForCurrentChange(e,t==="current",On.EMPTY_BYTE_STRING);yield ko(r,o,a);break}case"rejected":yield Id(r.localStore,e,!0),Sd(r,e,i);break;default:ye()}})}function fq(n,e,t){return F(this,null,function*(){let i=Ry(n);if(i.La){for(let r of e){if(i.Da.has(r)&&i.sharedClientState.isActiveQueryTarget(r)){te("SyncEngine","Adding an already active target "+r);continue}let s=yield Q2(i.localStore,r),o=yield Ed(i.localStore,s);yield qD(i,lF(s),o.targetId,!1,o.resumeToken),xy(i.remoteStore,o)}for(let r of t)i.Da.has(r)&&(yield Id(i.localStore,r,!1).then(()=>{Dd(i.remoteStore,r),Sd(i,r)}).catch(Ka))}})}function Ry(n){let e=pe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=oF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=oq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=eq.bind(null,e),e.Sa.h_=W7.bind(null,e.eventManager),e.Sa.ka=K7.bind(null,e.eventManager),e}function ZD(n){let e=pe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=nq.bind(null,e),e}function pq(n,e,t){let i=pe(n);(function(s,o,a){return F(this,null,function*(){try{let l=yield o.getMetadata();if(yield function(v,C){let A=pe(v),S=an(C.createTime);return A.persistence.runTransaction("hasNewerBundle","readonly",j=>A.$r.getBundleMetadata(j,C.id)).then(j=>!!j&&j.createTime.compareTo(S)>=0)}(s.localStore,l))return yield o.close(),a._completeWith(function(v){return{taskState:"Success",documentsLoaded:v.totalDocuments,bytesLoaded:v.totalBytes,totalDocuments:v.totalDocuments,totalBytes:v.totalBytes}}(l)),Promise.resolve(new Set);a._updateProgress(rF(l));let c=new iD(l,s.localStore,o.serializer),d=yield o.qa();for(;d;){let m=yield c._a(d);m&&a._updateProgress(m),d=yield o.qa()}let h=yield c.complete();return yield ko(s,h.ca,void 0),yield function(v,C){let A=pe(v);return A.persistence.runTransaction("Save bundle","readwrite",S=>A.$r.saveBundleMetadata(S,C))}(s.localStore,l),a._completeWith(h.progress),Promise.resolve(h.ua)}catch(l){return br("SyncEngine",`Loading bundle failed with ${l}`),a._failWith(l),Promise.resolve(new Set)}})})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}var ap=class{constructor(){this.synchronizeTabs=!1}initialize(e){return F(this,null,function*(){this.serializer=gp(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return G2(this.persistence,new sy,e.initialUser,this.serializer)}createPersistence(e){return new iy(ry.Hr,this.serializer)}createSharedClientState(e){return new cy}terminate(){return F(this,null,function*(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var vy=class n extends ap{constructor(e,t,i){super(),this.Qa=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){return F(this,null,function*(){yield Ow(n.prototype,this,"initialize").call(this,e),yield this.Qa.initialize(this,e),yield ZD(this.Qa.syncEngine),yield kd(this.Qa.remoteStore),yield this.persistence.fi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))})}createLocalStore(e){return G2(this.persistence,new sy,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){let i=this.persistence.referenceDelegate.garbageCollector;return new II(i,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){let i=new zE(t,this.persistence);return new jE(e.asyncQueue,i)}createPersistence(e){let t=BD(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?wr.withCacheSize(this.cacheSizeBytes):wr.DEFAULT;return new VI(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,J2(),R_(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new cy}},lD=class n extends vy{constructor(e,t){super(e,t,!1),this.Qa=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){return F(this,null,function*(){yield Ow(n.prototype,this,"initialize").call(this,e);let t=this.Qa.syncEngine;this.sharedClientState instanceof zf&&(this.sharedClientState.syncEngine={Zs:cq.bind(null,t),Xs:hq.bind(null,t),eo:fq.bind(null,t),Bi:dq.bind(null,t),Ys:lq.bind(null,t)},yield this.sharedClientState.start()),yield this.persistence.fi(i=>F(this,null,function*(){yield uq(this.Qa.syncEngine,i),this.gcScheduler&&(i&&!this.gcScheduler.started?this.gcScheduler.start():i||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(i&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():i||this.indexBackfillerScheduler.stop())}))})}createSharedClientState(e){let t=J2();if(!zf.D(t))throw new ee(q.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");let i=BD(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new zf(t,e.asyncQueue,i,e.clientId,e.initialUser)}},lp=class{initialize(e,t){return F(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>RP(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=sq.bind(null,this.syncEngine),yield YI(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new eD}()}createDatastore(e){let t=gp(e.databaseInfo.databaseId),i=function(s){return new GI(s)}(e.databaseInfo);return function(s,o,a,l){return new KI(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,r,s,o,a){return new ZI(i,r,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,t=>RP(this.syncEngine,t,0),function(){return uy.D()?new uy:new $I}())}createSyncEngine(e,t){return function(r,s,o,a,l,c,d){let h=new oD(r,s,o,a,l,c);return d&&(h.La=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return F(this,null,function*(){var e;yield function(i){return F(this,null,function*(){let r=pe(i);te("RemoteStore","RemoteStore shutting down."),r.M_.add(5),yield Nd(r),r.O_.shutdown(),r.N_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};function NP(n,e=10240){let t=0;return{read(){return F(this,null,function*(){if(t<n.byteLength){let r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})},cancel(){return F(this,null,function*(){})},releaseLock(){},closed:Promise.resolve()}}var Md=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):sn("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}};var cD=class{constructor(e,t){this.Ua=e,this.serializer=t,this.metadata=new yn,this.buffer=new Uint8Array,this.Wa=function(){return new TextDecoder("utf-8")}(),this.Ga().then(i=>{i&&i.sa()?this.metadata.resolve(i.ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(i?.ia)}`))},i=>this.metadata.reject(i))}close(){return this.Ua.cancel()}getMetadata(){return F(this,null,function*(){return this.metadata.promise})}qa(){return F(this,null,function*(){return yield this.getMetadata(),this.Ga()})}Ga(){return F(this,null,function*(){let e=yield this.za();if(e===null)return null;let t=this.Wa.decode(e),i=Number(t);isNaN(i)&&this.ja(`length string (${t}) is not valid number`);let r=yield this.Ha(i);return new nD(JSON.parse(r),e.length+i)})}Ja(){return this.buffer.findIndex(e=>e===123)}za(){return F(this,null,function*(){for(;this.Ja()<0&&!(yield this.Ya()););if(this.buffer.length===0)return null;let e=this.Ja();e<0&&this.ja("Reached the end of bundle when a length string is expected.");let t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t})}Ha(e){return F(this,null,function*(){for(;this.buffer.length<e;)(yield this.Ya())&&this.ja("Reached the end of bundle when more is expected.");let t=this.Wa.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t})}ja(e){throw this.Ua.cancel(),new Error(`Invalid bundle format: ${e}`)}Ya(){return F(this,null,function*(){let e=yield this.Ua.read();if(!e.done){let t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done})}};var uD=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){return F(this,null,function*(){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ee(q.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;let t=yield function(r,s){return F(this,null,function*(){let o=pe(r),a={documents:s.map(h=>ep(o.serializer,h))},l=yield o.xo("BatchGetDocuments",o.serializer.databaseId,ot.emptyPath(),a,s.length),c=new Map;l.forEach(h=>{let m=v7(o.serializer,h);c.set(m.key.toString(),m)});let d=[];return s.forEach(h=>{let m=c.get(h.toString());Te(!!m),d.push(m)}),d})}(this.datastore,e);return t.forEach(i=>this.recordVersion(i)),t})}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastTransactionError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new qa(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){return F(this,null,function*(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;let e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,i)=>{let r=fe.fromPath(i);this.mutations.push(new Qf(r,this.precondition(r)))}),yield function(i,r){return F(this,null,function*(){let s=pe(i),o={writes:r.map(a=>tp(s.serializer,a))};yield s.Co("Commit",s.serializer.databaseId,ot.emptyPath(),o)})}(this.datastore,this.mutations),this.committed=!0})}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ye();t=Me.min()}let i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new ee(q.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){let t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Me.min())?Xt.exists(!1):Xt.updateTime(t):Xt.none()}preconditionForUpdate(e){let t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Me.min()))throw new ee(q.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Xt.updateTime(t)}return Xt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};var dD=class{constructor(e,t,i,r,s){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=s,this.Za=i.maxAttempts,this.Yo=new sp(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){this.Yo.$o(()=>F(this,null,function*(){let e=new uD(this.datastore),t=this.tu(e);t&&t.then(i=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(i)}).catch(r=>{this.nu(r)}))}).catch(i=>{this.nu(i)})}))}tu(e){try{let t=this.updateFunction(e);return!dp(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}nu(e){this.Za>0&&this.ru(e)?(this.Za-=1,this.asyncQueue.enqueueAndForget(()=>(this.eu(),Promise.resolve()))):this.deferred.reject(e)}ru(e){if(e.name==="FirebaseError"){let t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!E2(t)}return!1}};var hD=class{constructor(e,t,i,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=_n.UNAUTHENTICATED,this.clientId=k_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,s=>F(this,null,function*(){te("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(i,s=>(te("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ee(q.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new yn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>F(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let i=Fd(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}};function O_(n,e){return F(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),te("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(r=>F(this,null,function*(){i.isEqual(r)||(yield q2(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function fD(n,e){return F(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield YD(n);te("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>AP(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>AP(e.remoteStore,r)),n._onlineComponents=e})}function cF(n){return n.name==="FirebaseError"?n.code===q.FAILED_PRECONDITION||n.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||n.code===22||n.code===20||n.code===11}function YD(n){return F(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){te("FirestoreClient","Using user provided OfflineComponentProvider");try{yield O_(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!cF(t))throw t;br("Error using user provided cache. Falling back to memory cache: "+t),yield O_(n,new ap)}}else te("FirestoreClient","Using default OfflineComponentProvider"),yield O_(n,new ap);return n._offlineComponents})}function Oy(n){return F(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(te("FirestoreClient","Using user provided OnlineComponentProvider"),yield fD(n,n._uninitializedComponentsProvider._online)):(te("FirestoreClient","Using default OnlineComponentProvider"),yield fD(n,new lp))),n._onlineComponents})}function uF(n){return YD(n).then(e=>e.persistence)}function JD(n){return YD(n).then(e=>e.localStore)}function dF(n){return Oy(n).then(e=>e.remoteStore)}function XD(n){return Oy(n).then(e=>e.syncEngine)}function gq(n){return Oy(n).then(e=>e.datastore)}function Ad(n){return F(this,null,function*(){let e=yield Oy(n),t=e.eventManager;return t.onListen=Q7.bind(null,e.syncEngine),t.onUnlisten=Y7.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Z7.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=J7.bind(null,e.syncEngine),t})}function mq(n){return n.asyncQueue.enqueue(()=>F(this,null,function*(){let e=yield uF(n),t=yield dF(n);return e.setNetworkEnabled(!0),function(r){let s=pe(r);return s.M_.delete(0),mp(s)}(t)}))}function _q(n){return n.asyncQueue.enqueue(()=>F(this,null,function*(){let e=yield uF(n),t=yield dF(n);return e.setNetworkEnabled(!1),function(r){return F(this,null,function*(){let s=pe(r);s.M_.add(0),yield Nd(s),s.N_.set("Offline")})}(t)}))}function yq(n,e){let t=new yn;return n.asyncQueue.enqueueAndForget(()=>F(this,null,function*(){return function(r,s,o){return F(this,null,function*(){try{let a=yield function(c,d){let h=pe(c);return h.persistence.runTransaction("read document","readonly",m=>h.localDocuments.getDocument(m,d))}(r,s);a.isFoundDocument()?o.resolve(a):a.isNoDocument()?o.resolve(null):o.reject(new ee(q.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){let l=Fd(a,`Failed to get document '${s} from cache`);o.reject(l)}})}(yield JD(n),e,t)})),t.promise}function hF(n,e,t={}){let i=new yn;return n.asyncQueue.enqueueAndForget(()=>F(this,null,function*(){return function(s,o,a,l,c){let d=new Md({next:m=>{o.enqueueAndForget(()=>HD(s,h));let v=m.docs.has(a);!v&&m.fromCache?c.reject(new ee(q.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&m.fromCache&&l&&l.source==="server"?c.reject(new ee(q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(m)},error:m=>c.reject(m)}),h=new op(Od(a.path),d,{includeMetadataChanges:!0,ra:!0});return $D(s,h)}(yield Ad(n),n.asyncQueue,e,t,i)})),i.promise}function vq(n,e){let t=new yn;return n.asyncQueue.enqueueAndForget(()=>F(this,null,function*(){return function(r,s,o){return F(this,null,function*(){try{let a=yield oy(r,s,!0),l=new yy(s,a.hs),c=l.da(a.documents),d=l.applyChanges(c,!1);o.resolve(d.snapshot)}catch(a){let l=Fd(a,`Failed to execute query '${s} against cache`);o.reject(l)}})}(yield JD(n),e,t)})),t.promise}function fF(n,e,t={}){let i=new yn;return n.asyncQueue.enqueueAndForget(()=>F(this,null,function*(){return function(s,o,a,l,c){let d=new Md({next:m=>{o.enqueueAndForget(()=>HD(s,h)),m.fromCache&&l.source==="server"?c.reject(new ee(q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(m)},error:m=>c.reject(m)}),h=new op(a,d,{includeMetadataChanges:!0,ra:!0});return $D(s,h)}(yield Ad(n),n.asyncQueue,e,t,i)})),i.promise}function wq(n,e){let t=new Md(e);return n.asyncQueue.enqueueAndForget(()=>F(this,null,function*(){return function(r,s){pe(r).z_.add(s),s.next()}(yield Ad(n),t)})),()=>{t.$a(),n.asyncQueue.enqueueAndForget(()=>F(this,null,function*(){return function(r,s){pe(r).z_.delete(s)}(yield Ad(n),t)}))}}function bq(n,e,t,i){let r=function(o,a){let l;return l=typeof o=="string"?D2().encode(o):o,function(d,h){return new cD(d,h)}(function(d,h){if(d instanceof Uint8Array)return NP(d,h);if(d instanceof ArrayBuffer)return NP(new Uint8Array(d),h);if(d instanceof ReadableStream)return d.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),a)}(t,gp(e));n.asyncQueue.enqueueAndForget(()=>F(this,null,function*(){pq(yield XD(n),r,i)}))}function Cq(n,e){return n.asyncQueue.enqueue(()=>F(this,null,function*(){return function(i,r){let s=pe(i);return s.persistence.runTransaction("Get named query","readonly",o=>s.$r.getNamedQuery(o,r))}(yield JD(n),e)}))}function pF(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var kP=new Map;function eT(n,e,t){if(!t)throw new ee(q.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function tT(n,e,t,i){if(e===!0&&i===!0)throw new ee(q.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function PP(n){if(!fe.isDocumentKey(n))throw new ee(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function FP(n){if(fe.isDocumentKey(n))throw new ee(q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Ny(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ye()}function at(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ee(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Ny(n);throw new ee(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function gF(n,e){if(e<=0)throw new ee(q.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}var wy=class{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ee(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ee(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}tT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pF((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ee(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ee(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ee(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},gc=class{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wy({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ee(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ee(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wy(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new RE;switch(i.type){case"firstParty":return new PE(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ee(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let i=kP.get(t);i&&(te("ComponentProvider","Removing Datastore"),kP.delete(t),i.terminate())}(this),Promise.resolve()}};function mF(n,e,t,i={}){var r;let s=(n=at(n,gc))._getSettings(),o=`${e}:${t}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&br("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let a,l;if(typeof i.mockUserToken=="string")a=i.mockUserToken,l=_n.MOCK_USER;else{a=qg(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);let c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new ee(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new _n(c)}n._authCredentials=new OE(new N_(a,l))}}var Kn=class n{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Rt=class n{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},Fs=class n extends Kn{constructor(e,t,i){super(e,t,Od(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Rt(this.firestore,null,new fe(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function nT(n,e,...t){if(n=tt(n),eT("collection","path",e),n instanceof gc){let i=ot.fromString(e,...t);return FP(i),new Fs(n,null,i)}{if(!(n instanceof Rt||n instanceof Fs))throw new ee(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=n._path.child(ot.fromString(e,...t));return FP(i),new Fs(n.firestore,null,i)}}function _F(n,e){if(n=at(n,gc),eT("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ee(q.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Kn(n,null,function(i){return new Yr(ot.emptyPath(),i)}(e))}function _p(n,e,...t){if(n=tt(n),arguments.length===1&&(e=k_.newId()),eT("doc","path",e),n instanceof gc){let i=ot.fromString(e,...t);return PP(i),new Rt(n,null,new fe(i))}{if(!(n instanceof Rt||n instanceof Fs))throw new ee(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=n._path.child(ot.fromString(e,...t));return PP(i),new Rt(n.firestore,n instanceof Fs?n.converter:null,new fe(i))}}function iT(n,e){return n=tt(n),e=tt(e),(n instanceof Rt||n instanceof Fs)&&(e instanceof Rt||e instanceof Fs)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function rT(n,e){return n=tt(n),e=tt(e),n instanceof Kn&&e instanceof Kn&&n.firestore===e.firestore&&fp(n._query,e._query)&&n.converter===e.converter}var pD=class{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new sp(this,"async_queue_retry"),this.hu=()=>{let t=R_();t&&te("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Yo.Wo()};let e=R_();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;let t=R_();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});let t=new yn;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){return F(this,null,function*(){if(this.su.length!==0){try{yield this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!Qa(e))throw e;te("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}})}Iu(e){let t=this.iu.then(()=>(this.uu=!0,e().catch(i=>{this.au=i,this.uu=!1;let r=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i);throw sn("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.uu=!1,i))));return this.iu=t,t}enqueueAfterDelay(e,t,i){this.Pu(),this.lu.indexOf(e)>-1&&(t=0);let r=JI.createAndSchedule(this,e,t,i,s=>this.Eu(s));return this._u.push(r),r}Pu(){this.au&&ye()}verifyOperationInProgress(){}du(){return F(this,null,function*(){let e;do e=this.iu,yield e;while(e!==this.iu)})}Au(e){for(let t of this._u)if(t.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(let t of this._u)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){let t=this._u.indexOf(e);this._u.splice(t,1)}};function gD(n){return function(t,i){if(typeof t!="object"||t===null)return!1;let r=t;for(let s of i)if(s in r&&typeof r[s]=="function")return!0;return!1}(n,["next","error","complete"])}var mD=class{constructor(){this._progressObserver={},this._taskCompletionResolver=new yn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}};var yF=-1,zt=class extends gc{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=function(){return new pD}(),this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||vF(this),this._firestoreClient.terminate()}};function Dn(n){return n._firestoreClient||vF(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function vF(n){var e,t,i;let r=n._freezeSettings(),s=function(a,l,c,d){return new $E(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,pF(d.experimentalLongPollingOptions),d.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,r);n._firestoreClient=new hD(n._authCredentials,n._appCheckCredentials,n._queue,s),!((t=r.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}function wF(n,e){AF(n=at(n,zt));let t=Dn(n);if(t._uninitializedComponentsProvider)throw new ee(q.FAILED_PRECONDITION,"SDK cache is already specified.");br("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let i=n._freezeSettings(),r=new lp;return CF(t,r,new vy(r,i.cacheSizeBytes,e?.forceOwnership))}function bF(n){AF(n=at(n,zt));let e=Dn(n);if(e._uninitializedComponentsProvider)throw new ee(q.FAILED_PRECONDITION,"SDK cache is already specified.");br("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let t=n._freezeSettings(),i=new lp;return CF(e,i,new lD(i,t.cacheSizeBytes))}function CF(n,e,t){let i=new yn;return n.asyncQueue.enqueue(()=>F(this,null,function*(){try{yield O_(n,t),yield fD(n,e),i.resolve()}catch(r){let s=r;if(!cF(s))throw s;br("Error enabling indexeddb cache. Falling back to memory cache: "+s),i.reject(s)}})).then(()=>i.promise)}function EF(n){if(n._initialized&&!n._terminated)throw new ee(q.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");let e=new yn;return n._queue.enqueueAndForgetEvenWhileRestricted(()=>F(this,null,function*(){try{yield function(i){return F(this,null,function*(){if(!Ba.D())return Promise.resolve();let r=i+"main";yield Ba.delete(r)})}(BD(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}})),e.promise}function IF(n){return function(t){let i=new yn;return t.asyncQueue.enqueueAndForget(()=>F(this,null,function*(){return iq(yield XD(t),i)})),i.promise}(Dn(n=at(n,zt)))}function DF(n){return mq(Dn(n=at(n,zt)))}function TF(n){return _q(Dn(n=at(n,zt)))}function SF(n,e){let t=Dn(n=at(n,zt)),i=new mD;return bq(t,n._databaseId,e,i),i}function MF(n,e){return Cq(Dn(n=at(n,zt)),e).then(t=>t?new Kn(n,null,t.query):null)}function AF(n){if(n._initialized||n._terminated)throw new ee(q.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Us=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(On.fromBase64String(e))}catch(t){throw new ee(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(On.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Xr=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ee(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new on(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Oo=class{constructor(e){this._methodName=e}};var mc=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ee(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ee(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}};var Eq=/^__.*__$/,_D=class{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Jr(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ga(e,this.data,t,this.fieldTransforms)}},by=class{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Jr(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function xF(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye()}}var Cy=class n{constructor(e,t,i,r,s,o){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var t;let i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.gu({path:i,yu:!1});return r.wu(e),r}Su(e){var t;let i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.gu({path:i,yu:!1});return r.mu(),r}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Ey(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(xF(this.fu)&&Eq.test(e))throw this.Du('Document fields cannot begin and end with "__"')}},yD=class{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||gp(e)}Fu(e,t,i,r=!1){return new Cy({fu:e,methodName:t,vu:i,path:on.emptyPath(),yu:!1,Cu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function wc(n){let e=n._freezeSettings(),t=gp(n._databaseId);return new yD(n._databaseId,!!e.ignoreUndefinedProperties,t)}function ky(n,e,t,i,r,s={}){let o=n.Fu(s.merge||s.mergeFields?2:0,e,t,r);aT("Data must be an object, but it was:",o,i);let a=NF(i,o),l,c;if(s.merge)l=new Yi(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){let d=[];for(let h of s.mergeFields){let m=ED(e,h,t);if(!o.contains(m))throw new ee(q.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);PF(d,m)||d.push(m)}l=new Yi(d),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new _D(new oi(a),l,c)}var cp=class n extends Oo{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function RF(n,e,t){return new Cy({fu:3,vu:e.settings.vu,methodName:n._methodName,yu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}var vD=class n extends Oo{_toFieldTransform(e){return new hc(e.path,new $a)}isEqual(e){return e instanceof n}},wD=class n extends Oo{constructor(e,t){super(e),this.Mu=t}_toFieldTransform(e){let t=RF(this,e,!0),i=this.Mu.map(s=>bc(s,t)),r=new xo(i);return new hc(e.path,r)}isEqual(e){return e instanceof n&&qh(this.Mu,e.Mu)}},bD=class n extends Oo{constructor(e,t){super(e),this.Mu=t}_toFieldTransform(e){let t=RF(this,e,!0),i=this.Mu.map(s=>bc(s,t)),r=new Ro(i);return new hc(e.path,r)}isEqual(e){return e instanceof n&&qh(this.Mu,e.Mu)}},CD=class n extends Oo{constructor(e,t){super(e),this.xu=t}_toFieldTransform(e){let t=new Ha(e.serializer,m2(e.serializer,this.xu));return new hc(e.path,t)}isEqual(e){return e instanceof n&&this.xu===e.xu}};function sT(n,e,t,i){let r=n.Fu(1,e,t);aT("Data must be an object, but it was:",r,i);let s=[],o=oi.empty();vc(i,(l,c)=>{let d=lT(e,l,t);c=tt(c);let h=r.Su(d);if(c instanceof cp)s.push(d);else{let m=bc(c,h);m!=null&&(s.push(d),o.set(d,m))}});let a=new Yi(s);return new by(o,a,r.fieldTransforms)}function oT(n,e,t,i,r,s){let o=n.Fu(1,e,t),a=[ED(e,i,t)],l=[r];if(s.length%2!=0)throw new ee(q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)a.push(ED(e,s[m])),l.push(s[m+1]);let c=[],d=oi.empty();for(let m=a.length-1;m>=0;--m)if(!PF(c,a[m])){let v=a[m],C=l[m];C=tt(C);let A=o.Su(v);if(C instanceof cp)c.push(v);else{let S=bc(C,A);S!=null&&(c.push(v),d.set(v,S))}}let h=new Yi(c);return new by(d,h,o.fieldTransforms)}function OF(n,e,t,i=!1){return bc(t,n.Fu(i?4:3,e))}function bc(n,e){if(kF(n=tt(n)))return aT("Unsupported field value:",e,n),NF(n,e);if(n instanceof Oo)return function(i,r){if(!xF(r.fu))throw r.Du(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Du(`${i._methodName}() is not currently supported inside arrays`);let s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(i,r){let s=[],o=0;for(let a of i){let l=bc(a,r.bu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(n,e)}return function(i,r){if((i=tt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return m2(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let s=Kt.fromDate(i);return{timestampValue:wd(r.serializer,s)}}if(i instanceof Kt){let s=new Kt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:wd(r.serializer,s)}}if(i instanceof mc)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Us)return{bytesValue:T2(r.serializer,i._byteString)};if(i instanceof Rt){let s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:FD(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.Du(`Unsupported field value: ${Ny(i)}`)}(n,e)}function NF(n,e){let t={};return JP(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vc(n,(i,r)=>{let s=bc(r,e.pu(i));s!=null&&(t[i]=s)}),{mapValue:{fields:t}}}function kF(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Kt||n instanceof mc||n instanceof Us||n instanceof Rt||n instanceof Oo)}function aT(n,e,t){if(!kF(t)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(t)){let i=Ny(t);throw i==="an object"?e.Du(n+" a custom object"):e.Du(n+" "+i)}}function ED(n,e,t){if((e=tt(e))instanceof Xr)return e._internalPath;if(typeof e=="string")return lT(n,e);throw Ey("Field path arguments must be of type string or ",n,!1,void 0,t)}var Iq=new RegExp("[~\\*/\\[\\]]");function lT(n,e,t){if(e.search(Iq)>=0)throw Ey(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Xr(...e.split("."))._internalPath}catch{throw Ey(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ey(n,e,t,i,r){let s=i&&!i.isEmpty(),o=r!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new ee(q.INVALID_ARGUMENT,a+n+l)}function PF(n,e){return n.some(t=>t.isEqual(e))}var _c=class{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Rt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new ID(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(Py("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},ID=class extends _c{data(){return super.data()}};function Py(n,e){return typeof e=="string"?lT(n,e):e instanceof Xr?e._internalPath:e._delegate._internalPath}function FF(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ee(q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var up=class{},yc=class extends up{};function Po(n,e,...t){let i=[];e instanceof up&&i.push(e),i=i.concat(t),function(s){let o=s.filter(l=>l instanceof DD).length,a=s.filter(l=>l instanceof Iy).length;if(o>1||o>0&&a>0)throw new ee(q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(let r of i)n=r._apply(n);return n}var Iy=class n extends yc{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new n(e,t,i)}_apply(e){let t=this._parse(e);return qF(e._query,t),new Kn(e.firestore,e.converter,nI(e._query,t))}_parse(e){let t=wc(e.firestore);return function(s,o,a,l,c,d,h){let m;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new ee(q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){VP(h,d);let v=[];for(let C of h)v.push(LP(l,s,C));m={arrayValue:{values:v}}}else m=LP(l,s,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||VP(h,d),m=OF(a,o,h,d==="in"||d==="not-in");return et.create(c,d,m)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function LF(n,e,t){let i=e,r=Py("where",n);return Iy._create(r,i,t)}var DD=class n extends up{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:bt.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(r,s){let o=r,a=s.getFlattenedFilters();for(let l of a)qF(o,l),o=nI(o,l)}(e._query,t),new Kn(e.firestore,e.converter,nI(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var TD=class n extends yc{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n(e,t)}_apply(e){let t=function(r,s,o){if(r.startAt!==null)throw new ee(q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new ee(q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new uc(s,o)}(e._query,this._field,this._direction);return new Kn(e.firestore,e.converter,function(r,s){let o=r.explicitOrderBy.concat([s]);return new Yr(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}};function VF(n,e="asc"){let t=e,i=Py("orderBy",n);return TD._create(i,t)}var Dy=class n extends yc{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new n(e,t,i)}_apply(e){return new Kn(e.firestore,e.converter,H_(e._query,this._limit,this._limitType))}};function BF(n){return gF("limit",n),Dy._create("limit",n,"F")}function UF(n){return gF("limitToLast",n),Dy._create("limitToLast",n,"L")}var Ty=class n extends yc{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new n(e,t,i)}_apply(e){let t=GF(e,this.type,this._docOrFields,this._inclusive);return new Kn(e.firestore,e.converter,function(r,s){return new Yr(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,s,r.endAt)}(e._query,t))}};function jF(...n){return Ty._create("startAt",n,!0)}function zF(...n){return Ty._create("startAfter",n,!1)}var Sy=class n extends yc{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new n(e,t,i)}_apply(e){let t=GF(e,this.type,this._docOrFields,this._inclusive);return new Kn(e.firestore,e.converter,function(r,s){return new Yr(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,s)}(e._query,t))}};function $F(...n){return Sy._create("endBefore",n,!1)}function HF(...n){return Sy._create("endAt",n,!0)}function GF(n,e,t,i){if(t[0]=tt(t[0]),t[0]instanceof _c)return function(s,o,a,l,c){if(!l)throw new ee(q.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);let d=[];for(let h of hd(s))if(h.field.isKeyField())d.push(cc(o,l.key));else{let m=l.data.field(h.field);if(Ay(m))throw new ee(q.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+h.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(m===null){let v=h.field.canonicalString();throw new ee(q.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${v}' (used as the orderBy) does not exist.`)}d.push(m)}return new Vs(d,c)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{let r=wc(n.firestore);return function(o,a,l,c,d,h){let m=o.explicitOrderBy;if(d.length>m.length)throw new ee(q.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);let v=[];for(let C=0;C<d.length;C++){let A=d[C];if(m[C].field.isKeyField()){if(typeof A!="string")throw new ee(q.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof A}`);if(!kD(o)&&A.indexOf("/")!==-1)throw new ee(q.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${A}' contains a slash.`);let S=o.path.child(ot.fromString(A));if(!fe.isDocumentKey(S))throw new ee(q.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${S}' is not because it contains an odd number of segments.`);let j=new fe(S);v.push(cc(a,j))}else{let S=OF(l,c,A);v.push(S)}}return new Vs(v,h)}(n._query,n.firestore._databaseId,r,e,t,i)}}function LP(n,e,t){if(typeof(t=tt(t))=="string"){if(t==="")throw new ee(q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kD(e)&&t.indexOf("/")!==-1)throw new ee(q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let i=e.path.child(ot.fromString(t));if(!fe.isDocumentKey(i))throw new ee(q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return cc(n,new fe(i))}if(t instanceof Rt)return cc(n,t._key);throw new ee(q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ny(t)}.`)}function VP(n,e){if(!Array.isArray(n)||n.length===0)throw new ee(q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function qF(n,e){let t=function(r,s){for(let o of r)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ee(q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ee(q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var xd=class{convertValue(e,t="none"){switch(lc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Jt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ua(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ye()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let i={};return vc(e,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertGeoPoint(e){return new mc(Jt(e.latitude),Jt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":let i=OD(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(qf(e));default:return null}}convertTimestamp(e){let t=Ao(e);return new Kt(t.seconds,t.nanos)}convertDocumentKey(e,t){let i=ot.fromString(e);Te(L2(i));let r=new ja(i.get(1),i.get(3)),s=new fe(i.popFirst(5));return r.isEqual(t)||sn(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}};function Fy(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}var SD=class extends xd{constructor(e){super(),this.firestore=e}convertBytes(e){return new Us(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rt(this.firestore,null,t)}};var Mo=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Er=class extends _c{constructor(e,t,i,r,s,o){super(e,t,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new La(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let i=this._document.data.field(Py("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}},La=class extends Er{data(e={}){return super.data(e)}},es=class{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Mo(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new La(this._firestore,this._userDataWriter,i.key,i,new Mo(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ee(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>{let l=new La(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Mo(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let l=new La(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Mo(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:Dq(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function Dq(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye()}}function cT(n,e){return n instanceof Er&&e instanceof Er?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(n._document===null?e._document===null:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof es&&e instanceof es&&n._firestore===e._firestore&&rT(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function WF(n){n=at(n,Rt);let e=at(n.firestore,zt);return hF(Dn(e),n._key).then(t=>fT(e,n,t))}var No=class extends xd{constructor(e){super(),this.firestore=e}convertBytes(e){return new Us(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rt(this.firestore,null,t)}};function KF(n){n=at(n,Rt);let e=at(n.firestore,zt),t=Dn(e),i=new No(e);return yq(t,n._key).then(r=>new Er(e,i,n._key,r,new Mo(r!==null&&r.hasLocalMutations,!0),n.converter))}function QF(n){n=at(n,Rt);let e=at(n.firestore,zt);return hF(Dn(e),n._key,{source:"server"}).then(t=>fT(e,n,t))}function ZF(n){n=at(n,Kn);let e=at(n.firestore,zt),t=Dn(e),i=new No(e);return FF(n._query),fF(t,n._query).then(r=>new es(e,i,n,r))}function YF(n){n=at(n,Kn);let e=at(n.firestore,zt),t=Dn(e),i=new No(e);return vq(t,n._query).then(r=>new es(e,i,n,r))}function JF(n){n=at(n,Kn);let e=at(n.firestore,zt),t=Dn(e),i=new No(e);return fF(t,n._query,{source:"server"}).then(r=>new es(e,i,n,r))}function uT(n,e,t){n=at(n,Rt);let i=at(n.firestore,zt),r=Fy(n.converter,e,t);return Ld(i,[ky(wc(i),"setDoc",n._key,r,n.converter!==null,t).toMutation(n._key,Xt.none())])}function dT(n,e,t,...i){n=at(n,Rt);let r=at(n.firestore,zt),s=wc(r),o;return o=typeof(e=tt(e))=="string"||e instanceof Xr?oT(s,"updateDoc",n._key,e,t,i):sT(s,"updateDoc",n._key,e),Ld(r,[o.toMutation(n._key,Xt.exists(!0))])}function XF(n){return Ld(at(n.firestore,zt),[new qa(n._key,Xt.none())])}function eL(n,e){let t=at(n.firestore,zt),i=_p(n),r=Fy(n.converter,e);return Ld(t,[ky(wc(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,Xt.exists(!1))]).then(()=>i)}function hT(n,...e){var t,i,r;n=tt(n);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||gD(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(gD(e[o])){let h=e[o];e[o]=(t=h.next)===null||t===void 0?void 0:t.bind(h),e[o+1]=(i=h.error)===null||i===void 0?void 0:i.bind(h),e[o+2]=(r=h.complete)===null||r===void 0?void 0:r.bind(h)}let l,c,d;if(n instanceof Rt)c=at(n.firestore,zt),d=Od(n._key.path),l={next:h=>{e[o]&&e[o](fT(c,n,h))},error:e[o+1],complete:e[o+2]};else{let h=at(n,Kn);c=at(h.firestore,zt),d=h._query;let m=new No(c);l={next:v=>{e[o]&&e[o](new es(c,m,h,v))},error:e[o+1],complete:e[o+2]},FF(n._query)}return function(m,v,C,A){let S=new Md(A),j=new op(v,S,C);return m.asyncQueue.enqueueAndForget(()=>F(this,null,function*(){return $D(yield Ad(m),j)})),()=>{S.$a(),m.asyncQueue.enqueueAndForget(()=>F(this,null,function*(){return HD(yield Ad(m),j)}))}}(Dn(c),d,a,l)}function tL(n,e){return wq(Dn(n=at(n,zt)),gD(e)?e:{next:e})}function Ld(n,e){return function(i,r){let s=new yn;return i.asyncQueue.enqueueAndForget(()=>F(this,null,function*(){return X7(yield XD(i),r,s)})),s.promise}(Dn(n),e)}function fT(n,e,t){let i=t.docs.get(e._key),r=new No(n);return new Er(n,r,e._key,i,new Mo(t.hasPendingWrites,t.fromCache),e.converter)}var Tq={maxAttempts:5};var My=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=wc(e)}set(e,t,i){this._verifyNotCommitted();let r=Pa(e,this._firestore),s=Fy(r.converter,t,i),o=ky(this._dataReader,"WriteBatch.set",r._key,s,r.converter!==null,i);return this._mutations.push(o.toMutation(r._key,Xt.none())),this}update(e,t,i,...r){this._verifyNotCommitted();let s=Pa(e,this._firestore),o;return o=typeof(t=tt(t))=="string"||t instanceof Xr?oT(this._dataReader,"WriteBatch.update",s._key,t,i,r):sT(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(o.toMutation(s._key,Xt.exists(!0))),this}delete(e){this._verifyNotCommitted();let t=Pa(e,this._firestore);return this._mutations=this._mutations.concat(new qa(t._key,Xt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ee(q.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Pa(n,e){if((n=tt(n)).firestore!==e)throw new ee(q.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}var MD=class extends class{constructor(t,i){this._firestore=t,this._transaction=i,this._dataReader=wc(t)}get(t){let i=Pa(t,this._firestore),r=new SD(this._firestore);return this._transaction.lookup([i._key]).then(s=>{if(!s||s.length!==1)return ye();let o=s[0];if(o.isFoundDocument())return new _c(this._firestore,r,o.key,o,i.converter);if(o.isNoDocument())return new _c(this._firestore,r,i._key,null,i.converter);throw ye()})}set(t,i,r){let s=Pa(t,this._firestore),o=Fy(s.converter,i,r),a=ky(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,r);return this._transaction.set(s._key,a),this}update(t,i,r,...s){let o=Pa(t,this._firestore),a;return a=typeof(i=tt(i))=="string"||i instanceof Xr?oT(this._dataReader,"Transaction.update",o._key,i,r,s):sT(this._dataReader,"Transaction.update",o._key,i),this._transaction.update(o._key,a),this}delete(t){let i=Pa(t,this._firestore);return this._transaction.delete(i._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){let t=Pa(e,this._firestore),i=new No(this._firestore);return super.get(e).then(r=>new Er(this._firestore,i,t._key,r._document,new Mo(!1,!1),t.converter))}};function nL(n,e,t){n=at(n,zt);let i=Object.assign(Object.assign({},Tq),t);return function(s){if(s.maxAttempts<1)throw new ee(q.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(s,o,a){let l=new yn;return s.asyncQueue.enqueueAndForget(()=>F(this,null,function*(){let c=yield gq(s);new dD(s.asyncQueue,c,a,o,l).Xa()})),l.promise}(Dn(n),r=>e(new MD(n,r)),i)}function iL(){return new cp("deleteField")}function rL(){return new vD("serverTimestamp")}function sL(...n){return new wD("arrayUnion",n)}function oL(...n){return new bD("arrayRemove",n)}function aL(n){return new CD("increment",n)}(function(e,t=!0){(function(r){Rd=r})(Kg),zi(new Bn("firestore",(i,{instanceIdentifier:r,options:s})=>{let o=i.getProvider("app").getImmediate(),a=new zt(new NE(i.getProvider("auth-internal")),new LE(i.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ee(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ja(c.options.projectId,d)}(o,r),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Un(Bk,"4.6.3",e),Un(Bk,"4.6.3","esm2017")})();var Sq="@firebase/firestore-compat",Mq="0.3.32";function vT(n,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new ee("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function lL(){if(typeof Uint8Array>"u")throw new ee("unimplemented","Uint8Arrays are not available in this environment.")}function cL(){if(!XP())throw new ee("unimplemented","Blobs are unavailable in Firestore in this environment.")}var Ly=class n{constructor(e){this._delegate=e}static fromBase64String(e){return cL(),new n(Us.fromBase64String(e))}static fromUint8Array(e){return lL(),new n(Us.fromUint8Array(e))}toBase64(){return cL(),this._delegate.toBase64()}toUint8Array(){return lL(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};function pT(n){return Aq(n,["next","error","complete"])}function Aq(n,e){if(typeof n!="object"||n===null)return!1;let t=n;for(let i of e)if(i in t&&typeof t[i]=="function")return!0;return!1}var gT=class{enableIndexedDbPersistence(e,t){return wF(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return bF(e._delegate)}clearIndexedDbPersistence(e){return EF(e._delegate)}},Vy=class{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof ja||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){let t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&br("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},t),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,t,i={}){mF(this._delegate,e,t,i)}enableNetwork(){return DF(this._delegate)}disableNetwork(){return TF(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,tT("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return IF(this._delegate)}onSnapshotsInSync(e){return tL(this._delegate,e)}get app(){if(!this._appCompat)throw new ee("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Ud(this,nT(this._delegate,e))}catch(t){throw Ci(t,"collection()","Firestore.collection()")}}doc(e){try{return new js(this,_p(this._delegate,e))}catch(t){throw Ci(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Dc(this,_F(this._delegate,e))}catch(t){throw Ci(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return nL(this._delegate,t=>e(new By(this,t)))}batch(){return Dn(this._delegate),new Uy(new My(this._delegate,e=>Ld(this._delegate,e)))}loadBundle(e){return SF(this._delegate,e)}namedQuery(e){return MF(this._delegate,e).then(t=>t?new Dc(this,t):null)}},Vd=class extends xd{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ly(new Us(e))}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return js.forKey(t,this.firestore,null)}};function xq(n){BP(n)}var By=class{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Vd(e)}get(e){let t=Cc(e);return this._delegate.get(t).then(i=>new Ec(this._firestore,new Er(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){let r=Cc(e);return i?(vT("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){let s=Cc(e);return arguments.length===2?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){let t=Cc(e);return this._delegate.delete(t),this}},Uy=class{constructor(e){this._delegate=e}set(e,t,i){let r=Cc(e);return i?(vT("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){let s=Cc(e);return arguments.length===2?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){let t=Cc(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}},Bd=class n{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){let i=new La(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Ic(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){let i=n.INSTANCES,r=i.get(e);r||(r=new WeakMap,i.set(e,r));let s=r.get(t);return s||(s=new n(e,new Vd(e),t),r.set(t,s)),s}};Bd.INSTANCES=new WeakMap;var js=class n{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Vd(e)}static forPath(e,t,i){if(e.length%2!==0)throw new ee("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new n(t,new Rt(t._delegate,i,new fe(e)))}static forKey(e,t,i){return new n(t,new Rt(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new Ud(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Ud(this.firestore,nT(this._delegate,e))}catch(t){throw Ci(t,"collection()","DocumentReference.collection()")}}isEqual(e){return e=tt(e),e instanceof Rt?iT(this._delegate,e):!1}set(e,t){t=vT("DocumentReference.set",t);try{return t?uT(this._delegate,e,t):uT(this._delegate,e)}catch(i){throw Ci(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return arguments.length===1?dT(this._delegate,e):dT(this._delegate,e,t,...i)}catch(r){throw Ci(r,"updateDoc()","DocumentReference.update()")}}delete(){return XF(this._delegate)}onSnapshot(...e){let t=uL(e),i=dL(e,r=>new Ec(this.firestore,new Er(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return hT(this._delegate,t,i)}get(e){let t;return e?.source==="cache"?t=KF(this._delegate):e?.source==="server"?t=QF(this._delegate):t=WF(this._delegate),t.then(i=>new Ec(this.firestore,new Er(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new n(this.firestore,e?this._delegate.withConverter(Bd.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function Ci(n,e,t){return n.message=n.message.replace(e,t),n}function uL(n){for(let e of n)if(typeof e=="object"&&!pT(e))return e;return{}}function dL(n,e){var t,i;let r;return pT(n[0])?r=n[0]:pT(n[1])?r=n[1]:typeof n[0]=="function"?r={next:n[0],error:n[1],complete:n[2]}:r={next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(e(s))},error:(t=r.error)===null||t===void 0?void 0:t.bind(r),complete:(i=r.complete)===null||i===void 0?void 0:i.bind(r)}}var Ec=class{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new js(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return cT(this._delegate,e._delegate)}},Ic=class extends Ec{data(e){let t=this._delegate.data(e);return this._delegate._converter||UP(t!==void 0,"Document in a QueryDocumentSnapshot should exist"),t}},Dc=class n{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Vd(e)}where(e,t,i){try{return new n(this.firestore,Po(this._delegate,LF(e,t,i)))}catch(r){throw Ci(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new n(this.firestore,Po(this._delegate,VF(e,t)))}catch(i){throw Ci(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new n(this.firestore,Po(this._delegate,BF(e)))}catch(t){throw Ci(t,"limit()","Query.limit()")}}limitToLast(e){try{return new n(this.firestore,Po(this._delegate,UF(e)))}catch(t){throw Ci(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new n(this.firestore,Po(this._delegate,jF(...e)))}catch(t){throw Ci(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new n(this.firestore,Po(this._delegate,zF(...e)))}catch(t){throw Ci(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new n(this.firestore,Po(this._delegate,$F(...e)))}catch(t){throw Ci(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new n(this.firestore,Po(this._delegate,HF(...e)))}catch(t){throw Ci(t,"endAt()","Query.endAt()")}}isEqual(e){return rT(this._delegate,e._delegate)}get(e){let t;return e?.source==="cache"?t=YF(this._delegate):e?.source==="server"?t=JF(this._delegate):t=ZF(this._delegate),t.then(i=>new yp(this.firestore,new es(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){let t=uL(e),i=dL(e,r=>new yp(this.firestore,new es(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return hT(this._delegate,t,i)}withConverter(e){return new n(this.firestore,e?this._delegate.withConverter(Bd.getInstance(this.firestore,e)):this._delegate.withConverter(null))}},mT=class{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Ic(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}},yp=class{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Dc(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Ic(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new mT(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new Ic(this._firestore,i))})}isEqual(e){return cT(this._delegate,e._delegate)}},Ud=class n extends Dc{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){let e=this._delegate.parent;return e?new js(this.firestore,e):null}doc(e){try{return e===void 0?new js(this.firestore,_p(this._delegate)):new js(this.firestore,_p(this._delegate,e))}catch(t){throw Ci(t,"doc()","CollectionReference.doc()")}}add(e){return eL(this._delegate,e).then(t=>new js(this.firestore,t))}isEqual(e){return iT(this._delegate,e._delegate)}withConverter(e){return new n(this.firestore,e?this._delegate.withConverter(Bd.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function Cc(n){return at(n,Rt)}var _T=class n{constructor(...e){this._delegate=new Xr(...e)}static documentId(){return new n(on.keyField().canonicalString())}isEqual(e){return e=tt(e),e instanceof Xr?this._delegate._internalPath.isEqual(e._internalPath):!1}};var yT=class n{constructor(e){this._delegate=e}static serverTimestamp(){let e=rL();return e._methodName="FieldValue.serverTimestamp",new n(e)}static delete(){let e=iL();return e._methodName="FieldValue.delete",new n(e)}static arrayUnion(...e){let t=sL(...e);return t._methodName="FieldValue.arrayUnion",new n(t)}static arrayRemove(...e){let t=oL(...e);return t._methodName="FieldValue.arrayRemove",new n(t)}static increment(e){let t=aL(e);return t._methodName="FieldValue.increment",new n(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}};var Rq={Firestore:Vy,GeoPoint:mc,Timestamp:Kt,Blob:Ly,Transaction:By,WriteBatch:Uy,DocumentReference:js,DocumentSnapshot:Ec,Query:Dc,QueryDocumentSnapshot:Ic,QuerySnapshot:yp,CollectionReference:Ud,FieldPath:_T,FieldValue:yT,setLogLevel:xq,CACHE_SIZE_UNLIMITED:yF};function Oq(n,e){n.INTERNAL.registerComponent(new Bn("firestore-compat",t=>{let i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},Rq)))}function Nq(n){Oq(n,(e,t)=>new Vy(e,t,new gT)),n.registerVersion(Sq,Mq)}Nq(vt);function kq(n,e=ra){return new Se(t=>{let i;return e!=null?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}function hL(n,e){return kq(n,e)}function Pq(n,e){return hL(n,e).pipe(kr(void 0),Jh(),se(t=>{let[i,r]=t;return r.exists?i?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}}))}function CT(n,e){return hL(n,e).pipe(se(t=>({payload:t,type:"query"})))}var jy=class{ref;afs;constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){let i=this.ref.collection(e),{ref:r,query:s}=_L(i,t);return new $y(r,s,this.afs)}snapshotChanges(){return Pq(this.ref,this.afs.schedulers.outsideAngular).pipe(Wn)}valueChanges(e={}){return this.snapshotChanges().pipe(se(({payload:t})=>e.idField?Ee(Q({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return Ge(this.ref.get(e)).pipe(Wn)}};function zy(n,e){return CT(n,e).pipe(kr(void 0),Jh(),se(t=>{let[i,r]=t,s=r.payload.docChanges(),o=s.map(a=>({type:a.type,payload:a}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((a,l)=>{let c=s.find(h=>h.doc.ref.isEqual(a.ref)),d=i?.payload.docs.find(h=>h.ref.isEqual(a.ref));c&&JSON.stringify(c.doc.metadata)===JSON.stringify(a.metadata)||!c&&d&&JSON.stringify(d.metadata)===JSON.stringify(a.metadata)||o.push({type:"modified",payload:{oldIndex:l,newIndex:l,type:"modified",doc:a}})}),o}))}function fL(n,e,t){return zy(n,t).pipe(Rl((i,r)=>Fq(i,r.map(s=>s.payload),e),[]),Dm(),se(i=>i.map(r=>({type:r.type,payload:r}))))}function Fq(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=Lq(n,i))}),n}function wT(n,e,t,...i){let r=n.slice();return r.splice(e,t,...i),r}function Lq(n,e){switch(e.type){case"added":if(!(n[e.newIndex]&&n[e.newIndex].doc.ref.isEqual(e.doc.ref)))return wT(n,e.newIndex,0,e);break;case"modified":if(n[e.oldIndex]==null||n[e.oldIndex].doc.ref.isEqual(e.doc.ref))if(e.oldIndex!==e.newIndex){let t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}else return wT(n,e.newIndex,1,e);break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return wT(n,e.oldIndex,1);break}return n}function pL(n){return(!n||n.length===0)&&(n=["added","removed","modified"]),n}var $y=class{ref;query;afs;constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=zy(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe(se(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(kr(void 0),Jh(),Ut(([i,r])=>r.length>0||!i),se(([,i])=>i),Wn)}auditTrail(e){return this.stateChanges(e).pipe(Rl((t,i)=>[...t,...i],[]))}snapshotChanges(e){let t=pL(e);return fL(this.query,t,this.afs.schedulers.outsideAngular).pipe(Wn)}valueChanges(e={}){return CT(this.query,this.afs.schedulers.outsideAngular).pipe(se(t=>t.payload.docs.map(i=>e.idField?Ee(Q({},i.data()),{[e.idField]:i.id}):i.data())),Wn)}get(e){return Ge(this.query.get(e)).pipe(Wn)}add(e){return this.ref.add(e)}doc(e){return new jy(this.ref.doc(e),this.afs)}},bT=class{query;afs;constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return!e||e.length===0?zy(this.query,this.afs.schedulers.outsideAngular).pipe(Wn):zy(this.query,this.afs.schedulers.outsideAngular).pipe(se(t=>t.filter(i=>e.indexOf(i.type)>-1)),Ut(t=>t.length>0),Wn)}auditTrail(e){return this.stateChanges(e).pipe(Rl((t,i)=>[...t,...i],[]))}snapshotChanges(e){let t=pL(e);return fL(this.query,t,this.afs.schedulers.outsideAngular).pipe(Wn)}valueChanges(e={}){return CT(this.query,this.afs.schedulers.outsideAngular).pipe(se(i=>i.payload.docs.map(r=>e.idField?Q({[e.idField]:r.id},r.data()):r.data())),Wn)}get(e){return Ge(this.query.get(e)).pipe(Wn)}},gL=new oe("angularfire2.enableFirestorePersistence"),mL=new oe("angularfire2.firestore.persistenceSettings"),Vq=new oe("angularfire2.firestore.settings"),Bq=new oe("angularfire2.firestore.use-emulator");function _L(n,e=t=>t){return{query:e(n),ref:n}}var ln=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(t,i,r,s,o,a,l,c,d,h,m,v,C,A,S,j,Z){this.schedulers=l;let W=Xl(t,a,i),Y=d;h&&vE(W,a,m,C,A,S,v,j),[this.firestore,this.persistenceEnabled$]=Xu(`${W.name}.firestore`,"AngularFirestore",W.name,()=>{let ge=a.runOutsideAngular(()=>W.firestore());if(s&&ge.settings(s),Y&&ge.useEmulator(...Y),r&&!Ia(o)){let ae=()=>{try{return Ge(ge.enablePersistence(c||void 0).then(()=>!0,()=>!1))}catch(R){return typeof console<"u"&&console.warn(R),le(!1)}};return[ge,a.runOutsideAngular(ae)]}else return[ge,le(!1)]},[s,Y,r])}collection(t,i){let r;typeof t=="string"?r=this.firestore.collection(t):r=t;let{ref:s,query:o}=_L(r,i),a=this.schedulers.ngZone.run(()=>s);return new $y(a,o,this)}collectionGroup(t,i){let r=i||(o=>o),s=this.firestore.collectionGroup(t);return new bT(r(s),this)}doc(t){let i;typeof t=="string"?i=this.firestore.doc(t):i=t;let r=this.schedulers.ngZone.run(()=>i);return new jy(r,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(i){return new(i||n)(G(Ma),G(Aa,8),G(gL,8),G(Vq,8),G(wt),G(De),G(Ju),G(mL,8),G(Bq,8),G(Zr,8),G(fE,8),G(pE,8),G(gE,8),G(mE,8),G(_E,8),G(yE,8),G(Io,8))};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),yL=(()=>{class n{constructor(){vt.registerVersion("angularfire",Do.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:gL,useValue:!0},{provide:mL,useValue:t}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=we({type:n});static \u0275inj=ve({providers:[ln]})}return n})();var SL="firebasestorage.googleapis.com",ML="storageBucket",Uq=2*60*1e3,jq=10*60*1e3,zq=1e3;var Qt=class n extends ia{constructor(e,t,i=0){super(ET(e),`Firebase Storage: ${t} (${ET(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,n.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ET(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},$t=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}($t||{});function ET(n){return"storage/"+n}function RT(){let n="An unknown error occurred, please check the error payload for server response.";return new Qt($t.UNKNOWN,n)}function $q(n){return new Qt($t.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function Hq(n){return new Qt($t.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Gq(){let n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Qt($t.UNAUTHENTICATED,n)}function qq(){return new Qt($t.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Wq(n){return new Qt($t.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function AL(){return new Qt($t.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function xL(){return new Qt($t.CANCELED,"User canceled the upload/download.")}function Kq(n){return new Qt($t.INVALID_URL,"Invalid URL '"+n+"'.")}function Qq(n){return new Qt($t.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function Zq(){return new Qt($t.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+ML+"' property when initializing the app?")}function RL(){return new Qt($t.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Yq(){return new Qt($t.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function Jq(){return new Qt($t.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Xq(n){return new Qt($t.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Tc(n){return new Qt($t.INVALID_ARGUMENT,n)}function OL(){return new Qt($t.APP_DELETED,"The Firebase app was deleted.")}function OT(n){return new Qt($t.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function wp(n,e){return new Qt($t.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function vp(n){throw new Qt($t.INTERNAL_ERROR,"Internal error: "+n)}var Ei=class n{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=n.makeFromUrl(e,t)}catch{return new n(e,"")}if(i.path==="")return i;throw Qq(e)}static makeFromUrl(e,t){let i=null,r="([A-Za-z0-9.\\-_]+)";function s(Y){Y.path.charAt(Y.path.length-1)==="/"&&(Y.path_=Y.path_.slice(0,-1))}let o="(/(.*))?$",a=new RegExp("^gs://"+r+o,"i"),l={bucket:1,path:3};function c(Y){Y.path_=decodeURIComponent(Y.path)}let d="v[A-Za-z0-9_]+",h=t.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",v=new RegExp(`^https?://${h}/${d}/b/${r}/o${m}`,"i"),C={bucket:1,path:3},A=t===SL?"(?:storage.googleapis.com|storage.cloud.google.com)":t,S="([^?#]*)",j=new RegExp(`^https?://${A}/${r}/${S}`,"i"),W=[{regex:a,indices:l,postModify:s},{regex:v,indices:C,postModify:c},{regex:j,indices:{bucket:1,path:2},postModify:c}];for(let Y=0;Y<W.length;Y++){let ge=W[Y],ae=ge.regex.exec(e);if(ae){let R=ae[ge.indices.bucket],D=ae[ge.indices.path];D||(D=""),i=new n(R,D),ge.postModify(i);break}}if(i==null)throw Kq(e);return i}},DT=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function eW(n,e,t){let i=1,r=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function d(...S){c||(c=!0,e.apply(null,S))}function h(S){r=setTimeout(()=>{r=null,n(v,l())},S)}function m(){s&&clearTimeout(s)}function v(S,...j){if(c){m();return}if(S){m(),d.call(null,S,...j);return}if(l()||o){m(),d.call(null,S,...j);return}i<64&&(i*=2);let W;a===1?(a=2,W=0):W=(i+Math.random())*1e3,h(W)}let C=!1;function A(S){C||(C=!0,m(),!c&&(r!==null?(S||(a=2),clearTimeout(r),h(0)):S||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,A(!0)},t),A}function tW(n){n(!1)}function nW(n){return n!==void 0}function iW(n){return typeof n=="function"}function rW(n){return typeof n=="object"&&!Array.isArray(n)}function qy(n){return typeof n=="string"||n instanceof String}function vL(n){return NT()&&n instanceof Blob}function NT(){return typeof Blob<"u"}function TT(n,e,t,i){if(i<e)throw Tc(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw Tc(`Invalid value for '${n}'. Expected ${t} or less.`)}function Ya(n,e,t){let i=e;return t==null&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function NL(n){let e=encodeURIComponent,t="?";for(let i in n)if(n.hasOwnProperty(i)){let r=e(i)+"="+e(n[i]);t=t+r+"&"}return t=t.slice(0,-1),t}var $d=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}($d||{});function kL(n,e){let t=n>=500&&n<600,r=[408,429].indexOf(n)!==-1,s=e.indexOf(n)!==-1;return t||r||s}var ST=class{constructor(e,t,i,r,s,o,a,l,c,d,h,m=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=h,this.retry=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,C)=>{this.resolve_=v,this.reject_=C,this.start_()})}start_(){let e=(i,r)=>{if(r){i(!1,new zd(!1,null,!0));return}let s=this.connectionFactory_();this.pendingConnection_=s;let o=a=>{let l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;let a=s.getErrorCode()===$d.NO_ERROR,l=s.getStatus();if(!a||kL(l,this.additionalRetryCodes_)&&this.retry){let d=s.getErrorCode()===$d.ABORT;i(!1,new zd(!1,null,d));return}let c=this.successCodes_.indexOf(l)!==-1;i(!0,new zd(c,s))})},t=(i,r)=>{let s=this.resolve_,o=this.reject_,a=r.connection;if(r.wasSuccessCode)try{let l=this.callback_(a,a.getResponse());nW(l)?s(l):s()}catch(l){o(l)}else if(a!==null){let l=RT();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(r.canceled){let l=this.appDelete_?OL():xL();o(l)}else{let l=AL();o(l)}};this.canceled_?t(!1,new zd(!1,null,!0)):this.backoffId_=eW(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&tW(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},zd=class{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}};function sW(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function oW(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function aW(n,e){e&&(n["X-Firebase-GMPID"]=e)}function lW(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function cW(n,e,t,i,r,s,o=!0){let a=NL(n.urlParams),l=n.url+a,c=Object.assign({},n.headers);return aW(c,e),sW(c,t),oW(c,s),lW(c,i),new ST(l,n.method,c,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,o)}function uW(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function dW(...n){let e=uW();if(e!==void 0){let t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}else{if(NT())return new Blob(n);throw new Qt($t.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function hW(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}function fW(n){if(typeof atob>"u")throw Xq("base-64");return atob(n)}var Ji={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},bp=class{constructor(e,t){this.data=e,this.contentType=t||null}};function kT(n,e){switch(n){case Ji.RAW:return new bp(PL(e));case Ji.BASE64:case Ji.BASE64URL:return new bp(FL(n,e));case Ji.DATA_URL:return new bp(gW(e),mW(e))}throw RT()}function PL(n){let e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{let s=i,o=n.charCodeAt(++t);i=65536|(s&1023)<<10|o&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function pW(n){let e;try{e=decodeURIComponent(n)}catch{throw wp(Ji.DATA_URL,"Malformed data URL.")}return PL(e)}function FL(n,e){switch(n){case Ji.BASE64:{let r=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(r||s)throw wp(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Ji.BASE64URL:{let r=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(r||s)throw wp(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=fW(e)}catch(r){throw r.message.includes("polyfill")?r:wp(n,"Invalid character found")}let i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}var Gy=class{constructor(e){this.base64=!1,this.contentType=null;let t=e.match(/^data:([^,]+)?,/);if(t===null)throw wp(Ji.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let i=t[1]||null;i!=null&&(this.base64=_W(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}};function gW(n){let e=new Gy(n);return e.base64?FL(Ji.BASE64,e.rest):pW(e.rest)}function mW(n){return new Gy(n).contentType}function _W(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}var Hd=class n{constructor(e,t){let i=0,r="";vL(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(vL(this.data_)){let i=this.data_,r=hW(i,e,t);return r===null?null:new n(r)}else{let i=new Uint8Array(this.data_.buffer,e,t-e);return new n(i,!0)}}static getBlob(...e){if(NT()){let t=e.map(i=>i instanceof n?i.data_:i);return new n(dW.apply(null,t))}else{let t=e.map(o=>qy(o)?kT(Ji.RAW,o).data:o.data_),i=0;t.forEach(o=>{i+=o.byteLength});let r=new Uint8Array(i),s=0;return t.forEach(o=>{for(let a=0;a<o.length;a++)r[s++]=o[a]}),new n(r,!0)}}uploadData(){return this.data_}};function PT(n){let e;try{e=JSON.parse(n)}catch{return null}return rW(e)?e:null}function yW(n){if(n.length===0)return null;let e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function vW(n,e){let t=e.split("/").filter(i=>i.length>0).join("/");return n.length===0?t:n+"/"+t}function LL(n){let e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}function wW(n,e){return e}var Qn=class{constructor(e,t,i,r){this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||wW}},Hy=null;function bW(n){return!qy(n)||n.length<2?n:LL(n)}function Wy(){if(Hy)return Hy;let n=[];n.push(new Qn("bucket")),n.push(new Qn("generation")),n.push(new Qn("metageneration")),n.push(new Qn("name","fullPath",!0));function e(s,o){return bW(o)}let t=new Qn("name");t.xform=e,n.push(t);function i(s,o){return o!==void 0?Number(o):o}let r=new Qn("size");return r.xform=i,n.push(r),n.push(new Qn("timeCreated")),n.push(new Qn("updated")),n.push(new Qn("md5Hash",null,!0)),n.push(new Qn("cacheControl",null,!0)),n.push(new Qn("contentDisposition",null,!0)),n.push(new Qn("contentEncoding",null,!0)),n.push(new Qn("contentLanguage",null,!0)),n.push(new Qn("contentType",null,!0)),n.push(new Qn("metadata","customMetadata",!0)),Hy=n,Hy}function CW(n,e){function t(){let i=n.bucket,r=n.fullPath,s=new Ei(i,r);return e._makeStorageReference(s)}Object.defineProperty(n,"ref",{get:t})}function EW(n,e,t){let i={};i.type="file";let r=t.length;for(let s=0;s<r;s++){let o=t[s];i[o.local]=o.xform(i,e[o.server])}return CW(i,n),i}function VL(n,e,t){let i=PT(e);return i===null?null:EW(n,i,t)}function IW(n,e,t,i){let r=PT(e);if(r===null||!qy(r.downloadTokens))return null;let s=r.downloadTokens;if(s.length===0)return null;let o=encodeURIComponent;return s.split(",").map(c=>{let d=n.bucket,h=n.fullPath,m="/b/"+o(d)+"/o/"+o(h),v=Ya(m,t,i),C=NL({alt:"media",token:c});return v+C})[0]}function FT(n,e){let t={},i=e.length;for(let r=0;r<i;r++){let s=e[r];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}var wL="prefixes",bL="items";function DW(n,e,t){let i={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[wL])for(let r of t[wL]){let s=r.replace(/\/$/,""),o=n._makeStorageReference(new Ei(e,s));i.prefixes.push(o)}if(t[bL])for(let r of t[bL]){let s=n._makeStorageReference(new Ei(e,r.name));i.items.push(s)}return i}function TW(n,e,t){let i=PT(t);return i===null?null:DW(n,e,i)}var ts=class{constructor(e,t,i,r){this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function Hs(n){if(!n)throw RT()}function Ky(n,e){function t(i,r){let s=VL(n,r,e);return Hs(s!==null),s}return t}function SW(n,e){function t(i,r){let s=TW(n,e,r);return Hs(s!==null),s}return t}function MW(n,e){function t(i,r){let s=VL(n,r,e);return Hs(s!==null),IW(s,r,n.host,n._protocol)}return t}function Wd(n){function e(t,i){let r;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?r=qq():r=Gq():t.getStatus()===402?r=Hq(n.bucket):t.getStatus()===403?r=Wq(n.path):r=i,r.status=t.getStatus(),r.serverResponse=i.serverResponse,r}return e}function Qy(n){let e=Wd(n);function t(i,r){let s=e(i,r);return i.getStatus()===404&&(s=$q(n.path)),s.serverResponse=r.serverResponse,s}return t}function BL(n,e,t){let i=e.fullServerUrl(),r=Ya(i,n.host,n._protocol),s="GET",o=n.maxOperationRetryTime,a=new ts(r,s,Ky(n,t),o);return a.errorHandler=Qy(e),a}function AW(n,e,t,i,r){let s={};e.isRoot?s.prefix="":s.prefix=e.path+"/",t&&t.length>0&&(s.delimiter=t),i&&(s.pageToken=i),r&&(s.maxResults=r);let o=e.bucketOnlyServerUrl(),a=Ya(o,n.host,n._protocol),l="GET",c=n.maxOperationRetryTime,d=new ts(a,l,SW(n,e.bucket),c);return d.urlParams=s,d.errorHandler=Wd(e),d}function xW(n,e,t){let i=e.fullServerUrl(),r=Ya(i,n.host,n._protocol),s="GET",o=n.maxOperationRetryTime,a=new ts(r,s,MW(n,t),o);return a.errorHandler=Qy(e),a}function RW(n,e,t,i){let r=e.fullServerUrl(),s=Ya(r,n.host,n._protocol),o="PATCH",a=FT(t,i),l={"Content-Type":"application/json; charset=utf-8"},c=n.maxOperationRetryTime,d=new ts(s,o,Ky(n,i),c);return d.headers=l,d.body=a,d.errorHandler=Qy(e),d}function OW(n,e){let t=e.fullServerUrl(),i=Ya(t,n.host,n._protocol),r="DELETE",s=n.maxOperationRetryTime;function o(l,c){}let a=new ts(i,r,o,s);return a.successCodes=[200,204],a.errorHandler=Qy(e),a}function NW(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function UL(n,e,t){let i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=NW(null,e)),i}function kW(n,e,t,i,r){let s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let W="";for(let Y=0;Y<2;Y++)W=W+Math.random().toString().slice(2);return W}let l=a();o["Content-Type"]="multipart/related; boundary="+l;let c=UL(e,i,r),d=FT(c,t),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,m=`\r
--`+l+"--",v=Hd.getBlob(h,i,m);if(v===null)throw RL();let C={name:c.fullPath},A=Ya(s,n.host,n._protocol),S="POST",j=n.maxUploadRetryTime,Z=new ts(A,S,Ky(n,t),j);return Z.urlParams=C,Z.headers=o,Z.body=v.uploadData(),Z.errorHandler=Wd(e),Z}var Gd=class{constructor(e,t,i,r){this.current=e,this.total=t,this.finalized=!!i,this.metadata=r||null}};function LT(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{Hs(!1)}return Hs(!!t&&(e||["active"]).indexOf(t)!==-1),t}function PW(n,e,t,i,r){let s=e.bucketOnlyServerUrl(),o=UL(e,i,r),a={name:o.fullPath},l=Ya(s,n.host,n._protocol),c="POST",d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},h=FT(o,t),m=n.maxUploadRetryTime;function v(A){LT(A);let S;try{S=A.getResponseHeader("X-Goog-Upload-URL")}catch{Hs(!1)}return Hs(qy(S)),S}let C=new ts(l,c,v,m);return C.urlParams=a,C.headers=d,C.body=h,C.errorHandler=Wd(e),C}function FW(n,e,t,i){let r={"X-Goog-Upload-Command":"query"};function s(c){let d=LT(c,["active","final"]),h=null;try{h=c.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Hs(!1)}h||Hs(!1);let m=Number(h);return Hs(!isNaN(m)),new Gd(m,i.size(),d==="final")}let o="POST",a=n.maxUploadRetryTime,l=new ts(t,o,s,a);return l.headers=r,l.errorHandler=Wd(e),l}var CL=256*1024;function LW(n,e,t,i,r,s,o,a){let l=new Gd(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=i.size()),i.size()!==l.total)throw Yq();let c=l.total-l.current,d=c;r>0&&(d=Math.min(d,r));let h=l.current,m=h+d,v="";d===0?v="finalize":c===d?v="upload, finalize":v="upload";let C={"X-Goog-Upload-Command":v,"X-Goog-Upload-Offset":`${l.current}`},A=i.slice(h,m);if(A===null)throw RL();function S(Y,ge){let ae=LT(Y,["active","final"]),R=l.current+d,D=i.size(),M;return ae==="final"?M=Ky(e,s)(Y,ge):M=null,new Gd(R,D,ae==="final",M)}let j="POST",Z=e.maxUploadRetryTime,W=new ts(t,j,S,Z);return W.headers=C,W.body=A.uploadData(),W.progressCallback=a||null,W.errorHandler=Wd(n),W}var jL={STATE_CHANGED:"state_changed"},ai={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function IT(n){switch(n){case"running":case"pausing":case"canceling":return ai.RUNNING;case"paused":return ai.PAUSED;case"success":return ai.SUCCESS;case"canceled":return ai.CANCELED;case"error":return ai.ERROR;default:return ai.ERROR}}var MT=class{constructor(e,t,i){if(iW(e)||t!=null||i!=null)this.next=e,this.error=t??void 0,this.complete=i??void 0;else{let s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}};function jd(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}var EL=null,AT=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=$d.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=$d.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=$d.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,r){if(this.sent_)throw vp("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),r!==void 0)for(let s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw vp("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw vp("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw vp("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw vp("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},xT=class extends AT{initXhr(){this.xhr_.responseType="text"}};function $s(){return EL?EL():new xT}var Cp=class{constructor(e,t,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=i,this._mappings=Wy(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals($t.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{let s=this.isExponentialBackoffExpired();if(kL(r.status,[]))if(s)r=AL();else{this.sleepTime=Math.max(this.sleepTime*2,zq),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals($t.CANCELED)?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){let e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,i])=>{switch(this._state){case"running":e(t,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,t)=>{let i=PW(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,$s,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){let e=this._uploadUrl;this._resolveToken((t,i)=>{let r=FW(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(r,$s,t,i);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){let e=CL*this._chunkMultiplier,t=new Gd(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,s)=>{let o;try{o=LW(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}let a=this._ref.storage._makeRequest(o,$s,r,s,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){CL*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{let i=BL(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,$s,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{let i=kW(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,$s,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){let t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":let t=this._state==="paused";this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=xL(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){let e=IT(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,i,r){let s=new MT(t||void 0,i||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){let t=this._observers.indexOf(e);t!==-1&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(IT(this._state)){case ai.SUCCESS:jd(this._resolve.bind(null,this.snapshot))();break;case ai.CANCELED:case ai.ERROR:let t=this._reject;jd(t.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(IT(this._state)){case ai.RUNNING:case ai.PAUSED:e.next&&jd(e.next.bind(e,this.snapshot))();break;case ai.SUCCESS:e.complete&&jd(e.complete.bind(e))();break;case ai.CANCELED:case ai.ERROR:e.error&&jd(e.error.bind(e,this._error))();break;default:e.error&&jd(e.error.bind(e,this._error))()}}resume(){let e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){let e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){let e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}};var qd=class n{constructor(e,t){this._service=e,t instanceof Ei?this._location=t:this._location=Ei.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new n(e,t)}get root(){let e=new Ei(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return LL(this._location.path)}get storage(){return this._service}get parent(){let e=yW(this._location.path);if(e===null)return null;let t=new Ei(this._location.bucket,e);return new n(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw OT(e)}};function VW(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new Cp(n,new Hd(e),t)}function BW(n){let e={prefixes:[],items:[]};return zL(n,e).then(()=>e)}function zL(n,e,t){return F(this,null,function*(){let r=yield $L(n,{pageToken:t});e.prefixes.push(...r.prefixes),e.items.push(...r.items),r.nextPageToken!=null&&(yield zL(n,e,r.nextPageToken))})}function $L(n,e){e!=null&&typeof e.maxResults=="number"&&TT("options.maxResults",1,1e3,e.maxResults);let t=e||{},i=AW(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(i,$s)}function UW(n){n._throwIfRoot("getMetadata");let e=BL(n.storage,n._location,Wy());return n.storage.makeRequestWithTokens(e,$s)}function jW(n,e){n._throwIfRoot("updateMetadata");let t=RW(n.storage,n._location,e,Wy());return n.storage.makeRequestWithTokens(t,$s)}function zW(n){n._throwIfRoot("getDownloadURL");let e=xW(n.storage,n._location,Wy());return n.storage.makeRequestWithTokens(e,$s).then(t=>{if(t===null)throw Jq();return t})}function $W(n){n._throwIfRoot("deleteObject");let e=OW(n.storage,n._location);return n.storage.makeRequestWithTokens(e,$s)}function HL(n,e){let t=vW(n._location.path,e),i=new Ei(n._location.bucket,t);return new qd(n.storage,i)}function HW(n){return/^[A-Za-z]+:\/\//.test(n)}function GW(n,e){return new qd(n,e)}function GL(n,e){if(n instanceof Ep){let t=n;if(t._bucket==null)throw Zq();let i=new qd(t,t._bucket);return e!=null?GL(i,e):i}else return e!==void 0?HL(n,e):n}function qW(n,e){if(e&&HW(e)){if(n instanceof Ep)return GW(n,e);throw Tc("To use ref(service, url), the first argument must be a Storage instance.")}else return GL(n,e)}function IL(n,e){let t=e?.[ML];return t==null?null:Ei.makeFromBucketSpec(t,n)}function WW(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";let{mockUserToken:r}=i;r&&(n._overrideAuthToken=typeof r=="string"?r:qg(r,n.app.options.projectId))}var Ep=class{constructor(e,t,i,r,s){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=SL,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Uq,this._maxUploadRetryTime=jq,this._requests=new Set,r!=null?this._bucket=Ei.makeFromBucketSpec(r,this._host):this._bucket=IL(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ei.makeFromBucketSpec(this._url,e):this._bucket=IL(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){TT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){TT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return F(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let t=yield e.getToken();if(t!==null)return t.accessToken}return null})}_getAppCheckToken(){return F(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new qd(this,e)}_makeRequest(e,t,i,r,s=!0){if(this._deleted)return new DT(OL());{let o=cW(e,this._appId,i,r,t,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,t){return F(this,null,function*(){let[i,r]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,r).getPromise()})}},DL="@firebase/storage",TL="0.12.5";var KW="storage";function qL(n,e,t){return n=tt(n),VW(n,e,t)}function WL(n){return n=tt(n),UW(n)}function KL(n,e){return n=tt(n),jW(n,e)}function QL(n,e){return n=tt(n),$L(n,e)}function ZL(n){return n=tt(n),BW(n)}function YL(n){return n=tt(n),zW(n)}function JL(n){return n=tt(n),$W(n)}function VT(n,e){return n=tt(n),qW(n,e)}function XL(n,e){return HL(n,e)}function eV(n,e,t,i={}){WW(n,e,t,i)}function QW(n,{instanceIdentifier:e}){let t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new Ep(t,i,r,e,Kg)}function ZW(){zi(new Bn(KW,QW,"PUBLIC").setMultipleInstances(!0)),Un(DL,TL,""),Un(DL,TL,"esm2017")}ZW();var Kd=class{constructor(e,t,i){this._delegate=e,this.task=t,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}};var Zy=class{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Kd(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(i=>{if(e)return e(new Kd(i,this,this._ref))},t)}on(e,t,i,r){let s;return t&&(typeof t=="function"?s=o=>t(new Kd(o,this,this._ref)):s={next:t.next?o=>t.next(new Kd(o,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,s,i||void 0,r||void 0)}},Yy=class{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new Sc(e,this._service))}get items(){return this._delegate.items.map(e=>new Sc(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}};var Sc=class n{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){let t=XL(this._delegate,e);return new n(t,this.storage)}get root(){return new n(this._delegate.root,this.storage)}get parent(){let e=this._delegate.parent;return e==null?null:new n(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new Zy(qL(this._delegate,e,t),this)}putString(e,t=Ji.RAW,i){this._throwIfRoot("putString");let r=kT(t,e),s=Object.assign({},i);return s.contentType==null&&r.contentType!=null&&(s.contentType=r.contentType),new Zy(new Cp(this._delegate,new Hd(r.data,!0),s),this)}listAll(){return ZL(this._delegate).then(e=>new Yy(e,this.storage))}list(e){return QL(this._delegate,e||void 0).then(t=>new Yy(t,this.storage))}getMetadata(){return WL(this._delegate)}updateMetadata(e){return KL(this._delegate,e)}getDownloadURL(){return YL(this._delegate)}delete(){return this._throwIfRoot("delete"),JL(this._delegate)}_throwIfRoot(e){if(this._delegate._location.path==="")throw OT(e)}};var Jy=class{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(tV(e))throw Tc("ref() expected a child path but got a URL, use refFromURL instead.");return new Sc(VT(this._delegate,e),this)}refFromURL(e){if(!tV(e))throw Tc("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ei.makeFromUrl(e,this._delegate.host)}catch{throw Tc("refFromUrl() expected a valid full URL but got an invalid one.")}return new Sc(VT(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,i={}){eV(this._delegate,e,t,i)}};function tV(n){return/^[A-Za-z]+:\/\//.test(n)}var YW="@firebase/storage-compat",JW="0.3.8";var XW="storage-compat";function eK(n,{instanceIdentifier:e}){let t=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:e});return new Jy(t,i)}function tK(n){let e={TaskState:ai,TaskEvent:jL,StringFormat:Ji,Storage:Jy,Reference:Sc};n.INTERNAL.registerComponent(new Bn(XW,eK,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion(YW,JW)}tK(vt);function nK(n){return new Se(e=>{let t=o=>e.next(o),i=o=>e.error(o),r=()=>e.complete();t(n.snapshot);let s=n.on("state_changed",t);return n.then(o=>{t(o),r()},o=>{t(n.snapshot),i(o)}),function(){s()}}).pipe(rb(0))}function nV(n){let e=nK(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(se(t=>t.bytesTransferred/t.totalBytes*100))}}function Xy(n){return{getDownloadURL:()=>le(void 0).pipe(rE,Le(()=>n.getDownloadURL()),Wn),getMetadata:()=>le(void 0).pipe(rE,Le(()=>n.getMetadata()),Wn),delete:()=>Ge(n.delete()),child:e=>Xy(n.child(e)),updateMetadata:e=>Ge(n.updateMetadata(e)),put:(e,t)=>{let i=n.put(e,t);return nV(i)},putString:(e,t,i)=>{let r=n.putString(e,t,i);return nV(r)},list:e=>Ge(n.list(e)),listAll:()=>Ge(n.listAll())}}var iK=new oe("angularfire2.storageBucket"),rK=new oe("angularfire2.storage.maxUploadRetryTime"),sK=new oe("angularfire2.storage.maxOperationRetryTime"),oK=new oe("angularfire2.storage.use-emulator"),Mc=(()=>{class n{storage;constructor(t,i,r,s,o,a,l,c,d,h){let m=Xl(t,o,i);this.storage=Xu(`${m.name}.storage.${r}`,"AngularFireStorage",m.name,()=>{let v=o.runOutsideAngular(()=>m.storage(r||void 0)),C=d;return C&&v.useEmulator(...C),l&&v.setMaxUploadRetryTime(l),c&&v.setMaxOperationRetryTime(c),v},[l,c])}ref(t){return Xy(this.storage.ref(t))}refFromURL(t){return Xy(this.storage.refFromURL(t))}upload(t,i,r){let s=this.storage.ref(t);return Xy(s).put(i,r)}static \u0275fac=function(i){return new(i||n)(G(Ma),G(Aa,8),G(iK,8),G(wt),G(De),G(Ju),G(rK,8),G(sK,8),G(oK,8),G(Io,8))};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})();var aK=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=we({type:n});static \u0275inj=ve({})}return n})(),iV=(()=>{class n{constructor(){vt.registerVersion("angularfire",Do.full,"gcs-compat")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=we({type:n});static \u0275inj=ve({providers:[Mc],imports:[aK]})}return n})();var hV=(()=>{let e=class e{constructor(i,r){this._renderer=i,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(i,r){this._renderer.setProperty(this._elementRef.nativeElement,i,r)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}};e.\u0275fac=function(r){return new(r||e)(B(An),B(ct))},e.\u0275dir=Qe({type:e});let n=e;return n})(),fV=(()=>{let e=class e extends hV{};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=gi(e)))(s||e)}})(),e.\u0275dir=Qe({type:e,features:[fn]});let n=e;return n})(),lv=new oe("");var lK={provide:lv,useExisting:Es(()=>kn),multi:!0};function cK(){let n=As()?As().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var uK=new oe(""),kn=(()=>{let e=class e extends hV{constructor(i,r,s){super(i,r),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!cK())}writeValue(i){let r=i??"";this.setProperty("value",r)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}};e.\u0275fac=function(r){return new(r||e)(B(An),B(ct),B(uK,8))},e.\u0275dir=Qe({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,s){r&1&&re("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[wa([lK]),fn]});let n=e;return n})();function Ja(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function pV(n){return n!=null&&typeof n.length=="number"}var cv=new oe(""),uv=new oe(""),dK=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Ft=class{static min(e){return hK(e)}static max(e){return fK(e)}static required(e){return pK(e)}static requiredTrue(e){return gK(e)}static email(e){return mK(e)}static minLength(e){return _K(e)}static maxLength(e){return yK(e)}static pattern(e){return vK(e)}static nullValidator(e){return gV(e)}static compose(e){return bV(e)}static composeAsync(e){return CV(e)}};function hK(n){return e=>{if(Ja(e.value)||Ja(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function fK(n){return e=>{if(Ja(e.value)||Ja(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function pK(n){return Ja(n.value)?{required:!0}:null}function gK(n){return n.value===!0?null:{required:!0}}function mK(n){return Ja(n.value)||dK.test(n.value)?null:{email:!0}}function _K(n){return e=>Ja(e.value)||!pV(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function yK(n){return e=>pV(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function vK(n){if(!n)return gV;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(Ja(i.value))return null;let r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}function gV(n){return null}function mV(n){return n!=null}function _V(n){return ba(n)?Ge(n):n}function yV(n){let e={};return n.forEach(t=>{e=t!=null?Q(Q({},e),t):e}),Object.keys(e).length===0?null:e}function vV(n,e){return e.map(t=>t(n))}function wK(n){return!n.validate}function wV(n){return n.map(e=>wK(e)?e:t=>e.validate(t))}function bV(n){if(!n)return null;let e=n.filter(mV);return e.length==0?null:function(t){return yV(vV(t,e))}}function GT(n){return n!=null?bV(wV(n)):null}function CV(n){if(!n)return null;let e=n.filter(mV);return e.length==0?null:function(t){let i=vV(t,e).map(_V);return tb(i).pipe(se(yV))}}function qT(n){return n!=null?CV(wV(n)):null}function rV(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function EV(n){return n._rawValidators}function IV(n){return n._rawAsyncValidators}function UT(n){return n?Array.isArray(n)?n:[n]:[]}function tv(n,e){return Array.isArray(n)?n.includes(e):n===e}function sV(n,e){let t=UT(e);return UT(n).forEach(r=>{tv(t,r)||t.push(r)}),t}function oV(n,e){return UT(e).filter(t=>!tv(n,t))}var nv=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=GT(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=qT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Fo=class extends nv{get formDirective(){return null}get path(){return null}},xc=class extends nv{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},iv=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},bK={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},xpe=Ee(Q({},bK),{"[class.ng-submitted]":"isSubmitted"}),li=(()=>{let e=class e extends iv{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(B(xc,2))},e.\u0275dir=Qe({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,s){r&2&&jr("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[fn]});let n=e;return n})(),ki=(()=>{let e=class e extends iv{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(B(Fo,10))},e.\u0275dir=Qe({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,s){r&2&&jr("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[fn]});let n=e;return n})();var Ip="VALID",ev="INVALID",Qd="PENDING",Dp="DISABLED",Xa=class{},rv=class extends Xa{constructor(e,t){super(),this.value=e,this.source=t}},Sp=class extends Xa{constructor(e,t){super(),this.pristine=e,this.source=t}},Mp=class extends Xa{constructor(e,t){super(),this.touched=e,this.source=t}},Zd=class extends Xa{constructor(e,t){super(),this.status=e,this.source=t}},jT=class extends Xa{constructor(e){super(),this.source=e}},zT=class extends Xa{constructor(e){super(),this.source=e}};function WT(n){return(dv(n)?n.validators:n)||null}function CK(n){return Array.isArray(n)?GT(n):n||null}function KT(n,e){return(dv(e)?e.asyncValidators:n)||null}function EK(n){return Array.isArray(n)?qT(n):n||null}function dv(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function DV(n,e,t){let i=n.controls;if(!(e?Object.keys(i):i).length)throw new ie(1e3,"");if(!i[t])throw new ie(1001,"")}function TV(n,e,t){n._forEachChild((i,r)=>{if(t[r]===void 0)throw new ie(1002,"")})}var Yd=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Ku(()=>this.statusReactive()),this.statusReactive=xi(void 0),this._pristine=Ku(()=>this.pristineReactive()),this.pristineReactive=xi(!0),this._touched=Ku(()=>this.touchedReactive()),this.touchedReactive=xi(!1),this._events=new ke,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return _r(this.statusReactive)}set status(e){_r(()=>this.statusReactive.set(e))}get valid(){return this.status===Ip}get invalid(){return this.status===ev}get pending(){return this.status==Qd}get disabled(){return this.status===Dp}get enabled(){return this.status!==Dp}get pristine(){return _r(this.pristineReactive)}set pristine(e){_r(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return _r(this.touchedReactive)}set touched(e){_r(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(sV(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(sV(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(oV(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(oV(e,this._rawAsyncValidators))}hasValidator(e){return tv(this._rawValidators,e)}hasAsyncValidator(e){return tv(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(Ee(Q({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new Mp(!0,i))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:i})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i),t&&e.emitEvent!==!1&&this._events.next(new Mp(!1,i))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(Ee(Q({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new Sp(!1,i))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),t&&e.emitEvent!==!1&&this._events.next(new Sp(!0,i))}markAsPending(e={}){this.status=Qd;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Zd(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(Ee(Q({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Dp,this.errors=null,this._forEachChild(r=>{r.disable(Ee(Q({},e),{onlySelf:!0}))}),this._updateValue();let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new rv(this.value,i)),this._events.next(new Zd(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Ee(Q({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Ip,this._forEachChild(i=>{i.enable(Ee(Q({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Ee(Q({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ip||this.status===Qd)&&this._runAsyncValidator(i,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new rv(this.value,t)),this._events.next(new Zd(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(Ee(Q({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Dp:Ip}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Qd,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let i=_V(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,i){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||i)&&this._events.next(new Zd(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,i)}_initObservables(){this.valueChanges=new xe,this.statusChanges=new xe}_calculateStatus(){return this._allControlsDisabled()?Dp:this.errors?ev:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Qd)?Qd:this._anyControlsHaveStatus(ev)?ev:Ip}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),r&&this._events.next(new Sp(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Mp(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){dv(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=CK(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=EK(this._rawAsyncValidators)}},Jd=class extends Yd{constructor(e,t,i){super(WT(t),KT(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){TV(this,!0,e),Object.keys(e).forEach(i=>{DV(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>i._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var $T=class extends Jd{};var Ap=new oe("CallSetDisabledState",{providedIn:"root",factory:()=>hv}),hv="always";function SV(n,e){return[...e.path,n]}function sv(n,e,t=hv){QT(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),DK(n,e),SK(n,e),TK(n,e),IK(n,e)}function aV(n,e,t=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),av(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function ov(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function IK(n,e){if(e.valueAccessor.setDisabledState){let t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function QT(n,e){let t=EV(n);e.validator!==null?n.setValidators(rV(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let i=IV(n);e.asyncValidator!==null?n.setAsyncValidators(rV(i,e.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();ov(e._rawValidators,r),ov(e._rawAsyncValidators,r)}function av(n,e){let t=!1;if(n!==null){if(e.validator!==null){let r=EV(n);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==e.validator);s.length!==r.length&&(t=!0,n.setValidators(s))}}if(e.asyncValidator!==null){let r=IV(n);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==e.asyncValidator);s.length!==r.length&&(t=!0,n.setAsyncValidators(s))}}}let i=()=>{};return ov(e._rawValidators,i),ov(e._rawAsyncValidators,i),t}function DK(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&MV(n,e)})}function TK(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&MV(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function MV(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function SK(n,e){let t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function AV(n,e){n==null,QT(n,e)}function MK(n,e){return av(n,e)}function xV(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function AK(n){return Object.getPrototypeOf(n.constructor)===fV}function RV(n,e){n._syncPendingControls(),e.forEach(t=>{let i=t.control;i.updateOn==="submit"&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function OV(n,e){if(!e)return null;Array.isArray(e);let t,i,r;return e.forEach(s=>{s.constructor===kn?t=s:AK(s)?i=s:r=s}),r||i||t||null}function xK(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var RK={provide:Fo,useExisting:Es(()=>Rc)},Tp=Promise.resolve(),Rc=(()=>{let e=class e extends Fo{get submitted(){return _r(this.submittedReactive)}constructor(i,r,s){super(),this.callSetDisabledState=s,this._submitted=Ku(()=>this.submittedReactive()),this.submittedReactive=xi(!1),this._directives=new Set,this.ngSubmit=new xe,this.form=new Jd({},GT(i),qT(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(i){Tp.then(()=>{let r=this._findContainer(i.path);i.control=r.registerControl(i.name,i.control),sv(i.control,i,this.callSetDisabledState),i.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(i)})}getControl(i){return this.form.get(i.path)}removeControl(i){Tp.then(()=>{let r=this._findContainer(i.path);r&&r.removeControl(i.name),this._directives.delete(i)})}addFormGroup(i){Tp.then(()=>{let r=this._findContainer(i.path),s=new Jd({});AV(s,i),r.registerControl(i.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(i){Tp.then(()=>{let r=this._findContainer(i.path);r&&r.removeControl(i.name)})}getFormGroup(i){return this.form.get(i.path)}updateModel(i,r){Tp.then(()=>{this.form.get(i.path).setValue(r)})}setValue(i){this.control.setValue(i)}onSubmit(i){return this.submittedReactive.set(!0),RV(this.form,this._directives),this.ngSubmit.emit(i),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(i){return i.pop(),i.length?this.form.get(i):this.form}};e.\u0275fac=function(r){return new(r||e)(B(cv,10),B(uv,10),B(Ap,8))},e.\u0275dir=Qe({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,s){r&1&&re("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[wa([RK]),fn]});let n=e;return n})();function lV(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function cV(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Ac=class extends Yd{constructor(e=null,t,i){super(WT(t),KT(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),dv(t)&&(t.nonNullable||t.initialValueIsDefault)&&(cV(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){lV(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){lV(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){cV(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var OK=n=>n instanceof Ac;var NK={provide:xc,useExisting:Es(()=>Lo)},uV=Promise.resolve(),Lo=(()=>{let e=class e extends xc{constructor(i,r,s,o,a,l){super(),this._changeDetectorRef=a,this.callSetDisabledState=l,this.control=new Ac,this._registered=!1,this.name="",this.update=new xe,this._parent=i,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=OV(this,o)}ngOnChanges(i){if(this._checkForErrors(),!this._registered||"name"in i){if(this._registered&&(this._checkName(),this.formDirective)){let r=i.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in i&&this._updateDisabled(i),xV(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){sv(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(i){uV.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(i){let r=i.isDisabled.currentValue,s=r!==0&&Ue(r);uV.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(i){return this._parent?SV(i,this._parent):[i]}};e.\u0275fac=function(r){return new(r||e)(B(Fo,9),B(cv,10),B(uv,10),B(lv,10),B(Ri,8),B(Ap,8))},e.\u0275dir=Qe({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[wa([NK]),fn,In]});let n=e;return n})(),Pi=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Qe({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let n=e;return n})(),kK={provide:lv,useExisting:Es(()=>ZT),multi:!0},ZT=(()=>{let e=class e extends fV{writeValue(i){let r=i??"";this.setProperty("value",r)}registerOnChange(i){this.onChange=r=>{i(r==""?null:parseFloat(r))}}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=gi(e)))(s||e)}})(),e.\u0275dir=Qe({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,s){r&1&&re("input",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},features:[wa([kK]),fn]});let n=e;return n})();var NV=new oe("");var PK={provide:Fo,useExisting:Es(()=>Vo)},Vo=(()=>{let e=class e extends Fo{get submitted(){return _r(this._submittedReactive)}set submitted(i){this._submittedReactive.set(i)}constructor(i,r,s){super(),this.callSetDisabledState=s,this._submitted=Ku(()=>this._submittedReactive()),this._submittedReactive=xi(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new xe,this._setValidators(i),this._setAsyncValidators(r)}ngOnChanges(i){this._checkFormPresent(),i.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(av(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(i){let r=this.form.get(i.path);return sv(r,i,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(i),r}getControl(i){return this.form.get(i.path)}removeControl(i){aV(i.control||null,i,!1),xK(this.directives,i)}addFormGroup(i){this._setUpFormContainer(i)}removeFormGroup(i){this._cleanUpFormContainer(i)}getFormGroup(i){return this.form.get(i.path)}addFormArray(i){this._setUpFormContainer(i)}removeFormArray(i){this._cleanUpFormContainer(i)}getFormArray(i){return this.form.get(i.path)}updateModel(i,r){this.form.get(i.path).setValue(r)}onSubmit(i){return this._submittedReactive.set(!0),RV(this.form,this.directives),this.ngSubmit.emit(i),this.form._events.next(new jT(this.control)),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this._submittedReactive.set(!1),this.form._events.next(new zT(this.form))}_updateDomValue(){this.directives.forEach(i=>{let r=i.control,s=this.form.get(i.path);r!==s&&(aV(r||null,i),OK(s)&&(sv(s,i,this.callSetDisabledState),i.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(i){let r=this.form.get(i.path);AV(r,i),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(i){if(this.form){let r=this.form.get(i.path);r&&MK(r,i)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){QT(this.form,this),this._oldForm&&av(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(r){return new(r||e)(B(cv,10),B(uv,10),B(Ap,8))},e.\u0275dir=Qe({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,s){r&1&&re("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[wa([PK]),fn,In]});let n=e;return n})();var FK={provide:xc,useExisting:Es(()=>Bo)},Bo=(()=>{let e=class e extends xc{set isDisabled(i){}constructor(i,r,s,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new xe,this._ngModelWarningSent=!1,this._parent=i,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=OV(this,o)}ngOnChanges(i){this._added||this._setUpControl(),xV(i,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}get path(){return SV(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(r){return new(r||e)(B(Fo,13),B(cv,10),B(uv,10),B(lv,10),B(NV,8))},e.\u0275dir=Qe({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[wa([FK]),fn,In]});let n=e;return n})();var kV=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({});let n=e;return n})(),HT=class extends Yd{constructor(e,t,i){super(WT(t),KT(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){TV(this,!1,e),e.forEach((i,r)=>{DV(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>i._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function dV(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var el=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let i=new e;return i.useNonNullable=!0,i}group(i,r=null){let s=this._reduceControls(i),o={};return dV(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Jd(s,o)}record(i,r=null){let s=this._reduceControls(i);return new $T(s,r)}control(i,r,s){let o={};return this.useNonNullable?(dV(r)?o=r:(o.validators=r,o.asyncValidators=s),new Ac(i,Ee(Q({},o),{nonNullable:!0}))):new Ac(i,r,s)}array(i,r,s){let o=i.map(a=>this._createControl(a));return new HT(o,r,s)}_reduceControls(i){let r={};return Object.keys(i).forEach(s=>{r[s]=this._createControl(i[s])}),r}_createControl(i){if(i instanceof Ac)return i;if(i instanceof Yd)return i;if(Array.isArray(i)){let r=i[0],s=i.length>1?i[1]:null,o=i.length>2?i[2]:null;return this.control(r,s,o)}else return this.control(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var PV=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:Ap,useValue:i.callSetDisabledState??hv}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({imports:[kV]});let n=e;return n})(),FV=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:NV,useValue:i.warnOnNgModelWithFormControl??"always"},{provide:Ap,useValue:i.callSetDisabledState??hv}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({imports:[kV]});let n=e;return n})();var LK=["*"],Rp=class{_clearListeners(){for(let e of this._listeners)e.remove();this._listeners=[]}constructor(e){this._ngZone=e,this._pending=[],this._listeners=[],this._targetStream=new Ot(void 0)}getLazyEmitter(e){return this._targetStream.pipe(Le(t=>{let i=new Se(r=>{if(!t){this._pending.push({observable:i,observer:r});return}let s=t.addListener(e,o=>{this._ngZone.run(()=>r.next(o))});if(!s){r.complete();return}return this._listeners.push(s),()=>s.remove()});return i}))}setTarget(e){let t=this._targetStream.value;e!==t&&(t&&(this._clearListeners(),this._pending=[]),this._targetStream.next(e),this._pending.forEach(i=>i.observable.subscribe(i.observer)),this._pending=[])}destroy(){this._clearListeners(),this._pending=[],this._targetStream.complete()}},xp={center:{lat:37.421995,lng:-122.084092},zoom:17,mapTypeId:"roadmap"},LV="500px",VV="500px",fv=(()=>{let e=class e{set center(i){this._center=i}set zoom(i){this._zoom=i}set options(i){this._options=i||xp}constructor(i,r,s){if(this._elementRef=i,this._ngZone=r,this._eventManager=new Rp(K(De)),this.height=LV,this.width=VV,this._options=xp,this.mapInitialized=new xe,this.authFailure=new xe,this.boundsChanged=this._eventManager.getLazyEmitter("bounds_changed"),this.centerChanged=this._eventManager.getLazyEmitter("center_changed"),this.mapClick=this._eventManager.getLazyEmitter("click"),this.mapDblclick=this._eventManager.getLazyEmitter("dblclick"),this.mapDrag=this._eventManager.getLazyEmitter("drag"),this.mapDragend=this._eventManager.getLazyEmitter("dragend"),this.mapDragstart=this._eventManager.getLazyEmitter("dragstart"),this.headingChanged=this._eventManager.getLazyEmitter("heading_changed"),this.idle=this._eventManager.getLazyEmitter("idle"),this.maptypeidChanged=this._eventManager.getLazyEmitter("maptypeid_changed"),this.mapMousemove=this._eventManager.getLazyEmitter("mousemove"),this.mapMouseout=this._eventManager.getLazyEmitter("mouseout"),this.mapMouseover=this._eventManager.getLazyEmitter("mouseover"),this.projectionChanged=this._eventManager.getLazyEmitter("projection_changed"),this.mapRightclick=this._eventManager.getLazyEmitter("rightclick"),this.tilesloaded=this._eventManager.getLazyEmitter("tilesloaded"),this.tiltChanged=this._eventManager.getLazyEmitter("tilt_changed"),this.zoomChanged=this._eventManager.getLazyEmitter("zoom_changed"),this._isBrowser=Qi(s),this._isBrowser){let o=window;o.google,this._existingAuthFailureCallback=o.gm_authFailure,o.gm_authFailure=()=>{this._existingAuthFailureCallback&&this._existingAuthFailureCallback(),this.authFailure.emit()}}}ngOnChanges(i){(i.height||i.width)&&this._setSize();let r=this.googleMap;r&&(i.options&&r.setOptions(this._combineOptions()),i.center&&this._center&&r.setCenter(this._center),i.zoom&&this._zoom!=null&&r.setZoom(this._zoom),i.mapTypeId&&this.mapTypeId&&r.setMapTypeId(this.mapTypeId))}ngOnInit(){this._isBrowser&&(this._mapEl=this._elementRef.nativeElement.querySelector(".map-container"),this._setSize(),google.maps.Map?this._initialize(google.maps.Map):this._ngZone.runOutsideAngular(()=>{google.maps.importLibrary("maps").then(i=>this._initialize(i.Map))}))}_initialize(i){this._ngZone.runOutsideAngular(()=>{this.googleMap=new i(this._mapEl,this._combineOptions()),this._eventManager.setTarget(this.googleMap),this.mapInitialized.emit(this.googleMap)})}ngOnDestroy(){if(this.mapInitialized.complete(),this._eventManager.destroy(),this._isBrowser){let i=window;i.gm_authFailure=this._existingAuthFailureCallback}}fitBounds(i,r){this._assertInitialized(),this.googleMap.fitBounds(i,r)}panBy(i,r){this._assertInitialized(),this.googleMap.panBy(i,r)}panTo(i){this._assertInitialized(),this.googleMap.panTo(i)}panToBounds(i,r){this._assertInitialized(),this.googleMap.panToBounds(i,r)}getBounds(){return this._assertInitialized(),this.googleMap.getBounds()||null}getCenter(){return this._assertInitialized(),this.googleMap.getCenter()}getClickableIcons(){return this._assertInitialized(),this.googleMap.getClickableIcons()}getHeading(){return this._assertInitialized(),this.googleMap.getHeading()}getMapTypeId(){return this._assertInitialized(),this.googleMap.getMapTypeId()}getProjection(){return this._assertInitialized(),this.googleMap.getProjection()||null}getStreetView(){return this._assertInitialized(),this.googleMap.getStreetView()}getTilt(){return this._assertInitialized(),this.googleMap.getTilt()}getZoom(){return this._assertInitialized(),this.googleMap.getZoom()}get controls(){return this._assertInitialized(),this.googleMap.controls}get data(){return this._assertInitialized(),this.googleMap.data}get mapTypes(){return this._assertInitialized(),this.googleMap.mapTypes}get overlayMapTypes(){return this._assertInitialized(),this.googleMap.overlayMapTypes}_resolveMap(){return this.googleMap?Promise.resolve(this.googleMap):this.mapInitialized.pipe(tn(1)).toPromise()}_setSize(){if(this._mapEl){let i=this._mapEl.style;i.height=this.height===null?"":BV(this.height)||LV,i.width=this.width===null?"":BV(this.width)||VV}}_combineOptions(){let i=this._options||{};return Ee(Q({},i),{center:this._center||i.center||xp.center,zoom:this._zoom??i.zoom??xp.zoom,mapTypeId:this.mapTypeId||i.mapTypeId||xp.mapTypeId,mapId:this.mapId||i.mapId})}_assertInitialized(){this.googleMap}};e.\u0275fac=function(r){return new(r||e)(B(ct),B(De),B(wt))},e.\u0275cmp=Oe({type:e,selectors:[["google-map"]],inputs:{height:"height",width:"width",mapId:"mapId",mapTypeId:"mapTypeId",center:"center",zoom:"zoom",options:"options"},outputs:{mapInitialized:"mapInitialized",authFailure:"authFailure",boundsChanged:"boundsChanged",centerChanged:"centerChanged",mapClick:"mapClick",mapDblclick:"mapDblclick",mapDrag:"mapDrag",mapDragend:"mapDragend",mapDragstart:"mapDragstart",headingChanged:"headingChanged",idle:"idle",maptypeidChanged:"maptypeidChanged",mapMousemove:"mapMousemove",mapMouseout:"mapMouseout",mapMouseover:"mapMouseover",projectionChanged:"projectionChanged",mapRightclick:"mapRightclick",tilesloaded:"tilesloaded",tiltChanged:"tiltChanged",zoomChanged:"zoomChanged"},exportAs:["googleMap"],standalone:!0,features:[In,Nt],ngContentSelectors:LK,decls:2,vars:0,consts:[[1,"map-container"]],template:function(r,s){r&1&&(Wi(),ne(0,"div",0),_i(1))},encapsulation:2,changeDetection:0});let n=e;return n})(),VK=/([A-Za-z%]+)$/;function BV(n){return n==null?"":VK.test(n)?n:`${n}px`}var UV=(()=>{let e=class e{set options(i){this._options.next(i||{})}set center(i){this._center.next(i)}set radius(i){this._radius.next(i)}constructor(i,r){this._map=i,this._ngZone=r,this._eventManager=new Rp(K(De)),this._options=new Ot({}),this._center=new Ot(void 0),this._radius=new Ot(void 0),this._destroyed=new ke,this.centerChanged=this._eventManager.getLazyEmitter("center_changed"),this.circleClick=this._eventManager.getLazyEmitter("click"),this.circleDblclick=this._eventManager.getLazyEmitter("dblclick"),this.circleDrag=this._eventManager.getLazyEmitter("drag"),this.circleDragend=this._eventManager.getLazyEmitter("dragend"),this.circleDragstart=this._eventManager.getLazyEmitter("dragstart"),this.circleMousedown=this._eventManager.getLazyEmitter("mousedown"),this.circleMousemove=this._eventManager.getLazyEmitter("mousemove"),this.circleMouseout=this._eventManager.getLazyEmitter("mouseout"),this.circleMouseover=this._eventManager.getLazyEmitter("mouseover"),this.circleMouseup=this._eventManager.getLazyEmitter("mouseup"),this.radiusChanged=this._eventManager.getLazyEmitter("radius_changed"),this.circleRightclick=this._eventManager.getLazyEmitter("rightclick"),this.circleInitialized=new xe}ngOnInit(){this._map._isBrowser&&this._combineOptions().pipe(tn(1)).subscribe(i=>{google.maps.Circle&&this._map.googleMap?this._initialize(this._map.googleMap,google.maps.Circle,i):this._ngZone.runOutsideAngular(()=>{Promise.all([this._map._resolveMap(),google.maps.importLibrary("maps")]).then(([r,s])=>{this._initialize(r,s.Circle,i)})})})}_initialize(i,r,s){this._ngZone.runOutsideAngular(()=>{this.circle=new r(s),this._assertInitialized(),this.circle.setMap(i),this._eventManager.setTarget(this.circle),this.circleInitialized.emit(this.circle),this._watchForOptionsChanges(),this._watchForCenterChanges(),this._watchForRadiusChanges()})}ngOnDestroy(){this._eventManager.destroy(),this._destroyed.next(),this._destroyed.complete(),this.circle?.setMap(null)}getBounds(){return this._assertInitialized(),this.circle.getBounds()}getCenter(){return this._assertInitialized(),this.circle.getCenter()}getDraggable(){return this._assertInitialized(),this.circle.getDraggable()}getEditable(){return this._assertInitialized(),this.circle.getEditable()}getRadius(){return this._assertInitialized(),this.circle.getRadius()}getVisible(){return this._assertInitialized(),this.circle.getVisible()}_combineOptions(){return or([this._options,this._center,this._radius]).pipe(se(([i,r,s])=>Ee(Q({},i),{center:r||i.center,radius:s!==void 0?s:i.radius})))}_watchForOptionsChanges(){this._options.pipe(hn(this._destroyed)).subscribe(i=>{this._assertInitialized(),this.circle.setOptions(i)})}_watchForCenterChanges(){this._center.pipe(hn(this._destroyed)).subscribe(i=>{i&&(this._assertInitialized(),this.circle.setCenter(i))})}_watchForRadiusChanges(){this._radius.pipe(hn(this._destroyed)).subscribe(i=>{i!==void 0&&(this._assertInitialized(),this.circle.setRadius(i))})}_assertInitialized(){}};e.\u0275fac=function(r){return new(r||e)(B(fv),B(De))},e.\u0275dir=Qe({type:e,selectors:[["map-circle"]],inputs:{options:"options",center:"center",radius:"radius"},outputs:{centerChanged:"centerChanged",circleClick:"circleClick",circleDblclick:"circleDblclick",circleDrag:"circleDrag",circleDragend:"circleDragend",circleDragstart:"circleDragstart",circleMousedown:"circleMousedown",circleMousemove:"circleMousemove",circleMouseout:"circleMouseout",circleMouseover:"circleMouseover",circleMouseup:"circleMouseup",radiusChanged:"radiusChanged",circleRightclick:"circleRightclick",circleInitialized:"circleInitialized"},exportAs:["mapCircle"],standalone:!0});let n=e;return n})();var BK={position:{lat:37.421995,lng:-122.084092}},jV=(()=>{let e=class e{set title(i){this._title=i}set position(i){this._position=i}set label(i){this._label=i}set clickable(i){this._clickable=i}set options(i){this._options=i}set icon(i){this._icon=i}set visible(i){this._visible=i}constructor(i,r){this._googleMap=i,this._ngZone=r,this._eventManager=new Rp(K(De)),this.animationChanged=this._eventManager.getLazyEmitter("animation_changed"),this.mapClick=this._eventManager.getLazyEmitter("click"),this.clickableChanged=this._eventManager.getLazyEmitter("clickable_changed"),this.cursorChanged=this._eventManager.getLazyEmitter("cursor_changed"),this.mapDblclick=this._eventManager.getLazyEmitter("dblclick"),this.mapDrag=this._eventManager.getLazyEmitter("drag"),this.mapDragend=this._eventManager.getLazyEmitter("dragend"),this.draggableChanged=this._eventManager.getLazyEmitter("draggable_changed"),this.mapDragstart=this._eventManager.getLazyEmitter("dragstart"),this.flatChanged=this._eventManager.getLazyEmitter("flat_changed"),this.iconChanged=this._eventManager.getLazyEmitter("icon_changed"),this.mapMousedown=this._eventManager.getLazyEmitter("mousedown"),this.mapMouseout=this._eventManager.getLazyEmitter("mouseout"),this.mapMouseover=this._eventManager.getLazyEmitter("mouseover"),this.mapMouseup=this._eventManager.getLazyEmitter("mouseup"),this.positionChanged=this._eventManager.getLazyEmitter("position_changed"),this.mapRightclick=this._eventManager.getLazyEmitter("rightclick"),this.shapeChanged=this._eventManager.getLazyEmitter("shape_changed"),this.titleChanged=this._eventManager.getLazyEmitter("title_changed"),this.visibleChanged=this._eventManager.getLazyEmitter("visible_changed"),this.zindexChanged=this._eventManager.getLazyEmitter("zindex_changed"),this.markerInitialized=new xe}ngOnInit(){this._googleMap._isBrowser&&(google.maps.Marker&&this._googleMap.googleMap?this._initialize(this._googleMap.googleMap,google.maps.Marker):this._ngZone.runOutsideAngular(()=>{Promise.all([this._googleMap._resolveMap(),google.maps.importLibrary("marker")]).then(([i,r])=>{this._initialize(i,r.Marker)})}))}_initialize(i,r){this._ngZone.runOutsideAngular(()=>{this.marker=new r(this._combineOptions()),this._assertInitialized(),this.marker.setMap(i),this._eventManager.setTarget(this.marker),this.markerInitialized.next(this.marker)})}ngOnChanges(i){let{marker:r,_title:s,_position:o,_label:a,_clickable:l,_icon:c,_visible:d}=this;r&&(i.options&&r.setOptions(this._combineOptions()),i.title&&s!==void 0&&r.setTitle(s),i.position&&o&&r.setPosition(o),i.label&&a!==void 0&&r.setLabel(a),i.clickable&&l!==void 0&&r.setClickable(l),i.icon&&c&&r.setIcon(c),i.visible&&d!==void 0&&r.setVisible(d))}ngOnDestroy(){this.markerInitialized.complete(),this._eventManager.destroy(),this.marker?.setMap(null)}getAnimation(){return this._assertInitialized(),this.marker.getAnimation()||null}getClickable(){return this._assertInitialized(),this.marker.getClickable()}getCursor(){return this._assertInitialized(),this.marker.getCursor()||null}getDraggable(){return this._assertInitialized(),!!this.marker.getDraggable()}getIcon(){return this._assertInitialized(),this.marker.getIcon()||null}getLabel(){return this._assertInitialized(),this.marker.getLabel()||null}getOpacity(){return this._assertInitialized(),this.marker.getOpacity()||null}getPosition(){return this._assertInitialized(),this.marker.getPosition()||null}getShape(){return this._assertInitialized(),this.marker.getShape()||null}getTitle(){return this._assertInitialized(),this.marker.getTitle()||null}getVisible(){return this._assertInitialized(),this.marker.getVisible()}getZIndex(){return this._assertInitialized(),this.marker.getZIndex()||null}getAnchor(){return this._assertInitialized(),this.marker}_resolveMarker(){return this.marker?Promise.resolve(this.marker):this.markerInitialized.pipe(tn(1)).toPromise()}_combineOptions(){let i=this._options||BK;return Ee(Q({},i),{title:this._title||i.title,position:this._position||i.position,label:this._label||i.label,clickable:this._clickable??i.clickable,map:this._googleMap.googleMap,icon:this._icon||i.icon,visible:this._visible??i.visible})}_assertInitialized(){}};e.\u0275fac=function(r){return new(r||e)(B(fv),B(De))},e.\u0275dir=Qe({type:e,selectors:[["map-marker"]],inputs:{title:"title",position:"position",label:"label",clickable:"clickable",options:"options",icon:"icon",visible:"visible"},outputs:{animationChanged:"animationChanged",mapClick:"mapClick",clickableChanged:"clickableChanged",cursorChanged:"cursorChanged",mapDblclick:"mapDblclick",mapDrag:"mapDrag",mapDragend:"mapDragend",draggableChanged:"draggableChanged",mapDragstart:"mapDragstart",flatChanged:"flatChanged",iconChanged:"iconChanged",mapMousedown:"mapMousedown",mapMouseout:"mapMouseout",mapMouseover:"mapMouseover",mapMouseup:"mapMouseup",positionChanged:"positionChanged",mapRightclick:"mapRightclick",shapeChanged:"shapeChanged",titleChanged:"titleChanged",visibleChanged:"visibleChanged",zindexChanged:"zindexChanged",markerInitialized:"markerInitialized"},exportAs:["mapMarker"],standalone:!0,features:[In]});let n=e;return n})();var zV=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({});let n=e;return n})();var Be=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(Be||{}),Gs="*";function pv(n,e){return{type:Be.Trigger,name:n,definitions:e,options:{}}}function Xd(n,e=null){return{type:Be.Animate,styles:e,timings:n}}function $V(n,e=null){return{type:Be.Sequence,steps:n,options:e}}function qs(n){return{type:Be.Style,styles:n,offset:null}}function gv(n,e,t){return{type:Be.State,name:n,styles:e,options:t}}function eh(n,e,t=null){return{type:Be.Transition,expr:n,animation:e,options:t}}function YT(n,e=null){return{type:Be.Reference,animation:n,options:e}}function JT(n,e=null){return{type:Be.AnimateRef,animation:n,options:e}}var nl=class{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}},Op=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++i==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(i=>{let r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){let e=this.players.reduce((t,i)=>t===null||i.totalTime>t.totalTime?i:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}},mv="!";function HV(n){return new ie(3e3,!1)}function jK(){return new ie(3100,!1)}function zK(){return new ie(3101,!1)}function $K(n){return new ie(3001,!1)}function HK(n){return new ie(3003,!1)}function GK(n){return new ie(3004,!1)}function qK(n,e){return new ie(3005,!1)}function WK(){return new ie(3006,!1)}function KK(){return new ie(3007,!1)}function QK(n,e){return new ie(3008,!1)}function ZK(n){return new ie(3002,!1)}function YK(n,e,t,i,r){return new ie(3010,!1)}function JK(){return new ie(3011,!1)}function XK(){return new ie(3012,!1)}function eQ(){return new ie(3200,!1)}function tQ(){return new ie(3202,!1)}function nQ(){return new ie(3013,!1)}function iQ(n){return new ie(3014,!1)}function rQ(n){return new ie(3015,!1)}function sQ(n){return new ie(3016,!1)}function oQ(n,e){return new ie(3404,!1)}function aQ(n){return new ie(3502,!1)}function lQ(n){return new ie(3503,!1)}function cQ(){return new ie(3300,!1)}function uQ(n){return new ie(3504,!1)}function dQ(n){return new ie(3301,!1)}function hQ(n,e){return new ie(3302,!1)}function fQ(n){return new ie(3303,!1)}function pQ(n,e){return new ie(3400,!1)}function gQ(n){return new ie(3401,!1)}function mQ(n){return new ie(3402,!1)}function _Q(n,e){return new ie(3505,!1)}function il(n){switch(n.length){case 0:return new nl;case 1:return n[0];default:return new Op(n)}}function r3(n,e,t=new Map,i=new Map){let r=[],s=[],o=-1,a=null;if(e.forEach(l=>{let c=l.get("offset"),d=c==o,h=d&&a||new Map;l.forEach((m,v)=>{let C=v,A=m;if(v!=="offset")switch(C=n.normalizePropertyName(C,r),A){case mv:A=t.get(v);break;case Gs:A=i.get(v);break;default:A=n.normalizeStyleValue(v,C,A,r);break}h.set(C,A)}),d||s.push(h),a=h,o=c}),r.length)throw aQ(r);return s}function bS(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&XT(t,"start",n)));break;case"done":n.onDone(()=>i(t&&XT(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&XT(t,"destroy",n)));break}}function XT(n,e,t){let i=t.totalTime,r=!!t.disabled,s=CS(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,i??n.totalTime,r),o=n._data;return o!=null&&(s._data=o),s}function CS(n,e,t,i,r="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function er(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function GV(n){let e=n.indexOf(":"),t=n.substring(1,e),i=n.slice(e+1);return[t,i]}var yQ=typeof document>"u"?null:document.documentElement;function ES(n){let e=n.parentNode||n.host||null;return e===yQ?null:e}function vQ(n){return n.substring(1,6)=="ebkit"}var Oc=null,qV=!1;function wQ(n){Oc||(Oc=bQ()||{},qV=Oc.style?"WebkitAppearance"in Oc.style:!1);let e=!0;return Oc.style&&!vQ(n)&&(e=n in Oc.style,!e&&qV&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Oc.style)),e}function bQ(){return typeof document<"u"?document.body:null}function s3(n,e){for(;e;){if(e===n)return!0;e=ES(e)}return!1}function o3(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let i=n.querySelector(e);return i?[i]:[]}var IS=(()=>{let e=class e{validateStyleProperty(i){return wQ(i)}containsElement(i,r){return s3(i,r)}getParentElement(i){return ES(i)}query(i,r,s){return o3(i,r,s)}computeStyle(i,r,s){return s||""}animate(i,r,s,o,a,l=[],c){return new nl(s,o)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=X({token:e,factory:e.\u0275fac});let n=e;return n})(),MS=class MS{};MS.NOOP=new IS;var Pc=MS,Fc=class{};var CQ=1e3,a3="{{",EQ="}}",l3="ng-enter",sS="ng-leave",_v="ng-trigger",Cv=".ng-trigger",WV="ng-animating",oS=".ng-animating";function Uo(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:aS(parseFloat(e[1]),e[2])}function aS(n,e){switch(e){case"s":return n*CQ;default:return n}}function Ev(n,e,t){return n.hasOwnProperty("duration")?n:IQ(n,e,t)}function IQ(n,e,t){let i=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,s=0,o="";if(typeof n=="string"){let a=n.match(i);if(a===null)return e.push(HV(n)),{duration:0,delay:0,easing:""};r=aS(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(s=aS(parseFloat(l),a[4]));let c=a[5];c&&(o=c)}else r=n;if(!t){let a=!1,l=e.length;r<0&&(e.push(jK()),a=!0),s<0&&(e.push(zK()),a=!0),a&&e.splice(l,0,HV(n))}return{duration:r,delay:s,easing:o}}function DQ(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function Ws(n,e,t){e.forEach((i,r)=>{let s=DS(r);t&&!t.has(r)&&t.set(r,n.style[s]),n.style[s]=i})}function kc(n,e){e.forEach((t,i)=>{let r=DS(i);n.style[r]=""})}function Np(n){return Array.isArray(n)?n.length==1?n[0]:$V(n):n}function TQ(n,e,t){let i=e.params||{},r=c3(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push($K(s))})}var lS=new RegExp(`${a3}\\s*(.+?)\\s*${EQ}`,"g");function c3(n){let e=[];if(typeof n=="string"){let t;for(;t=lS.exec(n);)e.push(t[1]);lS.lastIndex=0}return e}function Pp(n,e,t){let i=`${n}`,r=i.replace(lS,(s,o)=>{let a=e[o];return a==null&&(t.push(HK(o)),a=""),a.toString()});return r==i?n:r}var SQ=/-+([a-z0-9])/g;function DS(n){return n.replace(SQ,(...e)=>e[1].toUpperCase())}function MQ(n,e){return n===0||e===0}function AQ(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((s,o)=>{i.has(o)||r.push(o),i.set(o,s)}),r.length)for(let s=1;s<e.length;s++){let o=e[s];r.forEach(a=>o.set(a,TS(n,a)))}}return e}function Xi(n,e,t){switch(e.type){case Be.Trigger:return n.visitTrigger(e,t);case Be.State:return n.visitState(e,t);case Be.Transition:return n.visitTransition(e,t);case Be.Sequence:return n.visitSequence(e,t);case Be.Group:return n.visitGroup(e,t);case Be.Animate:return n.visitAnimate(e,t);case Be.Keyframes:return n.visitKeyframes(e,t);case Be.Style:return n.visitStyle(e,t);case Be.Reference:return n.visitReference(e,t);case Be.AnimateChild:return n.visitAnimateChild(e,t);case Be.AnimateRef:return n.visitAnimateRef(e,t);case Be.Query:return n.visitQuery(e,t);case Be.Stagger:return n.visitStagger(e,t);default:throw GK(e.type)}}function TS(n,e){return window.getComputedStyle(n)[e]}var xQ=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Iv=class extends Fc{normalizePropertyName(e,t){return DS(e)}normalizeStyleValue(e,t,i,r){let s="",o=i.toString().trim();if(xQ.has(t)&&i!==0&&i!=="0")if(typeof i=="number")s="px";else{let a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&r.push(qK(e,i))}return o+s}};var Dv="*";function RQ(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(i=>OQ(i,t,e)):t.push(n),t}function OQ(n,e,t){if(n[0]==":"){let l=NQ(n,t);if(typeof l=="function"){e.push(l);return}n=l}let i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return t.push(rQ(n)),e;let r=i[1],s=i[2],o=i[3];e.push(KV(r,o));let a=r==Dv&&o==Dv;s[0]=="<"&&!a&&e.push(KV(o,r))}function NQ(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(sQ(n)),"* => *"}}var yv=new Set(["true","1"]),vv=new Set(["false","0"]);function KV(n,e){let t=yv.has(n)||vv.has(n),i=yv.has(e)||vv.has(e);return(r,s)=>{let o=n==Dv||n==r,a=e==Dv||e==s;return!o&&t&&typeof r=="boolean"&&(o=r?yv.has(n):vv.has(n)),!a&&i&&typeof s=="boolean"&&(a=s?yv.has(e):vv.has(e)),o&&a}}var u3=":self",kQ=new RegExp(`s*${u3}s*,?`,"g");function d3(n,e,t,i){return new cS(n).build(e,t,i)}var QV="",cS=class{constructor(e){this._driver=e}build(e,t,i){let r=new uS(t);return this._resetContextStyleTimingState(r),Xi(this,Np(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector=QV,e.collectedStyles=new Map,e.collectedStyles.set(QV,new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0,s=[],o=[];return e.name.charAt(0)=="@"&&t.errors.push(WK()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==Be.State){let l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(d=>{l.name=d,s.push(this.visitState(l,t))}),l.name=c}else if(a.type==Be.Transition){let l=this.visitTransition(a,t);i+=l.queryCount,r+=l.depCount,o.push(l)}else t.errors.push(KK())}),{type:Be.Trigger,name:e.name,states:s,transitions:o,queryCount:i,depCount:r,options:null}}visitState(e,t){let i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){let s=new Set,o=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{c3(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&t.errors.push(QK(e.name,[...s.values()]))}return{type:Be.State,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let i=Xi(this,Np(e.animation),t),r=RQ(e.expr,t.errors);return{type:Be.Transition,matchers:r,animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Nc(e.options)}}visitSequence(e,t){return{type:Be.Sequence,steps:e.steps.map(i=>Xi(this,i,t)),options:Nc(e.options)}}visitGroup(e,t){let i=t.currentTime,r=0,s=e.steps.map(o=>{t.currentTime=i;let a=Xi(this,o,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:Be.Group,steps:s,options:Nc(e.options)}}visitAnimate(e,t){let i=VQ(e.timings,t.errors);t.currentAnimateTimings=i;let r,s=e.styles?e.styles:qs({});if(s.type==Be.Keyframes)r=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;let c={};i.easing&&(c.easing=i.easing),o=qs(c)}t.currentTime+=i.duration+i.delay;let l=this.visitStyle(o,t);l.isEmptyStep=a,r=l}return t.currentAnimateTimings=null,{type:Be.Animate,timings:i,style:r,options:null}}visitStyle(e,t){let i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){let i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)typeof a=="string"?a===Gs?i.push(a):t.errors.push(ZK(a)):i.push(new Map(Object.entries(a)));let s=!1,o=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s)){for(let l of a.values())if(l.toString().indexOf(a3)>=0){s=!0;break}}}),{type:Be.Style,styles:i,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){let i=t.currentAnimateTimings,r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,l)=>{let c=t.collectedStyles.get(t.currentQuerySelector),d=c.get(l),h=!0;d&&(s!=r&&s>=d.startTime&&r<=d.endTime&&(t.errors.push(YK(l,d.startTime,d.endTime,s,r)),h=!1),s=d.startTime),h&&c.set(l,{startTime:s,endTime:r}),t.options&&TQ(a,t.options,t.errors)})})}visitKeyframes(e,t){let i={type:Be.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(JK()),i;let r=1,s=0,o=[],a=!1,l=!1,c=0,d=e.steps.map(j=>{let Z=this._makeStyleAst(j,t),W=Z.offset!=null?Z.offset:LQ(Z.styles),Y=0;return W!=null&&(s++,Y=Z.offset=W),l=l||Y<0||Y>1,a=a||Y<c,c=Y,o.push(Y),Z});l&&t.errors.push(XK()),a&&t.errors.push(eQ());let h=e.steps.length,m=0;s>0&&s<h?t.errors.push(tQ()):s==0&&(m=r/(h-1));let v=h-1,C=t.currentTime,A=t.currentAnimateTimings,S=A.duration;return d.forEach((j,Z)=>{let W=m>0?Z==v?1:m*Z:o[Z],Y=W*S;t.currentTime=C+A.delay+Y,A.duration=Y,this._validateStyleAst(j,t),j.offset=W,i.styles.push(j)}),i}visitReference(e,t){return{type:Be.Reference,animation:Xi(this,Np(e.animation),t),options:Nc(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:Be.AnimateChild,options:Nc(e.options)}}visitAnimateRef(e,t){return{type:Be.AnimateRef,animation:this.visitReference(e.animation,t),options:Nc(e.options)}}visitQuery(e,t){let i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;let[s,o]=PQ(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,er(t.collectedStyles,t.currentQuerySelector,new Map);let a=Xi(this,Np(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:Be.Query,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:Nc(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(nQ());let i=e.timings==="full"?{duration:0,delay:0,easing:"full"}:Ev(e.timings,t.errors,!0);return{type:Be.Stagger,animation:Xi(this,Np(e.animation),t),timings:i,options:null}}};function PQ(n){let e=!!n.split(/\s*,\s*/).find(t=>t==u3);return e&&(n=n.replace(kQ,"")),n=n.replace(/@\*/g,Cv).replace(/@\w+/g,t=>Cv+"-"+t.slice(1)).replace(/:animating/g,oS),[n,e]}function FQ(n){return n?Q({},n):null}var uS=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function LQ(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function VQ(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let s=Ev(n,e).duration;return eS(s,0,"")}let t=n;if(t.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=eS(0,0,"");return s.dynamic=!0,s.strValue=t,s}let r=Ev(t,e);return eS(r.duration,r.delay,r.easing)}function Nc(n){return n?(n=Q({},n),n.params&&(n.params=FQ(n.params))):n={},n}function eS(n,e,t){return{duration:n,delay:e,easing:t}}function SS(n,e,t,i,r,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}var Fp=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},BQ=1,UQ=":enter",jQ=new RegExp(UQ,"g"),zQ=":leave",$Q=new RegExp(zQ,"g");function h3(n,e,t,i,r,s=new Map,o=new Map,a,l,c=[]){return new dS().buildKeyframes(n,e,t,i,r,s,o,a,l,c)}var dS=class{buildKeyframes(e,t,i,r,s,o,a,l,c,d=[]){c=c||new Fp;let h=new hS(e,t,c,r,s,d,[]);h.options=l;let m=l.delay?Uo(l.delay):0;h.currentTimeline.delayNextStep(m),h.currentTimeline.setStyles([o],null,h.errors,l),Xi(this,i,h);let v=h.timelines.filter(C=>C.containsAnimation());if(v.length&&a.size){let C;for(let A=v.length-1;A>=0;A--){let S=v[A];if(S.element===t){C=S;break}}C&&!C.allowOnlyTimelineStyles()&&C.setStyles([a],null,h.errors,l)}return v.length?v.map(C=>C.buildKeyframes()):[SS(t,[],[],[],0,m,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let i=t.subInstructions.get(t.element);if(i){let r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(i,r,r.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){let i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(let r of e){let s=r?.delay;if(s){let o=typeof s=="number"?s:Uo(Pp(s,r?.params??{},t.errors));i.delayNextStep(o)}}}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime,o=i.duration!=null?Uo(i.duration):null,a=i.delay!=null?Uo(i.delay):null;return o!==0&&e.forEach(l=>{let c=t.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Xi(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let i=t.subContextCount,r=t,s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),s.delay!=null)){r.previousNode.type==Be.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Tv);let o=Uo(s.delay);r.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>Xi(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let i=[],r=t.currentTimeline.currentTime,s=e.options&&e.options.delay?Uo(e.options.delay):0;e.steps.forEach(o=>{let a=t.createSubContext(e.options);s&&a.delayNextStep(s),Xi(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let i=e.strValue,r=t.params?Pp(i,t.params,t.errors):i;return Ev(r,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());let s=e.style;s.type==Be.Keyframes?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();let s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(l=>{let c=l.offset||0;a.forwardTime(c*s),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){let i=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?Uo(r.delay):0;s&&(t.previousNode.type===Be.Style||i==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Tv);let o=i,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,d)=>{t.currentQueryIndex=d;let h=t.createSubContext(e.options,c);s&&h.delayNextStep(s),c===t.element&&(l=h.currentTimeline),Xi(this,e.animation,h),h.currentTimeline.applyStylesToKeyframe();let m=h.currentTimeline.currentTime;o=Math.max(o,m)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let i=t.parentContext,r=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1),l=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime;break}let d=t.currentTimeline;l&&d.delayNextStep(l);let h=d.currentTime;Xi(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-h+(r.startTime-i.currentTimeline.startTime)}},Tv={},hS=class n{constructor(e,t,i,r,s,o,a,l){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Tv,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Sv(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let i=e,r=this.options;i.duration!=null&&(r.duration=Uo(i.duration)),i.delay!=null&&(r.delay=Uo(i.delay));let s=i.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=Pp(s[a],o,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){let r=t||this.element,s=new n(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Tv,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){let r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},s=new fS(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,s,o){let a=[];if(r&&a.push(this.element),e.length>0){e=e.replace(jQ,"."+this._enterClassName),e=e.replace($Q,"."+this._leaveClassName);let l=i!=1,c=this._driver.query(this.element,e,l);i!==0&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!s&&a.length==0&&o.push(iQ(t)),a}},Sv=class n{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=BQ,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Gs),this._currentKeyframe.set(t,Gs);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);let s=r&&r.params||{},o=HQ(e,this._globalTimelineStyles);for(let[a,l]of o){let c=Pp(l,s,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Gs),this._updateStyle(a,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{let r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,i=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((a,l)=>{let c=new Map([...this._backFill,...a]);c.forEach((d,h)=>{d===mv?e.add(h):d===Gs&&t.add(h)}),i||c.set("offset",l/this.duration),r.push(c)});let s=[...e.values()],o=[...t.values()];if(i){let a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return SS(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}},fS=class extends Sv{constructor(e,t,i,r,s,o,a=!1){super(e,t,o.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){let s=[],o=i+t,a=t/o,l=new Map(e[0]);l.set("offset",0),s.push(l);let c=new Map(e[0]);c.set("offset",ZV(a)),s.push(c);let d=e.length-1;for(let h=1;h<=d;h++){let m=new Map(e[h]),v=m.get("offset"),C=t+v*i;m.set("offset",ZV(C/o)),s.push(m)}i=o,t=0,r="",e=s}return SS(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}};function ZV(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function HQ(n,e){let t=new Map,i;return n.forEach(r=>{if(r==="*"){i??=e.keys();for(let s of i)t.set(s,Gs)}else for(let[s,o]of r)t.set(s,o)}),t}function YV(n,e,t,i,r,s,o,a,l,c,d,h,m){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:d,totalTime:h,errors:m}}var tS={},Mv=class{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return GQ(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return e!==void 0&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,s,o,a,l,c,d){let h=[],m=this.ast.options&&this.ast.options.params||tS,v=a&&a.params||tS,C=this.buildStyles(i,v,h),A=l&&l.params||tS,S=this.buildStyles(r,A,h),j=new Set,Z=new Map,W=new Map,Y=r==="void",ge={params:f3(A,m),delay:this.ast.options?.delay},ae=d?[]:h3(e,t,this.ast.animation,s,o,C,S,ge,c,h),R=0;return ae.forEach(D=>{R=Math.max(D.duration+D.delay,R)}),h.length?YV(t,this._triggerName,i,r,Y,C,S,[],[],Z,W,R,h):(ae.forEach(D=>{let M=D.element,N=er(Z,M,new Set);D.preStyleProps.forEach(k=>N.add(k));let P=er(W,M,new Set);D.postStyleProps.forEach(k=>P.add(k)),M!==t&&j.add(M)}),YV(t,this._triggerName,i,r,Y,C,S,ae,[...j.values()],Z,W,R))}};function GQ(n,e,t,i,r){return n.some(s=>s(e,t,i,r))}function f3(n,e){let t=Q({},e);return Object.entries(n).forEach(([i,r])=>{r!=null&&(t[i]=r)}),t}var pS=class{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){let i=new Map,r=f3(e,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((o,a)=>{o&&(o=Pp(o,r,t));let l=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,l,o,t),i.set(a,o)})}),i}};function qQ(n,e,t){return new gS(n,e,t)}var gS=class{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{let s=r.options&&r.options.params||{};this.states.set(r.name,new pS(r.style,s,i))}),JV(this.states,"true","1"),JV(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new Mv(e,r,this.states))}),this.fallbackTransition=WQ(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(o=>o.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}};function WQ(n,e,t){let i=[(o,a)=>!0],r={type:Be.Sequence,steps:[],options:null},s={type:Be.Transition,animation:r,matchers:i,options:null,queryCount:0,depCount:0};return new Mv(n,s,e)}function JV(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}var KQ=new Fp,mS=class{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){let i=[],r=[],s=d3(this._driver,t,i,r);if(i.length)throw lQ(i);r.length&&void 0,this._animations.set(e,s)}_buildPlayer(e,t,i){let r=e.element,s=r3(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){let r=[],s=this._animations.get(e),o,a=new Map;if(s?(o=h3(this._driver,t,s,l3,sS,new Map,new Map,i,KQ,r),o.forEach(d=>{let h=er(a,d.element,new Map);d.postStyleProps.forEach(m=>h.set(m,null))})):(r.push(cQ()),o=[]),r.length)throw uQ(r);a.forEach((d,h)=>{d.forEach((m,v)=>{d.set(v,this._driver.computeStyle(h,v,Gs))})});let l=o.map(d=>{let h=a.get(d.element);return this._buildPlayer(d,new Map,h)}),c=il(l);return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw dQ(e);return t}listen(e,t,i,r){let s=CS(t,"","","");return bS(this._getPlayer(e),i,s,r),()=>{}}command(e,t,i,r){if(i=="register"){this.register(e,r[0]);return}if(i=="create"){let o=r[0]||{};this.create(e,t,o);return}let s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e);break}}},XV="ng-animate-queued",QQ=".ng-animate-queued",nS="ng-animate-disabled",ZQ=".ng-animate-disabled",YQ="ng-star-inserted",JQ=".ng-star-inserted",XQ=[],p3={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},eZ={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ns="__ng_removed",Lp=class{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let i=e&&e.hasOwnProperty("value"),r=i?e.value:e;if(this.value=nZ(r),i){let s=e,{value:o}=s,a=Hh(s,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let i=this.options.params;Object.keys(t).forEach(r=>{i[r]==null&&(i[r]=t[r])})}}},kp="void",iS=new Lp(kp),_S=class{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ir(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw hQ(i,t);if(i==null||i.length==0)throw fQ(t);if(!iZ(i))throw pQ(i,t);let s=er(this._elementListeners,e,[]),o={name:t,phase:i,callback:r};s.push(o);let a=er(this._engine.statesByElement,e,new Map);return a.has(t)||(Ir(e,_v),Ir(e,_v+"-"+t),a.set(t,iS)),()=>{this._engine.afterFlush(()=>{let l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw gQ(e);return t}trigger(e,t,i,r=!0){let s=this._getTrigger(t),o=new Vp(this.id,t,e),a=this._engine.statesByElement.get(e);a||(Ir(e,_v),Ir(e,_v+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t),c=new Lp(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(t,c),l||(l=iS),!(c.value===kp)&&l.value===c.value){if(!oZ(l.params,c.params)){let A=[],S=s.matchStyles(l.value,l.params,A),j=s.matchStyles(c.value,c.params,A);A.length?this._engine.reportError(A):this._engine.afterFlush(()=>{kc(e,S),Ws(e,j)})}return}let m=er(this._engine.playersByElement,e,[]);m.forEach(A=>{A.namespaceId==this.id&&A.triggerName==t&&A.queued&&A.destroy()});let v=s.matchTransition(l.value,c.value,e,c.params),C=!1;if(!v){if(!r)return;v=s.fallbackTransition,C=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:v,fromState:l,toState:c,player:o,isFallbackTransition:C}),C||(Ir(e,XV),o.onStart(()=>{th(e,XV)})),o.onDone(()=>{let A=this.players.indexOf(o);A>=0&&this.players.splice(A,1);let S=this._engine.playersByElement.get(e);if(S){let j=S.indexOf(o);j>=0&&S.splice(j,1)}}),this.players.push(o),m.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let i=this._engine.driver.query(e,Cv,!0);i.forEach(r=>{if(r[ns])return;let s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){let s=this._engine.statesByElement.get(e),o=new Map;if(s){let a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){let d=this.trigger(e,c,kp,r);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),i&&il(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){let r=new Set;t.forEach(s=>{let o=s.name;if(r.has(o))return;r.add(o);let l=this._triggers.get(o).fallbackTransition,c=i.get(o)||iS,d=new Lp(kp),h=new Vp(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:d,player:h,isFallbackTransition:!0})})}}removeNode(e,t){let i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){let s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let o=e;for(;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{let s=e[ns];(!s||s===p3)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Ir(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(i=>{let r=i.player;if(r.destroyed)return;let s=i.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==i.triggerName){let l=CS(s,i.triggerName,i.fromState.value,i.toState.value);l._data=e,bS(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{let s=i.transition.ast.depCount,o=r.transition.ast.depCount;return s==0||o==0?s-o:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},yS=class{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){let i=new _S(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){let i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){let l=r.get(a);if(l){let c=i.indexOf(l);i.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);let r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,i=this.statesByElement.get(e);if(i){for(let r of i.values())if(r.namespaceId){let s=this._fetchNamespace(r.namespaceId);s&&t.add(s)}}return t}trigger(e,t,i,r){if(wv(t)){let s=this._fetchNamespace(e);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!wv(t))return;let s=t[ns];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){let o=this._fetchNamespace(e);o&&o.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ir(e,nS)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),th(e,nS))}removeNode(e,t,i){if(wv(t)){let r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);let s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,s){this.collectedLeaveElements.push(t),t[ns]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,i,r,s){return wv(t)?this._fetchNamespace(e).listen(t,i,r,s):()=>{}}_buildInstruction(e,t,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,Cv,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,oS,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return il(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[ns];if(t&&t.setForRemoval){if(e[ns]=p3,t.namespaceId){this.destroyInnerAnimations(e);let i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(nS)&&this.markElementAsDisabled(e,!1),this.driver.query(e,ZQ,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let r=this.collectedEnterElements[i];Ir(r,YQ)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let r=this.collectedLeaveElements[i];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],t.length?il(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw mQ(e)}_flushAnimations(e,t){let i=new Fp,r=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,d=new Set;this.disabledNodes.forEach(me=>{d.add(me);let be=this.driver.query(me,QQ,!0);for(let Ie=0;Ie<be.length;Ie++)d.add(be[Ie])});let h=this.bodyNode,m=Array.from(this.statesByElement.keys()),v=n3(m,this.collectedEnterElements),C=new Map,A=0;v.forEach((me,be)=>{let Ie=l3+A++;C.set(be,Ie),me.forEach(ze=>Ir(ze,Ie))});let S=[],j=new Set,Z=new Set;for(let me=0;me<this.collectedLeaveElements.length;me++){let be=this.collectedLeaveElements[me],Ie=be[ns];Ie&&Ie.setForRemoval&&(S.push(be),j.add(be),Ie.hasAnimation?this.driver.query(be,JQ,!0).forEach(ze=>j.add(ze)):Z.add(be))}let W=new Map,Y=n3(m,Array.from(j));Y.forEach((me,be)=>{let Ie=sS+A++;W.set(be,Ie),me.forEach(ze=>Ir(ze,Ie))}),e.push(()=>{v.forEach((me,be)=>{let Ie=C.get(be);me.forEach(ze=>th(ze,Ie))}),Y.forEach((me,be)=>{let Ie=W.get(be);me.forEach(ze=>th(ze,Ie))}),S.forEach(me=>{this.processLeaveNode(me)})});let ge=[],ae=[];for(let me=this._namespaceList.length-1;me>=0;me--)this._namespaceList[me].drainQueuedTransitions(t).forEach(Ie=>{let ze=Ie.player,ut=Ie.element;if(ge.push(ze),this.collectedEnterElements.length){let Tt=ut[ns];if(Tt&&Tt.setForMove){if(Tt.previousTriggersValues&&Tt.previousTriggersValues.has(Ie.triggerName)){let Li=Tt.previousTriggersValues.get(Ie.triggerName),Zn=this.statesByElement.get(Ie.element);if(Zn&&Zn.has(Ie.triggerName)){let Vi=Zn.get(Ie.triggerName);Vi.value=Li,Zn.set(Ie.triggerName,Vi)}}ze.destroy();return}}let wn=!h||!this.driver.containsElement(h,ut),gt=W.get(ut),Dt=C.get(ut),dt=this._buildInstruction(Ie,i,Dt,gt,wn);if(dt.errors&&dt.errors.length){ae.push(dt);return}if(wn){ze.onStart(()=>kc(ut,dt.fromStyles)),ze.onDestroy(()=>Ws(ut,dt.toStyles)),r.push(ze);return}if(Ie.isFallbackTransition){ze.onStart(()=>kc(ut,dt.fromStyles)),ze.onDestroy(()=>Ws(ut,dt.toStyles)),r.push(ze);return}let Di=[];dt.timelines.forEach(Tt=>{Tt.stretchStartingKeyframe=!0,this.disabledNodes.has(Tt.element)||Di.push(Tt)}),dt.timelines=Di,i.append(ut,dt.timelines);let Gc={instruction:dt,player:ze,element:ut};o.push(Gc),dt.queriedElements.forEach(Tt=>er(a,Tt,[]).push(ze)),dt.preStyleProps.forEach((Tt,Li)=>{if(Tt.size){let Zn=l.get(Li);Zn||l.set(Li,Zn=new Set),Tt.forEach((Vi,sr)=>Zn.add(sr))}}),dt.postStyleProps.forEach((Tt,Li)=>{let Zn=c.get(Li);Zn||c.set(Li,Zn=new Set),Tt.forEach((Vi,sr)=>Zn.add(sr))})});if(ae.length){let me=[];ae.forEach(be=>{me.push(_Q(be.triggerName,be.errors))}),ge.forEach(be=>be.destroy()),this.reportError(me)}let R=new Map,D=new Map;o.forEach(me=>{let be=me.element;i.has(be)&&(D.set(be,be),this._beforeAnimationBuild(me.player.namespaceId,me.instruction,R))}),r.forEach(me=>{let be=me.element;this._getPreviousPlayers(be,!1,me.namespaceId,me.triggerName,null).forEach(ze=>{er(R,be,[]).push(ze),ze.destroy()})});let M=S.filter(me=>i3(me,l,c)),N=new Map;t3(N,this.driver,Z,c,Gs).forEach(me=>{i3(me,l,c)&&M.push(me)});let k=new Map;v.forEach((me,be)=>{t3(k,this.driver,new Set(me),l,mv)}),M.forEach(me=>{let be=N.get(me),Ie=k.get(me);N.set(me,new Map([...be?.entries()??[],...Ie?.entries()??[]]))});let O=[],Ii=[],Tr={};o.forEach(me=>{let{element:be,player:Ie,instruction:ze}=me;if(i.has(be)){if(d.has(be)){Ie.onDestroy(()=>Ws(be,ze.toStyles)),Ie.disabled=!0,Ie.overrideTotalTime(ze.totalTime),r.push(Ie);return}let ut=Tr;if(D.size>1){let gt=be,Dt=[];for(;gt=gt.parentNode;){let dt=D.get(gt);if(dt){ut=dt;break}Dt.push(gt)}Dt.forEach(dt=>D.set(dt,ut))}let wn=this._buildAnimation(Ie.namespaceId,ze,R,s,k,N);if(Ie.setRealPlayer(wn),ut===Tr)O.push(Ie);else{let gt=this.playersByElement.get(ut);gt&&gt.length&&(Ie.parentPlayer=il(gt)),r.push(Ie)}}else kc(be,ze.fromStyles),Ie.onDestroy(()=>Ws(be,ze.toStyles)),Ii.push(Ie),d.has(be)&&r.push(Ie)}),Ii.forEach(me=>{let be=s.get(me.element);if(be&&be.length){let Ie=il(be);me.setRealPlayer(Ie)}}),r.forEach(me=>{me.parentPlayer?me.syncPlayerEvents(me.parentPlayer):me.destroy()});for(let me=0;me<S.length;me++){let be=S[me],Ie=be[ns];if(th(be,sS),Ie&&Ie.hasAnimation)continue;let ze=[];if(a.size){let wn=a.get(be);wn&&wn.length&&ze.push(...wn);let gt=this.driver.query(be,oS,!0);for(let Dt=0;Dt<gt.length;Dt++){let dt=a.get(gt[Dt]);dt&&dt.length&&ze.push(...dt)}}let ut=ze.filter(wn=>!wn.destroyed);ut.length?rZ(this,be,ut):this.processLeaveNode(be)}return S.length=0,O.forEach(me=>{this.players.push(me),me.onDone(()=>{me.destroy();let be=this.players.indexOf(me);this.players.splice(be,1)}),me.play()}),O}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,s){let o=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(o=a)}else{let a=this.playersByElement.get(e);if(a){let l=!s||s==kp;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||o.push(c)})}}return(i||r)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(e,t,i){let r=t.triggerName,s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:r;for(let l of t.timelines){let c=l.element,d=c!==s,h=er(i,c,[]);this._getPreviousPlayers(c,d,o,a,t.toState).forEach(v=>{let C=v.getRealPlayer();C.beforeDestroy&&C.beforeDestroy(),v.destroy(),h.push(v)})}kc(s,t.fromStyles)}_buildAnimation(e,t,i,r,s,o){let a=t.triggerName,l=t.element,c=[],d=new Set,h=new Set,m=t.timelines.map(C=>{let A=C.element;d.add(A);let S=A[ns];if(S&&S.removedBeforeQueried)return new nl(C.duration,C.delay);let j=A!==l,Z=sZ((i.get(A)||XQ).map(R=>R.getRealPlayer())).filter(R=>{let D=R;return D.element?D.element===A:!1}),W=s.get(A),Y=o.get(A),ge=r3(this._normalizer,C.keyframes,W,Y),ae=this._buildPlayer(C,ge,Z);if(C.subTimeline&&r&&h.add(A),j){let R=new Vp(e,a,A);R.setRealPlayer(ae),c.push(R)}return ae});c.forEach(C=>{er(this.playersByQueriedElement,C.element,[]).push(C),C.onDone(()=>tZ(this.playersByQueriedElement,C.element,C))}),d.forEach(C=>Ir(C,WV));let v=il(m);return v.onDestroy(()=>{d.forEach(C=>th(C,WV)),Ws(l,t.toStyles)}),h.forEach(C=>{er(r,C,[]).push(v)}),v}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new nl(e.duration,e.delay)}},Vp=class{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new nl,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>bS(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){er(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function tZ(n,e,t){let i=n.get(e);if(i){if(i.length){let r=i.indexOf(t);i.splice(r,1)}i.length==0&&n.delete(e)}return i}function nZ(n){return n??null}function wv(n){return n&&n.nodeType===1}function iZ(n){return n=="start"||n=="done"}function e3(n,e){let t=n.style.display;return n.style.display=e??"none",t}function t3(n,e,t,i,r){let s=[];t.forEach(l=>s.push(e3(l)));let o=[];i.forEach((l,c)=>{let d=new Map;l.forEach(h=>{let m=e.computeStyle(c,h,r);d.set(h,m),(!m||m.length==0)&&(c[ns]=eZ,o.push(c))}),n.set(c,d)});let a=0;return t.forEach(l=>e3(l,s[a++])),o}function n3(n,e){let t=new Map;if(n.forEach(a=>t.set(a,[])),e.length==0)return t;let i=1,r=new Set(e),s=new Map;function o(a){if(!a)return i;let l=s.get(a);if(l)return l;let c=a.parentNode;return t.has(c)?l=c:r.has(c)?l=i:l=o(c),s.set(a,l),l}return e.forEach(a=>{let l=o(a);l!==i&&t.get(l).push(a)}),t}function Ir(n,e){n.classList?.add(e)}function th(n,e){n.classList?.remove(e)}function rZ(n,e,t){il(t).onDone(()=>n.processLeaveNode(e))}function sZ(n){let e=[];return g3(n,e),e}function g3(n,e){for(let t=0;t<n.length;t++){let i=n[t];i instanceof Op?g3(i.players,e):e.push(i)}}function oZ(n,e){let t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){let s=t[r];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}function i3(n,e,t){let i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(s=>r.add(s)):e.set(n,i),t.delete(n),!0}var ih=class{constructor(e,t,i){this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new yS(e.body,t,i),this._timelineEngine=new mS(e.body,t,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,i,r,s){let o=e+"-"+r,a=this._triggerCache[o];if(!a){let l=[],c=[],d=d3(this._driver,s,l,c);if(l.length)throw oQ(r,l);c.length&&void 0,a=qQ(r,d,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if(i.charAt(0)=="@"){let[s,o]=GV(i),a=r;this._timelineEngine.command(s,t,o,a)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,s){if(i.charAt(0)=="@"){let[o,a]=GV(i);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function aZ(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=rS(e[0]),e.length>1&&(i=rS(e[e.length-1]))):e instanceof Map&&(t=rS(e)),t||i?new vS(n,t,i):null}var nh=class nh{constructor(e,t,i){this._element=e,this._startStyles=t,this._endStyles=i,this._state=0;let r=nh.initialStylesByElement.get(e);r||nh.initialStylesByElement.set(e,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&Ws(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ws(this._element,this._initialStyles),this._endStyles&&(Ws(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(nh.initialStylesByElement.delete(this._element),this._startStyles&&(kc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(kc(this._element,this._endStyles),this._endStyles=null),Ws(this._element,this._initialStyles),this._state=3)}};nh.initialStylesByElement=new WeakMap;var vS=nh;function rS(n){let e=null;return n.forEach((t,i)=>{lZ(i)&&(e=e||new Map,e.set(i,t))}),e}function lZ(n){return n==="display"||n==="position"}var Av=class{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{r!=="offset"&&e.set(r,this._finished?i:TS(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}},xv=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return s3(e,t)}getParentElement(e){return ES(e)}query(e,t,i){return o3(e,t,i)}computeStyle(e,t,i){return TS(e,t)}animate(e,t,i,r,s,o=[]){let a=r==0?"both":"forwards",l={duration:i,delay:r,fill:a};s&&(l.easing=s);let c=new Map,d=o.filter(v=>v instanceof Av);MQ(i,r)&&d.forEach(v=>{v.currentSnapshot.forEach((C,A)=>c.set(A,C))});let h=DQ(t).map(v=>new Map(v));h=AQ(e,h,c);let m=aZ(e,h);return new Av(e,h,l,m)}};var bv="@",m3="@.disabled",Rv=class{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){t.charAt(0)==bv&&t==m3?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},wS=class extends Rv{constructor(e,t,i,r,s){super(t,i,r,s),this.factory=e,this.namespaceId=t}setProperty(e,t,i){t.charAt(0)==bv?t.charAt(1)=="."&&t==m3?(i=i===void 0?!0:!!i,this.disableAnimations(e,i)):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if(t.charAt(0)==bv){let r=cZ(e),s=t.slice(1),o="";return s.charAt(0)!=bv&&([s,o]=uZ(s)),this.engine.listen(this.namespaceId,r,s,o,a=>{let l=a._data||-1;this.factory.scheduleListenerCallback(l,i,a)})}return this.delegate.listen(e,t,i)}};function cZ(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function uZ(n){let e=n.indexOf("."),t=n.substring(0,e),i=n.slice(e+1);return[t,i]}var Ov=class{constructor(e,t,i){this.delegate=e,this.engine=t,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(r,s)=>{s?.removeChild(null,r)}}createRenderer(e,t){let i="",r=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let c=this._rendererCache,d=c.get(r);if(!d){let h=()=>c.delete(r);d=new Rv(i,r,this.engine,h),c.set(r,d)}return d}let s=t.id,o=t.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);let a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(s,o,e,c.name,c)};return t.data.animation.forEach(a),new wS(this,o,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,i){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(i));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(s=>{let[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),r.push([t,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var hZ=(()=>{let e=class e extends ih{constructor(i,r,s){super(i,r,s)}ngOnDestroy(){this.flush()}};e.\u0275fac=function(r){return new(r||e)(G(Ze),G(Pc),G(Fc))},e.\u0275prov=X({token:e,factory:e.\u0275fac});let n=e;return n})();function fZ(){return new Iv}function pZ(n,e,t){return new Ov(n,e,t)}var y3=[{provide:Fc,useFactory:fZ},{provide:ih,useClass:hZ},{provide:pa,useFactory:pZ,deps:[g_,ih,De]}],_3=[{provide:Pc,useFactory:()=>new xv},{provide:Q1,useValue:"BrowserAnimations"},...y3],gZ=[{provide:Pc,useClass:IS},{provide:Q1,useValue:"NoopAnimations"},...y3],v3=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:i.disableAnimations?gZ:_3}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({providers:_3,imports:[__]});let n=e;return n})();var We="primary",Jp=Symbol("RouteTitle"),NS=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function ch(n){return new NS(n)}function mZ(n,e,t){let i=t.path.split("/");if(i.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||i.length<n.length))return null;let r={};for(let s=0;s<i.length;s++){let o=i[s],a=n[s];if(o[0]===":")r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function _Z(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ks(n[t],e[t]))return!1;return!0}function Ks(n,e){let t=n?kS(n):void 0,i=e?kS(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!x3(n[r],e[r]))return!1;return!0}function kS(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function x3(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}else return n===e}function R3(n){return n.length>0?n[n.length-1]:null}function sl(n){return eb(n)?n:ba(n)?Ge(Promise.resolve(n)):le(n)}var yZ={exact:N3,subset:k3},O3={exact:vZ,subset:wZ,ignored:()=>!0};function w3(n,e,t){return yZ[t.paths](n.root,e.root,t.matrixParams)&&O3[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function vZ(n,e){return Ks(n,e)}function N3(n,e,t){if(!Vc(n.segments,e.segments)||!Pv(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!n.children[i]||!N3(n.children[i],e.children[i],t))return!1;return!0}function wZ(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>x3(n[t],e[t]))}function k3(n,e,t){return P3(n,e,e.segments,t)}function P3(n,e,t,i){if(n.segments.length>t.length){let r=n.segments.slice(0,t.length);return!(!Vc(r,t)||e.hasChildren()||!Pv(r,t,i))}else if(n.segments.length===t.length){if(!Vc(n.segments,t)||!Pv(n.segments,t,i))return!1;for(let r in e.children)if(!n.children[r]||!k3(n.children[r],e.children[r],i))return!1;return!0}else{let r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!Vc(n.segments,r)||!Pv(n.segments,r,i)||!n.children[We]?!1:P3(n.children[We],e,s,i)}}function Pv(n,e,t){return e.every((i,r)=>O3[t](n[r].parameters,i.parameters))}var zo=class{constructor(e=new _t([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap??=ch(this.queryParams),this._queryParamMap}toString(){return EZ.serialize(this)}},_t=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Fv(this)}},Lc=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=ch(this.parameters),this._parameterMap}toString(){return L3(this)}};function bZ(n,e){return Vc(n,e)&&n.every((t,i)=>Ks(t.parameters,e[i].parameters))}function Vc(n,e){return n.length!==e.length?!1:n.every((t,i)=>t.path===e[i].path)}function CZ(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===We&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==We&&(t=t.concat(e(r,i)))}),t}var Xp=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=X({token:e,factory:()=>new uh,providedIn:"root"});let n=e;return n})(),uh=class{parse(e){let t=new FS(e);return new zo(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Bp(e.root,!0)}`,i=TZ(e.queryParams),r=typeof e.fragment=="string"?`#${IZ(e.fragment)}`:"";return`${t}${i}${r}`}},EZ=new uh;function Fv(n){return n.segments.map(e=>L3(e)).join("/")}function Bp(n,e){if(!n.hasChildren())return Fv(n);if(e){let t=n.children[We]?Bp(n.children[We],!1):"",i=[];return Object.entries(n.children).forEach(([r,s])=>{r!==We&&i.push(`${r}:${Bp(s,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}else{let t=CZ(n,(i,r)=>r===We?[Bp(n.children[We],!1)]:[`${r}:${Bp(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[We]!=null?`${Fv(n)}/${t[0]}`:`${Fv(n)}/(${t.join("//")})`}}function F3(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Nv(n){return F3(n).replace(/%3B/gi,";")}function IZ(n){return encodeURI(n)}function PS(n){return F3(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Lv(n){return decodeURIComponent(n)}function b3(n){return Lv(n.replace(/\+/g,"%20"))}function L3(n){return`${PS(n.path)}${DZ(n.parameters)}`}function DZ(n){return Object.entries(n).map(([e,t])=>`;${PS(e)}=${PS(t)}`).join("")}function TZ(n){let e=Object.entries(n).map(([t,i])=>Array.isArray(i)?i.map(r=>`${Nv(t)}=${Nv(r)}`).join("&"):`${Nv(t)}=${Nv(i)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var SZ=/^[^\/()?;#]+/;function AS(n){let e=n.match(SZ);return e?e[0]:""}var MZ=/^[^\/()?;=#]+/;function AZ(n){let e=n.match(MZ);return e?e[0]:""}var xZ=/^[^=?&#]+/;function RZ(n){let e=n.match(xZ);return e?e[0]:""}var OZ=/^[^&#]+/;function NZ(n){let e=n.match(OZ);return e?e[0]:""}var FS=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new _t([],{}):new _t([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[We]=new _t(e,t)),i}parseSegment(){let e=AS(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new ie(4009,!1);return this.capture(e),new Lc(Lv(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=AZ(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let r=AS(this.remaining);r&&(i=r,this.capture(i))}e[Lv(t)]=Lv(i)}parseQueryParam(e){let t=RZ(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let o=NZ(this.remaining);o&&(i=o,this.capture(i))}let r=b3(t),s=b3(i);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=AS(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new ie(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=We);let o=this.parseChildren();t[s]=Object.keys(o).length===1?o[We]:new _t([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new ie(4011,!1)}};function V3(n){return n.segments.length>0?new _t([],{[We]:n}):n}function B3(n){let e={};for(let[i,r]of Object.entries(n.children)){let s=B3(r);if(i===We&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[i]=s)}let t=new _t(n.segments,e);return kZ(t)}function kZ(n){if(n.numberOfChildren===1&&n.children[We]){let e=n.children[We];return new _t(n.segments.concat(e.segments),e.children)}return n}function Bc(n){return n instanceof zo}function PZ(n,e,t=null,i=null){let r=U3(n);return j3(r,e,t,i)}function U3(n){let e;function t(s){let o={};for(let l of s.children){let c=t(l);o[l.outlet]=c}let a=new _t(s.url,o);return s===n&&(e=a),a}let i=t(n.root),r=V3(i);return e??r}function j3(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(e.length===0)return xS(r,r,r,t,i);let s=FZ(e);if(s.toRoot())return xS(r,r,new _t([],{}),t,i);let o=LZ(s,r,n),a=o.processChildren?zp(o.segmentGroup,o.index,s.commands):$3(o.segmentGroup,o.index,s.commands);return xS(r,o.segmentGroup,a,t,i)}function Vv(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Gp(n){return typeof n=="object"&&n!=null&&n.outlets}function xS(n,e,t,i,r){let s={};i&&Object.entries(i).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`});let o;n===e?o=t:o=z3(n,e,t);let a=V3(B3(o));return new zo(a,s,r)}function z3(n,e,t){let i={};return Object.entries(n.children).forEach(([r,s])=>{s===e?i[r]=t:i[r]=z3(s,e,t)}),new _t(n.segments,i)}var Bv=class{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Vv(i[0]))throw new ie(4003,!1);let r=i.find(Gp);if(r&&r!==R3(i))throw new ie(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function FZ(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Bv(!0,0,n);let e=0,t=!1,i=n.reduce((r,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return typeof s!="string"?[...r,s]:o===0?(s.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,s]},[]);return new Bv(t,e,i)}var oh=class{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}};function LZ(n,e,t){if(n.isAbsolute)return new oh(e,!0,0);if(!t)return new oh(e,!1,NaN);if(t.parent===null)return new oh(t,!0,0);let i=Vv(n.commands[0])?0:1,r=t.segments.length-1+i;return VZ(t,r,n.numberOfDoubleDots)}function VZ(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new ie(4005,!1);r=i.segments.length}return new oh(i,!1,r-s)}function BZ(n){return Gp(n[0])?n[0].outlets:{[We]:n}}function $3(n,e,t){if(n??=new _t([],{}),n.segments.length===0&&n.hasChildren())return zp(n,e,t);let i=UZ(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let s=new _t(n.segments.slice(0,i.pathIndex),{});return s.children[We]=new _t(n.segments.slice(i.pathIndex),n.children),zp(s,0,r)}else return i.match&&r.length===0?new _t(n.segments,{}):i.match&&!n.hasChildren()?LS(n,e,t):i.match?zp(n,0,r):LS(n,e,t)}function zp(n,e,t){if(t.length===0)return new _t(n.segments,{});{let i=BZ(t),r={};if(Object.keys(i).some(s=>s!==We)&&n.children[We]&&n.numberOfChildren===1&&n.children[We].segments.length===0){let s=zp(n.children[We],e,t);return new _t(n.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(r[s]=$3(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{i[s]===void 0&&(r[s]=o)}),new _t(n.segments,r)}}function UZ(n,e,t){let i=0,r=e,s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;let o=n.segments[r],a=t[i];if(Gp(a))break;let l=`${a}`,c=i<t.length-1?t[i+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!E3(l,c,o))return s;i+=2}else{if(!E3(l,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function LS(n,e,t){let i=n.segments.slice(0,e),r=0;for(;r<t.length;){let s=t[r];if(Gp(s)){let l=jZ(s.outlets);return new _t(i,l)}if(r===0&&Vv(t[0])){let l=n.segments[e];i.push(new Lc(l.path,C3(t[0]))),r++;continue}let o=Gp(s)?s.outlets[We]:`${s}`,a=r<t.length-1?t[r+1]:null;o&&a&&Vv(a)?(i.push(new Lc(o,C3(a))),r+=2):(i.push(new Lc(o,{})),r++)}return new _t(i,{})}function jZ(n){let e={};return Object.entries(n).forEach(([t,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[t]=LS(new _t([],{}),0,i))}),e}function C3(n){let e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function E3(n,e,t){return n==t.path&&Ks(e,t.parameters)}var $p="imperative",Pn=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Pn||{}),Dr=class{constructor(e,t){this.id=e,this.url=t}},dh=class extends Dr{constructor(e,t,i="imperative",r=null){super(e,t),this.type=Pn.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ir=class extends Dr{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=Pn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},nr=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(nr||{}),Uv=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Uv||{}),jo=class extends Dr{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=Pn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},rl=class extends Dr{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=Pn.NavigationSkipped}},qp=class extends Dr{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=Pn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},jv=class extends Dr{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=Pn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},VS=class extends Dr{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=Pn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},BS=class extends Dr{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=Pn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},US=class extends Dr{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=Pn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},jS=class extends Dr{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=Pn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},zS=class{constructor(e){this.route=e,this.type=Pn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},$S=class{constructor(e){this.route=e,this.type=Pn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},HS=class{constructor(e){this.snapshot=e,this.type=Pn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},GS=class{constructor(e){this.snapshot=e,this.type=Pn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},qS=class{constructor(e){this.snapshot=e,this.type=Pn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},WS=class{constructor(e){this.snapshot=e,this.type=Pn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},zv=class{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=Pn.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Wp=class{},hh=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function zZ(n,e){return n.providers&&!n._injector&&(n._injector=z0(n.providers,e,`Route: ${n.path}`)),n._injector??e}function is(n){return n.outlet||We}function $Z(n,e){let t=n.filter(i=>is(i)===e);return t.push(...n.filter(i=>is(i)!==e)),t}function eg(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var KS=class{get injector(){return eg(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new tg(this.rootInjector),this.attachRef=null}},tg=(()=>{let e=class e{constructor(i){this.rootInjector=i,this.contexts=new Map}onChildOutletCreated(i,r){let s=this.getOrCreateContext(i);s.outlet=r,this.contexts.set(i,s)}onChildOutletDestroyed(i){let r=this.getContext(i);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let r=this.getContext(i);return r||(r=new KS(this.rootInjector),this.contexts.set(i,r)),r}getContext(i){return this.contexts.get(i)||null}};e.\u0275fac=function(r){return new(r||e)(G(Mn))},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),$v=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=QS(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){let t=QS(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=ZS(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return ZS(e,this._root).map(t=>t.value)}};function QS(n,e){if(n===e.value)return e;for(let t of e.children){let i=QS(n,t);if(i)return i}return null}function ZS(n,e){if(n===e.value)return[e];for(let t of e.children){let i=ZS(n,t);if(i.length)return i.unshift(e),i}return[]}var tr=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function sh(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Hv=class extends $v{constructor(e,t){super(e),this.snapshot=t,sM(this,e)}toString(){return this.snapshot.toString()}};function H3(n){let e=HZ(n),t=new Ot([new Lc("",{})]),i=new Ot({}),r=new Ot({}),s=new Ot({}),o=new Ot(""),a=new rs(t,i,s,o,r,We,n,e.root);return a.snapshot=e.root,new Hv(new tr(a,[]),e)}function HZ(n){let e={},t={},i={},r="",s=new ah([],e,i,r,t,We,n,null,{});return new qv("",new tr(s,[]))}var rs=class{constructor(e,t,i,r,s,o,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(se(c=>c[Jp]))??le(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(se(e=>ch(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(se(e=>ch(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Gv(n,e,t="emptyOnly"){let i,{routeConfig:r}=n;return e!==null&&(t==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:Q(Q({},e.params),n.params),data:Q(Q({},e.data),n.data),resolve:Q(Q(Q(Q({},n.data),e.data),r?.data),n._resolvedData)}:i={params:Q({},n.params),data:Q({},n.data),resolve:Q(Q({},n.data),n._resolvedData??{})},r&&q3(r)&&(i.resolve[Jp]=r.title),i}var ah=class{get title(){return this.data?.[Jp]}constructor(e,t,i,r,s,o,a,l,c){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ch(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ch(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},qv=class extends $v{constructor(e,t){super(t),this.url=e,sM(this,t)}toString(){return G3(this._root)}};function sM(n,e){e.value._routerState=n,e.children.forEach(t=>sM(n,t))}function G3(n){let e=n.children.length>0?` { ${n.children.map(G3).join(", ")} } `:"";return`${n.value}${e}`}function RS(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ks(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Ks(e.params,t.params)||n.paramsSubject.next(t.params),_Z(e.url,t.url)||n.urlSubject.next(t.url),Ks(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function YS(n,e){let t=Ks(n.params,e.params)&&bZ(n.url,e.url),i=!n.parent!=!e.parent;return t&&!i&&(!n.parent||YS(n.parent,e.parent))}function q3(n){return typeof n.title=="string"||n.title===null}var oM=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=We,this.activateEvents=new xe,this.deactivateEvents=new xe,this.attachEvents=new xe,this.detachEvents=new xe,this.parentContexts=K(tg),this.location=K(Ts),this.changeDetector=K(Ri),this.inputBinder=K(Jv,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){let{firstChange:r,previousValue:s}=i.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ie(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ie(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ie(4012,!1);this.location.detach();let i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,r){this.activated=i,this._activatedRoute=r,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){let i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,r){if(this.isActivated)throw new ie(4013,!1);this._activatedRoute=i;let s=this.location,a=i.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new JS(i,l,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Qe({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[In]});let n=e;return n})(),JS=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===rs?this.route:e===tg?this.childContexts:this.parent.get(e,t)}},Jv=new oe(""),I3=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(i){this.unsubscribeFromRouteData(i),this.subscribeToRouteData(i)}unsubscribeFromRouteData(i){this.outletDataSubscriptions.get(i)?.unsubscribe(),this.outletDataSubscriptions.delete(i)}subscribeToRouteData(i){let{activatedRoute:r}=i,s=or([r.queryParams,r.params,r.data]).pipe(Le(([o,a,l],c)=>(l=Q(Q(Q({},o),a),l),c===0?le(l):Promise.resolve(l)))).subscribe(o=>{if(!i.isActivated||!i.activatedComponentRef||i.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(i);return}let a=PN(r.component);if(!a){this.unsubscribeFromRouteData(i);return}for(let{templateName:l}of a.inputs)i.activatedComponentRef.setInput(l,o[l])});this.outletDataSubscriptions.set(i,s)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=X({token:e,factory:e.\u0275fac});let n=e;return n})();function GZ(n,e,t){let i=Kp(n,e._root,t?t._root:void 0);return new Hv(i,e)}function Kp(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let i=t.value;i._futureSnapshot=e.value;let r=qZ(n,e,t);return new tr(i,r)}else{if(n.shouldAttach(e.value)){let s=n.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Kp(n,a)),o}}let i=WZ(e.value),r=e.children.map(s=>Kp(n,s));return new tr(i,r)}}function qZ(n,e,t){return e.children.map(i=>{for(let r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Kp(n,i,r);return Kp(n,i)})}function WZ(n){return new rs(new Ot(n.url),new Ot(n.params),new Ot(n.queryParams),new Ot(n.fragment),new Ot(n.data),n.outlet,n.component,n)}var Qp=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},W3="ngNavigationCancelingError";function Wv(n,e){let{redirectTo:t,navigationBehaviorOptions:i}=Bc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=K3(!1,nr.Redirect);return r.url=t,r.navigationBehaviorOptions=i,r}function K3(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[W3]=!0,t.cancellationCode=e,t}function KZ(n){return Q3(n)&&Bc(n.url)}function Q3(n){return!!n&&n[W3]}var QZ=(n,e,t,i)=>se(r=>(new XS(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)),XS=class{constructor(e,t,i,r,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){let t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),RS(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){let r=sh(t);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){let r=e.value,s=t?t.value:null;if(r===s)if(r.component){let o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=sh(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);if(i&&i.outlet){let o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=sh(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){let r=sh(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new WS(s.value.snapshot))}),e.children.length&&this.forwardEvent(new GS(e.value.snapshot))}activateRoutes(e,t,i){let r=e.value,s=t?t.value:null;if(RS(r),r===s)if(r.component){let o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,i);else if(r.component){let o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),RS(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=r,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,i)}},Kv=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},lh=class{constructor(e,t){this.component=e,this.route=t}};function ZZ(n,e,t){let i=n._root,r=e?e._root:null;return Up(i,r,t,[i.value])}function YZ(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function ph(n,e){let t=Symbol(),i=e.get(n,t);return i===t?typeof n=="function"&&!jx(n)?n:e.get(n):i}function Up(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=sh(e);return n.children.forEach(o=>{JZ(o,s[o.value.outlet],t,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Hp(a,t.getContext(o),r)),r}function JZ(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let l=XZ(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new Kv(i)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Up(n,e,a?a.children:null,i,r):Up(n,e,t,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new lh(a.outlet.component,o))}else o&&Hp(e,a,r),r.canActivateChecks.push(new Kv(i)),s.component?Up(n,null,a?a.children:null,i,r):Up(n,null,t,i,r);return r}function XZ(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Vc(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Vc(n.url,e.url)||!Ks(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!YS(n,e)||!Ks(n.queryParams,e.queryParams);case"paramsChange":default:return!YS(n,e)}}function Hp(n,e,t){let i=sh(n),r=n.value;Object.entries(i).forEach(([s,o])=>{r.component?e?Hp(o,e.children.getContext(s),t):Hp(o,null,t):Hp(o,e,t)}),r.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new lh(e.outlet.component,r)):t.canDeactivateChecks.push(new lh(null,r)):t.canDeactivateChecks.push(new lh(null,r))}function ng(n){return typeof n=="function"}function eY(n){return typeof n=="boolean"}function tY(n){return n&&ng(n.canLoad)}function nY(n){return n&&ng(n.canActivate)}function iY(n){return n&&ng(n.canActivateChild)}function rY(n){return n&&ng(n.canDeactivate)}function sY(n){return n&&ng(n.canMatch)}function Z3(n){return n instanceof oo||n?.name==="EmptyError"}var kv=Symbol("INITIAL_VALUE");function fh(){return Le(n=>or(n.map(e=>e.pipe(tn(1),kr(kv)))).pipe(se(e=>{for(let t of e)if(t!==!0){if(t===kv)return kv;if(t===!1||oY(t))return t}return!0}),Ut(e=>e!==kv),tn(1)))}function oY(n){return Bc(n)||n instanceof Qp}function aY(n,e){return Gt(t=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return o.length===0&&s.length===0?le(Ee(Q({},t),{guardsResult:!0})):lY(o,i,r,n).pipe(Gt(a=>a&&eY(a)?cY(i,s,n,e):le(a)),se(a=>Ee(Q({},t),{guardsResult:a})))})}function lY(n,e,t,i){return Ge(n).pipe(Gt(r=>pY(r.component,r.route,t,e,i)),lr(r=>r!==!0,!0))}function cY(n,e,t,i){return Ge(e).pipe(ao(r=>oa(dY(r.route.parent,i),uY(r.route,i),fY(n,r.path,t),hY(n,r.route,t))),lr(r=>r!==!0,!0))}function uY(n,e){return n!==null&&e&&e(new qS(n)),le(!0)}function dY(n,e){return n!==null&&e&&e(new HS(n)),le(!0)}function hY(n,e,t){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return le(!0);let r=i.map(s=>Cm(()=>{let o=eg(e)??t,a=ph(s,o),l=nY(a)?a.canActivate(e,n):dr(o,()=>a(e,n));return sl(l).pipe(lr())}));return le(r).pipe(fh())}function fY(n,e,t){let i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>YZ(o)).filter(o=>o!==null).map(o=>Cm(()=>{let a=o.guards.map(l=>{let c=eg(o.node)??t,d=ph(l,c),h=iY(d)?d.canActivateChild(i,n):dr(c,()=>d(i,n));return sl(h).pipe(lr())});return le(a).pipe(fh())}));return le(s).pipe(fh())}function pY(n,e,t,i,r){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return le(!0);let o=s.map(a=>{let l=eg(e)??r,c=ph(a,l),d=rY(c)?c.canDeactivate(n,e,t,i):dr(l,()=>c(n,e,t,i));return sl(d).pipe(lr())});return le(o).pipe(fh())}function gY(n,e,t,i){let r=e.canLoad;if(r===void 0||r.length===0)return le(!0);let s=r.map(o=>{let a=ph(o,n),l=tY(a)?a.canLoad(e,t):dr(n,()=>a(e,t));return sl(l)});return le(s).pipe(fh(),Y3(i))}function Y3(n){return Ww(qt(e=>{if(typeof e!="boolean")throw Wv(n,e)}),se(e=>e===!0))}function mY(n,e,t,i){let r=e.canMatch;if(!r||r.length===0)return le(!0);let s=r.map(o=>{let a=ph(o,n),l=sY(a)?a.canMatch(e,t):dr(n,()=>a(e,t));return sl(l)});return le(s).pipe(fh(),Y3(i))}var Zp=class{constructor(e){this.segmentGroup=e||null}},Yp=class extends Error{constructor(e){super(),this.urlTree=e}};function rh(n){return Su(new Zp(n))}function _Y(n){return Su(new ie(4e3,!1))}function yY(n){return Su(K3(!1,nr.GuardRejected))}var eM=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return le(i);if(r.numberOfChildren>1||!r.children[We])return _Y(`${e.redirectTo}`);r=r.children[We]}}applyRedirectCommands(e,t,i,r,s){if(typeof t!="string"){let a=t,{queryParams:l,fragment:c,routeConfig:d,url:h,outlet:m,params:v,data:C,title:A}=r,S=dr(s,()=>a({params:v,data:C,queryParams:l,fragment:c,routeConfig:d,url:h,outlet:m,title:A}));if(S instanceof zo)throw new Yp(S);t=S}let o=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i);if(t[0]==="/")throw new Yp(o);return o}applyRedirectCreateUrlTree(e,t,i,r){let s=this.createSegmentGroup(e,t.root,i,r);return new zo(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let i={};return Object.entries(e).forEach(([r,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);i[r]=t[a]}else i[r]=s}),i}createSegmentGroup(e,t,i,r){let s=this.createSegments(e,t.segments,i,r),o={};return Object.entries(t.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,i,r)}),new _t(s,o)}createSegments(e,t,i,r){return t.map(s=>s.path[0]===":"?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){let r=i[t.path.substring(1)];if(!r)throw new ie(4001,!1);return r}findOrReturn(e,t){let i=0;for(let r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}},tM={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function vY(n,e,t,i,r){let s=J3(n,e,t);return s.matched?(i=zZ(e,i),mY(i,e,t,r).pipe(se(o=>o===!0?s:Q({},tM)))):le(s)}function J3(n,e,t){if(e.path==="**")return wY(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?Q({},tM):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let r=(e.matcher||mZ)(t,n,e);if(!r)return Q({},tM);let s={};Object.entries(r.posParams??{}).forEach(([a,l])=>{s[a]=l.path});let o=r.consumed.length>0?Q(Q({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function wY(n){return{matched:!0,parameters:n.length>0?R3(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function D3(n,e,t,i){return t.length>0&&EY(n,t,i)?{segmentGroup:new _t(e,CY(i,new _t(t,n.children))),slicedSegments:[]}:t.length===0&&IY(n,t,i)?{segmentGroup:new _t(n.segments,bY(n,t,i,n.children)),slicedSegments:t}:{segmentGroup:new _t(n.segments,n.children),slicedSegments:t}}function bY(n,e,t,i){let r={};for(let s of t)if(Xv(n,e,s)&&!i[is(s)]){let o=new _t([],{});r[is(s)]=o}return Q(Q({},i),r)}function CY(n,e){let t={};t[We]=e;for(let i of n)if(i.path===""&&is(i)!==We){let r=new _t([],{});t[is(i)]=r}return t}function EY(n,e,t){return t.some(i=>Xv(n,e,i)&&is(i)!==We)}function IY(n,e,t){return t.some(i=>Xv(n,e,i))}function Xv(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function DY(n,e,t){return e.length===0&&!n.children[t]}var nM=class{};function TY(n,e,t,i,r,s,o="emptyOnly"){return new iM(n,e,t,i,r,o,s).recognize()}var SY=31,iM=class{constructor(e,t,i,r,s,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new eM(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new ie(4002,`'${e.segmentGroup}'`)}recognize(){let e=D3(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(se(({children:t,rootSnapshot:i})=>{let r=new tr(i,t),s=new qv("",r),o=PZ(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let t=new ah([],Object.freeze({}),Object.freeze(Q({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),We,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,We,t).pipe(se(i=>({children:i,rootSnapshot:t})),ei(i=>{if(i instanceof Yp)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Zp?this.noMatchError(i):i}))}processSegmentGroup(e,t,i,r,s){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,t,i,s):this.processSegment(e,t,i,i.segments,r,!0,s).pipe(se(o=>o instanceof tr?[o]:[]))}processChildren(e,t,i,r){let s=[];for(let o of Object.keys(i.children))o==="primary"?s.unshift(o):s.push(o);return Ge(s).pipe(ao(o=>{let a=i.children[o],l=$Z(t,o);return this.processSegmentGroup(e,l,a,o,r)}),Rl((o,a)=>(o.push(...a),o)),aa(null),ab(),Gt(o=>{if(o===null)return rh(i);let a=X3(o);return MY(a),le(a)}))}processSegment(e,t,i,r,s,o,a){return Ge(t).pipe(ao(l=>this.processSegmentAgainstRoute(l._injector??e,t,l,i,r,s,o,a).pipe(ei(c=>{if(c instanceof Zp)return le(null);throw c}))),lr(l=>!!l),ei(l=>{if(Z3(l))return DY(i,r,s)?le(new nM):rh(i);throw l}))}processSegmentAgainstRoute(e,t,i,r,s,o,a,l){return is(i)!==o&&(o===We||!Xv(r,s,i))?rh(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,s,o,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,s,o,l):rh(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o,a){let{matched:l,parameters:c,consumedSegments:d,positionalParamSegments:h,remainingSegments:m}=J3(t,r,s);if(!l)return rh(t);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>SY&&(this.allowRedirects=!1));let v=new ah(s,c,Object.freeze(Q({},this.urlTree.queryParams)),this.urlTree.fragment,T3(r),is(r),r.component??r._loadedComponent??null,r,S3(r)),C=Gv(v,a,this.paramsInheritanceStrategy);v.params=Object.freeze(C.params),v.data=Object.freeze(C.data);let A=this.applyRedirects.applyRedirectCommands(d,r.redirectTo,h,v,e);return this.applyRedirects.lineralizeSegments(r,A).pipe(Gt(S=>this.processSegment(e,i,t,S.concat(m),o,!1,a)))}matchSegmentAgainstRoute(e,t,i,r,s,o){let a=vY(t,i,r,e,this.urlSerializer);return i.path==="**"&&(t.children={}),a.pipe(Le(l=>l.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(Le(({routes:c})=>{let d=i._loadedInjector??e,{parameters:h,consumedSegments:m,remainingSegments:v}=l,C=new ah(m,h,Object.freeze(Q({},this.urlTree.queryParams)),this.urlTree.fragment,T3(i),is(i),i.component??i._loadedComponent??null,i,S3(i)),A=Gv(C,o,this.paramsInheritanceStrategy);C.params=Object.freeze(A.params),C.data=Object.freeze(A.data);let{segmentGroup:S,slicedSegments:j}=D3(t,m,v,c);if(j.length===0&&S.hasChildren())return this.processChildren(d,c,S,C).pipe(se(W=>new tr(C,W)));if(c.length===0&&j.length===0)return le(new tr(C,[]));let Z=is(i)===s;return this.processSegment(d,c,S,j,Z?We:s,!0,C).pipe(se(W=>new tr(C,W instanceof tr?[W]:[])))}))):rh(t)))}getChildConfig(e,t,i){return t.children?le({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?le({routes:t._loadedRoutes,injector:t._loadedInjector}):gY(e,t,i,this.urlSerializer).pipe(Gt(r=>r?this.configLoader.loadChildren(e,t).pipe(qt(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):yY(t))):le({routes:[],injector:e})}};function MY(n){n.sort((e,t)=>e.value.outlet===We?-1:t.value.outlet===We?1:e.value.outlet.localeCompare(t.value.outlet))}function AY(n){let e=n.value.routeConfig;return e&&e.path===""}function X3(n){let e=[],t=new Set;for(let i of n){if(!AY(i)){e.push(i);continue}let r=e.find(s=>i.value.routeConfig===s.value.routeConfig);r!==void 0?(r.children.push(...i.children),t.add(r)):e.push(i)}for(let i of t){let r=X3(i.children);e.push(new tr(i.value,r))}return e.filter(i=>!t.has(i))}function T3(n){return n.data||{}}function S3(n){return n.resolve||{}}function xY(n,e,t,i,r,s){return Gt(o=>TY(n,e,t,i,o.extractedUrl,r,s).pipe(se(({state:a,tree:l})=>Ee(Q({},o),{targetSnapshot:a,urlAfterRedirects:l}))))}function RY(n,e){return Gt(t=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return le(t);let s=new Set(r.map(l=>l.route)),o=new Set;for(let l of s)if(!o.has(l))for(let c of eB(l))o.add(c);let a=0;return Ge(o).pipe(ao(l=>s.has(l)?OY(l,i,n,e):(l.data=Gv(l,l.parent,n).resolve,le(void 0))),qt(()=>a++),Au(1),Gt(l=>a===o.size?le(t):En))})}function eB(n){let e=n.children.map(t=>eB(t)).flat();return[n,...e]}function OY(n,e,t,i){let r=n.routeConfig,s=n._resolve;return r?.title!==void 0&&!q3(r)&&(s[Jp]=r.title),NY(s,n,e,i).pipe(se(o=>(n._resolvedData=o,n.data=Gv(n,n.parent,t).resolve,null)))}function NY(n,e,t,i){let r=kS(n);if(r.length===0)return le({});let s={};return Ge(r).pipe(Gt(o=>kY(n[o],e,t,i).pipe(lr(),qt(a=>{if(a instanceof Qp)throw Wv(new uh,a);s[o]=a}))),Au(1),sb(s),ei(o=>Z3(o)?En:Su(o)))}function kY(n,e,t,i){let r=eg(e)??i,s=ph(n,r),o=s.resolve?s.resolve(e,t):dr(r,()=>s(e,t));return sl(o)}function OS(n){return Le(e=>{let t=n(e);return t?Ge(t).pipe(se(()=>e)):le(e)})}var tB=(()=>{let e=class e{buildTitle(i){let r,s=i.root;for(;s!==void 0;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(o=>o.outlet===We);return r}getResolvedTitleForRoute(i){return i.data[Jp]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=X({token:e,factory:()=>K(PY),providedIn:"root"});let n=e;return n})(),PY=(()=>{let e=class e extends tB{constructor(i){super(),this.title=i}updateTitle(i){let r=this.buildTitle(i);r!==void 0&&this.title.setTitle(r)}};e.\u0275fac=function(r){return new(r||e)(G(wk))},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),ig=new oe("",{providedIn:"root",factory:()=>({})}),FY=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Oe({type:e,selectors:[["ng-component"]],standalone:!0,features:[Nt],decls:1,vars:0,template:function(r,s){r&1&&ne(0,"router-outlet")},dependencies:[oM],encapsulation:2});let n=e;return n})();function aM(n){let e=n.children&&n.children.map(aM),t=e?Ee(Q({},n),{children:e}):Q({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==We&&(t.component=FY),t}var Qv=new oe(""),lM=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=K(Q0)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return le(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=sl(i.loadComponent()).pipe(se(nB),qt(o=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=o}),zn(()=>{this.componentLoaders.delete(i)})),s=new Cu(r,()=>new ke).pipe(bu());return this.componentLoaders.set(i,s),s}loadChildren(i,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return le({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=LY(r,this.compiler,i,this.onLoadEndListener).pipe(zn(()=>{this.childrenLoaders.delete(r)})),a=new Cu(o,()=>new ke).pipe(bu());return this.childrenLoaders.set(r,a),a}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function LY(n,e,t,i){return sl(n.loadChildren()).pipe(se(nB),Gt(r=>r instanceof lf||Array.isArray(r)?le(r):Ge(e.compileModuleAsync(r))),se(r=>{i&&i(n);let s,o,a=!1;return Array.isArray(r)?(o=r,a=!0):(s=r.create(t).injector,o=s.get(Qv,[],{optional:!0,self:!0}).flat()),{routes:o.map(aM),injector:s}}))}function VY(n){return n&&typeof n=="object"&&"default"in n}function nB(n){return VY(n)?n.default:n}var cM=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=X({token:e,factory:()=>K(BY),providedIn:"root"});let n=e;return n})(),BY=(()=>{let e=class e{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,r){return i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),iB=new oe(""),rB=new oe("");function UY(n,e,t){let i=n.get(rB),r=n.get(Ze);return n.get(De).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(c=>setTimeout(c));let s,o=new Promise(c=>{s=c}),a=r.startViewTransition(()=>(s(),jY(n))),{onViewTransitionCreated:l}=i;return l&&dr(n,()=>l({transition:a,from:e,to:t})),o})}function jY(n){return new Promise(e=>{pC({read:()=>setTimeout(e)},{injector:n})})}var zY=new oe(""),uM=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ke,this.transitionAbortSubject=new ke,this.configLoader=K(lM),this.environmentInjector=K(Mn),this.urlSerializer=K(Xp),this.rootContexts=K(tg),this.location=K(Zu),this.inputBindingEnabled=K(Jv,{optional:!0})!==null,this.titleStrategy=K(tB),this.options=K(ig,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=K(cM),this.createViewTransition=K(iB,{optional:!0}),this.navigationErrorHandler=K(zY,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>le(void 0),this.rootComponentType=null;let i=s=>this.events.next(new zS(s)),r=s=>this.events.next(new $S(s));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=i}complete(){this.transitions?.complete()}handleNavigationRequest(i){let r=++this.navigationId;this.transitions?.next(Ee(Q(Q({},this.transitions.value),i),{id:r}))}setupNavigations(i,r,s){return this.transitions=new Ot({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:$p,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ut(o=>o.id!==0),se(o=>Ee(Q({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Le(o=>{let a=!1,l=!1;return le(o).pipe(Le(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",nr.SupersededByNewNavigation),En;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?Ee(Q({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!i.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=c.extras.onSameUrlNavigation??i.onSameUrlNavigation;if(!d&&h!=="reload"){let m="";return this.events.next(new rl(c.id,this.urlSerializer.serialize(c.rawUrl),m,Uv.IgnoredSameUrlNavigation)),c.resolve(!1),En}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return le(c).pipe(Le(m=>{let v=this.transitions?.getValue();return this.events.next(new dh(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),v!==this.transitions?.getValue()?En:Promise.resolve(m)}),xY(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,this.paramsInheritanceStrategy),qt(m=>{o.targetSnapshot=m.targetSnapshot,o.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=Ee(Q({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let v=new jv(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(v)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:m,extractedUrl:v,source:C,restoredState:A,extras:S}=c,j=new dh(m,this.urlSerializer.serialize(v),C,A);this.events.next(j);let Z=H3(this.rootComponentType).snapshot;return this.currentTransition=o=Ee(Q({},c),{targetSnapshot:Z,urlAfterRedirects:v,extras:Ee(Q({},S),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=v,le(o)}else{let m="";return this.events.next(new rl(c.id,this.urlSerializer.serialize(c.extractedUrl),m,Uv.IgnoredByUrlHandlingStrategy)),c.resolve(!1),En}}),qt(c=>{let d=new VS(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),se(c=>(this.currentTransition=o=Ee(Q({},c),{guards:ZZ(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),aY(this.environmentInjector,c=>this.events.next(c)),qt(c=>{if(o.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw Wv(this.urlSerializer,c.guardsResult);let d=new BS(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(d)}),Ut(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",nr.GuardRejected),!1)),OS(c=>{if(c.guards.canActivateChecks.length)return le(c).pipe(qt(d=>{let h=new US(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}),Le(d=>{let h=!1;return le(d).pipe(RY(this.paramsInheritanceStrategy,this.environmentInjector),qt({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(d,"",nr.NoDataFromResolver)}}))}),qt(d=>{let h=new jS(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}))}),OS(c=>{let d=h=>{let m=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(h.routeConfig).pipe(qt(v=>{h.component=v}),se(()=>{})));for(let v of h.children)m.push(...d(v));return m};return or(d(c.targetSnapshot.root)).pipe(aa(null),tn(1))}),OS(()=>this.afterPreactivation()),Le(()=>{let{currentSnapshot:c,targetSnapshot:d}=o,h=this.createViewTransition?.(this.environmentInjector,c.root,d.root);return h?Ge(h).pipe(se(()=>o)):le(o)}),se(c=>{let d=GZ(i.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=Ee(Q({},c),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,o}),qt(()=>{this.events.next(new Wp)}),QZ(this.rootContexts,i.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),tn(1),qt({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ir(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),hn(this.transitionAbortSubject.pipe(qt(c=>{throw c}))),zn(()=>{!a&&!l&&this.cancelNavigationTransition(o,"",nr.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),ei(c=>{if(l=!0,Q3(c))this.events.next(new jo(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),KZ(c)?this.events.next(new hh(c.url,c.navigationBehaviorOptions)):o.resolve(!1);else{let d=new qp(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0);try{let h=dr(this.environmentInjector,()=>this.navigationErrorHandler?.(d));if(h instanceof Qp){let{message:m,cancellationCode:v}=Wv(this.urlSerializer,h);this.events.next(new jo(o.id,this.urlSerializer.serialize(o.extractedUrl),m,v)),this.events.next(new hh(h.redirectTo,h.navigationBehaviorOptions))}else{this.events.next(d);let m=i.errorHandler(c);o.resolve(!!m)}}catch(h){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(h)}}return En}))}))}cancelNavigationTransition(i,r,s){let o=new jo(i.id,this.urlSerializer.serialize(i.extractedUrl),r,s);this.events.next(o),i.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let i=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return i.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function $Y(n){return n!==$p}var HY=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=X({token:e,factory:()=>K(GY),providedIn:"root"});let n=e;return n})(),rM=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},GY=(()=>{let e=class e extends rM{};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=gi(e)))(s||e)}})(),e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),sB=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=X({token:e,factory:()=>K(qY),providedIn:"root"});let n=e;return n})(),qY=(()=>{let e=class e extends sB{constructor(){super(...arguments),this.location=K(Zu),this.urlSerializer=K(Xp),this.options=K(ig,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=K(cM),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new zo,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=H3(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(r=>{r.type==="popstate"&&i(r.url,r.state)})}handleRouterEvent(i,r){if(i instanceof dh)this.stateMemento=this.createStateMemento();else if(i instanceof rl)this.rawUrlTree=r.initialUrl;else if(i instanceof jv){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??s,r)}}else i instanceof Wp?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):i instanceof jo&&(i.code===nr.GuardRejected||i.code===nr.NoDataFromResolver)?this.restoreHistory(r):i instanceof qp?this.restoreHistory(r,!0):i instanceof ir&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,r){let s=i instanceof zo?this.urlSerializer.serialize(i):i;if(this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl){let o=this.browserPageId,a=Q(Q({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(s,"",a)}else{let o=Q(Q({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(i,r=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===i.finalUrl&&o===0&&(this.resetState(i),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,r){return this.canceledNavigationResolution==="computed"?{navigationId:i,\u0275routerPageId:r}:{navigationId:i}}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=gi(e)))(s||e)}})(),e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),jp=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(jp||{});function oB(n,e){n.events.pipe(Ut(t=>t instanceof ir||t instanceof jo||t instanceof qp||t instanceof rl),se(t=>t instanceof ir||t instanceof rl?jp.COMPLETE:(t instanceof jo?t.code===nr.Redirect||t.code===nr.SupersededByNewNavigation:!1)?jp.REDIRECTING:jp.FAILED),Ut(t=>t!==jp.REDIRECTING),tn(1)).subscribe(()=>{e()})}function WY(n){throw n}var KY={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},QY={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Lt=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=K(H0),this.stateManager=K(sB),this.options=K(ig,{optional:!0})||{},this.pendingTasks=K(mo),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=K(uM),this.urlSerializer=K(Xp),this.location=K(Zu),this.urlHandlingStrategy=K(cM),this._events=new ke,this.errorHandler=this.options.errorHandler||WY,this.navigated=!1,this.routeReuseStrategy=K(HY),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=K(Qv,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!K(Jv,{optional:!0}),this.eventsSubscription=new Yt,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:i=>{this.console.warn(i)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let i=this.navigationTransitions.events.subscribe(r=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof jo&&r.code!==nr.Redirect&&r.code!==nr.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof ir)this.navigated=!0;else if(r instanceof hh){let a=r.navigationBehaviorOptions,l=this.urlHandlingStrategy.merge(r.url,s.currentRawUrl),c=Q({browserUrl:s.extras.browserUrl,info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||$Y(s.source)},a);this.scheduleNavigation(l,$p,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}YY(r)&&this._events.next(r)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),$p,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",r)},0)})}navigateToSyncWithBrowser(i,r,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let c=Q({},s);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let l=this.parseUrl(i);this.scheduleNavigation(l,r,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(aM),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,r={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:l,preserveFragment:c}=r,d=c?this.currentUrlTree.fragment:a,h=null;switch(l??this.options.defaultQueryParamsHandling){case"merge":h=Q(Q({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let m;try{let v=s?s.snapshot:this.routerState.snapshot.root;m=U3(v)}catch{(typeof i[0]!="string"||i[0][0]!=="/")&&(i=[]),m=this.currentUrlTree.root}return j3(m,i,h,d??null)}navigateByUrl(i,r={skipLocationChange:!1}){let s=Bc(i)?i:this.parseUrl(i),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,$p,null,r)}navigate(i,r={skipLocationChange:!1}){return ZY(i),this.navigateByUrl(this.createUrlTree(i,r),r)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){try{return this.urlSerializer.parse(i)}catch{return this.urlSerializer.parse("/")}}isActive(i,r){let s;if(r===!0?s=Q({},KY):r===!1?s=Q({},QY):s=r,Bc(i))return w3(this.currentUrlTree,i,s);let o=this.parseUrl(i);return w3(this.currentUrlTree,o,s)}removeEmptyProps(i){return Object.entries(i).reduce((r,[s,o])=>(o!=null&&(r[s]=o),r),{})}scheduleNavigation(i,r,s,o,a){if(this.disposed)return Promise.resolve(!1);let l,c,d;a?(l=a.resolve,c=a.reject,d=a.promise):d=new Promise((m,v)=>{l=m,c=v});let h=this.pendingTasks.add();return oB(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:o,resolve:l,reject:c,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(m=>Promise.reject(m))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function ZY(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new ie(4008,!1)}function YY(n){return!(n instanceof Wp)&&!(n instanceof hh)}var Zv=(()=>{let e=class e{constructor(i,r,s,o,a,l){this.router=i,this.route=r,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=l,this.href=null,this.onChanges=new ke,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let c=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=i.events.subscribe(d=>{d instanceof ir&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(i){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",i)}ngOnChanges(i){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(i){i==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Bc(i)?this.routerLinkInput=i:this.routerLinkInput=Array.isArray(i)?i:[i],this.setTabIndexIfNotOnNativeEl("0"))}onClick(i,r,s,o,a){let l=this.urlTree;if(l===null||this.isAnchorElement&&(i!==0||r||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(l,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let i=this.urlTree;this.href=i!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(i)):null;let r=this.href===null?null:mO(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(i,r){let s=this.renderer,o=this.el.nativeElement;r!==null?s.setAttribute(o,i,r):s.removeAttribute(o,i)}get urlTree(){return this.routerLinkInput===null?null:Bc(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(r){return new(r||e)(B(Lt),B(rs),R0("tabindex"),B(An),B(ct),B(Co))},e.\u0275dir=Qe({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,s){r&1&&re("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),r&2&&Je("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Ue],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Ue],replaceUrl:[2,"replaceUrl","replaceUrl",Ue],routerLink:"routerLink"},standalone:!0,features:[mi,In]});let n=e;return n})(),aB=(()=>{let e=class e{get isActive(){return this._isActive}constructor(i,r,s,o,a){this.router=i,this.element=r,this.renderer=s,this.cdr=o,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new xe,this.routerEventsSubscription=i.events.subscribe(l=>{l instanceof ir&&this.update()})}ngAfterContentInit(){le(this.links.changes,le(null)).pipe(ms()).subscribe(i=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let i=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Ge(i).pipe(ms()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(i){let r=Array.isArray(i)?i:i.split(" ");this.classes=r.filter(s=>!!s)}ngOnChanges(i){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let i=this.hasActiveLinks();this.classes.forEach(r=>{i?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),i&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==i&&(this._isActive=i,this.cdr.markForCheck(),this.isActiveChange.emit(i))})}isLinkActive(i){let r=JY(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>{let o=s.urlTree;return o?i.isActive(o,r):!1}}hasActiveLinks(){let i=this.isLinkActive(this.router);return this.link&&i(this.link)||this.links.some(i)}};e.\u0275fac=function(r){return new(r||e)(B(Lt),B(ct),B(An),B(Ri),B(Zv,8))},e.\u0275dir=Qe({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(r,s,o){if(r&1&&Ss(o,Zv,5),r&2){let a;xn(a=Rn())&&(s.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[In]});let n=e;return n})();function JY(n){return!!n.paths}var Yv=class{};var XY=(()=>{let e=class e{constructor(i,r,s,o,a){this.router=i,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Ut(i=>i instanceof ir),ao(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,r){let s=[];for(let o of r){o.providers&&!o._injector&&(o._injector=z0(o.providers,i,`Route: ${o.path}`));let a=o._injector??i,l=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(l,o.children??o._loadedRoutes))}return Ge(s).pipe(ms())}preloadConfig(i,r){return this.preloadingStrategy.preload(r,()=>{let s;r.loadChildren&&r.canLoad===void 0?s=this.loader.loadChildren(i,r):s=le(null);let o=s.pipe(Gt(a=>a===null?le(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??i,a.routes))));if(r.loadComponent&&!r._loadedComponent){let a=this.loader.loadComponent(r);return Ge([o,a]).pipe(ms())}else return o})}};e.\u0275fac=function(r){return new(r||e)(G(Lt),G(Q0),G(Mn),G(Yv),G(lM))},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),lB=new oe(""),eJ=(()=>{let e=class e{constructor(i,r,s,o,a={}){this.urlSerializer=i,this.transitions=r,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof dh?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof ir?(this.lastId=i.id,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.urlAfterRedirects).fragment)):i instanceof rl&&i.code===Uv.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof zv&&(i.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(i.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new zv(i,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(r){RO()},e.\u0275prov=X({token:e,factory:e.\u0275fac});let n=e;return n})();function tJ(n){return n.routerState.root}function rg(n,e){return{\u0275kind:n,\u0275providers:e}}function nJ(){let n=K(nn);return e=>{let t=n.get(yi);if(e!==t.components[0])return;let i=n.get(Lt),r=n.get(cB);n.get(dM)===1&&i.initialNavigation(),n.get(uB,null,Ke.Optional)?.setUpPreloading(),n.get(lB,null,Ke.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var cB=new oe("",{factory:()=>new ke}),dM=new oe("",{providedIn:"root",factory:()=>1});function iJ(){return rg(2,[{provide:dM,useValue:0},{provide:W0,multi:!0,deps:[nn],useFactory:e=>{let t=e.get(HN,Promise.resolve());return()=>t.then(()=>new Promise(i=>{let r=e.get(Lt),s=e.get(cB);oB(r,()=>{i(!0)}),e.get(uM).afterPreactivation=()=>(i(!0),s.closed?le(void 0):s),r.initialNavigation()}))}}])}function rJ(){return rg(3,[{provide:W0,multi:!0,useFactory:()=>{let e=K(Lt);return()=>{e.setUpLocationChangeListener()}}},{provide:dM,useValue:2}])}var uB=new oe("");function sJ(n){return rg(0,[{provide:uB,useExisting:XY},{provide:Yv,useExisting:n}])}function oJ(){return rg(8,[I3,{provide:Jv,useExisting:I3}])}function aJ(n){let e=[{provide:iB,useValue:UY},{provide:rB,useValue:Q({skipNextTransition:!!n?.skipInitialTransition},n)}];return rg(9,e)}var M3=new oe("ROUTER_FORROOT_GUARD"),lJ=[Zu,{provide:Xp,useClass:uh},Lt,tg,{provide:rs,useFactory:tJ,deps:[Lt]},lM,[]],dB=(()=>{let e=class e{constructor(i){}static forRoot(i,r){return{ngModule:e,providers:[lJ,[],{provide:Qv,multi:!0,useValue:i},{provide:M3,useFactory:hJ,deps:[[Lt,new Wl,new v0]]},{provide:ig,useValue:r||{}},r?.useHash?uJ():dJ(),cJ(),r?.preloadingStrategy?sJ(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?fJ(r):[],r?.bindToComponentInputs?oJ().\u0275providers:[],r?.enableViewTransitions?aJ().\u0275providers:[],pJ()]}}static forChild(i){return{ngModule:e,providers:[{provide:Qv,multi:!0,useValue:i}]}}};e.\u0275fac=function(r){return new(r||e)(G(M3,8))},e.\u0275mod=we({type:e}),e.\u0275inj=ve({});let n=e;return n})();function cJ(){return{provide:lB,useFactory:()=>{let n=K(JN),e=K(De),t=K(ig),i=K(uM),r=K(Xp);return t.scrollOffset&&n.setOffset(t.scrollOffset),new eJ(r,i,n,e,t)}}}function uJ(){return{provide:Co,useClass:qN}}function dJ(){return{provide:Co,useClass:VC}}function hJ(n){return"guarded"}function fJ(n){return[n.initialNavigation==="disabled"?rJ().\u0275providers:[],n.initialNavigation==="enabledBlocking"?iJ().\u0275providers:[]]}var A3=new oe("");function pJ(){return[{provide:A3,useFactory:nJ},{provide:K0,multi:!0,useExisting:A3}]}var gJ=["*"];var mJ=["dialog"];var hB={animation:!0,transitionTimerDelayMs:5},_J=(()=>{let e=class e{constructor(){this.animation=hB.animation}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function yJ(n){let{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n),i=parseFloat(e),r=parseFloat(t);return(i+r)*1e3}function fB(n){return typeof n=="string"}function hM(n){return n!=null}function vJ(n){return n&&n.then}function pB(n){return(n||document.body).getBoundingClientRect()}function wJ(n){return e=>new Se(t=>{let i=o=>n.run(()=>t.next(o)),r=o=>n.run(()=>t.error(o)),s=()=>n.run(()=>t.complete());return e.subscribe({next:i,error:r,complete:s})})}var bJ=()=>{},{transitionTimerDelayMs:CJ}=hB,ew=new Map,Uc=(n,e,t,i)=>{let r=i.context||{},s=ew.get(e);if(s)switch(i.runningTransition){case"continue":return En;case"stop":n.run(()=>s.transition$.complete()),r=Object.assign(s.context,r),ew.delete(e)}let o=t(e,i.animation,r)||bJ;if(!i.animation||window.getComputedStyle(e).transitionProperty==="none")return n.run(()=>o()),le(void 0).pipe(wJ(n));let a=new ke,l=new ke,c=a.pipe(ob(!0));ew.set(e,{transition$:a,complete:()=>{l.next(),l.complete()},context:r});let d=yJ(e);return n.runOutsideAngular(()=>{let h=ar(e,"transitionend").pipe(hn(c),Ut(({target:v})=>v===e)),m=nb(d+CJ).pipe(hn(c));ib(m,h,l).pipe(hn(c)).subscribe(()=>{ew.delete(e),n.run(()=>{o(),a.next(),a.complete()})})}),a.asObservable()};var gB=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({});let n=e;return n})();var mB=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({});let n=e;return n})();var _B=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({});let n=e;return n})(),yB=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({});let n=e;return n})();var ime=(()=>{let n=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,e=()=>/Android/.test(navigator.userAgent);return typeof navigator<"u"?!!navigator.userAgent&&(n()||e()):!1})();var EJ=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function vB(n){let e=Array.from(n.querySelectorAll(EJ)).filter(t=>t.tabIndex!==-1);return[e[0],e[e.length-1]]}var IJ=(n,e,t,i=!1)=>{n.runOutsideAngular(()=>{let r=ar(e,"focusin").pipe(hn(t),se(s=>s.target));ar(e,"keydown").pipe(hn(t),Ut(s=>s.key==="Tab"),Am(r)).subscribe(([s,o])=>{let[a,l]=vB(e);(o===a||o===e)&&s.shiftKey&&(l.focus(),s.preventDefault()),o===l&&!s.shiftKey&&(a.focus(),s.preventDefault())}),i&&ar(e,"click").pipe(hn(t),Am(r),se(s=>s[1])).subscribe(s=>s.focus())})};var rme=new Date(1882,10,12),sme=new Date(2174,10,25);var ome=1e3*60*60*24;var gM=1080,DJ=24*gM,TJ=12*gM+793,ame=29*DJ+TJ,lme=11*gM+204;var wB=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({});let n=e;return n})();var bB=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({});let n=e;return n})(),SJ=(()=>{let e=class e{constructor(){this._ngbConfig=K(_J),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(i){this._animation=i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),gh=class{constructor(e,t,i){this.nodes=e,this.viewRef=t,this.componentRef=i}};var MJ=(()=>{let e=class e{constructor(){this._document=K(Ze)}hide(){let i=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,s=r.style,{overflow:o,paddingRight:a}=s;if(i>0){let l=parseFloat(window.getComputedStyle(r).paddingRight);s.paddingRight=`${l+i}px`}return s.overflow="hidden",()=>{i>0&&(s.paddingRight=a),s.overflow=o}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),AJ=(()=>{let e=class e{constructor(){this._nativeElement=K(ct).nativeElement,this._zone=K(De)}ngOnInit(){this._zone.onStable.asObservable().pipe(tn(1)).subscribe(()=>{Uc(this._zone,this._nativeElement,(i,r)=>{r&&pB(i),i.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Uc(this._zone,this._nativeElement,({classList:i})=>i.remove("show"),{animation:this.animation,runningTransition:"stop"})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Oe({type:e,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(r,s){r&2&&(It("modal-backdrop"+(s.backdropClass?" "+s.backdropClass:"")),jr("show",!s.animation)("fade",s.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[Nt],decls:0,vars:0,template:function(r,s){},encapsulation:2});let n=e;return n})(),Qs=class{update(e){}close(e){}dismiss(e){}},xJ=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],RJ=["animation","backdropClass"],fM=class{_applyWindowOptions(e,t){xJ.forEach(i=>{hM(t[i])&&(e[i]=t[i])})}_applyBackdropOptions(e,t){RJ.forEach(i=>{hM(t[i])&&(e[i]=t[i])})}update(e){this._applyWindowOptions(this._windowCmptRef.instance,e),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,e)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(hn(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(hn(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(e,t,i,r){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new ke,this._dismissed=new ke,this._hidden=new ke,e.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,o)=>{this._resolve=s,this._reject=o}),this.result.then(null,()=>{})}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(!this._beforeDismiss)this._dismiss(e);else{let t=this._beforeDismiss();vJ(t)?t.then(i=>{i!==!1&&this._dismiss(e)},()=>{}):t!==!1&&this._dismiss(e)}}_removeModalElements(){let e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():le(void 0);e.subscribe(()=>{let{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef?.viewRef?.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){let{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Yh(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}},pM=function(n){return n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",n}(pM||{}),OJ=(()=>{let e=class e{constructor(){this._document=K(Ze),this._elRef=K(ct),this._zone=K(De),this._closed$=new ke,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new xe,this.shown=new ke,this.hidden=new ke}get fullscreenClass(){return this.fullscreen===!0?" modal-fullscreen":fB(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(i){this.dismissEvent.emit(i)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(tn(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){let{nativeElement:i}=this._elRef,r={animation:this.animation,runningTransition:"stop"},s=Uc(this._zone,i,()=>i.classList.remove("show"),r),o=Uc(this._zone,this._dialogEl.nativeElement,()=>{},r),a=Yh(s,o);return a.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),a}_show(){let i={animation:this.animation,runningTransition:"continue"},r=Uc(this._zone,this._elRef.nativeElement,(o,a)=>{a&&pB(o),o.classList.add("show")},i),s=Uc(this._zone,this._dialogEl.nativeElement,()=>{},i);Yh(r,s).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){let{nativeElement:i}=this._elRef;this._zone.runOutsideAngular(()=>{ar(i,"keydown").pipe(hn(this._closed$),Ut(s=>s.key==="Escape")).subscribe(s=>{this.keyboard?requestAnimationFrame(()=>{s.defaultPrevented||this._zone.run(()=>this.dismiss(pM.ESC))}):this.backdrop==="static"&&this._bumpBackdrop()});let r=!1;ar(this._dialogEl.nativeElement,"mousedown").pipe(hn(this._closed$),qt(()=>r=!1),Le(()=>ar(i,"mouseup").pipe(hn(this._closed$),tn(1))),Ut(({target:s})=>i===s)).subscribe(()=>{r=!0}),ar(i,"click").pipe(hn(this._closed$)).subscribe(({target:s})=>{i===s&&(this.backdrop==="static"?this._bumpBackdrop():this.backdrop===!0&&!r&&this._zone.run(()=>this.dismiss(pM.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){let{nativeElement:i}=this._elRef;if(!i.contains(document.activeElement)){let r=i.querySelector("[ngbAutofocus]"),s=vB(i)[0];(r||s||i).focus()}}_restoreFocus(){let i=this._document.body,r=this._elWithFocus,s;r&&r.focus&&i.contains(r)?s=r:s=i,this._zone.runOutsideAngular(()=>{setTimeout(()=>s.focus()),this._elWithFocus=null})}_bumpBackdrop(){this.backdrop==="static"&&Uc(this._zone,this._elRef.nativeElement,({classList:i})=>(i.add("modal-static"),()=>i.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Oe({type:e,selectors:[["ngb-modal-window"]],viewQuery:function(r,s){if(r&1&&Ms(mJ,7),r&2){let o;xn(o=Rn())&&(s._dialogEl=o.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(r,s){r&2&&(Je("aria-modal",!0)("aria-labelledby",s.ariaLabelledBy)("aria-describedby",s.ariaDescribedBy),It("modal d-block"+(s.windowClass?" "+s.windowClass:"")),jr("fade",s.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[Nt],ngContentSelectors:gJ,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(r,s){r&1&&(Wi(),E(0,"div",1,0)(2,"div",2),_i(3),b()()),r&2&&It("modal-dialog"+(s.size?" modal-"+s.size:"")+(s.centered?" modal-dialog-centered":"")+s.fullscreenClass+(s.scrollable?" modal-dialog-scrollable":"")+(s.modalDialogClass?" "+s.modalDialogClass:""))},styles:[`ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}
`],encapsulation:2});let n=e;return n})(),NJ=(()=>{let e=class e{constructor(){this._applicationRef=K(yi),this._injector=K(nn),this._environmentInjector=K(Mn),this._document=K(Ze),this._scrollBar=K(MJ),this._activeWindowCmptHasChanged=new ke,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new xe;let i=K(De);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){let r=this._windowCmpts[this._windowCmpts.length-1];IJ(i,r.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(r.location.nativeElement)}})}_restoreScrollBar(){let i=this._scrollBarRestoreFn;i&&(this._scrollBarRestoreFn=null,i())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(i,r,s){let o=s.container instanceof HTMLElement?s.container:hM(s.container)?this._document.querySelector(s.container):this._document.body;if(!o)throw new Error(`The specified modal container "${s.container||"body"}" was not found in the DOM.`);this._hideScrollBar();let a=new Qs;i=s.injector||i;let l=i.get(Mn,null)||this._environmentInjector,c=this._getContentRef(i,l,r,a,s),d=s.backdrop!==!1?this._attachBackdrop(o):void 0,h=this._attachWindowComponent(o,c.nodes),m=new fM(h,c,d,s.beforeDismiss);return this._registerModalRef(m),this._registerWindowCmpt(h),m.hidden.pipe(tn(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),a.close=v=>{m.close(v)},a.dismiss=v=>{m.dismiss(v)},a.update=v=>{m.update(v)},m.update(s),this._modalRefs.length===1&&this._document.body.classList.add("modal-open"),d&&d.instance&&d.changeDetectorRef.detectChanges(),h.changeDetectorRef.detectChanges(),m}get activeInstances(){return this._activeInstances}dismissAll(i){this._modalRefs.forEach(r=>r.dismiss(i))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(i){let r=Z0(AJ,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),i.appendChild(r.location.nativeElement),r}_attachWindowComponent(i,r){let s=Z0(OJ,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(s.hostView),i.appendChild(s.location.nativeElement),s}_getContentRef(i,r,s,o,a){return s?s instanceof Br?this._createFromTemplateRef(s,o):fB(s)?this._createFromString(s):this._createFromComponent(i,r,s,o,a):new gh([])}_createFromTemplateRef(i,r){let s={$implicit:r,close(a){r.close(a)},dismiss(a){r.dismiss(a)}},o=i.createEmbeddedView(s);return this._applicationRef.attachView(o),new gh([o.rootNodes],o)}_createFromString(i){let r=this._document.createTextNode(`${i}`);return new gh([[r]])}_createFromComponent(i,r,s,o,a){let l=nn.create({providers:[{provide:Qs,useValue:o}],parent:i}),c=Z0(s,{environmentInjector:r,elementInjector:l}),d=c.location.nativeElement;return a.scrollable&&d.classList.add("component-host-scrollable"),this._applicationRef.attachView(c.hostView),new gh([[d]],c.hostView,c)}_setAriaHidden(i){let r=i.parentElement;r&&i!==this._document.body&&(Array.from(r.children).forEach(s=>{s!==i&&s.nodeName!=="SCRIPT"&&(this._ariaHiddenValues.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((i,r)=>{i?r.setAttribute("aria-hidden",i):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(i){let r=()=>{let s=this._modalRefs.indexOf(i);s>-1&&(this._modalRefs.splice(s,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(i),this._activeInstances.emit(this._modalRefs),i.result.then(r,r)}_registerWindowCmpt(i){this._windowCmpts.push(i),this._activeWindowCmptHasChanged.next(),i.onDestroy(()=>{let r=this._windowCmpts.indexOf(i);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),mM=(()=>{let e=class e{constructor(){this._injector=K(nn),this._modalStack=K(NJ),this._config=K(SJ)}open(i,r={}){let s=Q(Ee(Q({},this._config),{animation:this._config.animation}),r);return this._modalStack.open(this._injector,i,s)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(i){this._modalStack.dismissAll(i)}hasOpenModals(){return this._modalStack.hasOpenModals()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),CB=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({providers:[mM]});let n=e;return n})();var EB=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({});let n=e;return n})();var IB=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({});let n=e;return n})();var DB=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({});let n=e;return n})();var TB=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({});let n=e;return n})();var SB=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({});let n=e;return n})();var MB=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({});let n=e;return n})();var AB=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({});let n=e;return n})();var xB=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({});let n=e;return n})();var RB=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({});let n=e;return n})();var cme=new oe("live announcer delay",{providedIn:"root",factory:()=>100});var OB=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({});let n=e;return n})();var NB=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({});let n=e;return n})(),kJ=[gB,mB,_B,yB,wB,bB,CB,EB,NB,IB,DB,TB,SB,MB,AB,xB,RB,OB],kB=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=ve({imports:[kJ,gB,mB,_B,yB,wB,bB,CB,EB,NB,IB,DB,TB,SB,MB,AB,xB,RB,OB]});let n=e;return n})();var PB=["toast-component",""];function PJ(n,e){if(n&1){let t=Ce();E(0,"button",5),re("click",function(){ue(t);let r=U();return de(r.remove())}),E(1,"span",6),L(2,"\xD7"),b()()}}function FJ(n,e){if(n&1&&(ni(0),L(1),ii()),n&2){let t=U(2);T(),rt("[",t.duplicatesCount+1,"]")}}function LJ(n,e){if(n&1&&(E(0,"div"),L(1),J(2,FJ,2,1,"ng-container",4),b()),n&2){let t=U();It(t.options.titleClass),Je("aria-label",t.title),T(),rt(" ",t.title," "),T(),x("ngIf",t.duplicatesCount)}}function VJ(n,e){if(n&1&&ne(0,"div",7),n&2){let t=U();It(t.options.messageClass),x("innerHTML",t.message,X1)}}function BJ(n,e){if(n&1&&(E(0,"div",8),L(1),b()),n&2){let t=U();It(t.options.messageClass),Je("aria-label",t.message),T(),rt(" ",t.message," ")}}function UJ(n,e){if(n&1&&(E(0,"div"),ne(1,"div",9),b()),n&2){let t=U();T(),ya("width",t.width()+"%")}}function jJ(n,e){if(n&1){let t=Ce();E(0,"button",5),re("click",function(){ue(t);let r=U();return de(r.remove())}),E(1,"span",6),L(2,"\xD7"),b()()}}function zJ(n,e){if(n&1&&(ni(0),L(1),ii()),n&2){let t=U(2);T(),rt("[",t.duplicatesCount+1,"]")}}function $J(n,e){if(n&1&&(E(0,"div"),L(1),J(2,zJ,2,1,"ng-container",4),b()),n&2){let t=U();It(t.options.titleClass),Je("aria-label",t.title),T(),rt(" ",t.title," "),T(),x("ngIf",t.duplicatesCount)}}function HJ(n,e){if(n&1&&ne(0,"div",7),n&2){let t=U();It(t.options.messageClass),x("innerHTML",t.message,X1)}}function GJ(n,e){if(n&1&&(E(0,"div",8),L(1),b()),n&2){let t=U();It(t.options.messageClass),Je("aria-label",t.message),T(),rt(" ",t.message," ")}}function qJ(n,e){if(n&1&&(E(0,"div"),ne(1,"div",9),b()),n&2){let t=U();T(),ya("width",t.width()+"%")}}var _M=class{_attachedHost;component;viewContainerRef;injector;constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){let e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},yM=class{_attachedPortal;_disposeFn;attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}},vM=class{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new ke;_activate=new ke;_manualClose=new ke;_resetTimeout=new ke;_countDuplicate=new ke;constructor(e){this._overlayRef=e}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}},mh=class{toastId;config;message;title;toastType;toastRef;_onTap=new ke;_onAction=new ke;constructor(e,t,i,r,s,o){this.toastId=e,this.config=t,this.message=i,this.title=r,this.toastType=s,this.toastRef=o,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}},FB={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},LB=new oe("ToastConfig"),wM=class extends yM{_hostDomElement;_componentFactoryResolver;_appRef;constructor(e,t,i){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=i}attachComponentPortal(e,t){let i=this._componentFactoryResolver.resolveComponentFactory(e.component),r;return r=i.create(e.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(e){return e.hostView.rootNodes[0]}},WJ=(()=>{class n{_document=K(Ze);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}static \u0275fac=function(i){return new(i||n)};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),bM=class{_portalHost;constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}},KJ=(()=>{class n{_overlayContainer=K(WJ);_componentFactoryResolver=K(fa);_appRef=K(yi);_document=K(Ze);_paneElements=new Map;create(t,i){return this._createOverlayRef(this.getPaneElement(t,i))}getPaneElement(t="",i){return this._paneElements.get(i)||this._paneElements.set(i,{}),this._paneElements.get(i)[t]||(this._paneElements.get(i)[t]=this._createPaneElement(t,i)),this._paneElements.get(i)[t]}_createPaneElement(t,i){let r=this._document.createElement("div");return r.id="toast-container",r.classList.add(t),r.classList.add("toast-container"),i?i.getContainerElement().appendChild(r):this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalHost(t){return new wM(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new bM(this._createPortalHost(t))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Zs=(()=>{class n{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(t,i,r,s,o){this.overlay=i,this._injector=r,this.sanitizer=s,this.ngZone=o,this.toastrConfig=Q(Q({},t.default),t.config),t.config.iconClasses&&(this.toastrConfig.iconClasses=Q(Q({},t.default.iconClasses),t.config.iconClasses))}show(t,i,r={},s=""){return this._preBuildNotification(s,t,i,this.applyConfig(r))}success(t,i,r={}){let s=this.toastrConfig.iconClasses.success||"";return this._preBuildNotification(s,t,i,this.applyConfig(r))}error(t,i,r={}){let s=this.toastrConfig.iconClasses.error||"";return this._preBuildNotification(s,t,i,this.applyConfig(r))}info(t,i,r={}){let s=this.toastrConfig.iconClasses.info||"";return this._preBuildNotification(s,t,i,this.applyConfig(r))}warning(t,i,r={}){let s=this.toastrConfig.iconClasses.warning||"";return this._preBuildNotification(s,t,i,this.applyConfig(r))}clear(t){for(let i of this.toasts)if(t!==void 0){if(i.toastId===t){i.toastRef.manualClose();return}}else i.toastRef.manualClose()}remove(t){let i=this._findToast(t);if(!i||(i.activeToast.toastRef.close(),this.toasts.splice(i.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){let r=this.toasts[this.currentlyActive].toastRef;r.isInactive()||(this.currentlyActive=this.currentlyActive+1,r.activate())}return!0}findDuplicate(t="",i="",r,s){let{includeTitleDuplicates:o}=this.toastrConfig;for(let a of this.toasts){let l=o&&a.title===t;if((!o||l)&&a.message===i)return a.toastRef.onDuplicate(r,s),a}return null}applyConfig(t={}){return Q(Q({},this.toastrConfig),t)}_findToast(t){for(let i=0;i<this.toasts.length;i++)if(this.toasts[i].toastId===t)return{index:i,activeToast:this.toasts[i]};return null}_preBuildNotification(t,i,r,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,i,r,s)):this._buildNotification(t,i,r,s)}_buildNotification(t,i,r,s){if(!s.toastComponent)throw new Error("toastComponent required");let o=this.findDuplicate(r,i,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&r||i)&&this.toastrConfig.preventDuplicates&&o!==null)return o;this.previousToastMessage=i;let a=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(a=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));let l=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let c=i;i&&s.enableHtml&&(c=this.sanitizer.sanitize(Gi.HTML,i));let d=new vM(l),h=new mh(this.index,s,c,r,t,d),m=[{provide:mh,useValue:h}],v=nn.create({providers:m,parent:this._injector}),C=new _M(s.toastComponent,v),A=l.attach(C,s.newestOnTop);d.componentInstance=A.instance;let S={toastId:this.index,title:r||"",message:i||"",toastRef:d,onShown:d.afterActivate(),onHidden:d.afterClosed(),onTap:h.onTap(),onAction:h.onAction(),portal:A};return a||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{S.toastRef.activate()})),this.toasts.push(S),S}static \u0275fac=function(i){return new(i||n)(G(LB),G(KJ),G(nn),G(eE),G(De))};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),QJ=(()=>{class n{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=xi(-1);toastClasses="";state;get _state(){return this.state()}get displayStyle(){if(this.state().value==="inactive")return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(t,i,r){this.toastrService=t,this.toastPackage=i,this.ngZone=r,this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s}),this.state=xi({value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.update(t=>Ee(Q({},t),{value:"active"})),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let t=new Date().getTime(),i=this.hideTime-t;this.width.set(i/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(r=>100-r),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.update(t=>Ee(Q({},t),{value:"active"})),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){this.state().value!=="removed"&&(clearTimeout(this.timeout),this.state.update(t=>Ee(Q({},t),{value:"removed"})),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){this.state().value!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state().value!=="removed"&&this.options.disableTimeOut!=="extendedTimeOut"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state().value==="removed"||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),i)):this.timeout=setTimeout(()=>t(),i)}outsideInterval(t,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),i)):this.intervalId=setInterval(()=>t(),i)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}static \u0275fac=function(i){return new(i||n)(B(Zs),B(mh),B(De))};static \u0275cmp=Oe({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(i,r){i&1&&re("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),i&2&&(gC("@flyInOut",r._state),It(r.toastClasses),ya("display",r.displayStyle))},standalone:!0,features:[Nt],attrs:PB,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(i,r){i&1&&J(0,PJ,3,0,"button",0)(1,LJ,3,5,"div",1)(2,VJ,1,3,"div",2)(3,BJ,2,4,"div",3)(4,UJ,2,2,"div",4),i&2&&(x("ngIf",r.options.closeButton),T(),x("ngIf",r.title),T(),x("ngIf",r.message&&r.options.enableHtml),T(),x("ngIf",r.message&&!r.options.enableHtml),T(),x("ngIf",r.options.progressBar))},dependencies:[kt],encapsulation:2,data:{animation:[pv("flyInOut",[gv("inactive",qs({opacity:0})),gv("active",qs({opacity:1})),gv("removed",qs({opacity:0})),eh("inactive => active",Xd("{{ easeTime }}ms {{ easing }}")),eh("active => removed",Xd("{{ easeTime }}ms {{ easing }}"))])]},changeDetection:0})}return n})(),ZJ=Ee(Q({},FB),{toastComponent:QJ}),YJ=(n={})=>Hu([{provide:LB,useValue:{default:ZJ,config:n}}]),VB=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[YJ(t)]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=we({type:n});static \u0275inj=ve({})}return n})();var JJ=(()=>{class n{toastrService;toastPackage;appRef;message;title;options;duplicatesCount;originalTimeout;width=xi(-1);toastClasses="";get displayStyle(){return this.state()==="inactive"?"none":null}state=xi("inactive");timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(t,i,r){this.toastrService=t,this.toastPackage=i,this.appRef=r,this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.set("active"),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let t=new Date().getTime(),i=this.hideTime-t;this.width.set(i/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(r=>100-r),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.set("active"),this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=new Date().getTime()+(this.originalTimeout||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.state.set("removed"),this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){this.state()!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state()==="removed"||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}static \u0275fac=function(i){return new(i||n)(B(Zs),B(mh),B(yi))};static \u0275cmp=Oe({type:n,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(i,r){i&1&&re("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),i&2&&(It(r.toastClasses),ya("display",r.displayStyle))},standalone:!0,features:[Nt],attrs:PB,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(i,r){i&1&&J(0,jJ,3,0,"button",0)(1,$J,3,5,"div",1)(2,HJ,1,3,"div",2)(3,GJ,2,4,"div",3)(4,qJ,2,2,"div",4),i&2&&(x("ngIf",r.options.closeButton),T(),x("ngIf",r.title),T(),x("ngIf",r.message&&r.options.enableHtml),T(),x("ngIf",r.message&&!r.options.enableHtml),T(),x("ngIf",r.options.progressBar))},dependencies:[kt],encapsulation:2,changeDetection:0})}return n})(),Eme=Ee(Q({},FB),{toastComponent:JJ});var jc=class n{static isArray(e,t=!0){return Array.isArray(e)&&(t||e.length!==0)}static isObject(e,t=!0){return typeof e=="object"&&!Array.isArray(e)&&e!=null&&(t||Object.keys(e).length!==0)}static equals(e,t,i){return i?this.resolveFieldData(e,i)===this.resolveFieldData(t,i):this.equalsByValue(e,t)}static equalsByValue(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var i=Array.isArray(e),r=Array.isArray(t),s,o,a;if(i&&r){if(o=e.length,o!=t.length)return!1;for(s=o;s--!==0;)if(!this.equalsByValue(e[s],t[s]))return!1;return!0}if(i!=r)return!1;var l=this.isDate(e),c=this.isDate(t);if(l!=c)return!1;if(l&&c)return e.getTime()==t.getTime();var d=e instanceof RegExp,h=t instanceof RegExp;if(d!=h)return!1;if(d&&h)return e.toString()==t.toString();var m=Object.keys(e);if(o=m.length,o!==Object.keys(t).length)return!1;for(s=o;s--!==0;)if(!Object.prototype.hasOwnProperty.call(t,m[s]))return!1;for(s=o;s--!==0;)if(a=m[s],!this.equalsByValue(e[a],t[a]))return!1;return!0}return e!==e&&t!==t}static resolveFieldData(e,t){if(e&&t){if(this.isFunction(t))return t(e);if(t.indexOf(".")==-1)return e[t];{let i=t.split("."),r=e;for(let s=0,o=i.length;s<o;++s){if(r==null)return null;r=r[i[s]]}return r}}else return null}static isFunction(e){return!!(e&&e.constructor&&e.call&&e.apply)}static reorderArray(e,t,i){let r;e&&t!==i&&(i>=e.length&&(i%=e.length,t%=e.length),e.splice(i,0,e.splice(t,1)[0]))}static insertIntoOrderedArray(e,t,i,r){if(i.length>0){let s=!1;for(let o=0;o<i.length;o++)if(this.findIndexInList(i[o],r)>t){i.splice(o,0,e),s=!0;break}s||i.push(e)}else i.push(e)}static findIndexInList(e,t){let i=-1;if(t){for(let r=0;r<t.length;r++)if(t[r]==e){i=r;break}}return i}static contains(e,t){if(e!=null&&t&&t.length){for(let i of t)if(this.equals(e,i))return!0}return!1}static removeAccents(e){return e&&(e=e.normalize("NFKD").replace(new RegExp("\\p{Diacritic}","gu"),"")),e}static isDate(e){return Object.prototype.toString.call(e)==="[object Date]"}static isEmpty(e){return e==null||e===""||Array.isArray(e)&&e.length===0||!this.isDate(e)&&typeof e=="object"&&Object.keys(e).length===0}static isNotEmpty(e){return!this.isEmpty(e)}static compare(e,t,i,r=1){let s=-1,o=this.isEmpty(e),a=this.isEmpty(t);return o&&a?s=0:o?s=r:a?s=-r:typeof e=="string"&&typeof t=="string"?s=e.localeCompare(t,i,{numeric:!0}):s=e<t?-1:e>t?1:0,s}static sort(e,t,i=1,r,s=1){let o=n.compare(e,t,r,i),a=i;return(n.isEmpty(e)||n.isEmpty(t))&&(a=s===1?i:s),a*o}static merge(e,t){if(!(e==null&&t==null)){{if((e==null||typeof e=="object")&&(t==null||typeof t=="object"))return Q(Q({},e||{}),t||{});if((e==null||typeof e=="string")&&(t==null||typeof t=="string"))return[e||"",t||""].join(" ")}return t||e}}static isPrintableCharacter(e=""){return this.isNotEmpty(e)&&e.length===1&&e.match(/\S| /)}static getItemValue(e,...t){return this.isFunction(e)?e(...t):e}static findLastIndex(e,t){let i=-1;if(this.isNotEmpty(e))try{i=e.findLastIndex(t)}catch{i=e.lastIndexOf([...e].reverse().find(t))}return i}static findLast(e,t){let i;if(this.isNotEmpty(e))try{i=e.findLast(t)}catch{i=[...e].reverse().find(t)}return i}static deepEquals(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var i=Array.isArray(e),r=Array.isArray(t),s,o,a;if(i&&r){if(o=e.length,o!=t.length)return!1;for(s=o;s--!==0;)if(!this.deepEquals(e[s],t[s]))return!1;return!0}if(i!=r)return!1;var l=e instanceof Date,c=t instanceof Date;if(l!=c)return!1;if(l&&c)return e.getTime()==t.getTime();var d=e instanceof RegExp,h=t instanceof RegExp;if(d!=h)return!1;if(d&&h)return e.toString()==t.toString();var m=Object.keys(e);if(o=m.length,o!==Object.keys(t).length)return!1;for(s=o;s--!==0;)if(!Object.prototype.hasOwnProperty.call(t,m[s]))return!1;for(s=o;s--!==0;)if(a=m[s],!this.deepEquals(e[a],t[a]))return!1;return!0}return e!==e&&t!==t}},BB=0;function ss(n="pn_id_"){return BB++,`${n}${BB}`}function XJ(){let n=[],e=(s,o)=>{let a=n.length>0?n[n.length-1]:{key:s,value:o},l=a.value+(a.key===s?0:o)+2;return n.push({key:s,value:l}),l},t=s=>{n=n.filter(o=>o.value!==s)},i=()=>n.length>0?n[n.length-1].value:0,r=s=>s&&parseInt(s.style.zIndex,10)||0;return{get:r,set:(s,o,a)=>{o&&(o.style.zIndex=String(e(s,a)))},clear:s=>{s&&(t(r(s)),s.style.zIndex="")},getCurrent:()=>i()}}var CM=XJ();var UB=["*"];var ci=(()=>{class n{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static IN="in";static LESS_THAN="lt";static LESS_THAN_OR_EQUAL_TO="lte";static GREATER_THAN="gt";static GREATER_THAN_OR_EQUAL_TO="gte";static BETWEEN="between";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static DATE_IS="dateIs";static DATE_IS_NOT="dateIsNot";static DATE_BEFORE="dateBefore";static DATE_AFTER="dateAfter"}return n})();var iw=(()=>{class n{ripple=!1;inputStyle=xi("outlined");overlayOptions={};csp=xi({nonce:void 0});filterMatchModeOptions={text:[ci.STARTS_WITH,ci.CONTAINS,ci.NOT_CONTAINS,ci.ENDS_WITH,ci.EQUALS,ci.NOT_EQUALS],numeric:[ci.EQUALS,ci.NOT_EQUALS,ci.LESS_THAN,ci.LESS_THAN_OR_EQUAL_TO,ci.GREATER_THAN,ci.GREATER_THAN_OR_EQUAL_TO],date:[ci.DATE_IS,ci.DATE_IS_NOT,ci.DATE_BEFORE,ci.DATE_AFTER]};translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyFilterMessage:"No results found",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",previousPageLabel:"Previous Page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List",selectColor:"Select a color",removeLabel:"Remove",browseFiles:"Browse Files",maximizeLabel:"Maximize"}};zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100};translationSource=new ke;translationObserver=this.translationSource.asObservable();getTranslation(t){return this.translation[t]}setTranslation(t){this.translation=Q(Q({},this.translation),t),this.translationSource.next(this.translation)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),jB=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Oe({type:n,selectors:[["p-header"]],standalone:!0,features:[Nt],ngContentSelectors:UB,decls:1,vars:0,template:function(i,r){i&1&&(Wi(),_i(0))},encapsulation:2})}return n})(),zB=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Oe({type:n,selectors:[["p-footer"]],standalone:!0,features:[Nt],ngContentSelectors:UB,decls:1,vars:0,template:function(i,r){i&1&&(Wi(),_i(0))},encapsulation:2})}return n})(),rw=(()=>{class n{template;type;name;constructor(t){this.template=t}getType(){return this.name}static \u0275fac=function(i){return new(i||n)(B(Br))};static \u0275dir=Qe({type:n,selectors:[["","pTemplate",""]],inputs:{type:"type",name:[0,"pTemplate","name"]},standalone:!0})}return n})(),_h=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=we({type:n});static \u0275inj=ve({})}return n})(),$B=(()=>{class n{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static NO_FILTER="noFilter";static LT="lt";static LTE="lte";static GT="gt";static GTE="gte";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static CLEAR="clear";static APPLY="apply";static MATCH_ALL="matchAll";static MATCH_ANY="matchAny";static ADD_RULE="addRule";static REMOVE_RULE="removeRule";static ACCEPT="accept";static REJECT="reject";static CHOOSE="choose";static UPLOAD="upload";static CANCEL="cancel";static PENDING="pending";static FILE_SIZE_TYPES="fileSizeTypes";static DAY_NAMES="dayNames";static DAY_NAMES_SHORT="dayNamesShort";static DAY_NAMES_MIN="dayNamesMin";static MONTH_NAMES="monthNames";static MONTH_NAMES_SHORT="monthNamesShort";static FIRST_DAY_OF_WEEK="firstDayOfWeek";static TODAY="today";static WEEK_HEADER="weekHeader";static WEAK="weak";static MEDIUM="medium";static STRONG="strong";static PASSWORD_PROMPT="passwordPrompt";static EMPTY_MESSAGE="emptyMessage";static EMPTY_FILTER_MESSAGE="emptyFilterMessage";static SHOW_FILTER_MENU="showFilterMenu";static HIDE_FILTER_MENU="hideFilterMenu";static SELECTION_MESSAGE="selectionMessage";static ARIA="aria";static SELECT_COLOR="selectColor";static BROWSE_FILES="browseFiles"}return n})();var he=(()=>{class n{static zindex=1e3;static calculatedScrollbarWidth=null;static calculatedScrollbarHeight=null;static browser;static addClass(t,i){t&&i&&(t.classList?t.classList.add(i):t.className+=" "+i)}static addMultipleClasses(t,i){if(t&&i)if(t.classList){let r=i.trim().split(" ");for(let s=0;s<r.length;s++)t.classList.add(r[s])}else{let r=i.split(" ");for(let s=0;s<r.length;s++)t.className+=" "+r[s]}}static removeClass(t,i){t&&i&&(t.classList?t.classList.remove(i):t.className=t.className.replace(new RegExp("(^|\\b)"+i.split(" ").join("|")+"(\\b|$)","gi")," "))}static removeMultipleClasses(t,i){t&&i&&[i].flat().filter(Boolean).forEach(r=>r.split(" ").forEach(s=>this.removeClass(t,s)))}static hasClass(t,i){return t&&i?t.classList?t.classList.contains(i):new RegExp("(^| )"+i+"( |$)","gi").test(t.className):!1}static siblings(t){return Array.prototype.filter.call(t.parentNode.children,function(i){return i!==t})}static find(t,i){return Array.from(t.querySelectorAll(i))}static findSingle(t,i){return this.isElement(t)?t.querySelector(i):null}static index(t){let i=t.parentNode.childNodes,r=0;for(var s=0;s<i.length;s++){if(i[s]==t)return r;i[s].nodeType==1&&r++}return-1}static indexWithinGroup(t,i){let r=t.parentNode?t.parentNode.childNodes:[],s=0;for(var o=0;o<r.length;o++){if(r[o]==t)return s;r[o].attributes&&r[o].attributes[i]&&r[o].nodeType==1&&s++}return-1}static appendOverlay(t,i,r="self"){r!=="self"&&t&&i&&this.appendChild(t,i)}static alignOverlay(t,i,r="self",s=!0){t&&i&&(s&&(t.style.minWidth=`${n.getOuterWidth(i)}px`),r==="self"?this.relativePosition(t,i):this.absolutePosition(t,i))}static relativePosition(t,i,r=!0){let s=Z=>{if(Z)return getComputedStyle(Z).getPropertyValue("position")==="relative"?Z:s(Z.parentElement)},o=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),a=i.offsetHeight??i.getBoundingClientRect().height,l=i.getBoundingClientRect(),c=this.getWindowScrollTop(),d=this.getWindowScrollLeft(),h=this.getViewport(),v=s(t)?.getBoundingClientRect()||{top:-1*c,left:-1*d},C,A;l.top+a+o.height>h.height?(C=l.top-v.top-o.height,t.style.transformOrigin="bottom",l.top+C<0&&(C=-1*l.top)):(C=a+l.top-v.top,t.style.transformOrigin="top");let S=l.left+o.width-h.width,j=l.left-v.left;o.width>h.width?A=(l.left-v.left)*-1:S>0?A=j-S:A=l.left-v.left,t.style.top=C+"px",t.style.left=A+"px",r&&(t.style.marginTop=origin==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static absolutePosition(t,i,r=!0){let s=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),o=s.height,a=s.width,l=i.offsetHeight??i.getBoundingClientRect().height,c=i.offsetWidth??i.getBoundingClientRect().width,d=i.getBoundingClientRect(),h=this.getWindowScrollTop(),m=this.getWindowScrollLeft(),v=this.getViewport(),C,A;d.top+l+o>v.height?(C=d.top+h-o,t.style.transformOrigin="bottom",C<0&&(C=h)):(C=l+d.top+h,t.style.transformOrigin="top"),d.left+a>v.width?A=Math.max(0,d.left+m+c-a):A=d.left+m,t.style.top=C+"px",t.style.left=A+"px",r&&(t.style.marginTop=origin==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static getParents(t,i=[]){return t.parentNode===null?i:this.getParents(t.parentNode,i.concat([t.parentNode]))}static getScrollableParents(t){let i=[];if(t){let r=this.getParents(t),s=/(auto|scroll)/,o=a=>{let l=window.getComputedStyle(a,null);return s.test(l.getPropertyValue("overflow"))||s.test(l.getPropertyValue("overflowX"))||s.test(l.getPropertyValue("overflowY"))};for(let a of r){let l=a.nodeType===1&&a.dataset.scrollselectors;if(l){let c=l.split(",");for(let d of c){let h=this.findSingle(a,d);h&&o(h)&&i.push(h)}}a.nodeType!==9&&o(a)&&i.push(a)}}return i}static getHiddenElementOuterHeight(t){t.style.visibility="hidden",t.style.display="block";let i=t.offsetHeight;return t.style.display="none",t.style.visibility="visible",i}static getHiddenElementOuterWidth(t){t.style.visibility="hidden",t.style.display="block";let i=t.offsetWidth;return t.style.display="none",t.style.visibility="visible",i}static getHiddenElementDimensions(t){let i={};return t.style.visibility="hidden",t.style.display="block",i.width=t.offsetWidth,i.height=t.offsetHeight,t.style.display="none",t.style.visibility="visible",i}static scrollInView(t,i){let r=getComputedStyle(t).getPropertyValue("borderTopWidth"),s=r?parseFloat(r):0,o=getComputedStyle(t).getPropertyValue("paddingTop"),a=o?parseFloat(o):0,l=t.getBoundingClientRect(),d=i.getBoundingClientRect().top+document.body.scrollTop-(l.top+document.body.scrollTop)-s-a,h=t.scrollTop,m=t.clientHeight,v=this.getOuterHeight(i);d<0?t.scrollTop=h+d:d+v>m&&(t.scrollTop=h+d-m+v)}static fadeIn(t,i){t.style.opacity=0;let r=+new Date,s=0,o=function(){s=+t.style.opacity.replace(",",".")+(new Date().getTime()-r)/i,t.style.opacity=s,r=+new Date,+s<1&&(window.requestAnimationFrame&&requestAnimationFrame(o)||setTimeout(o,16))};o()}static fadeOut(t,i){var r=1,s=50,o=i,a=s/o;let l=setInterval(()=>{r=r-a,r<=0&&(r=0,clearInterval(l)),t.style.opacity=r},s)}static getWindowScrollTop(){let t=document.documentElement;return(window.pageYOffset||t.scrollTop)-(t.clientTop||0)}static getWindowScrollLeft(){let t=document.documentElement;return(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}static matches(t,i){var r=Element.prototype,s=r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||function(o){return[].indexOf.call(document.querySelectorAll(o),this)!==-1};return s.call(t,i)}static getOuterWidth(t,i){let r=t.offsetWidth;if(i){let s=getComputedStyle(t);r+=parseFloat(s.marginLeft)+parseFloat(s.marginRight)}return r}static getHorizontalPadding(t){let i=getComputedStyle(t);return parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)}static getHorizontalMargin(t){let i=getComputedStyle(t);return parseFloat(i.marginLeft)+parseFloat(i.marginRight)}static innerWidth(t){let i=t.offsetWidth,r=getComputedStyle(t);return i+=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static width(t){let i=t.offsetWidth,r=getComputedStyle(t);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static getInnerHeight(t){let i=t.offsetHeight,r=getComputedStyle(t);return i+=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom),i}static getOuterHeight(t,i){let r=t.offsetHeight;if(i){let s=getComputedStyle(t);r+=parseFloat(s.marginTop)+parseFloat(s.marginBottom)}return r}static getHeight(t){let i=t.offsetHeight,r=getComputedStyle(t);return i-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)+parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),i}static getWidth(t){let i=t.offsetWidth,r=getComputedStyle(t);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth),i}static getViewport(){let t=window,i=document,r=i.documentElement,s=i.getElementsByTagName("body")[0],o=t.innerWidth||r.clientWidth||s.clientWidth,a=t.innerHeight||r.clientHeight||s.clientHeight;return{width:o,height:a}}static getOffset(t){var i=t.getBoundingClientRect();return{top:i.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:i.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(t,i){let r=t.parentNode;if(!r)throw"Can't replace element";return r.replaceChild(i,t)}static getUserAgent(){if(navigator&&this.isClient())return navigator.userAgent}static isIE(){var t=window.navigator.userAgent,i=t.indexOf("MSIE ");if(i>0)return!0;var r=t.indexOf("Trident/");if(r>0){var s=t.indexOf("rv:");return!0}var o=t.indexOf("Edge/");return o>0}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(t,i){if(this.isElement(i))i.appendChild(t);else if(i&&i.el&&i.el.nativeElement)i.el.nativeElement.appendChild(t);else throw"Cannot append "+i+" to "+t}static removeChild(t,i){if(this.isElement(i))i.removeChild(t);else if(i.el&&i.el.nativeElement)i.el.nativeElement.removeChild(t);else throw"Cannot remove "+t+" from "+i}static removeElement(t){"remove"in Element.prototype?t.remove():t.parentNode.removeChild(t)}static isElement(t){return typeof HTMLElement=="object"?t instanceof HTMLElement:t&&typeof t=="object"&&t!==null&&t.nodeType===1&&typeof t.nodeName=="string"}static calculateScrollbarWidth(t){if(t){let i=getComputedStyle(t);return t.offsetWidth-t.clientWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.borderRightWidth)}else{if(this.calculatedScrollbarWidth!==null)return this.calculatedScrollbarWidth;let i=document.createElement("div");i.className="p-scrollbar-measure",document.body.appendChild(i);let r=i.offsetWidth-i.clientWidth;return document.body.removeChild(i),this.calculatedScrollbarWidth=r,r}}static calculateScrollbarHeight(){if(this.calculatedScrollbarHeight!==null)return this.calculatedScrollbarHeight;let t=document.createElement("div");t.className="p-scrollbar-measure",document.body.appendChild(t);let i=t.offsetHeight-t.clientHeight;return document.body.removeChild(t),this.calculatedScrollbarWidth=i,i}static invokeElementMethod(t,i,r){t[i].apply(t,r)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let t=this.resolveUserAgent();this.browser={},t.browser&&(this.browser[t.browser]=!0,this.browser.version=t.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let t=navigator.userAgent.toLowerCase(),i=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:i[1]||"",version:i[2]||"0"}}static isInteger(t){return Number.isInteger?Number.isInteger(t):typeof t=="number"&&isFinite(t)&&Math.floor(t)===t}static isHidden(t){return!t||t.offsetParent===null}static isVisible(t){return t&&t.offsetParent!=null}static isExist(t){return t!==null&&typeof t<"u"&&t.nodeName&&t.parentNode}static focus(t,i){t&&document.activeElement!==t&&t.focus(i)}static getFocusableSelectorString(t=""){return`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        .p-inputtext:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        .p-button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t}`}static getFocusableElements(t,i=""){let r=this.find(t,this.getFocusableSelectorString(i)),s=[];for(let o of r){let a=getComputedStyle(o);this.isVisible(o)&&a.display!="none"&&a.visibility!="hidden"&&s.push(o)}return s}static getFocusableElement(t,i=""){let r=this.findSingle(t,this.getFocusableSelectorString(i));if(r){let s=getComputedStyle(r);if(this.isVisible(r)&&s.display!="none"&&s.visibility!="hidden")return r}return null}static getFirstFocusableElement(t,i=""){let r=this.getFocusableElements(t,i);return r.length>0?r[0]:null}static getLastFocusableElement(t,i){let r=this.getFocusableElements(t,i);return r.length>0?r[r.length-1]:null}static getNextFocusableElement(t,i=!1){let r=n.getFocusableElements(t),s=0;if(r&&r.length>0){let o=r.indexOf(r[0].ownerDocument.activeElement);i?o==-1||o===0?s=r.length-1:s=o-1:o!=-1&&o!==r.length-1&&(s=o+1)}return r[s]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(t,i){if(!t)return null;switch(t){case"document":return document;case"window":return window;case"@next":return i?.nextElementSibling;case"@prev":return i?.previousElementSibling;case"@parent":return i?.parentElement;case"@grandparent":return i?.parentElement.parentElement;default:let r=typeof t;if(r==="string")return document.querySelector(t);if(r==="object"&&t.hasOwnProperty("nativeElement"))return this.isExist(t.nativeElement)?t.nativeElement:void 0;let o=(a=>!!(a&&a.constructor&&a.call&&a.apply))(t)?t():t;return o&&o.nodeType===9||this.isExist(o)?o:null}}static isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}static getAttribute(t,i){if(t){let r=t.getAttribute(i);return isNaN(r)?r==="true"||r==="false"?r==="true":r:+r}}static calculateBodyScrollbarWidth(){return window.innerWidth-document.documentElement.offsetWidth}static blockBodyScroll(t="p-overflow-hidden"){document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,t)}static unblockBodyScroll(t="p-overflow-hidden"){document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,t)}static createElement(t,i={},...r){if(t){let s=document.createElement(t);return this.setAttributes(s,i),s.append(...r),s}}static setAttribute(t,i="",r){this.isElement(t)&&r!==null&&r!==void 0&&t.setAttribute(i,r)}static setAttributes(t,i={}){if(this.isElement(t)){let r=(s,o)=>{let a=t?.$attrs?.[s]?[t?.$attrs?.[s]]:[];return[o].flat().reduce((l,c)=>{if(c!=null){let d=typeof c;if(d==="string"||d==="number")l.push(c);else if(d==="object"){let h=Array.isArray(c)?r(s,c):Object.entries(c).map(([m,v])=>s==="style"&&(v||v===0)?`${m.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${v}`:v?m:void 0);l=h.length?l.concat(h.filter(m=>!!m)):l}}return l},a)};Object.entries(i).forEach(([s,o])=>{if(o!=null){let a=s.match(/^on(.+)/);a?t.addEventListener(a[1].toLowerCase(),o):s==="pBind"?this.setAttributes(t,o):(o=s==="class"?[...new Set(r("class",o))].join(" ").trim():s==="style"?r("style",o).join(";").trim():o,(t.$attrs=t.$attrs||{})&&(t.$attrs[s]=o),t.setAttribute(s,o))}})}}static isFocusableElement(t,i=""){return this.isElement(t)?t.matches(`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i}`):!1}}return n})();var GB=(()=>{class n{document;el;renderer;disabled;badgeSize;set size(t){this._size=t,console.warn("size property is deprecated and will removed in v18, use badgeSize instead.")}get size(){return this._size}_size;severity;value;badgeStyle;badgeStyleClass;id;badgeEl;get activeElement(){return this.el.nativeElement.nodeName.indexOf("-")!=-1?this.el.nativeElement.firstChild:this.el.nativeElement}get canUpdateBadge(){return this.id&&!this.disabled}constructor(t,i,r){this.document=t,this.el=i,this.renderer=r}ngOnChanges({value:t,size:i,severity:r,disabled:s,badgeStyle:o,badgeStyleClass:a}){s&&this.toggleDisableState(),this.canUpdateBadge&&(r&&this.setSeverity(r.previousValue),i&&this.setSizeClasses(),t&&this.setValue(),(o||a)&&this.applyStyles())}ngAfterViewInit(){this.id=ss()+"_badge",this.renderBadgeContent()}setValue(t){let i=t??this.document.getElementById(this.id);if(!i)return;this.value!=null?(he.hasClass(i,"p-badge-dot")&&he.removeClass(i,"p-badge-dot"),this.value&&String(this.value).length===1?he.addClass(i,"p-badge-no-gutter"):he.removeClass(i,"p-badge-no-gutter")):(he.hasClass(i,"p-badge-dot")||he.addClass(i,"p-badge-dot"),he.removeClass(i,"p-badge-no-gutter")),i.innerHTML="";let r=this.value!=null?String(this.value):"";this.renderer.appendChild(i,this.document.createTextNode(r))}setSizeClasses(t){let i=t??this.document.getElementById(this.id);i&&(this.badgeSize?(this.badgeSize==="large"&&(he.addClass(i,"p-badge-lg"),he.removeClass(i,"p-badge-xl")),this.badgeSize==="xlarge"&&(he.addClass(i,"p-badge-xl"),he.removeClass(i,"p-badge-lg"))):this.size&&!this.badgeSize?(this.size==="large"&&(he.addClass(i,"p-badge-lg"),he.removeClass(i,"p-badge-xl")),this.size==="xlarge"&&(he.addClass(i,"p-badge-xl"),he.removeClass(i,"p-badge-lg"))):(he.removeClass(i,"p-badge-lg"),he.removeClass(i,"p-badge-xl")))}renderBadgeContent(){if(this.disabled)return null;let t=this.activeElement,i=this.document.createElement("span");i.id=this.id,i.className="p-badge p-component",this.setSeverity(null,i),this.setSizeClasses(i),this.setValue(i),he.addClass(t,"p-overlay-badge"),this.renderer.appendChild(t,i),this.badgeEl=i,this.applyStyles()}applyStyles(){if(this.badgeEl&&this.badgeStyle&&typeof this.badgeStyle=="object")for(let[t,i]of Object.entries(this.badgeStyle))this.renderer.setStyle(this.badgeEl,t,i);this.badgeEl&&this.badgeStyleClass&&this.badgeEl.classList.add(...this.badgeStyleClass.split(" "))}setSeverity(t,i){let r=i??this.document.getElementById(this.id);r&&(this.severity&&he.addClass(r,`p-badge-${this.severity}`),t&&he.removeClass(r,`p-badge-${t}`))}toggleDisableState(){if(this.id)if(this.disabled){let t=this.activeElement?.querySelector(`#${this.id}`);t&&this.renderer.removeChild(this.activeElement,t)}else this.renderBadgeContent()}static \u0275fac=function(i){return new(i||n)(B(Ze),B(ct),B(An))};static \u0275dir=Qe({type:n,selectors:[["","pBadge",""]],hostAttrs:[1,"p-element"],inputs:{disabled:[0,"badgeDisabled","disabled"],badgeSize:"badgeSize",size:"size",severity:"severity",value:"value",badgeStyle:"badgeStyle",badgeStyleClass:"badgeStyleClass"},features:[In]})}return n})();var qB=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=we({type:n});static \u0275inj=ve({imports:[Rs,_h]})}return n})();var WB=(()=>{class n{autofocus=!1;focused=!1;platformId=K(wt);document=K(Ze);host=K(ct);ngAfterContentChecked(){this.autofocus===!1?this.host.nativeElement.removeAttribute("autofocus"):this.host.nativeElement.setAttribute("autofocus",!0),this.focused||this.autoFocus()}ngAfterViewChecked(){this.focused||this.autoFocus()}autoFocus(){Qi(this.platformId)&&this.autofocus&&setTimeout(()=>{let t=he.getFocusableElements(this.host?.nativeElement);t.length===0&&this.host.nativeElement.focus(),t.length>0&&t[0].focus(),this.focused=!0})}static \u0275fac=function(i){return new(i||n)};static \u0275dir=Qe({type:n,selectors:[["","pAutoFocus",""]],hostAttrs:[1,"p-element"],inputs:{autofocus:[2,"autofocus","autofocus",Ue]},standalone:!0,features:[mi]})}return n})();var tX=["*"],ol=(()=>{class n{label;spin=!1;styleClass;role;ariaLabel;ariaHidden;ngOnInit(){this.getAttributes()}getAttributes(){let t=jc.isEmpty(this.label);this.role=t?void 0:"img",this.ariaLabel=t?void 0:this.label,this.ariaHidden=t}getClassNames(){return`p-icon ${this.styleClass?this.styleClass+" ":""}${this.spin?"p-icon-spin":""}`}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Oe({type:n,selectors:[["ng-component"]],hostAttrs:[1,"p-element","p-icon-wrapper"],inputs:{label:"label",spin:[2,"spin","spin",Ue],styleClass:"styleClass"},standalone:!0,features:[mi,Nt],ngContentSelectors:tX,decls:1,vars:0,template:function(i,r){i&1&&(Wi(),_i(0))},encapsulation:2,changeDetection:0})}return n})();var KB=(()=>{class n extends ol{pathId;ngOnInit(){this.pathId="url(#"+ss()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=gi(n)))(r||n)}})();static \u0275cmp=Oe({type:n,selectors:[["SpinnerIcon"]],standalone:!0,features:[fn,Nt],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(Ds(),E(0,"svg",0)(1,"g"),ne(2,"path",1),b(),E(3,"defs")(4,"clipPath",2),ne(5,"rect",3),b()()()),i&2&&(It(r.getClassNames()),Je("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),T(),Je("clip-path",r.pathId),T(3),x("id",r.pathId))},encapsulation:2})}return n})();var sw=(()=>{class n{document;platformId;renderer;el;zone;config;constructor(t,i,r,s,o,a){this.document=t,this.platformId=i,this.renderer=r,this.el=s,this.zone=o,this.config=a}animationListener;mouseDownListener;timeout;ngAfterViewInit(){Qi(this.platformId)&&this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.onMouseDown.bind(this))})}onMouseDown(t){let i=this.getInk();if(!i||this.document.defaultView?.getComputedStyle(i,null).display==="none")return;if(he.removeClass(i,"p-ink-active"),!he.getHeight(i)&&!he.getWidth(i)){let a=Math.max(he.getOuterWidth(this.el.nativeElement),he.getOuterHeight(this.el.nativeElement));i.style.height=a+"px",i.style.width=a+"px"}let r=he.getOffset(this.el.nativeElement),s=t.pageX-r.left+this.document.body.scrollTop-he.getWidth(i)/2,o=t.pageY-r.top+this.document.body.scrollLeft-he.getHeight(i)/2;this.renderer.setStyle(i,"top",o+"px"),this.renderer.setStyle(i,"left",s+"px"),he.addClass(i,"p-ink-active"),this.timeout=setTimeout(()=>{let a=this.getInk();a&&he.removeClass(a,"p-ink-active")},401)}getInk(){let t=this.el.nativeElement.children;for(let i=0;i<t.length;i++)if(typeof t[i].className=="string"&&t[i].className.indexOf("p-ink")!==-1)return t[i];return null}resetInk(){let t=this.getInk();t&&he.removeClass(t,"p-ink-active")}onAnimationEnd(t){this.timeout&&clearTimeout(this.timeout),he.removeClass(t.currentTarget,"p-ink-active")}create(){let t=this.renderer.createElement("span");this.renderer.addClass(t,"p-ink"),this.renderer.appendChild(this.el.nativeElement,t),this.renderer.setAttribute(t,"aria-hidden","true"),this.renderer.setAttribute(t,"role","presentation"),this.animationListener||(this.animationListener=this.renderer.listen(t,"animationend",this.onAnimationEnd.bind(this)))}remove(){let t=this.getInk();t&&(this.mouseDownListener&&this.mouseDownListener(),this.animationListener&&this.animationListener(),this.mouseDownListener=null,this.animationListener=null,he.removeElement(t))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}static \u0275fac=function(i){return new(i||n)(B(Ze),B(wt),B(An),B(ct),B(De),B(iw,8))};static \u0275dir=Qe({type:n,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"],standalone:!0})}return n})(),QB=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=we({type:n});static \u0275inj=ve({})}return n})();var iX=["*"],ZB=n=>({class:n});function rX(n,e){n&1&&va(0)}function sX(n,e){if(n&1&&ne(0,"span",8),n&2){let t=U(3);x("ngClass",t.iconClass()),Je("aria-hidden",!0)("data-pc-section","loadingicon")}}function oX(n,e){if(n&1&&ne(0,"SpinnerIcon",9),n&2){let t=U(3);x("styleClass",t.spinnerIconClass())("spin",!0),Je("aria-hidden",!0)("data-pc-section","loadingicon")}}function aX(n,e){if(n&1&&(ni(0),J(1,sX,1,3,"span",6)(2,oX,1,4,"SpinnerIcon",7),ii()),n&2){let t=U(2);T(),x("ngIf",t.loadingIcon),T(),x("ngIf",!t.loadingIcon)}}function lX(n,e){}function cX(n,e){if(n&1&&J(0,lX,0,0,"ng-template",10),n&2){let t=U(2);x("ngIf",t.loadingIconTemplate)}}function uX(n,e){if(n&1&&(ni(0),J(1,aX,3,2,"ng-container",2)(2,cX,1,1,null,5),ii()),n&2){let t=U();T(),x("ngIf",!t.loadingIconTemplate),T(),x("ngTemplateOutlet",t.loadingIconTemplate)("ngTemplateOutletContext",qn(3,ZB,t.iconClass()))}}function dX(n,e){if(n&1&&ne(0,"span",8),n&2){let t=U(2);x("ngClass",t.iconClass()),Je("data-pc-section","icon")}}function hX(n,e){}function fX(n,e){if(n&1&&J(0,hX,0,0,"ng-template",10),n&2){let t=U(2);x("ngIf",!t.icon&&t.iconTemplate)}}function pX(n,e){if(n&1&&(ni(0),J(1,dX,1,2,"span",6)(2,fX,1,1,null,5),ii()),n&2){let t=U();T(),x("ngIf",t.icon&&!t.iconTemplate),T(),x("ngTemplateOutlet",t.iconTemplate)("ngTemplateOutletContext",qn(3,ZB,t.iconClass()))}}function gX(n,e){if(n&1&&(E(0,"span",11),L(1),b()),n&2){let t=U();Je("aria-hidden",t.icon&&!t.label)("data-pc-section","label"),T(),ht(t.label)}}function mX(n,e){if(n&1&&(E(0,"span",8),L(1),b()),n&2){let t=U();It(t.badgeClass),x("ngClass",t.badgeStyleClass()),Je("data-pc-section","badge"),T(),ht(t.badge)}}var al={button:"p-button",component:"p-component",iconOnly:"p-button-icon-only",disabled:"p-disabled",loading:"p-button-loading",labelOnly:"p-button-loading-label-only"},YB=(()=>{class n{el;document;iconPos="left";loadingIcon;get label(){return this._label}set label(t){this._label=t,this.initialized&&(this.updateLabel(),this.updateIcon(),this.setStyleClass())}get icon(){return this._icon}set icon(t){this._icon=t,this.initialized&&(this.updateIcon(),this.setStyleClass())}get loading(){return this._loading}set loading(t){this._loading=t,this.initialized&&(this.updateIcon(),this.setStyleClass())}severity;raised=!1;rounded=!1;text=!1;outlined=!1;size=null;plain=!1;_label;_icon;_loading=!1;initialized;get htmlElement(){return this.el.nativeElement}_internalClasses=Object.values(al);constructor(t,i){this.el=t,this.document=i}ngAfterViewInit(){he.addMultipleClasses(this.htmlElement,this.getStyleClass().join(" ")),this.createIcon(),this.createLabel(),this.initialized=!0}getStyleClass(){let t=[al.button,al.component];return this.icon&&!this.label&&jc.isEmpty(this.htmlElement.textContent)&&t.push(al.iconOnly),this.loading&&(t.push(al.disabled,al.loading),!this.icon&&this.label&&t.push(al.labelOnly),this.icon&&!this.label&&!jc.isEmpty(this.htmlElement.textContent)&&t.push(al.iconOnly)),this.text&&t.push("p-button-text"),this.severity&&t.push(`p-button-${this.severity}`),this.plain&&t.push("p-button-plain"),this.raised&&t.push("p-button-raised"),this.size&&t.push(`p-button-${this.size}`),this.outlined&&t.push("p-button-outlined"),this.rounded&&t.push("p-button-rounded"),this.size==="small"&&t.push("p-button-sm"),this.size==="large"&&t.push("p-button-lg"),t}setStyleClass(){let t=this.getStyleClass();this.htmlElement.classList.remove(...this._internalClasses),this.htmlElement.classList.add(...t)}createLabel(){if(!he.findSingle(this.htmlElement,".p-button-label")&&this.label){let i=this.document.createElement("span");this.icon&&!this.label&&i.setAttribute("aria-hidden","true"),i.className="p-button-label",i.appendChild(this.document.createTextNode(this.label)),this.htmlElement.appendChild(i)}}createIcon(){if(!he.findSingle(this.htmlElement,".p-button-icon")&&(this.icon||this.loading)){let i=this.document.createElement("span");i.className="p-button-icon",i.setAttribute("aria-hidden","true");let r=this.label?"p-button-icon-"+this.iconPos:null;r&&he.addClass(i,r);let s=this.getIconClass();s&&he.addMultipleClasses(i,s),this.htmlElement.insertBefore(i,this.htmlElement.firstChild)}}updateLabel(){let t=he.findSingle(this.htmlElement,".p-button-label");if(!this.label){t&&this.htmlElement.removeChild(t);return}t?t.textContent=this.label:this.createLabel()}updateIcon(){let t=he.findSingle(this.htmlElement,".p-button-icon"),i=he.findSingle(this.htmlElement,".p-button-label");t?this.iconPos?t.className="p-button-icon "+(i?"p-button-icon-"+this.iconPos:"")+" "+this.getIconClass():t.className="p-button-icon "+this.getIconClass():this.createIcon()}getIconClass(){return this.loading?"p-button-loading-icon pi-spin "+(this.loadingIcon??"pi pi-spinner"):this.icon||"p-hidden"}ngOnDestroy(){this.initialized=!1}static \u0275fac=function(i){return new(i||n)(B(ct),B(Ze))};static \u0275dir=Qe({type:n,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading",severity:"severity",raised:[2,"raised","raised",Ue],rounded:[2,"rounded","rounded",Ue],text:[2,"text","text",Ue],outlined:[2,"outlined","outlined",Ue],size:"size",plain:[2,"plain","plain",Ue]},standalone:!0,features:[mi]})}return n})(),_X=(()=>{class n{el;type="button";iconPos="left";icon;badge;label;disabled;loading=!1;loadingIcon;raised=!1;rounded=!1;text=!1;plain=!1;severity;outlined=!1;link=!1;tabindex;size;style;styleClass;badgeClass;ariaLabel;autofocus;onClick=new xe;onFocus=new xe;onBlur=new xe;contentTemplate;loadingIconTemplate;iconTemplate;templates;constructor(t){this.el=t}spinnerIconClass(){return Object.entries(this.iconClass()).filter(([,t])=>!!t).reduce((t,[i])=>t+` ${i}`,"p-button-loading-icon")}iconClass(){let t={"p-button-icon":!0,"p-button-icon-left":this.iconPos==="left"&&this.label,"p-button-icon-right":this.iconPos==="right"&&this.label,"p-button-icon-top":this.iconPos==="top"&&this.label,"p-button-icon-bottom":this.iconPos==="bottom"&&this.label};return this.loading?t[`p-button-loading-icon pi-spin ${this.loadingIcon??""}`]=!0:this.icon&&(t[this.icon]=!0),t}get buttonClass(){return{"p-button p-component":!0,"p-button-icon-only":(this.icon||this.iconTemplate||this.loadingIcon||this.loadingIconTemplate)&&!this.label,"p-button-vertical":(this.iconPos==="top"||this.iconPos==="bottom")&&this.label,"p-button-loading":this.loading,"p-button-loading-label-only":this.loading&&!this.icon&&this.label&&!this.loadingIcon&&this.iconPos==="left","p-button-link":this.link,[`p-button-${this.severity}`]:this.severity,"p-button-raised":this.raised,"p-button-rounded":this.rounded,"p-button-text":this.text,"p-button-outlined":this.outlined,"p-button-sm":this.size==="small","p-button-lg":this.size==="large","p-button-plain":this.plain,[`${this.styleClass}`]:this.styleClass}}ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"content":this.contentTemplate=t.template;break;case"icon":this.iconTemplate=t.template;break;case"loadingicon":this.loadingIconTemplate=t.template;break;default:this.contentTemplate=t.template;break}})}badgeStyleClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":this.badge&&String(this.badge).length===1}}focus(){this.el.nativeElement.firstChild.focus()}static \u0275fac=function(i){return new(i||n)(B(ct))};static \u0275cmp=Oe({type:n,selectors:[["p-button"]],contentQueries:function(i,r,s){if(i&1&&Ss(s,rw,4),i&2){let o;xn(o=Rn())&&(r.templates=o)}},hostAttrs:[1,"p-element"],hostVars:2,hostBindings:function(i,r){i&2&&jr("p-disabled",r.disabled)},inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:[2,"disabled","disabled",Ue],loading:[2,"loading","loading",Ue],loadingIcon:"loadingIcon",raised:[2,"raised","raised",Ue],rounded:[2,"rounded","rounded",Ue],text:[2,"text","text",Ue],plain:[2,"plain","plain",Ue],severity:"severity",outlined:[2,"outlined","outlined",Ue],link:[2,"link","link",Ue],tabindex:[2,"tabindex","tabindex",Jl],size:"size",style:"style",styleClass:"styleClass",badgeClass:"badgeClass",ariaLabel:"ariaLabel",autofocus:[2,"autofocus","autofocus",Ue]},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},standalone:!0,features:[mi,Nt],ngContentSelectors:iX,decls:7,vars:14,consts:[["pRipple","","pAutoFocus","",3,"click","focus","blur","ngStyle","disabled","ngClass","autofocus"],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-button-label",4,"ngIf"],[3,"ngClass","class",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass",4,"ngIf"],[3,"styleClass","spin",4,"ngIf"],[3,"ngClass"],[3,"styleClass","spin"],[3,"ngIf"],[1,"p-button-label"]],template:function(i,r){i&1&&(Wi(),E(0,"button",0),re("click",function(o){return r.onClick.emit(o)})("focus",function(o){return r.onFocus.emit(o)})("blur",function(o){return r.onBlur.emit(o)}),_i(1),J(2,rX,1,0,"ng-container",1)(3,uX,3,5,"ng-container",2)(4,pX,3,5,"ng-container",2)(5,gX,2,3,"span",3)(6,mX,2,5,"span",4),b()),i&2&&(x("ngStyle",r.style)("disabled",r.disabled||r.loading)("ngClass",r.buttonClass)("autofocus",r.autofocus),Je("type",r.type)("aria-label",r.ariaLabel)("data-pc-name","button")("data-pc-section","root")("tabindex",r.tabindex),T(2),x("ngTemplateOutlet",r.contentTemplate),T(),x("ngIf",r.loading),T(),x("ngIf",!r.loading),T(),x("ngIf",!r.contentTemplate&&r.label),T(),x("ngIf",!r.contentTemplate&&r.badge))},dependencies:[kt,wf,c_,Oi,sw,WB,KB],encapsulation:2,changeDetection:0})}return n})(),ow=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=we({type:n});static \u0275inj=ve({imports:[_X,_h]})}return n})();var JB=(()=>{class n{pFocusTrapDisabled=!1;platformId=K(wt);host=K(ct);document=K(Ze);firstHiddenFocusableElement;lastHiddenFocusableElement;ngOnInit(){Qi(this.platformId)&&!this.pFocusTrapDisabled&&!this.firstHiddenFocusableElement&&!this.lastHiddenFocusableElement&&this.createHiddenFocusableElements()}ngOnChanges(t){t.pFocusTrapDisabled&&Qi(this.platformId)&&(t.pFocusTrapDisabled.currentValue?this.removeHiddenFocusableElements():this.createHiddenFocusableElements())}removeHiddenFocusableElements(){this.firstHiddenFocusableElement&&this.firstHiddenFocusableElement.parentNode&&this.firstHiddenFocusableElement.parentNode.removeChild(this.firstHiddenFocusableElement),this.lastHiddenFocusableElement&&this.lastHiddenFocusableElement.parentNode&&this.lastHiddenFocusableElement.parentNode.removeChild(this.lastHiddenFocusableElement)}getComputedSelector(t){return`:not(.p-hidden-focusable):not([data-p-hidden-focusable="true"])${t??""}`}createHiddenFocusableElements(){let t="0",i=r=>he.createElement("span",{class:"p-hidden-accessible p-hidden-focusable",tabindex:t,role:"presentation","data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0,onFocus:r?.bind(this)});this.firstHiddenFocusableElement=i(this.onFirstHiddenElementFocus),this.lastHiddenFocusableElement=i(this.onLastHiddenElementFocus),this.firstHiddenFocusableElement.setAttribute("data-pc-section","firstfocusableelement"),this.lastHiddenFocusableElement.setAttribute("data-pc-section","lastfocusableelement"),this.host.nativeElement.prepend(this.firstHiddenFocusableElement),this.host.nativeElement.append(this.lastHiddenFocusableElement)}onFirstHiddenElementFocus(t){let{currentTarget:i,relatedTarget:r}=t,s=r===this.lastHiddenFocusableElement||!this.host.nativeElement?.contains(r)?he.getFirstFocusableElement(i.parentElement,":not(.p-hidden-focusable)"):this.lastHiddenFocusableElement;he.focus(s)}onLastHiddenElementFocus(t){let{currentTarget:i,relatedTarget:r}=t,s=r===this.firstHiddenFocusableElement||!this.host.nativeElement?.contains(r)?he.getLastFocusableElement(i.parentElement,":not(.p-hidden-focusable)"):this.firstHiddenFocusableElement;he.focus(s)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=Qe({type:n,selectors:[["","pFocusTrap",""]],hostAttrs:[1,"p-element"],inputs:{pFocusTrapDisabled:[2,"pFocusTrapDisabled","pFocusTrapDisabled",Ue]},features:[mi,In]})}return n})(),XB=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=we({type:n});static \u0275inj=ve({imports:[Rs]})}return n})();var EM=(()=>{class n extends ol{static \u0275fac=(()=>{let t;return function(r){return(t||(t=gi(n)))(r||n)}})();static \u0275cmp=Oe({type:n,selectors:[["TimesIcon"]],standalone:!0,features:[fn,Nt],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z","fill","currentColor"]],template:function(i,r){i&1&&(Ds(),E(0,"svg",0),ne(1,"path",1),b()),i&2&&(It(r.getClassNames()),Je("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var IM=(()=>{class n extends ol{pathId;ngOnInit(){this.pathId="url(#"+ss()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=gi(n)))(r||n)}})();static \u0275cmp=Oe({type:n,selectors:[["WindowMaximizeIcon"]],standalone:!0,features:[fn,Nt],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M7 14H11.8C12.3835 14 12.9431 13.7682 13.3556 13.3556C13.7682 12.9431 14 12.3835 14 11.8V2.2C14 1.61652 13.7682 1.05694 13.3556 0.644365C12.9431 0.231785 12.3835 0 11.8 0H2.2C1.61652 0 1.05694 0.231785 0.644365 0.644365C0.231785 1.05694 0 1.61652 0 2.2V7C0 7.15913 0.063214 7.31174 0.175736 7.42426C0.288258 7.53679 0.44087 7.6 0.6 7.6C0.75913 7.6 0.911742 7.53679 1.02426 7.42426C1.13679 7.31174 1.2 7.15913 1.2 7V2.2C1.2 1.93478 1.30536 1.68043 1.49289 1.49289C1.68043 1.30536 1.93478 1.2 2.2 1.2H11.8C12.0652 1.2 12.3196 1.30536 12.5071 1.49289C12.6946 1.68043 12.8 1.93478 12.8 2.2V11.8C12.8 12.0652 12.6946 12.3196 12.5071 12.5071C12.3196 12.6946 12.0652 12.8 11.8 12.8H7C6.84087 12.8 6.68826 12.8632 6.57574 12.9757C6.46321 13.0883 6.4 13.2409 6.4 13.4C6.4 13.5591 6.46321 13.7117 6.57574 13.8243C6.68826 13.9368 6.84087 14 7 14ZM9.77805 7.42192C9.89013 7.534 10.0415 7.59788 10.2 7.59995C10.3585 7.59788 10.5099 7.534 10.622 7.42192C10.7341 7.30985 10.798 7.15844 10.8 6.99995V3.94242C10.8066 3.90505 10.8096 3.86689 10.8089 3.82843C10.8079 3.77159 10.7988 3.7157 10.7824 3.6623C10.756 3.55552 10.701 3.45698 10.622 3.37798C10.5099 3.2659 10.3585 3.20202 10.2 3.19995H7.00002C6.84089 3.19995 6.68828 3.26317 6.57576 3.37569C6.46324 3.48821 6.40002 3.64082 6.40002 3.79995C6.40002 3.95908 6.46324 4.11169 6.57576 4.22422C6.68828 4.33674 6.84089 4.39995 7.00002 4.39995H8.80006L6.19997 7.00005C6.10158 7.11005 6.04718 7.25246 6.04718 7.40005C6.04718 7.54763 6.10158 7.69004 6.19997 7.80005C6.30202 7.91645 6.44561 7.98824 6.59997 8.00005C6.75432 7.98824 6.89791 7.91645 6.99997 7.80005L9.60002 5.26841V6.99995C9.6021 7.15844 9.66598 7.30985 9.77805 7.42192ZM1.4 14H3.8C4.17066 13.9979 4.52553 13.8498 4.78763 13.5877C5.04973 13.3256 5.1979 12.9707 5.2 12.6V10.2C5.1979 9.82939 5.04973 9.47452 4.78763 9.21242C4.52553 8.95032 4.17066 8.80215 3.8 8.80005H1.4C1.02934 8.80215 0.674468 8.95032 0.412371 9.21242C0.150274 9.47452 0.00210008 9.82939 0 10.2V12.6C0.00210008 12.9707 0.150274 13.3256 0.412371 13.5877C0.674468 13.8498 1.02934 13.9979 1.4 14ZM1.25858 10.0586C1.29609 10.0211 1.34696 10 1.4 10H3.8C3.85304 10 3.90391 10.0211 3.94142 10.0586C3.97893 10.0961 4 10.147 4 10.2V12.6C4 12.6531 3.97893 12.704 3.94142 12.7415C3.90391 12.779 3.85304 12.8 3.8 12.8H1.4C1.34696 12.8 1.29609 12.779 1.25858 12.7415C1.22107 12.704 1.2 12.6531 1.2 12.6V10.2C1.2 10.147 1.22107 10.0961 1.25858 10.0586Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(Ds(),E(0,"svg",0)(1,"g"),ne(2,"path",1),b(),E(3,"defs")(4,"clipPath",2),ne(5,"rect",3),b()()()),i&2&&(It(r.getClassNames()),Je("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),T(),Je("clip-path",r.pathId),T(3),x("id",r.pathId))},encapsulation:2})}return n})();var DM=(()=>{class n extends ol{pathId;ngOnInit(){this.pathId="url(#"+ss()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=gi(n)))(r||n)}})();static \u0275cmp=Oe({type:n,selectors:[["WindowMinimizeIcon"]],standalone:!0,features:[fn,Nt],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M11.8 0H2.2C1.61652 0 1.05694 0.231785 0.644365 0.644365C0.231785 1.05694 0 1.61652 0 2.2V7C0 7.15913 0.063214 7.31174 0.175736 7.42426C0.288258 7.53679 0.44087 7.6 0.6 7.6C0.75913 7.6 0.911742 7.53679 1.02426 7.42426C1.13679 7.31174 1.2 7.15913 1.2 7V2.2C1.2 1.93478 1.30536 1.68043 1.49289 1.49289C1.68043 1.30536 1.93478 1.2 2.2 1.2H11.8C12.0652 1.2 12.3196 1.30536 12.5071 1.49289C12.6946 1.68043 12.8 1.93478 12.8 2.2V11.8C12.8 12.0652 12.6946 12.3196 12.5071 12.5071C12.3196 12.6946 12.0652 12.8 11.8 12.8H7C6.84087 12.8 6.68826 12.8632 6.57574 12.9757C6.46321 13.0883 6.4 13.2409 6.4 13.4C6.4 13.5591 6.46321 13.7117 6.57574 13.8243C6.68826 13.9368 6.84087 14 7 14H11.8C12.3835 14 12.9431 13.7682 13.3556 13.3556C13.7682 12.9431 14 12.3835 14 11.8V2.2C14 1.61652 13.7682 1.05694 13.3556 0.644365C12.9431 0.231785 12.3835 0 11.8 0ZM6.368 7.952C6.44137 7.98326 6.52025 7.99958 6.6 8H9.8C9.95913 8 10.1117 7.93678 10.2243 7.82426C10.3368 7.71174 10.4 7.55913 10.4 7.4C10.4 7.24087 10.3368 7.08826 10.2243 6.97574C10.1117 6.86321 9.95913 6.8 9.8 6.8H8.048L10.624 4.224C10.73 4.11026 10.7877 3.95982 10.7849 3.80438C10.7822 3.64894 10.7192 3.50063 10.6093 3.3907C10.4994 3.28077 10.3511 3.2178 10.1956 3.21506C10.0402 3.21232 9.88974 3.27002 9.776 3.376L7.2 5.952V4.2C7.2 4.04087 7.13679 3.88826 7.02426 3.77574C6.91174 3.66321 6.75913 3.6 6.6 3.6C6.44087 3.6 6.28826 3.66321 6.17574 3.77574C6.06321 3.88826 6 4.04087 6 4.2V7.4C6.00042 7.47975 6.01674 7.55862 6.048 7.632C6.07656 7.70442 6.11971 7.7702 6.17475 7.82524C6.2298 7.88029 6.29558 7.92344 6.368 7.952ZM1.4 8.80005H3.8C4.17066 8.80215 4.52553 8.95032 4.78763 9.21242C5.04973 9.47452 5.1979 9.82939 5.2 10.2V12.6C5.1979 12.9707 5.04973 13.3256 4.78763 13.5877C4.52553 13.8498 4.17066 13.9979 3.8 14H1.4C1.02934 13.9979 0.674468 13.8498 0.412371 13.5877C0.150274 13.3256 0.00210008 12.9707 0 12.6V10.2C0.00210008 9.82939 0.150274 9.47452 0.412371 9.21242C0.674468 8.95032 1.02934 8.80215 1.4 8.80005ZM3.94142 12.7415C3.97893 12.704 4 12.6531 4 12.6V10.2C4 10.147 3.97893 10.0961 3.94142 10.0586C3.90391 10.0211 3.85304 10 3.8 10H1.4C1.34696 10 1.29609 10.0211 1.25858 10.0586C1.22107 10.0961 1.2 10.147 1.2 10.2V12.6C1.2 12.6531 1.22107 12.704 1.25858 12.7415C1.29609 12.779 1.34696 12.8 1.4 12.8H3.8C3.85304 12.8 3.90391 12.779 3.94142 12.7415Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(Ds(),E(0,"svg",0)(1,"g"),ne(2,"path",1),b(),E(3,"defs")(4,"clipPath",2),ne(5,"rect",3),b()()()),i&2&&(It(r.getClassNames()),Je("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),T(),Je("clip-path",r.pathId),T(3),x("id",r.pathId))},encapsulation:2})}return n})();var wX=["titlebar"],bX=["content"],CX=["footer"],EX=["*",[["p-header"]],[["p-footer"]]],IX=["*","p-header","p-footer"],DX=(n,e,t,i,r,s,o,a,l,c)=>({"p-dialog-mask":!0,"p-component-overlay p-component-overlay-enter":n,"p-dialog-mask-scrollblocker":e,"p-dialog-left":t,"p-dialog-right":i,"p-dialog-top":r,"p-dialog-top-left":s,"p-dialog-top-right":o,"p-dialog-bottom":a,"p-dialog-bottom-left":l,"p-dialog-bottom-right":c}),TX=(n,e,t,i)=>({"p-dialog p-component":!0,"p-dialog-rtl":n,"p-dialog-draggable":e,"p-dialog-resizable":t,"p-dialog-maximized":i}),SX=(n,e)=>({transform:n,transition:e}),MX=n=>({value:"visible",params:n}),AX=()=>({"p-dialog-header-icon p-dialog-header-maximize p-link":!0}),xX=()=>({"p-dialog-header-icon p-dialog-header-close p-link":!0}),RX=()=>({"min-width":0});function OX(n,e){n&1&&va(0)}function NX(n,e){if(n&1&&(ni(0),J(1,OX,1,0,"ng-container",10),ii()),n&2){let t=U(3);T(),x("ngTemplateOutlet",t.headlessTemplate)}}function kX(n,e){if(n&1){let t=Ce();E(0,"div",15),re("mousedown",function(r){ue(t);let s=U(4);return de(s.initResize(r))}),b()}}function PX(n,e){if(n&1&&(E(0,"span",21),L(1),b()),n&2){let t=U(5);x("id",t.ariaLabelledBy),T(),ht(t.header)}}function FX(n,e){if(n&1&&(E(0,"span",21),_i(1,1),b()),n&2){let t=U(5);x("id",t.ariaLabelledBy)}}function LX(n,e){n&1&&va(0)}function VX(n,e){if(n&1&&ne(0,"span",25),n&2){let t=U(6);x("ngClass",t.maximized?t.minimizeIcon:t.maximizeIcon)}}function BX(n,e){n&1&&ne(0,"WindowMaximizeIcon",27),n&2&&x("styleClass","p-dialog-header-maximize-icon")}function UX(n,e){n&1&&ne(0,"WindowMinimizeIcon",27),n&2&&x("styleClass","p-dialog-header-maximize-icon")}function jX(n,e){if(n&1&&(ni(0),J(1,BX,1,1,"WindowMaximizeIcon",26)(2,UX,1,1,"WindowMinimizeIcon",26),ii()),n&2){let t=U(6);T(),x("ngIf",!t.maximized&&!t.maximizeIconTemplate),T(),x("ngIf",t.maximized&&!t.minimizeIconTemplate)}}function zX(n,e){}function $X(n,e){n&1&&J(0,zX,0,0,"ng-template")}function HX(n,e){if(n&1&&(ni(0),J(1,$X,1,0,null,10),ii()),n&2){let t=U(6);T(),x("ngTemplateOutlet",t.maximizeIconTemplate)}}function GX(n,e){}function qX(n,e){n&1&&J(0,GX,0,0,"ng-template")}function WX(n,e){if(n&1&&(ni(0),J(1,qX,1,0,null,10),ii()),n&2){let t=U(6);T(),x("ngTemplateOutlet",t.minimizeIconTemplate)}}function KX(n,e){if(n&1){let t=Ce();E(0,"button",22),re("click",function(){ue(t);let r=U(5);return de(r.maximize())})("keydown.enter",function(){ue(t);let r=U(5);return de(r.maximize())}),J(1,VX,1,1,"span",23)(2,jX,3,2,"ng-container",24)(3,HX,2,1,"ng-container",24)(4,WX,2,1,"ng-container",24),b()}if(n&2){let t=U(5);x("ngClass",Gr(7,AX)),Je("tabindex",t.maximizable?"0":"-1")("aria-label",t.maximizeLabel),T(),x("ngIf",t.maximizeIcon&&!t.maximizeIconTemplate&&!t.minimizeIconTemplate),T(),x("ngIf",!t.maximizeIcon),T(),x("ngIf",!t.maximized),T(),x("ngIf",t.maximized)}}function QX(n,e){if(n&1&&ne(0,"span",30),n&2){let t=U(7);x("ngClass",t.closeIcon)}}function ZX(n,e){n&1&&ne(0,"TimesIcon",27),n&2&&x("styleClass","p-dialog-header-close-icon")}function YX(n,e){if(n&1&&(ni(0),J(1,QX,1,1,"span",29)(2,ZX,1,1,"TimesIcon",26),ii()),n&2){let t=U(6);T(),x("ngIf",t.closeIcon),T(),x("ngIf",!t.closeIcon)}}function JX(n,e){}function XX(n,e){n&1&&J(0,JX,0,0,"ng-template")}function eee(n,e){if(n&1&&(E(0,"span"),J(1,XX,1,0,null,10),b()),n&2){let t=U(6);T(),x("ngTemplateOutlet",t.closeIconTemplate)}}function tee(n,e){if(n&1){let t=Ce();E(0,"button",28),re("click",function(r){ue(t);let s=U(5);return de(s.close(r))})("keydown.enter",function(r){ue(t);let s=U(5);return de(s.close(r))}),J(1,YX,3,2,"ng-container",24)(2,eee,2,1,"span",24),b()}if(n&2){let t=U(5);x("ngClass",Gr(6,xX))("ngStyle",Gr(7,RX)),Je("aria-label",t.closeAriaLabel)("tabindex",t.closeTabindex),T(),x("ngIf",!t.closeIconTemplate),T(),x("ngIf",t.closeIconTemplate)}}function nee(n,e){if(n&1){let t=Ce();E(0,"div",16,3),re("mousedown",function(r){ue(t);let s=U(4);return de(s.initDrag(r))}),J(2,PX,2,2,"span",17)(3,FX,2,1,"span",17)(4,LX,1,0,"ng-container",10),E(5,"div",18),J(6,KX,5,8,"button",19)(7,tee,3,8,"button",20),b()()}if(n&2){let t=U(4);T(2),x("ngIf",!t.headerFacet&&!t.headerTemplate),T(),x("ngIf",t.headerFacet),T(),x("ngTemplateOutlet",t.headerTemplate),T(2),x("ngIf",t.maximizable),T(),x("ngIf",t.closable)}}function iee(n,e){n&1&&va(0)}function ree(n,e){n&1&&va(0)}function see(n,e){if(n&1&&(E(0,"div",31,4),_i(2,2),J(3,ree,1,0,"ng-container",10),b()),n&2){let t=U(4);T(3),x("ngTemplateOutlet",t.footerTemplate)}}function oee(n,e){if(n&1&&(J(0,kX,1,0,"div",11)(1,nee,8,5,"div",12),E(2,"div",13,2),_i(4),J(5,iee,1,0,"ng-container",10),b(),J(6,see,4,1,"div",14)),n&2){let t=U(3);x("ngIf",t.resizable),T(),x("ngIf",t.showHeader),T(),It(t.contentStyleClass),x("ngClass","p-dialog-content")("ngStyle",t.contentStyle),T(3),x("ngTemplateOutlet",t.contentTemplate),T(),x("ngIf",t.footerFacet||t.footerTemplate)}}function aee(n,e){if(n&1){let t=Ce();E(0,"div",8,0),re("@animation.start",function(r){ue(t);let s=U(2);return de(s.onAnimationStart(r))})("@animation.done",function(r){ue(t);let s=U(2);return de(s.onAnimationEnd(r))}),J(2,NX,2,1,"ng-container",9)(3,oee,7,8,"ng-template",null,1,Wr),b()}if(n&2){let t=zr(4),i=U(2);It(i.styleClass),x("ngClass",wN(10,TX,i.rtl,i.draggable,i.resizable,i.maximized))("ngStyle",i.style)("pFocusTrapDisabled",i.focusTrap===!1)("@animation",qn(18,MX,_f(15,SX,i.transformOptions,i.transitionOptions))),Je("aria-labelledby",i.ariaLabelledBy)("aria-modal",!0),T(2),x("ngIf",i.headlessTemplate)("ngIfElse",t)}}function lee(n,e){if(n&1&&(E(0,"div",6),J(1,aee,5,20,"div",7),b()),n&2){let t=U();It(t.maskStyleClass),x("ngStyle",t.maskStyle)("ngClass",bN(5,DX,[t.modal,t.modal||t.blockScroll,t.position==="left",t.position==="right",t.position==="top",t.position==="topleft"||t.position==="top-left",t.position==="topright"||t.position==="top-right",t.position==="bottom",t.position==="bottomleft"||t.position==="bottom-left",t.position==="bottomright"||t.position==="bottom-right"])),T(),x("ngIf",t.visible)}}var cee=YT([qs({transform:"{{transform}}",opacity:0}),Xd("{{transition}}")]),uee=YT([Xd("{{transition}}",qs({transform:"{{transform}}",opacity:0}))]),e5=(()=>{class n{document;platformId;el;renderer;zone;cd;config;header;draggable=!0;resizable=!0;get positionLeft(){return 0}set positionLeft(t){console.log("positionLeft property is deprecated.")}get positionTop(){return 0}set positionTop(t){console.log("positionTop property is deprecated.")}contentStyle;contentStyleClass;modal=!1;closeOnEscape=!0;dismissableMask=!1;rtl=!1;closable=!0;get responsive(){return!1}set responsive(t){console.log("Responsive property is deprecated.")}appendTo;breakpoints;styleClass;maskStyleClass;maskStyle;showHeader=!0;get breakpoint(){return 649}set breakpoint(t){console.log("Breakpoint property is not utilized and deprecated, use breakpoints or CSS media queries instead.")}blockScroll=!1;autoZIndex=!0;baseZIndex=0;minX=0;minY=0;focusOnShow=!0;maximizable=!1;keepInViewport=!0;focusTrap=!0;transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)";closeIcon;closeAriaLabel;closeTabindex="0";minimizeIcon;maximizeIcon;get visible(){return this._visible}set visible(t){this._visible=t,this._visible&&!this.maskVisible&&(this.maskVisible=!0)}get style(){return this._style}set style(t){t&&(this._style=Q({},t),this.originalStyle=t)}get position(){return this._position}set position(t){switch(this._position=t,t){case"topleft":case"bottomleft":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"topright":case"bottomright":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)";break}}onShow=new xe;onHide=new xe;visibleChange=new xe;onResizeInit=new xe;onResizeEnd=new xe;onDragEnd=new xe;onMaximize=new xe;headerFacet;footerFacet;templates;headerViewChild;contentViewChild;footerViewChild;headerTemplate;contentTemplate;footerTemplate;maximizeIconTemplate;closeIconTemplate;minimizeIconTemplate;headlessTemplate;_visible=!1;maskVisible;container;wrapper;dragging;ariaLabelledBy=this.getAriaLabelledBy();documentDragListener;documentDragEndListener;resizing;documentResizeListener;documentResizeEndListener;documentEscapeListener;maskClickListener;lastPageX;lastPageY;preventVisibleChangePropagation;maximized;preMaximizeContentHeight;preMaximizeContainerWidth;preMaximizeContainerHeight;preMaximizePageX;preMaximizePageY;id=ss();_style={};_position="center";originalStyle;transformOptions="scale(0.7)";styleElement;window;get maximizeLabel(){return this.config.getTranslation($B.ARIA).maximizeLabel}constructor(t,i,r,s,o,a,l){this.document=t,this.platformId=i,this.el=r,this.renderer=s,this.zone=o,this.cd=a,this.config=l,this.window=this.document.defaultView}ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"header":this.headerTemplate=t.template;break;case"content":this.contentTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;case"closeicon":this.closeIconTemplate=t.template;break;case"maximizeicon":this.maximizeIconTemplate=t.template;break;case"minimizeicon":this.minimizeIconTemplate=t.template;break;case"headless":this.headlessTemplate=t.template;break;default:this.contentTemplate=t.template;break}})}ngOnInit(){this.breakpoints&&this.createStyle()}getAriaLabelledBy(){return this.header!==null?ss()+"_header":null}parseDurationToMilliseconds(t){let i=/([\d\.]+)(ms|s)\b/g,r=0,s;for(;(s=i.exec(t))!==null;){let o=parseFloat(s[1]),a=s[2];a==="ms"?r+=o:a==="s"&&(r+=o*1e3)}if(r!==0)return r}focus(t=this.contentViewChild?.nativeElement){let i=this.parseDurationToMilliseconds(this.transitionOptions),r=he.getFocusableElement(t,"[autofocus]");if(r){this.zone.runOutsideAngular(()=>{setTimeout(()=>r.focus(),i||5)});return}let s=he.getFocusableElement(t);s?this.zone.runOutsideAngular(()=>{setTimeout(()=>s.focus(),i||5)}):this.footerViewChild&&t!==this.footerViewChild.nativeElement&&this.focus(this.footerViewChild.nativeElement)}close(t){this.visibleChange.emit(!1),t.preventDefault()}enableModality(){this.closable&&this.dismissableMask&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",t=>{this.wrapper&&this.wrapper.isSameNode(t.target)&&this.close(t)})),this.modal&&he.blockBodyScroll()}disableModality(){if(this.wrapper){this.dismissableMask&&this.unbindMaskClickListener();let t=document.querySelectorAll(".p-dialog-mask-scrollblocker");this.modal&&t&&t.length==1&&he.unblockBodyScroll(),this.cd.destroyed||this.cd.detectChanges()}}maximize(){this.maximized=!this.maximized,!this.modal&&!this.blockScroll&&(this.maximized?he.blockBodyScroll():he.unblockBodyScroll()),this.onMaximize.emit({maximized:this.maximized})}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}moveOnTop(){this.autoZIndex&&(CM.set("modal",this.container,this.baseZIndex+this.config.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}createStyle(){if(Qi(this.platformId)&&!this.styleElement){this.styleElement=this.renderer.createElement("style"),this.styleElement.type="text/css",he.setAttribute(this.styleElement,"nonce",this.config?.csp()?.nonce),this.renderer.appendChild(this.document.head,this.styleElement);let t="";for(let i in this.breakpoints)t+=`
                        @media screen and (max-width: ${i}) {
                            .p-dialog[${this.id}]:not(.p-dialog-maximized) {
                                width: ${this.breakpoints[i]} !important;
                            }
                        }
                    `;this.renderer.setProperty(this.styleElement,"innerHTML",t)}}initDrag(t){he.hasClass(t.target,"p-dialog-header-icon")||he.hasClass(t.target,"p-dialog-header-close-icon")||he.hasClass(t.target.parentElement,"p-dialog-header-icon")||this.draggable&&(this.dragging=!0,this.lastPageX=t.pageX,this.lastPageY=t.pageY,this.container.style.margin="0",he.addClass(this.document.body,"p-unselectable-text"))}onDrag(t){if(this.dragging){let i=he.getOuterWidth(this.container),r=he.getOuterHeight(this.container),s=t.pageX-this.lastPageX,o=t.pageY-this.lastPageY,a=this.container.getBoundingClientRect(),l=getComputedStyle(this.container),c=parseFloat(l.marginLeft),d=parseFloat(l.marginTop),h=a.left+s-c,m=a.top+o-d,v=he.getViewport();this.container.style.position="fixed",this.keepInViewport?(h>=this.minX&&h+i<v.width&&(this._style.left=`${h}px`,this.lastPageX=t.pageX,this.container.style.left=`${h}px`),m>=this.minY&&m+r<v.height&&(this._style.top=`${m}px`,this.lastPageY=t.pageY,this.container.style.top=`${m}px`)):(this.lastPageX=t.pageX,this.container.style.left=`${h}px`,this.lastPageY=t.pageY,this.container.style.top=`${m}px`)}}endDrag(t){this.dragging&&(this.dragging=!1,he.removeClass(this.document.body,"p-unselectable-text"),this.cd.detectChanges(),this.onDragEnd.emit(t))}resetPosition(){this.container.style.position="",this.container.style.left="",this.container.style.top="",this.container.style.margin=""}center(){this.resetPosition()}initResize(t){this.resizable&&(this.resizing=!0,this.lastPageX=t.pageX,this.lastPageY=t.pageY,he.addClass(this.document.body,"p-unselectable-text"),this.onResizeInit.emit(t))}onResize(t){if(this.resizing){let i=t.pageX-this.lastPageX,r=t.pageY-this.lastPageY,s=he.getOuterWidth(this.container),o=he.getOuterHeight(this.container),a=he.getOuterHeight(this.contentViewChild?.nativeElement),l=s+i,c=o+r,d=this.container.style.minWidth,h=this.container.style.minHeight,m=this.container.getBoundingClientRect(),v=he.getViewport();(!parseInt(this.container.style.top)||!parseInt(this.container.style.left))&&(l+=i,c+=r),(!d||l>parseInt(d))&&m.left+l<v.width&&(this._style.width=l+"px",this.container.style.width=this._style.width),(!h||c>parseInt(h))&&m.top+c<v.height&&(this.contentViewChild.nativeElement.style.height=a+c-o+"px",this._style.height&&(this._style.height=c+"px",this.container.style.height=this._style.height)),this.lastPageX=t.pageX,this.lastPageY=t.pageY}}resizeEnd(t){this.resizing&&(this.resizing=!1,he.removeClass(this.document.body,"p-unselectable-text"),this.onResizeEnd.emit(t))}bindGlobalListeners(){this.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener()),this.resizable&&this.bindDocumentResizeListeners(),this.closeOnEscape&&this.closable&&this.bindDocumentEscapeListener()}unbindGlobalListeners(){this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener(),this.unbindDocumentResizeListeners(),this.unbindDocumentEscapeListener()}bindDocumentDragListener(){this.documentDragListener||this.zone.runOutsideAngular(()=>{this.documentDragListener=this.renderer.listen(this.window,"mousemove",this.onDrag.bind(this))})}unbindDocumentDragListener(){this.documentDragListener&&(this.documentDragListener(),this.documentDragListener=null)}bindDocumentDragEndListener(){this.documentDragEndListener||this.zone.runOutsideAngular(()=>{this.documentDragEndListener=this.renderer.listen(this.window,"mouseup",this.endDrag.bind(this))})}unbindDocumentDragEndListener(){this.documentDragEndListener&&(this.documentDragEndListener(),this.documentDragEndListener=null)}bindDocumentResizeListeners(){!this.documentResizeListener&&!this.documentResizeEndListener&&this.zone.runOutsideAngular(()=>{this.documentResizeListener=this.renderer.listen(this.window,"mousemove",this.onResize.bind(this)),this.documentResizeEndListener=this.renderer.listen(this.window,"mouseup",this.resizeEnd.bind(this))})}unbindDocumentResizeListeners(){this.documentResizeListener&&this.documentResizeEndListener&&(this.documentResizeListener(),this.documentResizeEndListener(),this.documentResizeListener=null,this.documentResizeEndListener=null)}bindDocumentEscapeListener(){let t=this.el?this.el.nativeElement.ownerDocument:"document";this.documentEscapeListener=this.renderer.listen(t,"keydown",i=>{i.key=="Escape"&&this.close(i)})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}appendContainer(){this.appendTo&&(this.appendTo==="body"?this.renderer.appendChild(this.document.body,this.wrapper):he.appendChild(this.wrapper,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.renderer.appendChild(this.el.nativeElement,this.wrapper)}onAnimationStart(t){switch(t.toState){case"visible":this.container=t.element,this.wrapper=this.container?.parentElement,this.moveOnTop(),this.appendContainer(),this.bindGlobalListeners(),this.container?.setAttribute(this.id,""),this.modal&&this.enableModality(),!this.modal&&this.blockScroll&&he.addClass(this.document.body,"p-overflow-hidden"),this.focusOnShow&&this.focus();break;case"void":this.wrapper&&this.modal&&he.addClass(this.wrapper,"p-component-overlay-leave");break}}onAnimationEnd(t){switch(t.toState){case"void":this.onContainerDestroy(),this.onHide.emit({}),this.cd.markForCheck();break;case"visible":this.onShow.emit({});break}}onContainerDestroy(){this.unbindGlobalListeners(),this.dragging=!1,this.maskVisible=!1,this.maximized&&(he.removeClass(this.document.body,"p-overflow-hidden"),this.document.body.style.removeProperty("--scrollbar-width"),this.maximized=!1),this.modal&&this.disableModality(),this.blockScroll&&he.removeClass(this.document.body,"p-overflow-hidden"),this.container&&this.autoZIndex&&CM.clear(this.container),this.container=null,this.wrapper=null,this._style=this.originalStyle?Q({},this.originalStyle):{}}destroyStyle(){this.styleElement&&(this.renderer.removeChild(this.document.head,this.styleElement),this.styleElement=null)}ngOnDestroy(){this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.destroyStyle()}static \u0275fac=function(i){return new(i||n)(B(Ze),B(wt),B(ct),B(An),B(De),B(Ri),B(iw))};static \u0275cmp=Oe({type:n,selectors:[["p-dialog"]],contentQueries:function(i,r,s){if(i&1&&(Ss(s,jB,5),Ss(s,zB,5),Ss(s,rw,4)),i&2){let o;xn(o=Rn())&&(r.headerFacet=o.first),xn(o=Rn())&&(r.footerFacet=o.first),xn(o=Rn())&&(r.templates=o)}},viewQuery:function(i,r){if(i&1&&(Ms(wX,5),Ms(bX,5),Ms(CX,5)),i&2){let s;xn(s=Rn())&&(r.headerViewChild=s.first),xn(s=Rn())&&(r.contentViewChild=s.first),xn(s=Rn())&&(r.footerViewChild=s.first)}},hostAttrs:[1,"p-element"],inputs:{header:"header",draggable:[2,"draggable","draggable",Ue],resizable:[2,"resizable","resizable",Ue],positionLeft:"positionLeft",positionTop:"positionTop",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",modal:[2,"modal","modal",Ue],closeOnEscape:[2,"closeOnEscape","closeOnEscape",Ue],dismissableMask:[2,"dismissableMask","dismissableMask",Ue],rtl:[2,"rtl","rtl",Ue],closable:[2,"closable","closable",Ue],responsive:"responsive",appendTo:"appendTo",breakpoints:"breakpoints",styleClass:"styleClass",maskStyleClass:"maskStyleClass",maskStyle:"maskStyle",showHeader:[2,"showHeader","showHeader",Ue],breakpoint:"breakpoint",blockScroll:[2,"blockScroll","blockScroll",Ue],autoZIndex:[2,"autoZIndex","autoZIndex",Ue],baseZIndex:[2,"baseZIndex","baseZIndex",Jl],minX:[2,"minX","minX",Jl],minY:[2,"minY","minY",Jl],focusOnShow:[2,"focusOnShow","focusOnShow",Ue],maximizable:[2,"maximizable","maximizable",Ue],keepInViewport:[2,"keepInViewport","keepInViewport",Ue],focusTrap:[2,"focusTrap","focusTrap",Ue],transitionOptions:"transitionOptions",closeIcon:"closeIcon",closeAriaLabel:"closeAriaLabel",closeTabindex:"closeTabindex",minimizeIcon:"minimizeIcon",maximizeIcon:"maximizeIcon",visible:"visible",style:"style",position:"position"},outputs:{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange",onResizeInit:"onResizeInit",onResizeEnd:"onResizeEnd",onDragEnd:"onDragEnd",onMaximize:"onMaximize"},features:[mi],ngContentSelectors:IX,decls:1,vars:1,consts:[["container",""],["notHeadless",""],["content",""],["titlebar",""],["footer",""],[3,"class","ngStyle","ngClass",4,"ngIf"],[3,"ngStyle","ngClass"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","class","pFocusTrapDisabled",4,"ngIf"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","pFocusTrapDisabled"],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet"],["class","p-resizable-handle",3,"mousedown",4,"ngIf"],["class","p-dialog-header",3,"mousedown",4,"ngIf"],[3,"ngClass","ngStyle"],["class","p-dialog-footer",4,"ngIf"],[1,"p-resizable-handle",3,"mousedown"],[1,"p-dialog-header",3,"mousedown"],["class","p-dialog-title",3,"id",4,"ngIf"],[1,"p-dialog-header-icons"],["role","button","type","button","pRipple","","pButton","",3,"ngClass","click","keydown.enter",4,"ngIf"],["type","button","pRipple","","pButton","",3,"ngClass","ngStyle","click","keydown.enter",4,"ngIf"],[1,"p-dialog-title",3,"id"],["role","button","type","button","pRipple","","pButton","",3,"click","keydown.enter","ngClass"],["class","p-dialog-header-maximize-icon",3,"ngClass",4,"ngIf"],[4,"ngIf"],[1,"p-dialog-header-maximize-icon",3,"ngClass"],[3,"styleClass",4,"ngIf"],[3,"styleClass"],["type","button","pRipple","","pButton","",3,"click","keydown.enter","ngClass","ngStyle"],["class","p-dialog-header-close-icon",3,"ngClass",4,"ngIf"],[1,"p-dialog-header-close-icon",3,"ngClass"],[1,"p-dialog-footer"]],template:function(i,r){i&1&&(Wi(EX),J(0,lee,2,16,"div",5)),i&2&&x("ngIf",r.maskVisible)},dependencies:()=>[Oi,kt,wf,c_,JB,YB,sw,EM,IM,DM],styles:[`@layer primeng{.p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;pointer-events:auto;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-draggable .p-dialog-header{cursor:move}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-top .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog{margin:.75rem;transform:translateZ(0)}.p-dialog-maximized{-webkit-transition:none;transition:none;transform:none;width:100vw!important;height:100vh!important;top:0!important;left:0!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start;align-items:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}}
`],encapsulation:2,data:{animation:[pv("animation",[eh("void => visible",[JT(cee)]),eh("visible => void",[JT(uee)])])]},changeDetection:0})}return n})(),t5=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=we({type:n});static \u0275inj=ve({imports:[Rs,XB,ow,QB,EM,IM,DM,_h]})}return n})();var r5="@firebase/installations",AM="0.6.7";var s5=1e4,o5=`w:${AM}`,a5="FIS_v2",hee="https://firebaseinstallations.googleapis.com/v1",fee=60*60*1e3,pee="installations",gee="Installations";var mee={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},$c=new pu(pee,gee,mee);function l5(n){return n instanceof ia&&n.code.includes("request-failed")}function c5({projectId:n}){return`${hee}/projects/${n}/installations`}function u5(n){return{token:n.token,requestStatus:2,expiresIn:yee(n.expiresIn),creationTime:Date.now()}}function d5(n,e){return F(this,null,function*(){let i=(yield e.json()).error;return $c.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})})}function h5({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function _ee(n,{refreshToken:e}){let t=h5(n);return t.append("Authorization",vee(e)),t}function f5(n){return F(this,null,function*(){let e=yield n();return e.status>=500&&e.status<600?n():e})}function yee(n){return Number(n.replace("s","000"))}function vee(n){return`${a5} ${n}`}function wee(i,r){return F(this,arguments,function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){let s=c5(n),o=h5(n),a=e.getImmediate({optional:!0});if(a){let h=yield a.getHeartbeatsHeader();h&&o.append("x-firebase-client",h)}let l={fid:t,authVersion:a5,appId:n.appId,sdkVersion:o5},c={method:"POST",headers:o,body:JSON.stringify(l)},d=yield f5(()=>fetch(s,c));if(d.ok){let h=yield d.json();return{fid:h.fid||t,registrationStatus:2,refreshToken:h.refreshToken,authToken:u5(h.authToken)}}else throw yield d5("Create Installation",d)})}function p5(n){return new Promise(e=>{setTimeout(e,n)})}function bee(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}var Cee=/^[cdef][\w-]{21}$/,MM="";function Eee(){try{let n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;let t=Iee(n);return Cee.test(t)?t:MM}catch{return MM}}function Iee(n){return bee(n).substr(0,22)}function lw(n){return`${n.appName}!${n.appId}`}var g5=new Map;function m5(n,e){let t=lw(n);_5(t,e),Dee(t,e)}function _5(n,e){let t=g5.get(n);if(t)for(let i of t)i(e)}function Dee(n,e){let t=Tee();t&&t.postMessage({key:n,fid:e}),See()}var zc=null;function Tee(){return!zc&&"BroadcastChannel"in self&&(zc=new BroadcastChannel("[Firebase] FID Change"),zc.onmessage=n=>{_5(n.data.key,n.data.fid)}),zc}function See(){g5.size===0&&zc&&(zc.close(),zc=null)}var Mee="firebase-installations-database",Aee=1,Hc="firebase-installations-store",TM=null;function xM(){return TM||(TM=uA(Mee,Aee,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Hc)}}})),TM}function aw(n,e){return F(this,null,function*(){let t=lw(n),r=(yield xM()).transaction(Hc,"readwrite"),s=r.objectStore(Hc),o=yield s.get(t);return yield s.put(e,t),yield r.done,(!o||o.fid!==e.fid)&&m5(n,e.fid),e})}function y5(n){return F(this,null,function*(){let e=lw(n),i=(yield xM()).transaction(Hc,"readwrite");yield i.objectStore(Hc).delete(e),yield i.done})}function cw(n,e){return F(this,null,function*(){let t=lw(n),r=(yield xM()).transaction(Hc,"readwrite"),s=r.objectStore(Hc),o=yield s.get(t),a=e(o);return a===void 0?yield s.delete(t):yield s.put(a,t),yield r.done,a&&(!o||o.fid!==a.fid)&&m5(n,a.fid),a})}function RM(n){return F(this,null,function*(){let e,t=yield cw(n.appConfig,i=>{let r=xee(i),s=Ree(n,r);return e=s.registrationPromise,s.installationEntry});return t.fid===MM?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})}function xee(n){let e=n||{fid:Eee(),registrationStatus:0};return v5(e)}function Ree(n,e){if(e.registrationStatus===0){if(!navigator.onLine){let r=Promise.reject($c.create("app-offline"));return{installationEntry:e,registrationPromise:r}}let t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=Oee(n,t);return{installationEntry:t,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Nee(n)}:{installationEntry:e}}function Oee(n,e){return F(this,null,function*(){try{let t=yield wee(n,e);return aw(n.appConfig,t)}catch(t){throw l5(t)&&t.customData.serverCode===409?yield y5(n.appConfig):yield aw(n.appConfig,{fid:e.fid,registrationStatus:0}),t}})}function Nee(n){return F(this,null,function*(){let e=yield n5(n.appConfig);for(;e.registrationStatus===1;)yield p5(100),e=yield n5(n.appConfig);if(e.registrationStatus===0){let{installationEntry:t,registrationPromise:i}=yield RM(n);return i||t}return e})}function n5(n){return cw(n,e=>{if(!e)throw $c.create("installation-not-found");return v5(e)})}function v5(n){return kee(n)?{fid:n.fid,registrationStatus:0}:n}function kee(n){return n.registrationStatus===1&&n.registrationTime+s5<Date.now()}function Pee(i,r){return F(this,arguments,function*({appConfig:n,heartbeatServiceProvider:e},t){let s=Fee(n,t),o=_ee(n,t),a=e.getImmediate({optional:!0});if(a){let h=yield a.getHeartbeatsHeader();h&&o.append("x-firebase-client",h)}let l={installation:{sdkVersion:o5,appId:n.appId}},c={method:"POST",headers:o,body:JSON.stringify(l)},d=yield f5(()=>fetch(s,c));if(d.ok){let h=yield d.json();return u5(h)}else throw yield d5("Generate Auth Token",d)})}function Fee(n,{fid:e}){return`${c5(n)}/${e}/authTokens:generate`}function OM(n,e=!1){return F(this,null,function*(){let t,i=yield cw(n.appConfig,s=>{if(!w5(s))throw $c.create("not-registered");let o=s.authToken;if(!e&&Bee(o))return s;if(o.requestStatus===1)return t=Lee(n,e),s;{if(!navigator.onLine)throw $c.create("app-offline");let a=jee(s);return t=Vee(n,a),a}});return t?yield t:i.authToken})}function Lee(n,e){return F(this,null,function*(){let t=yield i5(n.appConfig);for(;t.authToken.requestStatus===1;)yield p5(100),t=yield i5(n.appConfig);let i=t.authToken;return i.requestStatus===0?OM(n,e):i})}function i5(n){return cw(n,e=>{if(!w5(e))throw $c.create("not-registered");let t=e.authToken;return zee(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function Vee(n,e){return F(this,null,function*(){try{let t=yield Pee(n,e),i=Object.assign(Object.assign({},e),{authToken:t});return yield aw(n.appConfig,i),t}catch(t){if(l5(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))yield y5(n.appConfig);else{let i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield aw(n.appConfig,i)}throw t}})}function w5(n){return n!==void 0&&n.registrationStatus===2}function Bee(n){return n.requestStatus===2&&!Uee(n)}function Uee(n){let e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+fee}function jee(n){let e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function zee(n){return n.requestStatus===1&&n.requestTime+s5<Date.now()}function $ee(n){return F(this,null,function*(){let e=n,{installationEntry:t,registrationPromise:i}=yield RM(e);return i?i.catch(console.error):OM(e).catch(console.error),t.fid})}function Hee(n,e=!1){return F(this,null,function*(){let t=n;return yield Gee(t),(yield OM(t,e)).token})}function Gee(n){return F(this,null,function*(){let{registrationPromise:e}=yield RM(n);e&&(yield e)})}function qee(n){if(!n||!n.options)throw SM("App Configuration");if(!n.name)throw SM("App Name");let e=["projectId","apiKey","appId"];for(let t of e)if(!n.options[t])throw SM(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function SM(n){return $c.create("missing-app-config-values",{valueName:n})}var b5="installations",Wee="installations-internal",Kee=n=>{let e=n.getProvider("app").getImmediate(),t=qee(e),i=io(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},Qee=n=>{let e=n.getProvider("app").getImmediate(),t=io(e,b5).getImmediate();return{getId:()=>$ee(t),getToken:r=>Hee(t,r)}};function Zee(){zi(new Bn(b5,Kee,"PUBLIC")),zi(new Bn(Wee,Qee,"PRIVATE"))}Zee();Un(r5,AM);Un(r5,AM,"esm2017");var uw="analytics",Yee="firebase_id",Jee="origin",Xee=60*1e3,ete="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",BM="https://www.googletagmanager.com/gtag/js";var Fi=new gu("@firebase/analytics");var tte={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},rr=new pu("analytics","Analytics",tte);function nte(n){if(!n.startsWith(BM)){let e=rr.create("invalid-gtag-resource",{gtagURL:n});return Fi.warn(e.message),""}return n}function M5(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function ite(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function rte(n,e){let t=ite("firebase-js-sdk-policy",{createScriptURL:nte}),i=document.createElement("script"),r=`${BM}?l=${n}&id=${e}`;i.src=t?t?.createScriptURL(r):r,i.async=!0,document.head.appendChild(i)}function ste(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}function ote(n,e,t,i,r,s){return F(this,null,function*(){let o=i[r];try{if(o)yield e[o];else{let l=(yield M5(t)).find(c=>c.measurementId===r);l&&(yield e[l.appId])}}catch(a){Fi.error(a)}n("config",r,s)})}function ate(n,e,t,i,r){return F(this,null,function*(){try{let s=[];if(r&&r.send_to){let o=r.send_to;Array.isArray(o)||(o=[o]);let a=yield M5(t);for(let l of o){let c=a.find(h=>h.measurementId===l),d=c&&e[c.appId];if(d)s.push(d);else{s=[];break}}}s.length===0&&(s=Object.values(e)),yield Promise.all(s),n("event",i,r||{})}catch(s){Fi.error(s)}})}function lte(n,e,t,i){function r(s,...o){return F(this,null,function*(){try{if(s==="event"){let[a,l]=o;yield ate(n,e,t,a,l)}else if(s==="config"){let[a,l]=o;yield ote(n,e,t,i,a,l)}else if(s==="consent"){let[a,l]=o;n("consent",a,l)}else if(s==="get"){let[a,l,c]=o;n("get",a,l,c)}else if(s==="set"){let[a]=o;n("set",a)}else n(s,...o)}catch(a){Fi.error(a)}})}return r}function cte(n,e,t,i,r){let s=function(...o){window[i].push(arguments)};return window[r]&&typeof window[r]=="function"&&(s=window[r]),window[r]=lte(s,n,e,t),{gtagCore:s,wrappedGtag:window[r]}}function ute(n){let e=window.document.getElementsByTagName("script");for(let t of Object.values(e))if(t.src&&t.src.includes(BM)&&t.src.includes(n))return t;return null}var dte=30,hte=1e3,kM=class{constructor(e={},t=hte){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}},A5=new kM;function fte(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function pte(n){return F(this,null,function*(){var e;let{appId:t,apiKey:i}=n,r={method:"GET",headers:fte(i)},s=ete.replace("{app-id}",t),o=yield fetch(s,r);if(o.status!==200&&o.status!==304){let a="";try{let l=yield o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw rr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})}function gte(i){return F(this,arguments,function*(n,e=A5,t){let{appId:r,apiKey:s,measurementId:o}=n.options;if(!r)throw rr.create("no-app-id");if(!s){if(o)return{measurementId:o,appId:r};throw rr.create("no-api-key")}let a=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new PM;return setTimeout(()=>F(this,null,function*(){l.abort()}),t!==void 0?t:Xee),x5({appId:r,apiKey:s,measurementId:o},a,l,e)})}function x5(s,o,a){return F(this,arguments,function*(n,{throttleEndTimeMillis:e,backoffCount:t},i,r=A5){var l;let{appId:c,measurementId:d}=n;try{yield mte(i,e)}catch(h){if(d)return Fi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${h?.message}]`),{appId:c,measurementId:d};throw h}try{let h=yield pte(n);return r.deleteThrottleMetadata(c),h}catch(h){let m=h;if(!_te(m)){if(r.deleteThrottleMetadata(c),d)return Fi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:c,measurementId:d};throw h}let v=Number((l=m?.customData)===null||l===void 0?void 0:l.httpStatus)===503?Wg(t,r.intervalMillis,dte):Wg(t,r.intervalMillis),C={throttleEndTimeMillis:Date.now()+v,backoffCount:t+1};return r.setThrottleMetadata(c,C),Fi.debug(`Calling attemptFetch again in ${v} millis`),x5(n,C,i,r)}})}function mte(n,e){return new Promise((t,i)=>{let r=Math.max(e-Date.now(),0),s=setTimeout(t,r);n.addEventListener(()=>{clearTimeout(s),i(rr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function _te(n){if(!(n instanceof ia)||!n.customData)return!1;let e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}var PM=class{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}};var FM;function yte(n,e,t,i,r){return F(this,null,function*(){if(r&&r.global){n("event",t,i);return}else{let s=yield e,o=Object.assign(Object.assign({},i),{send_to:s});n("event",t,o)}})}var LM;function vte(n){LM=n}function wte(n){FM=n}function bte(){return F(this,null,function*(){if(fu())try{yield lA()}catch(n){return Fi.warn(rr.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}else return Fi.warn(rr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0})}function Cte(n,e,t,i,r,s,o){return F(this,null,function*(){var a;let l=gte(n);l.then(v=>{t[v.measurementId]=v.appId,n.options.measurementId&&v.measurementId!==n.options.measurementId&&Fi.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${v.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(v=>Fi.error(v)),e.push(l);let c=bte().then(v=>{if(v)return i.getId()}),[d,h]=yield Promise.all([l,c]);ute(s)||rte(s,d.measurementId),LM&&(r("consent","default",LM),vte(void 0)),r("js",new Date);let m=(a=o?.config)!==null&&a!==void 0?a:{};return m[Jee]="firebase",m.update=!0,h!=null&&(m[Yee]=h),r("config",d.measurementId,m),FM&&(r("set",FM),wte(void 0)),d.measurementId})}var VM=class{constructor(e){this.app=e}_delete(){return delete sg[this.app.options.appId],Promise.resolve()}},sg={},C5=[],E5={},NM="dataLayer",Ete="gtag",I5,R5,D5=!1;function Ite(){let n=[];if(aA()&&n.push("This is a browser extension environment."),cA()||n.push("Cookies are not available."),n.length>0){let e=n.map((i,r)=>`(${r+1}) ${i}`).join(" "),t=rr.create("invalid-analytics-context",{errorInfo:e});Fi.warn(t.message)}}function Dte(n,e,t){Ite();let i=n.options.appId;if(!i)throw rr.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Fi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw rr.create("no-api-key");if(sg[i]!=null)throw rr.create("already-exists",{id:i});if(!D5){ste(NM);let{wrappedGtag:s,gtagCore:o}=cte(sg,C5,E5,NM,Ete);R5=s,I5=o,D5=!0}return sg[i]=Cte(n,C5,E5,e,I5,NM,t),new VM(n)}function O5(n=mu()){n=tt(n);let e=io(n,uw);return e.isInitialized()?e.getImmediate():Tte(n)}function Tte(n,e={}){let t=io(n,uw);if(t.isInitialized()){let r=t.getImmediate();if(qh(e,t.getOptions()))return r;throw rr.create("already-initialized")}return t.initialize({options:e})}function Ste(n,e,t,i){n=tt(n),yte(R5,sg[n.app.options.appId],e,t,i).catch(r=>Fi.error(r))}var T5="@firebase/analytics",S5="0.10.4";function Mte(){zi(new Bn(uw,(e,{options:t})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();return Dte(i,r,t)},"PUBLIC")),zi(new Bn("analytics-internal",n,"PRIVATE")),Un(T5,S5),Un(T5,S5,"esm2017");function n(e){try{let t=e.getProvider(uw).getImmediate();return{logEvent:(i,r,s)=>Ste(t,i,r,s)}}catch(t){throw rr.create("interop-component-reg-failed",{reason:t})}}}Mte();var og={production:!1,firebaseConfig:{apiKey:"AIzaSyAupoqwxZ8MfLRs6cBPw99m7IKzAi3Z6Pg",authDomain:"linkedinklonv1.firebaseapp.com",databaseURL:"https://linkedinklonv1-default-rtdb.firebaseio.com",projectId:"linkedinklonv1",storageBucket:"linkedinklonv1.appspot.com",messagingSenderId:"428100516891",appId:"1:428100516891:web:c7acfbf7ccf10bc6d70cbe",measurementId:"G-P152GEPKKC"}},Ate=dA(og.firebaseConfig),S_e=O5(Ate);var N5=Hg(ag());var ui=(()=>{let e=class e{constructor(i,r,s,o,a){this.afAuth=i,this.firestore=r,this.router=s,this.toastr=o,this.storage=a,this.loading=!1}getUser(){return this.afAuth.authState}saveUserData(i,r){return this.firestore.collection("users").doc(i).set(r)}register(i,r,s){return F(this,null,function*(){this.loading=!0,console.log("Registration started for:",i);try{let o=yield this.afAuth.createUserWithEmailAndPassword(i,r);console.log("Firebase user created:",o);let a=o.user;if(a){let l=a.uid;return console.log("User UID:",l),s.uid=l,s.email=i,yield this.firestore.collection("users").doc(l).set(s),console.log("User data saved in Firestore"),this.toastr.success("Registration successful!","Success",{progressBar:!0,closeButton:!0}),this.router.navigate(["/home"]),o}else throw new Error("User is undefined")}catch(o){throw console.error("Error registering user: ",o),this.toastr.error("Registration failed. Please try again.","Error",{timeOut:3e3,progressBar:!0,closeButton:!0}),o}finally{this.loading=!1,console.log("Registration process completed")}})}login(i,r){return F(this,null,function*(){this.loading=!0;try{let o=(yield this.afAuth.signInWithEmailAndPassword(i,r)).user;if(o){let a=o.uid;yield this.setUserOnlineOnLogin(a),(yield this.firestore.collection("users").doc(a).get().toPromise())?.exists?(this.toastr.success("Login successful!","Success",{progressBar:!0,closeButton:!0}),this.router.navigate(["/home"])):console.log("No user data found for UID: ",a)}}catch(s){throw console.error("Error logging in user: ",s),this.toastr.error("Login failed. Please try again.","Error",{timeOut:3e3,progressBar:!0,closeButton:!0}),s}finally{this.loading=!1}})}logout(){return F(this,null,function*(){let i=yield this.afAuth.currentUser;i&&(yield this.setUserOfflineOnLogout(i.uid)),this.loading=!0;try{yield this.afAuth.signOut(),this.toastr.success("Successfully logged out","Logout",{progressBar:!0,closeButton:!0}),this.loading=!1,this.router.navigate(["/login"])}catch(r){this.toastr.error("Logout failed. Please try again.","Error",{timeOut:3e3,progressBar:!0,closeButton:!0}),this.loading=!1,console.error("Error during logout: ",r)}})}confirmAndLogout(){return N5.default.fire({title:"Are you sure?",text:"Do you really want to log out?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, log out",cancelButtonText:"No, stay here"}).then(i=>i.isConfirmed?this.logout():Promise.resolve())}uploadProfileImage(i,r,s){let o=`profileImages/${i}`,a=this.storage.ref(o);this.storage.upload(o,r).snapshotChanges().pipe(zn(()=>{a.getDownloadURL().subscribe(l=>{s.profileImage=l,this.saveUserData(i,s)})})).subscribe()}getCurrentUserDetails(){return F(this,null,function*(){let i=yield this.afAuth.currentUser;return i?(yield this.firestore.collection("users").doc(i.uid).get().toPromise())?.data():null})}checkEmailExists(i){return F(this,null,function*(){try{let r=yield this.firestore.collection("users",s=>s.where("email","==",i)).get().toPromise();return r!==void 0&&!r.empty}catch(r){return console.error("Error checking email existence:",r),!1}})}googleSignIn(){return F(this,null,function*(){try{let i=new vt.auth.GoogleAuthProvider,r=yield this.afAuth.signInWithPopup(i);if(r.user){let s=r.user,o={uid:s.uid,email:s.email,firstName:s.displayName?.split(" ")[0],lastName:s.displayName?.split(" ")[1],profileImage:s.photoURL};yield this.firestore.collection("users").doc(s.uid).set(o,{merge:!0}),this.router.navigate(["/home"])}}catch(i){console.error("Error during Google Sign-In:",i)}})}updateUserOnlineStatus(i,r){return F(this,null,function*(){let s=this.firestore.collection("users").doc(i);r?yield s.update({isOnline:!0,lastActive:new Date}):yield s.update({isOnline:!1,lastActive:new Date})})}setUserOnlineOnLogin(i){return F(this,null,function*(){this.updateUserOnlineStatus(i,!0)})}setUserOfflineOnLogout(i){return F(this,null,function*(){this.updateUserOnlineStatus(i,!1)})}};e.\u0275fac=function(r){return new(r||e)(G(Zr),G(ln),G(Lt),G(Zs),G(Mc))},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var Js=(()=>{let e=class e{constructor(i){this.firestore=i}searchUsers(i){return this.firestore.collection("users").valueChanges().pipe(se(r=>r.filter(s=>s.firstName&&s.firstName.toLowerCase().includes(i.toLowerCase())||s.lastName&&s.lastName.toLowerCase().includes(i.toLowerCase()))))}getUserName(i){return this.firestore.doc(`users/${i}`).valueChanges().pipe(se(r=>`${r.firstName} ${r.lastName}`))}getUserById(i){return this.firestore.collection("users").doc(i).valueChanges().pipe(se(r=>{if(!r)throw new Error("User not found");return r}),ei(r=>(console.error("Error fetching user by id:",r),le(null))))}getUsersByIds(i){return this.firestore.collection("users",r=>r.where(vt.firestore.FieldPath.documentId(),"in",i)).snapshotChanges().pipe(se(r=>r.map(s=>{let o=s.payload.doc.data(),a=s.payload.doc.id;return Q({id:a},o)})))}getUnreadConversations(i){return this.firestore.collection("conversations",r=>r.where("participants","array-contains",i).where("unread","==",!0)).valueChanges()}};e.\u0275fac=function(r){return new(r||e)(G(ln))},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var yh=(()=>{let e=class e{hide(){this._isHeaderVisible=!1}show(){this._isHeaderVisible=!0}get isHeaderVisible(){return this._isHeaderVisible}constructor(){this._isHeaderVisible=!0}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var vh=(()=>{let e=class e{constructor(i,r,s){this.firestore=i,this.userService=r,this.toastr=s}trackConnectionRequests(i){return this.firestore.collection("connectionRequests",r=>r.where("to","==",i).where("status","==","pending")).snapshotChanges().pipe(Le(r=>{let o=r.map(a=>{let l=a.payload.doc.data();return l.id=a.payload.doc.id,l}).map(a=>this.userService.getUserById(a.from).pipe(se(l=>Ee(Q({},a),{firstName:l?.firstName||"Unknown",lastName:l?.lastName||"Unknown",profileImageUrl:l?.profileImageUrl||"assets/default-profile.png"}))));return or(o)}))}acceptConnectionRequest(i){let r=this.firestore.collection("users").doc(i.to).update({connections:vt.firestore.FieldValue.arrayUnion(i.from)}),s=this.firestore.collection("users").doc(i.from).update({connections:vt.firestore.FieldValue.arrayUnion(i.to)}),o=this.userService.getUserById(i.to).pipe(se(l=>`${l.firstName} ${l.lastName}`)),a=this.updateRequestStatus(i.id,"accepted");return Promise.all([r,s,a]).then(()=>{o.subscribe(l=>{this.firestore.collection("notifications",c=>c.where("userId","==",i.from).where("message","==",`Your connection request to ${l} has been accepted.`)).get().subscribe(c=>{c.empty?(this.firestore.collection("notifications").add({userId:i.from,message:`Your connection request to ${l} has been accepted.`,timestamp:new Date,read:!1}),this.toastr.success("Connection request accepted.")):console.log("Notification already exists. Skipping duplicate.")})})}).catch(l=>{console.error("Error accepting request: ",l),this.toastr.error("Failed to accept the request.")})}rejectConnectionRequest(i){return this.updateRequestStatus(i.id,"rejected").then(()=>console.log("Request rejected successfully")).catch(r=>console.error("Error rejecting request: ",r))}updateRequestStatus(i,r){return this.firestore.collection("connectionRequests").doc(i).update({status:r})}getUnreadNotifications(i){return this.firestore.collection("notifications",r=>r.where("userId","==",i).where("read","==",!1).orderBy("timestamp","desc")).snapshotChanges().pipe(se(r=>r.map(s=>{let o=s.payload.doc.data(),a=s.payload.doc.id;return Q({id:a},o)})))}markNotificationAsReadAndDelete(i){let r=this.firestore.collection("notifications").doc(i);return r.update({read:!0}).then(()=>r.delete()).then(()=>{this.toastr.success("Notification marked as read and removed.")}).catch(s=>{console.error("Error marking notification as read:",s),this.toastr.error("Failed to mark notification as read.")})}showSuccess(i){this.toastr.success(i)}showError(i){this.toastr.error(i)}};e.\u0275fac=function(r){return new(r||e)(G(ln),G(Js),G(Zs))},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var xte=["searchbar"],zM=()=>({exact:!0}),Rte=n=>({"disabled-link":n});function Ote(n,e){if(n&1){let t=Ce();E(0,"i",31),re("click",function(){ue(t);let r=U(2);return de(r.toggleNotifications())}),b()}if(n&2){let t=U(2);x("value",t.unreadRequests.length+t.unreadNotifications.length)}}function Nte(n,e){if(n&1){let t=Ce();E(0,"i",32),re("click",function(){ue(t);let r=U(2);return de(r.toggleNotifications())}),b()}}function kte(n,e){if(n&1){let t=Ce();E(0,"li",36)(1,"div",37),re("click",function(){let r=ue(t).$implicit,s=U(3);return de(s.viewProfile(r.from||r.uid))}),ne(2,"img",38),E(3,"div")(4,"h5"),L(5),b()()(),E(6,"div",39)(7,"button",40),re("click",function(){let r=ue(t).$implicit,s=U(3);return de(s.acceptRequest(r))}),L(8," Connect "),b(),E(9,"button",41),re("click",function(){let r=ue(t).$implicit,s=U(3);return de(s.rejectRequest(r))}),L(10," Reject "),b()()()}if(n&2){let t=e.$implicit;T(),mC("title","Click to visit ",t.firstName,"'s profile"),T(),x("src",t.profileImageUrl||"assets/images/add-photo.png",Gn),T(3),$r("",t.firstName," ",t.lastName,"")}}function Pte(n,e){if(n&1&&(E(0,"div")(1,"h3",33),L(2,"Connection Requests"),b(),E(3,"ul",34),J(4,kte,11,5,"li",35),b()()),n&2){let t=U(2);T(4),x("ngForOf",t.unreadRequests)}}function Fte(n,e){if(n&1){let t=Ce();E(0,"li",36)(1,"div")(2,"p"),L(3),b(),E(4,"button",42),re("click",function(){let r=ue(t).$implicit,s=U(3);return de(s.markNotificationAsRead(r.id))}),L(5," Mark as read "),b()()()}if(n&2){let t=e.$implicit;T(3),ht(t.message)}}function Lte(n,e){if(n&1&&(E(0,"div")(1,"h3",33),L(2,"Notifications"),b(),E(3,"ul",34),J(4,Fte,6,1,"li",35),b()()),n&2){let t=U(2);T(4),x("ngForOf",t.unreadNotifications)}}function Vte(n,e){n&1&&(E(0,"div")(1,"p"),L(2,"No new notifications or requests."),b()())}function Bte(n,e){if(n&1){let t=Ce();E(0,"button",43),re("click",function(){ue(t);let r=U(2);return de(r.searchClose())}),E(1,"mat-icon"),L(2,"close"),b()()}}function Ute(n,e){if(n&1){let t=Ce();E(0,"a",46),re("click",function(){let r=ue(t).$implicit,s=U(3);return de(s.viewProfile(r.uid))}),ne(1,"img",47),L(2),b()}if(n&2){let t=e.$implicit;T(),x("src",t.profileImageUrl||"assets/images/add-photo.png",Gn),T(),$r(" ",t.firstName," ",t.lastName," ")}}function jte(n,e){if(n&1&&(E(0,"div",44),J(1,Ute,3,3,"a",45),b()),n&2){let t=U(2);T(),x("ngForOf",t.searchResults)}}function zte(n,e){n&1&&(E(0,"div",48)(1,"div",49),L(2," No matching users "),b()())}function $te(n,e){n&1&&ne(0,"span",53)}function Hte(n,e){if(n&1){let t=Ce();E(0,"li",10)(1,"a",50),re("click",function(){ue(t);let r=U(2);return de(!r.authService.loading&&r.logout())}),ne(2,"ion-icon",51),J(3,$te,1,0,"span",52),L(4," Logout "),b()()}if(n&2){let t=U(2);T(),x("ngClass",qn(2,Rte,t.authService.loading)),T(2),x("ngIf",t.authService.loading)}}function Gte(n,e){n&1&&ne(0,"span",53)}function qte(n,e){if(n&1&&(E(0,"li",10)(1,"a",54),ne(2,"ion-icon",55),J(3,Gte,1,0,"span",52),L(4," Login "),b()()),n&2){let t=U(2);T(3),x("ngIf",t.loading)}}function Wte(n,e){if(n&1){let t=Ce();E(0,"nav",2)(1,"div",3)(2,"a",4),ne(3,"ion-icon",5),L(4," LinkedIn Clone "),b(),E(5,"button",6),ne(6,"span",7),b(),E(7,"div",8)(8,"ul",9)(9,"li",10)(10,"a",11),ne(11,"ion-icon",12),L(12," Home "),b()(),E(13,"li",10)(14,"a",13),ne(15,"ion-icon",14),L(16," Profile "),b()(),E(17,"li",10)(18,"a",15),ne(19,"ion-icon",16),L(20," Search "),b()(),E(21,"li",10)(22,"a",17),ne(23,"ion-icon",18),L(24," Chat "),b()(),E(25,"li",19),J(26,Ote,1,1,"i",20)(27,Nte,1,0,"i",21),E(28,"p-dialog",22),mr("visibleChange",function(r){ue(t);let s=U();return Hr(s.showDialog,r)||(s.showDialog=r),de(r)}),J(29,Pte,5,1,"div",23)(30,Lte,5,1,"div",23)(31,Vte,3,0,"div",23),b()()(),E(32,"form",24)(33,"input",25),mr("ngModelChange",function(r){ue(t);let s=U();return Hr(s.searchQuery,r)||(s.searchQuery=r),de(r)}),re("input",function(){ue(t);let r=U();return de(r.searchUsers())}),b(),J(34,Bte,3,0,"button",26)(35,jte,2,1,"div",27)(36,zte,3,0,"div",28),b(),E(37,"ul",29),J(38,Hte,5,4,"li",30),ri(39,"async"),J(40,qte,5,1,"ng-template",null,0,Wr),b()()()()}if(n&2){let t=zr(41),i=U();T(10),x("routerLinkActiveOptions",Gr(19,zM)),T(4),x("routerLinkActiveOptions",Gr(20,zM)),T(4),x("routerLinkActiveOptions",Gr(21,zM)),T(8),x("ngIf",i.unreadRequests.length+i.unreadNotifications.length>0),T(),x("ngIf",i.unreadRequests.length+i.unreadNotifications.length===0),T(),gr("visible",i.showDialog),x("modal",!0)("dismissableMask",!0),T(),x("ngIf",i.unreadRequests.length>0),T(),x("ngIf",i.unreadNotifications.length>0),T(),x("ngIf",i.unreadRequests.length===0&&i.unreadNotifications.length===0),T(2),gr("ngModel",i.searchQuery),T(),x("ngIf",i.searchQuery),T(),x("ngIf",i.searchResults.length>0),T(),x("ngIf",i.searchResults.length===0&&i.searchQuery),T(2),x("ngIf",qr(39,17,i.authService.getUser()))("ngIfElse",t)}}var P5=(()=>{let e=class e{constructor(i,r,s,o,a,l){this.authService=i,this.userService=r,this.router=s,this.headerService=o,this.notificationService=a,this.renderer=l,this.searchQuery="",this.searchResults=[],this.toggleSearch=!1,this.dropdownOpen=!1,this.dropdownStyle={},this.loading=!1,this.unreadRequests=[],this.unreadNotifications=[],this.notificationsVisible=!1,this.showDialog=!1,this.userId=""}ngOnInit(){this.routerSubscription=this.router.events.subscribe(i=>{i instanceof ir&&(this.dropdownOpen=!1,this.searchClose())}),this.authService.getUser().subscribe(i=>{i&&(this.userId=i.uid,this.notificationService.trackConnectionRequests(this.userId).subscribe(r=>{this.unreadRequests=r}),this.loadUnreadRequests(i.uid),this.loadUnreadNotifications(i.uid),this.addClickOutsideListener())})}ngOnDestroy(){this.clickListener&&this.clickListener(),this.searchSubscription&&this.searchSubscription.unsubscribe(),this.routerSubscription&&this.routerSubscription.unsubscribe()}ngAfterViewInit(){console.log("Searchbar initialized:",this.searchbar?.nativeElement)}openSearch(){this.toggleSearch=!0,this.dropdownOpen=!0,setTimeout(()=>{this.searchbar?this.searchbar.nativeElement.focus():console.log("Search bar element not found.")},0)}searchClose(){this.searchQuery="",this.searchResults=[],this.toggleSearch=!1,this.dropdownOpen=!1,this.searchSubscription&&this.searchSubscription.unsubscribe()}searchUsers(){if(this.searchQuery.trim()===""){this.searchResults=[],this.dropdownOpen=!1;return}this.searchSubscription=this.userService.searchUsers(this.searchQuery).subscribe(i=>{this.searchResults=i,this.dropdownOpen=i.length>0})}viewProfile(i){i&&(this.router.navigate(["/profile",i]),this.searchClose())}addClickOutsideListener(){this.clickListener=this.renderer.listen("document","click",i=>{let r=i.target,s=this.searchbar?.nativeElement.contains(r)||r.closest(".search-dropdown")!==null;this.dropdownOpen&&!s&&this.searchClose()})}logout(){this.authService.confirmAndLogout().finally(()=>{this.loading=!1})}toggleNotifications(){this.showDialog=!this.showDialog}loadUnreadRequests(i){this.notificationService.trackConnectionRequests(i).subscribe(r=>{this.unreadRequests=r})}loadUnreadNotifications(i){this.notificationService.getUnreadNotifications(i).subscribe(r=>{this.unreadNotifications=r})}acceptRequest(i){this.notificationService.acceptConnectionRequest(i).then(()=>{this.unreadRequests=this.unreadRequests.filter(r=>r.id!==i.id)})}rejectRequest(i){this.notificationService.rejectConnectionRequest(i).then(()=>{this.unreadRequests=this.unreadRequests.filter(r=>r.id!==i.id)})}markNotificationAsRead(i){this.notificationService.markNotificationAsReadAndDelete(i).then(()=>{this.unreadNotifications=this.unreadNotifications.filter(r=>r.id!==i)})}};e.\u0275fac=function(r){return new(r||e)(B(ui),B(Js),B(Lt),B(yh),B(vh),B(An))},e.\u0275cmp=Oe({type:e,selectors:[["app-header"]],viewQuery:function(r,s){if(r&1&&Ms(xte,5),r&2){let o;xn(o=Rn())&&(s.searchbar=o.first)}},decls:1,vars:1,consts:[["loggedOut",""],["class","navbar navbar-expand-lg navbar-light bg-light",4,"ngIf"],[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],[1,"container-fluid"],["routerLink","/home",1,"navbar-brand","d-flex","align-items-center"],["name","logo-linkedin"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["routerLink","/home","routerLinkActive","active",1,"nav-link",3,"routerLinkActiveOptions"],["name","home-outline"],["routerLink","/profile","routerLinkActive","active",1,"nav-link",3,"routerLinkActiveOptions"],["name","person-outline"],["routerLink","/search","routerLinkActive","active",1,"nav-link",3,"routerLinkActiveOptions"],["name","search-outline"],["routerLink","/chat","routerLinkActive","active",1,"nav-link","position-relative"],["name","chatbubble-outline"],[1,"nav-item","position-relative"],["class","pi pi-bell notification-icon","pBadge","",3,"value","click",4,"ngIf"],["class","pi pi-bell notification-icon",3,"click",4,"ngIf"],["header","Notifications",1,"custom-dialog",3,"visibleChange","visible","modal","dismissableMask"],[4,"ngIf"],[1,"d-flex","position-relative"],["matInput","","type","search","placeholder","Search","aria-label","Search","name","searchQuery",1,"form-control","me-2","search-bar",3,"ngModelChange","input","ngModel"],["mat-button","","mat-icon-button","","class","search-close",3,"click",4,"ngIf"],["class","dropdown-menu show search-dropdown",4,"ngIf"],["class","dropdown-menu show search-dropdown no-results",4,"ngIf"],[1,"navbar-nav","ml-auto"],["class","nav-item",4,"ngIf","ngIfElse"],["pBadge","",1,"pi","pi-bell","notification-icon",3,"click","value"],[1,"pi","pi-bell","notification-icon",3,"click"],[1,"section-header"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],[1,"d-flex","align-items-center","clickable",3,"click","title"],["alt","Profile Image",1,"profile-image",3,"src"],[1,"actions"],[1,"btn","btn-outline-primary","me-2",3,"click"],[1,"btn","btn-outline-danger",3,"click"],[1,"btn-mark-read",3,"click"],["mat-button","","mat-icon-button","",1,"search-close",3,"click"],[1,"dropdown-menu","show","search-dropdown"],["class","dropdown-item",3,"click",4,"ngFor","ngForOf"],[1,"dropdown-item",3,"click"],["alt","Profile Image",1,"rounded-circle","me-2",3,"src"],[1,"dropdown-menu","show","search-dropdown","no-results"],[1,"dropdown-item"],[1,"nav-link","logout-link",3,"click","ngClass"],["name","log-out-outline"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],["routerLink","/login",1,"nav-link"],["name","log-in-outline"]],template:function(r,s){r&1&&J(0,Wte,42,22,"nav",1),r&2&&x("ngIf",s.headerService.isHeaderVisible)},dependencies:[Oi,xs,kt,Zv,aB,Pi,kn,li,ki,Lo,Rc,e5,GB,Ea],styles:[".navbar[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1000;background-color:#fff;border-bottom:1px solid #ddd;padding:10px 20px;box-shadow:0 2px 4px #0000000d}.navbar-brand[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;display:flex;align-items:center}.navbar-brand[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:2rem;color:#0077b5;margin-right:8px}.navbar-toggler[_ngcontent-%COMP%]{border:none}.navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{margin-left:20px}.navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:500;color:#333;padding:10px;border-radius:5px;position:relative;transition:all .3s ease;display:flex;align-items:center}.navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-right:5px;font-size:1.4rem}.navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{background-color:#f1f1f1;color:#0077b5;transform:translateY(-2px)}.navbar-nav[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#0077b5;background-color:#0077b51a;font-weight:700}.badge[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff;font-size:.8rem;padding:5px 8px;position:absolute;top:-5px;right:-10px}.notification-icon[_ngcontent-%COMP%]{font-size:1.8rem;color:#0077b5;cursor:pointer;position:relative;transform:translateY(9px)}.notification-icon[_ngcontent-%COMP%]:hover{color:#005082}form.d-flex[_ngcontent-%COMP%]{position:relative;width:350px}form.d-flex[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-radius:20px;padding:8px 40px 8px 15px;border:1px solid #ccc;transition:border .3s ease}form.d-flex[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#0077b5;box-shadow:0 0 5px #0077b54d;outline:none}.search-dropdown[_ngcontent-%COMP%]{position:absolute;top:45px;width:100%;z-index:1000;background-color:#fff;box-shadow:0 8px 16px #0000001a;border-radius:10px;max-height:200px;overflow-y:auto}.search-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{padding:10px;display:flex;align-items:center;transition:background-color .2s ease}.search-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}.search-dropdown[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;margin-right:10px}.logout-link[_ngcontent-%COMP%]{font-size:1.2rem;display:flex;align-items:center;cursor:pointer}.logout-link[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.4rem;margin-right:5px}.logout-link[_ngcontent-%COMP%]:hover{color:#dc3545}.custom-dialog[_ngcontent-%COMP%]   .p-dialog[_ngcontent-%COMP%]{width:70%;max-width:1100px;padding:0}.custom-dialog[_ngcontent-%COMP%]   .p-dialog-content[_ngcontent-%COMP%]{padding:40px;background-color:#fff;border-radius:10px;box-shadow:0 0 15px #0000001a;animation:_ngcontent-%COMP%_fadeIn .6s ease-in-out;font-size:2rem}.custom-dialog[_ngcontent-%COMP%]   .p-dialog-header[_ngcontent-%COMP%]{font-size:3rem;background-color:#0077b5;color:#fff;padding:25px}.custom-dialog[_ngcontent-%COMP%]   img.profile-image[_ngcontent-%COMP%]{margin-right:20px;width:80px;height:80px;border-radius:50%}.custom-dialog[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;margin-bottom:10px}.custom-dialog[_ngcontent-%COMP%]   h3.section-header[_ngcontent-%COMP%]{font-size:2.8rem;margin-bottom:20px}.custom-dialog[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background:#fff;border-radius:10px;margin-bottom:15px;padding:20px;box-shadow:0 0 10px #0000000d}.custom-dialog[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 3px 15px #0000001a}.custom-dialog[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:10px}.custom-dialog[_ngcontent-%COMP%]   .btn-outline-primary[_ngcontent-%COMP%]{border-color:#007bff;color:#007bff;background-color:transparent;font-size:1.6rem;transition:background-color .3s ease-in-out,color .3s ease-in-out}.custom-dialog[_ngcontent-%COMP%]   .btn-outline-primary[_ngcontent-%COMP%]:hover{background-color:#007bff;color:#fff}.custom-dialog[_ngcontent-%COMP%]   .btn-outline-danger[_ngcontent-%COMP%]{border-color:red;color:red}.custom-dialog[_ngcontent-%COMP%]   .btn-outline-danger[_ngcontent-%COMP%]:hover{background-color:#ff0101;color:#fff}.custom-dialog[_ngcontent-%COMP%]   .btn-mark-read[_ngcontent-%COMP%]{display:inline-block;background-color:#007bff;color:#fff;padding:15px 30px;border:none;border-radius:5px;cursor:pointer;font-size:1.6rem;margin-top:15px}.custom-dialog[_ngcontent-%COMP%]   .btn-mark-read[_ngcontent-%COMP%]:hover{background-color:#0056b3}.custom-dialog[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:10px;color:#333}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}"]});let n=e;return n})();var F5=(()=>{let e=class e{constructor(i,r){this.authService=i,this.router=r,this.title="LinkedInCloneV1",this.idleTime=0,this.maxIdleTime=15*60*1e3}ngOnInit(){this.resetTimer(),this.timeout=setInterval(()=>{this.idleTime+=1e3,this.idleTime>=this.maxIdleTime&&this.logoutUser()},1e3)}onMouseMove(){this.resetTimer()}onKeyDown(){this.resetTimer()}onClick(){this.resetTimer()}unloadHandler(i){this.setUserOfflineBeforeUnload()}resetTimer(){this.idleTime=0}logoutUser(){clearInterval(this.timeout),this.authService.logout(),this.router.navigate(["/login"]),alert("You have been logged out due to inactivity.")}setUserOfflineBeforeUnload(){return F(this,null,function*(){let i=yield this.authService.getCurrentUserDetails();i&&i.uid&&(yield this.authService.setUserOfflineOnLogout(i.uid))})}};e.\u0275fac=function(r){return new(r||e)(B(ui),B(Lt))},e.\u0275cmp=Oe({type:e,selectors:[["app-root"]],hostBindings:function(r,s){r&1&&re("mousemove",function(){return s.onMouseMove()},!1,gf)("keydown",function(){return s.onKeyDown()},!1,gf)("click",function(){return s.onClick()},!1,gf)("beforeunload",function(a){return s.unloadHandler(a)},!1,gf)},decls:2,vars:0,template:function(r,s){r&1&&ne(0,"app-header")(1,"router-outlet")},dependencies:[oM,P5]});let n=e;return n})();var wh=(()=>{let e=class e{constructor(i,r){this.authService=i,this.router=r}canActivate(i,r){return this.authService.getUser().pipe(tn(1),se(s=>s?!0:this.router.createUrlTree(["(login"])))}};e.\u0275fac=function(r){return new(r||e)(G(ui),G(Lt))},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var cl=(()=>{let e=class e{constructor(i){this.http=i,this.apiKey="AIzaSyCp371P2OyvJ0yDNjKIabiS-C-RaTvsLD4"}getCoordinates(i){let r=`https://maps.googleapis.com/maps/api/geocode/json?address=${encodeURIComponent(i)}&key=${this.apiKey}`;return this.http.get(r).pipe(se(s=>{if(console.log("Geocoding API response:",s),s.status==="OK"&&s.results&&s.results.length>0)return s.results[0].geometry.location;throw new Error("Location not found")}),ei(s=>(console.error("Error fetching coordinates:",s),le({lat:0,lng:0}))))}getReverseGeocode(i,r){let s=`https://maps.googleapis.com/maps/api/geocode/json?latlng=${i},${r}&key=${this.apiKey}`;return this.http.get(s).pipe(se(o=>{if(console.log("Reverse Geocoding API response:",o),o.status==="OK"&&o.results&&o.results.length>0){let a=o.results[0],l=a.address_components.find(d=>d.types.includes("locality")),c=a.address_components.find(d=>d.types.includes("administrative_area_level_2"));return{formatted_address:a.formatted_address,locality:l?l.long_name:null,administrative_area_level_2:c?c.long_name:null}}throw new Error("Address not found")}))}};e.\u0275fac=function(r){return new(r||e)(G(GC))},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var HM=n=>({"is-invalid":n});function Qte(n,e){n&1&&(E(0,"div",33)(1,"div",34)(2,"span",35),L(3,"Loading..."),b()()())}function Zte(n,e){n&1&&(E(0,"div",48),L(1," First Name is required. "),b())}function Yte(n,e){n&1&&(E(0,"div",48),L(1," Last Name is required. "),b())}function Jte(n,e){n&1&&(E(0,"div"),L(1," Contact is required. "),b())}function Xte(n,e){n&1&&(E(0,"div"),L(1," Only numbers and + are allowed. "),b())}function ene(n,e){if(n&1&&(E(0,"div",48),J(1,Jte,2,0,"div",9)(2,Xte,2,0,"div",9),b()),n&2){let t,i,r=U(2);T(),x("ngIf",(t=r.authForm.get("contact"))==null||t.errors==null?null:t.errors.required),T(),x("ngIf",(i=r.authForm.get("contact"))==null||i.errors==null?null:i.errors.pattern)}}function tne(n,e){n&1&&(E(0,"div",48),L(1," Address is required. "),b())}function nne(n,e){if(n&1){let t=Ce();E(0,"div")(1,"div",10)(2,"input",36),re("change",function(r){ue(t);let s=U();return de(s.onFileSelected(r))}),b(),E(3,"label",37),L(4,"Profile Image"),b()(),E(5,"div",10),ne(6,"input",38),E(7,"label",39),L(8,"First Name"),b(),J(9,Zte,2,0,"div",13),b(),E(10,"div",10),ne(11,"input",40),E(12,"label",41),L(13,"Last Name"),b(),J(14,Yte,2,0,"div",13),b(),E(15,"div",10),ne(16,"input",42),E(17,"label",43),L(18,"Contact"),b(),J(19,ene,3,2,"div",13),b(),E(20,"div",10),ne(21,"input",44),E(22,"label",45),L(23,"Address"),b(),J(24,tne,2,0,"div",13),b(),E(25,"div",10),ne(26,"textarea",46),E(27,"label",47),L(28,"Bio"),b()()()}if(n&2){let t,i,r,s,o=U();T(9),x("ngIf",((t=o.authForm.get("firstName"))==null?null:t.invalid)&&((t=o.authForm.get("firstName"))==null?null:t.touched)),T(5),x("ngIf",((i=o.authForm.get("lastName"))==null?null:i.invalid)&&((i=o.authForm.get("lastName"))==null?null:i.touched)),T(5),x("ngIf",((r=o.authForm.get("contact"))==null?null:r.invalid)&&((r=o.authForm.get("contact"))==null?null:r.touched)),T(5),x("ngIf",((s=o.authForm.get("address"))==null?null:s.invalid)&&((s=o.authForm.get("address"))==null?null:s.touched))}}function ine(n,e){n&1&&(E(0,"div"),L(1," Email is required. "),b())}function rne(n,e){n&1&&(E(0,"div"),L(1," Please enter a valid email address. "),b())}function sne(n,e){n&1&&(E(0,"div"),L(1," This email is already in use. "),b())}function one(n,e){if(n&1&&(E(0,"div",48),J(1,ine,2,0,"div",9)(2,rne,2,0,"div",9)(3,sne,2,0,"div",9),b()),n&2){let t,i,r,s=U();T(),x("ngIf",(t=s.authForm.get("email"))==null||t.errors==null?null:t.errors.required),T(),x("ngIf",(i=s.authForm.get("email"))==null||i.errors==null?null:i.errors.email),T(),x("ngIf",(r=s.authForm.get("email"))==null||r.errors==null?null:r.errors.emailExists)}}function ane(n,e){n&1&&(E(0,"div"),L(1," Password is required. "),b())}function lne(n,e){n&1&&(E(0,"div"),L(1," The password you provided must have at least 6 characters. "),b())}function cne(n,e){if(n&1&&(E(0,"div",48),J(1,ane,2,0,"div",9)(2,lne,2,0,"div",9),b()),n&2){let t,i,r=U();T(),x("ngIf",(t=r.authForm.get("password"))==null||t.errors==null?null:t.errors.required),T(),x("ngIf",(i=r.authForm.get("password"))==null||i.errors==null?null:i.errors.minlength)}}function une(n,e){if(n&1){let t=Ce();E(0,"ion-icon",49),re("click",function(){ue(t);let r=U();return de(r.togglePasswordVisibility())}),b()}}function dne(n,e){if(n&1){let t=Ce();E(0,"ion-icon",50),re("click",function(){ue(t);let r=U();return de(r.togglePasswordVisibility())}),b()}}function hne(n,e){n&1&&(E(0,"div"),L(1," Confirm Password is required. "),b())}function fne(n,e){n&1&&(E(0,"div"),L(1," Passwords do not match. "),b())}function pne(n,e){if(n&1&&(E(0,"div",48),J(1,hne,2,0,"div",9)(2,fne,2,0,"div",9),b()),n&2){let t,i,r=U(2);T(),x("ngIf",(t=r.authForm.get("confirmPassword"))==null||t.errors==null?null:t.errors.required),T(),x("ngIf",(i=r.authForm.get("confirmPassword"))==null||i.errors==null?null:i.errors.isMatching)}}function gne(n,e){if(n&1&&(E(0,"div",10),ne(1,"input",51),E(2,"label",52),L(3,"Confirm Password"),b(),J(4,pne,3,2,"div",13),b()),n&2){let t,i,r=U();T(),x("ngClass",qn(2,HM,((t=r.authForm.get("confirmPassword"))==null?null:t.invalid)&&((t=r.authForm.get("confirmPassword"))==null?null:t.touched))),T(3),x("ngIf",((i=r.authForm.get("confirmPassword"))==null?null:i.invalid)&&((i=r.authForm.get("confirmPassword"))==null?null:i.touched))}}function mne(n,e){if(n&1&&(E(0,"div",48),L(1),b()),n&2){let t=U();T(),rt(" ",t.loginError," ")}}var GM=(()=>{let e=class e{constructor(i,r,s,o,a){this.fb=i,this.authService=r,this.router=s,this.geocodingService=o,this.headerService=a,this.isLoginMode=!0,this.selectedFile=null,this.passwordFieldType="password",this.loginError="",this.emailExists=!1}ngOnInit(){console.log("AuthComponent initialized"),this.headerService.hide(),this.initializeForm(),console.log("Form initialized:",this.authForm),console.log("Initial mode (isLoginMode):",this.isLoginMode)}ngOnDestroy(){this.headerService.show()}matchValues(i){return r=>{let o=r.parent?.controls[i];return o&&r.value!==o.value?{isMatching:!1}:null}}onSubmit(){if(console.log("Submit button clicked"),this.authForm.invalid&&!this.isLoginMode){console.log("Form invalid:",this.authForm.errors),this.authForm.markAllAsTouched();return}let{email:i,password:r}=this.authForm.value;console.log("Form valid, proceeding with submission"),this.isLoginMode?(console.log("Login mode detected"),this.handleLogin(i,r)):(console.log("Register mode detected"),this.authService.checkEmailExists(i).then(s=>{s?(this.emailExists=!0,this.authForm.get("email")?.setErrors({emailExists:!0}),console.log("Neuspje\u0161no")):(console.log("Uspje\u0161no"),this.emailExists=!1,this.registerUser())}).catch(s=>{console.error("Error during email check: ",s)}))}initializeForm(){this.authForm=this.fb.group({firstName:["",Ft.required],lastName:["",Ft.required],email:["",[Ft.required,Ft.email]],password:["",[Ft.required,Ft.minLength(6)]],confirmPassword:["",[Ft.required,this.matchValues("password")]],contact:["",[Ft.required,Ft.pattern(/^[\d\+]+$/)]],address:["",Ft.required],bio:[""],profileImage:[""]}),console.log("Form controls:",this.authForm.controls),console.log("Form controls status:",this.authForm.status),console.log("Form errors:",this.authForm.errors),console.log("Each control:",this.authForm.controls)}handleLogin(i,r){this.authService.login(i,r).then(()=>this.router.navigate(["/home"])).catch(s=>{this.loginError="Wrong email or password. Try again or create an account.",console.error("Error during login: ",s)})}registerUser(){console.log("Register user method triggered");let o=this.authForm.value,{email:i,password:r}=o,s=Hh(o,["email","password"]);console.log("User data for registration:",s),this.authService.register(i,r,s).then(a=>{console.log("User registered successfully:",a),a&&a.user&&(this.selectedFile?this.authService.uploadProfileImage(a.user.uid,this.selectedFile,s):this.saveUserData(a.user.uid,s))}).catch(a=>{a.code==="auth/email-already-in-use"&&this.authForm.get("email")?.setErrors({emailExists:!0}),console.error("Error during registration: ",a)})}saveUserData(i,r){this.geocodingService.getCoordinates(r.address).subscribe(s=>{r.position=s,this.authService.saveUserData(i,r).then(()=>this.router.navigate(["/home"])).catch(o=>console.error("Error saving user data:",o))},s=>console.error("Error getting coordinates for user address:",s))}toggleMode(){this.isLoginMode=!this.isLoginMode,console.log("Mode toggled. Current mode:",this.isLoginMode?"Login":"Register")}togglePasswordVisibility(){this.passwordFieldType=this.passwordFieldType==="password"?"text":"password"}onGoogleSignIn(){this.authService.googleSignIn().then(()=>console.log("Google Sign-In successful")).catch(i=>console.error("Google Sign-In error:"))}onFileSelected(i){this.selectedFile=i.target.files[0]}};e.\u0275fac=function(r){return new(r||e)(B(el),B(ui),B(Lt),B(cl),B(yh))},e.\u0275cmp=Oe({type:e,selectors:[["app-auth"]],decls:43,vars:18,consts:[[1,"container","mt-5"],["class","loader",4,"ngIf"],[1,"row","justify-content-center"],[1,"col","md-4"],[1,"card","shadow-sm","p-4"],[1,"card-body"],["src","assets/images/LI-Logo.png","alt","linkedin logo",1,"linkedin-logo","mb-4"],[1,"text-center"],[3,"ngSubmit","formGroup"],[4,"ngIf"],[1,"form-group"],["type","email","id","email","formControlName","email","placeholder"," ",1,"form-control",3,"ngClass"],["for","email",1,"form-label"],["class","text-danger",4,"ngIf"],[1,"form-group","position-relative","input-with-icon"],["id","password","formControlName","password","placeholder"," ",1,"form-control",3,"type","ngClass"],["for","password",1,"form-label"],["name","eye-outline","class","password-icon",3,"click",4,"ngIf"],["name","eye-off-outline","class","password-icon",3,"click",4,"ngIf"],["class","form-group",4,"ngIf"],["type","submit",1,"btn","btn-primary","w-100"],["type","button",1,"btn","btn-outline-secondary","w-100",3,"click"],[1,"btn","btn-outline-secondary","w-100",3,"click"],[1,"gsi-material-button-state"],[1,"gsi-material-button-content-wrapper","d-flex","align-items-center","justify-content-center"],[1,"gsi-material-button-icon"],["version","1.1","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 48 48",0,"xmlns","xlink","http://www.w3.org/1999/xlink",2,"display","block","width","24px","height","24px"],["fill","#EA4335","d","M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"],["fill","#4285F4","d","M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"],["fill","#FBBC05","d","M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"],["fill","#34A853","d","M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"],["fill","none","d","M0 0h48v48H0z"],[1,"gsi-material-button-contents","ml-2"],[1,"loader"],["role","status",1,"spinner-border"],[1,"visually-hidden"],["type","file","id","profileImage",1,"form-control",3,"change"],["for","profileImage",1,"form-label"],["type","text","id","firstname","formControlName","firstName","placeholder"," ",1,"form-control"],["for","firstname",1,"form-label"],["type","text","id","lastname","formControlName","lastName","placeholder"," ",1,"form-control"],["for","lastname",1,"form-label"],["type","text","id","contact","formControlName","contact","placeholder"," ",1,"form-control"],["for","contact",1,"form-label"],["type","text","id","address","formControlName","address","placeholder"," ",1,"form-control"],["for","address",1,"form-label"],["id","bio","formControlName","bio","placeholder"," ",1,"form-control"],["for","bio",1,"form-label"],[1,"text-danger"],["name","eye-outline",1,"password-icon",3,"click"],["name","eye-off-outline",1,"password-icon",3,"click"],["type","password","id","confirmPassword","formControlName","confirmPassword","placeholder"," ",1,"form-control",3,"ngClass"],["for","confirmPassword",1,"form-label"]],template:function(r,s){if(r&1&&(E(0,"div",0),J(1,Qte,4,0,"div",1),E(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),ne(6,"img",6),E(7,"h6",7),L(8,"Stay updated on your professional world"),b(),E(9,"form",8),re("ngSubmit",function(){return s.onSubmit()}),J(10,nne,29,4,"div",9),E(11,"div",10),ne(12,"input",11),E(13,"label",12),L(14,"Email"),b(),J(15,one,4,3,"div",13),b(),E(16,"div",14),ne(17,"input",15),E(18,"label",16),L(19,"Password"),b(),J(20,cne,3,2,"div",13)(21,une,1,0,"ion-icon",17)(22,dne,1,0,"ion-icon",18),b(),J(23,gne,5,4,"div",19)(24,mne,2,1,"div",13),E(25,"button",20),L(26),b(),ne(27,"hr"),E(28,"button",21),re("click",function(){return s.toggleMode()}),L(29),b(),ne(30,"hr"),E(31,"button",22),re("click",function(){return s.onGoogleSignIn()}),ne(32,"div",23),E(33,"div",24)(34,"div",25),Ds(),E(35,"svg",26),ne(36,"path",27)(37,"path",28)(38,"path",29)(39,"path",30)(40,"path",31),b()(),PR(),E(41,"span",32),L(42,"Continue with Google"),b()()()()()()()()()),r&2){let o,a,l,c;T(),x("ngIf",s.authService.loading),T(8),x("formGroup",s.authForm),T(),x("ngIf",!s.isLoginMode),T(2),x("ngClass",qn(14,HM,((o=s.authForm.get("email"))==null?null:o.invalid)&&((o=s.authForm.get("email"))==null?null:o.touched))),T(3),x("ngIf",((a=s.authForm.get("email"))==null?null:a.invalid)&&((a=s.authForm.get("email"))==null?null:a.touched)),T(2),x("type",s.passwordFieldType)("ngClass",qn(16,HM,((l=s.authForm.get("password"))==null?null:l.invalid)&&((l=s.authForm.get("password"))==null?null:l.touched))),T(3),x("ngIf",((c=s.authForm.get("password"))==null?null:c.invalid)&&((c=s.authForm.get("password"))==null?null:c.touched)),T(),x("ngIf",s.passwordFieldType==="password"),T(),x("ngIf",s.passwordFieldType==="text"),T(),x("ngIf",!s.isLoginMode),T(),x("ngIf",s.loginError&&s.isLoginMode),T(2),rt(" ",s.isLoginMode?"Login":"Register"," "),T(3),rt(" ",s.isLoginMode?"Join Now":"Login"," ")}},dependencies:[Oi,kt,Pi,kn,li,ki,Vo,Bo],styles:[".card[_ngcontent-%COMP%]{max-width:500px;margin:0 auto;border-radius:15px;box-shadow:0 0 20px #0000001a;padding:30px;background:#fff}.linkedin-logo[_ngcontent-%COMP%]{max-width:150px;margin:0 auto 20px;display:block;animation:fadeIn 1s ease-in-out}.form-control[_ngcontent-%COMP%]{position:relative;padding:10px;box-shadow:0 0 20px #8d8d8d4d;border-color:#0404044d}.form-label[_ngcontent-%COMP%]{font-size:16px;margin-bottom:8px}.btn-primary[_ngcontent-%COMP%], .btn-outline-secondary[_ngcontent-%COMP%]{font-size:18px;padding:12px 25px;border-radius:25px}.password-icon[_ngcontent-%COMP%]{position:absolute;font-size:1.5em;top:50%;right:30px;transform:translateY(-115%);cursor:pointer;z-index:30}@media (max-width: 768px){.card[_ngcontent-%COMP%]{padding:20px}.linkedin-logo[_ngcontent-%COMP%]{max-width:120px}.form-control[_ngcontent-%COMP%]{font-size:14px;padding:10px}.btn-primary[_ngcontent-%COMP%], .btn-outline-secondary[_ngcontent-%COMP%]{font-size:16px;padding:10px 20px}}.loader[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#fffc;display:flex;justify-content:center;align-items:center;z-index:1000}.spinner-border[_ngcontent-%COMP%]{width:2.5rem;height:2.5rem;border-width:.2rem}"]});let n=e;return n})();var bh=Hg(ag());var L5=(()=>{let e=class e{constructor(i){this.firestore=i}getConversations(i){return this.firestore.collection("conversations",r=>r.where("participants","array-contains",i)).snapshotChanges().pipe(Le(r=>{let s=r.map(a=>{let l=a.payload.doc.data(),c=a.payload.doc.id;return l.lastMessage&&l.lastMessage.timestamp&&l.lastMessage.timestamp.toDate&&(l.lastMessage.timestamp=l.lastMessage.timestamp.toDate()),Ee(Q({},l),{id:c})}),o=s.map(a=>this.firestore.collection(`conversations/${a.id}/messages`,l=>l.where("senderId","!=",i).where("read","==",!1)).valueChanges().pipe(se(l=>({conversationId:a.id,count:l.length}))));return or(o).pipe(se(a=>(a.forEach(l=>{let c=s.find(d=>d.id===l.conversationId);c&&(c.unreadCount=l.count)}),s)))}))}createOrGetConversation(i){let r=i[0],s=i[1];return this.firestore.collection("conversations",o=>o.where("participants","array-contains",r)).get().toPromise().then(o=>{let a=o?.docs.find(l=>l.data().participants.includes(s));if(a)return a.id;{let l={participants:i,lastMessage:{content:"",timestamp:new Date,senderId:""}};return this.firestore.collection("conversations").add(l).then(c=>c.id)}})}deleteConversation(i){return this.firestore.collection("conversations").doc(i).delete().catch(r=>{throw console.error("Error deleting conversation: ",r),r})}getMessages(i){return this.firestore.collection(`conversations/${i}/messages`,r=>r.orderBy("timestamp")).valueChanges().pipe(se(r=>r.map(s=>Ee(Q({},s),{timestamp:s.timestamp.toDate()}))))}sendMessage(i,r,s){let o={content:r,timestamp:new Date,senderId:s,read:!1};this.firestore.collection(`conversations/${i}/messages`).add(o),this.firestore.collection("conversations").doc(i).update({lastMessage:o})}markMessagesAsRead(i,r){this.firestore.collection(`conversations/${i}/messages`,s=>s.where("senderId","!=",r).where("read","==",!1)).get().subscribe(s=>{s.forEach(o=>{this.firestore.collection(`conversations/${i}/messages`).doc(o.id).update({read:!0})})})}sendTypingStatus(i,r){this.firestore.collection(`conversations/${i}/typingStatus`).doc(r).set({isTyping:!0,timestamp:new Date}),setTimeout(()=>{this.clearTypingStatus(i,r).catch(s=>{console.error("Error clearing typing status:",s)})},3e3)}clearTypingStatus(i,r){return this.firestore.collection(`conversations/${i}/typingStatus`).doc(r).delete()}getTypingStatus(i){return this.firestore.collection(`conversations/${i}/typingStatus`).snapshotChanges().pipe(se(r=>r.map(s=>{let o=s.payload.doc.data(),a=s.payload.doc.id;return Q({senderId:a},o)})))}getUserOnlineStatus(i){return this.firestore.collection("users").doc(i).valueChanges().pipe(se(r=>!!r?.isOnline))}getLastActive(i){return this.firestore.collection("users").doc(i).valueChanges().pipe(se(r=>r.lastActive?r.lastActive.toDate():null))}};e.\u0275fac=function(r){return new(r||e)(G(ln))},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var yne=["messageList"],vne=n=>({unread:n}),wne=(n,e)=>({sent:n,received:e});function bne(n,e){if(n&1&&(E(0,"div",20),L(1),b()),n&2){let t=U().$implicit;T(),rt(" ",t.unreadCount," ")}}function Cne(n,e){if(n&1){let t=Ce();E(0,"li",9),re("click",function(){let r=ue(t).$implicit,s=U();return de(s.selectConversation(r))}),E(1,"div",10),ne(2,"img",11),E(3,"div",12)(4,"div",13),L(5),ne(6,"span",14),b(),E(7,"div",15),L(8),b()()(),E(9,"div",16)(10,"div",17),L(11),ri(12,"date"),b(),J(13,bne,2,1,"div",18),E(14,"i",19),re("click",function(r){let s=ue(t).$implicit,o=U();return de(o.confirmDelete(s,r))}),b()()()}if(n&2){let t=e.$implicit,i=U();x("ngClass",qn(10,vne,t.unread)),T(2),x("src",i.getParticipantProfileImage(t),Gn),T(3),rt(" ",i.getParticipantName(t)," "),T(),x("ngClass",t.isOnline?"online":"offline"),T(2),rt(" ",t.lastMessage.content," "),T(3),rt(" ",Yl(12,7,t.lastMessage.timestamp,"MMM d")," "),T(2),x("ngIf",t.unreadCount)}}function Ene(n,e){n&1&&(E(0,"div",37),ne(1,"i",38),b())}function Ine(n,e){if(n&1&&(E(0,"div",31),ne(1,"img",11),E(2,"div",32)(3,"div",33)(4,"span",34),L(5),ri(6,"date"),b()(),E(7,"div",35),L(8),b(),J(9,Ene,2,0,"div",36),b()()),n&2){let t=e.$implicit,i=U(2);x("ngClass",_f(8,wne,t.senderId===(i.currentUser==null?null:i.currentUser.uid),t.senderId!==(i.currentUser==null?null:i.currentUser.uid))),T(),x("src",i.getMessageProfileImage(t),Gn),T(4),ht(Yl(6,5,t.timestamp,"short")),T(3),ht(t.content),T(),x("ngIf",i.isMessageRead(t)&&t.senderId===(i.currentUser==null?null:i.currentUser.uid))}}function Dne(n,e){if(n&1&&(E(0,"div",39),L(1),b()),n&2){let t=U(2);T(),rt(" ",t.typingStatus," ")}}function Tne(n,e){if(n&1){let t=Ce();E(0,"div",21)(1,"div",22)(2,"div",10),ne(3,"img",11),E(4,"h5",23),L(5),b(),ne(6,"span",14),b(),E(7,"p",24),L(8),b()(),E(9,"div",25,1),J(11,Ine,10,11,"div",26),ri(12,"async"),J(13,Dne,2,1,"div",27),b(),E(14,"div",28)(15,"input",29),mr("ngModelChange",function(r){ue(t);let s=U();return Hr(s.newMessage,r)||(s.newMessage=r),de(r)}),re("keydown.enter",function(){ue(t);let r=U();return de(r.sendMessage())})("input",function(){ue(t);let r=U();return de(r.onMessageInput())}),b(),E(16,"button",30),re("click",function(){ue(t);let r=U();return de(r.sendMessage())}),L(17," Send "),b()()()}if(n&2){let t=U();T(3),x("src",t.getParticipantProfileImage(t.selectedConversation),Gn),T(2),rt(" ",t.getParticipantName(t.selectedConversation)," "),T(),x("ngClass",t.userStatus==="Online"?"online":"offline"),T(2),rt(" ",t.userStatus==="Online"?"Online":t.userStatus," "),T(3),x("ngForOf",qr(12,7,t.messages$)),T(2),x("ngIf",t.typingStatus),T(2),gr("ngModel",t.newMessage)}}function Sne(n,e){n&1&&(E(0,"div",40),ne(1,"div",41),b())}var V5=(()=>{let e=class e{constructor(i,r,s,o){this.chatService=i,this.authService=r,this.route=s,this.userService=o,this.conversations$=le([]),this.messages$=le([]),this.selectedConversation=null,this.newMessage="",this.typingUser=null,this.typingStatus="",this.userMap=new Map,this.userStatus="",this.typingSubscription=null,this.selectedConversationId=null}ngOnInit(){this.authService.getUser().subscribe(i=>{this.currentUser=i,i&&(this.currentUser=i,this.authService.setUserOnlineOnLogin(i.uid),this.conversations$=this.chatService.getConversations(i.uid).pipe(Le(s=>{let o=Array.from(new Set(s.flatMap(a=>a.participants)));return this.userService.getUsersByIds(o).pipe(se(a=>(a.forEach(l=>this.userMap.set(l.uid,l)),s.map(l=>(l.unread=l.lastMessage.senderId!==i.uid&&!l.lastMessage.read,l)))))}),ei(s=>le([]))),this.selectedConversationId&&this.subscribeToTypingStatus(this.selectedConversationId));let r=this.route.snapshot.paramMap.get("userId");r&&i&&this.chatService.createOrGetConversation([i.uid,r]).then(s=>{this.selectConversation({id:s,participants:[i.uid,r],lastMessage:{content:"",timestamp:new Date,senderId:""}}),this.listenForUserStatus()}).catch(s=>{console.error("Error creating or getting conversation:",s)})})}ngOnDestroy(){this.typingSubscription&&this.typingSubscription.unsubscribe(),this.currentUser?.uid&&this.authService.setUserOfflineOnLogout(this.currentUser.uid)}selectConversation(i){if(this.selectedConversation=i,this.listenForUserStatus(),this.selectedConversation.id){this.typingSubscription&&this.typingSubscription.unsubscribe();let r=this.getOtherParticipantId(i);r&&this.chatService.getUserOnlineStatus(r).subscribe(s=>{i.isOnline=s}),this.messages$=this.chatService.getMessages(this.selectedConversation.id).pipe(se(s=>(this.scrollToBottom(),s)),ei(s=>(console.error("Error fetching messages:",s),le([])))),this.chatService.markMessagesAsRead(this.selectedConversation.id,this.currentUser.uid),this.listenForTypingStatus()}}getUserName(i){let r=this.userMap.get(i);return r?`${r.firstName} ${r.lastName}`:"Unknown User"}sendMessage(){this.selectedConversation&&this.selectedConversation.id&&this.newMessage.trim()&&(this.chatService.sendMessage(this.selectedConversation.id,this.newMessage,this.currentUser.uid),this.newMessage="",this.scrollToBottom(),this.clearTypingStatus())}onMessageInput(){this.selectedConversation&&this.selectedConversation.id&&this.currentUser?.uid&&(this.chatService.sendTypingStatus(this.selectedConversation.id,this.currentUser.uid),this.typingTimeout&&clearTimeout(this.typingTimeout),this.typingTimeout=setTimeout(()=>{this.selectedConversation?.id&&this.chatService.clearTypingStatus(this.selectedConversation.id,this.currentUser.uid).then(()=>{console.log(`Cleared typing status for user ${this.currentUser.uid}`)})},3e3))}getMessageProfileImage(i){return this.userMap.get(i.senderId)?.profileImageUrl||"assets/images/add-photo.png"}isMessageRead(i){return i.read===!0}listenForTypingStatus(){this.selectedConversation&&this.selectedConversation.id&&(this.typingSubscription=this.chatService.getTypingStatus(this.selectedConversation.id).subscribe(i=>{let r=i.find(s=>s.senderId!==this.currentUser?.uid&&s.isTyping);if(r){let s=this.userMap.get(r.senderId)?.firstName||"User";this.typingStatus=`${s} is typing...`}else this.typingStatus="";this.scrollToBottom(),clearTimeout(this.typingTimeout),this.typingTimeout=setTimeout(()=>{this.typingStatus=""},3e3)}))}subscribeToTypingStatus(i){this.typingSubscription=this.chatService.getTypingStatus(i).subscribe(r=>{let s=r.find(o=>o.senderId!==this.currentUser?.uid&&o.isTyping);s?(this.typingStatus=`${this.getUserName(s.senderId)} is typing...`,console.log(this.typingStatus)):this.typingStatus=""},r=>{console.error("Error while subscribing to typing status:",r)})}clearTypingStatus(){this.selectedConversation?.id&&this.currentUser?.uid&&this.chatService.clearTypingStatus(this.selectedConversation.id,this.currentUser.uid).catch(i=>console.error("Error clearing typing status:",i))}getParticipantName(i){let r=i.participants.find(o=>o!==this.currentUser?.uid);if(!r)return"Unknown";let s=this.userMap.get(r);return s?`${s.firstName} ${s.lastName}`:"Unknown"}getParticipantProfileImage(i){let r=i.participants.find(o=>o!==this.currentUser?.uid);return r&&this.userMap.get(r)?.profileImageUrl||"assets/images/add-photo.png"}listenForUserStatus(){if(this.selectedConversation){let i=this.getOtherParticipantId(this.selectedConversation);i&&this.chatService.getUserOnlineStatus(i).subscribe(r=>{r===!0?this.userStatus="Online":this.chatService.getLastActive(i).subscribe(s=>{s?this.userStatus=this.getLastActiveTime(s):this.userStatus="Not available"})})}}getLastActiveTime(i){if(!i)return"Not available";let s=new Date().getTime()-i.getTime(),o=Math.floor(s/6e4);return o<60?`${o} minutes ago`:`${Math.floor(o/60)} hours ago`}getOtherParticipantId(i){return i.participants.find(r=>r!==this.currentUser?.uid)}confirmDelete(i,r){r.stopPropagation(),bh.default.fire({title:"Are you sure?",text:"This conversation will be deleted permanently!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!",cancelButtonText:"Cancel"}).then(s=>{s.isConfirmed&&this.chatService.deleteConversation(i.id).then(()=>{bh.default.fire("Deleted!","The conversation has been deleted.","success")}).catch(o=>{bh.default.fire("Error!","There was an error deleting the conversation.","error")})})}deleteConversation(i){i.id&&this.chatService.deleteConversation(i.id).then(()=>{bh.default.fire("Deleted!","The conversation has been deleted.","success")}).catch(r=>{bh.default.fire("Error!","Failed to delete the conversation.","error"),console.error("Error deleting conversation:",r)})}scrollToBottom(){setTimeout(()=>{try{this.messageList.nativeElement.scrollTop=this.messageList.nativeElement.scrollHeight}catch(i){console.error("Error scrolling to bottom:",i)}},100)}};e.\u0275fac=function(r){return new(r||e)(B(L5),B(ui),B(rs),B(Js))},e.\u0275cmp=Oe({type:e,selectors:[["app-chat"]],viewQuery:function(r,s){if(r&1&&Ms(yne,5),r&2){let o;xn(o=Rn())&&(s.messageList=o.first)}},decls:12,vars:5,consts:[["loadingTemplate",""],["messageList",""],[1,"container","mt-4"],[1,"row"],[1,"col-md-4","conversation-list"],[1,"list-group"],["class","list-group-item conversation-item d-flex justify-content-between",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"col-md-8"],["class","position-relative message-container",4,"ngIf","ngIfElse"],[1,"list-group-item","conversation-item","d-flex","justify-content-between",3,"click","ngClass"],[1,"d-flex","align-items-center"],["alt","Profile Image",1,"rounded-circle","me-2",2,"width","30px","height","30px","object-fit","cover",3,"src"],[1,"conversation-details"],[1,"conversation-name"],[1,"status-circle",3,"ngClass"],[1,"conversation-snippet"],[1,"conversation-meta","d-flex","align-items-center"],[1,"conversation-date","me-2"],["class","badge bg-primary rounded-pill me-2",4,"ngIf"],["title","Delete Conversation",1,"fa","fa-times","delete-icon",3,"click"],[1,"badge","bg-primary","rounded-pill","me-2"],[1,"position-relative","message-container"],[1,"participant-info","hanging-info"],[1,"mb-0","me-2"],[1,"status-text","mt-1","mb-0"],[1,"message-list"],["class","message-item",3,"ngClass",4,"ngFor","ngForOf"],["class","typing-indicator",4,"ngIf"],[1,"input-group","mt-3","message-input"],["type","text","placeholder","Type a message",1,"form-control",3,"ngModelChange","keydown.enter","input","ngModel"],[1,"btn","btn-primary","btn-send",3,"click"],[1,"message-item",3,"ngClass"],[1,"message-content"],[1,"message-metadata"],[1,"message-date"],[1,"message-text"],["class","read-receipt",4,"ngIf"],[1,"read-receipt"],[1,"fa","fa-check"],[1,"typing-indicator"],[1,"loader-container"],[1,"loader"]],template:function(r,s){if(r&1&&(E(0,"div",2)(1,"div",3)(2,"div",4)(3,"h4"),L(4,"Conversations"),b(),E(5,"ul",5),J(6,Cne,15,12,"li",6),ri(7,"async"),b()(),E(8,"div",7),J(9,Tne,18,9,"div",8)(10,Sne,2,0,"ng-template",null,0,Wr),b()()()),r&2){let o=zr(11);T(6),x("ngForOf",qr(7,3,s.conversations$)),T(3),x("ngIf",s.selectedConversation)("ngIfElse",o)}},dependencies:[Oi,xs,kt,kn,li,Lo,Ea,Yu],styles:[".container[_ngcontent-%COMP%]{font-family:Arial,sans-serif}.conversation-list[_ngcontent-%COMP%]{border-right:1px solid #ddd;padding-right:10px;animation:_ngcontent-%COMP%_fadeIn .5s ease-in-out}.list-group-item[_ngcontent-%COMP%]{border-radius:10px;margin-bottom:10px;transition:background-color .3s,box-shadow .3s,transform .3s;display:flex;align-items:center;justify-content:space-between;cursor:pointer;animation:slideIn .4s ease-in-out}.conversation-item[_ngcontent-%COMP%]:hover{background-color:#f0f0f0;box-shadow:0 4px 8px #0000001a;transform:translateY(-2px)}.conversation-item.unread[_ngcontent-%COMP%]{background-color:#e6f7ff;font-weight:700}.conversation-details[_ngcontent-%COMP%]{flex:1;margin-left:10px}.conversation-name[_ngcontent-%COMP%]{font-weight:700;display:flex;align-items:center}.conversation-snippet[_ngcontent-%COMP%]{color:#666;font-size:.9rem}.conversation-meta[_ngcontent-%COMP%]{text-align:right;display:flex;flex-direction:column;align-items:flex-end}.conversation-date[_ngcontent-%COMP%]{color:#999;font-size:.8rem}.badge[_ngcontent-%COMP%]{margin-top:5px}.status-circle[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:50%;margin-left:8px}.online[_ngcontent-%COMP%]{background-color:#28a745}.offline[_ngcontent-%COMP%]{background-color:#dc3545}.message-list[_ngcontent-%COMP%]{max-height:500px;overflow-y:auto;padding:10px;border:1px solid #ddd;border-radius:5px;background-color:#f9f9f9;animation:_ngcontent-%COMP%_fadeIn .5s ease-in-out;scroll-behavior:smooth}.message-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;margin-bottom:15px;animation:_ngcontent-%COMP%_fadeIn .6s ease}.message-content[_ngcontent-%COMP%]{max-width:75%;padding:10px;border-radius:15px;background-color:#e0e0e0;word-wrap:break-word;position:relative}.message-metadata[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-size:.8rem;color:#666;margin-bottom:5px}.message-text[_ngcontent-%COMP%]{font-size:1rem}.sent[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{background-color:#d1e7dd;align-self:flex-end;margin-left:auto}.received[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{background-color:#fff3cd;margin-right:auto}.sent[_ngcontent-%COMP%]{flex-direction:row-reverse}.received[_ngcontent-%COMP%]{flex-direction:row}.read-receipt[_ngcontent-%COMP%]{font-size:.75rem;color:#28a745;text-align:right;margin-top:5px}.typing-indicator[_ngcontent-%COMP%]{color:#999;font-style:italic;margin-top:10px;animation:_ngcontent-%COMP%_blink 1.5s steps(2) infinite}.message-input[_ngcontent-%COMP%]{display:flex;align-items:center}.message-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-radius:20px;padding:10px;margin-right:10px}.message-input[_ngcontent-%COMP%]   .btn-send[_ngcontent-%COMP%]{border-radius:20px;padding:10px 20px;background-color:#007bff;color:#fff;transition:background-color .3s ease,box-shadow .3s ease}.message-input[_ngcontent-%COMP%]   .btn-send[_ngcontent-%COMP%]:hover{background-color:#0056b3;box-shadow:0 4px 10px #007bff80}.participant-info[_ngcontent-%COMP%]{position:absolute;top:-10px;left:50%;transform:translate(-50%);background-color:#fff;padding:15px 20px;border-radius:15px;box-shadow:0 4px 8px #0000001a;border:1px solid #e0e0e0;text-align:center;z-index:1;transition:opacity .3s ease,transform .3s ease}.participant-info[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{align-items:center;justify-content:center}.participant-info[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;border:2px solid #ddd;width:40px;height:40px;margin-right:10px;object-fit:cover}.participant-info[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin-bottom:0;font-size:1.1rem;font-weight:700}.status-text[_ngcontent-%COMP%]{font-size:.85rem;color:#555;margin-top:4px;text-align:center}.message-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;object-fit:cover;margin-right:10px}.delete-conversation[_ngcontent-%COMP%]{cursor:pointer}.delete-conversation[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem;cursor:pointer;transition:color .3s ease-in-out;color:#ff4d4f}.delete-conversation[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{color:#8b0000;transform:scale(1.1)}.loader-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%}.loader[_ngcontent-%COMP%]{border:4px solid rgba(0,0,0,.1);border-left-color:#007bff;border-radius:50%;width:40px;height:40px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_blink{50%{opacity:0}}"]});let n=e;return n})();var ul=(()=>{let e=class e{constructor(i,r){this.firestore=i,this.authService=r}getUserData(){return this.authService.getUser().pipe(Le(i=>{if(i)return this.firestore.collection("users").doc(i.uid).valueChanges();throw new Error("User not authenticated")}))}updateUserData(i){return this.authService.getUser().pipe(Le(r=>r?this.firestore.collection("users").doc(r.uid).update(i):Promise.reject("User not authenticated"))).toPromise()}searchUsers(i){return this.firestore.collection("users",r=>r.orderBy("firstName").startAt(i).endAt(i+"\uF8FF")).valueChanges()}checkConnection(i){return this.authService.getUser().pipe(Le(r=>r?this.firestore.doc(`users/${r.uid}`).valueChanges().pipe(Le(s=>le(s.connections&&s.connections.includes(i)))):le(!1)))}unconnectUser(i){return this.authService.getUser().pipe(Le(r=>{if(!r)throw new Error("User not authenticated");let s=this.firestore.doc(`users/${r.uid}`),o=this.firestore.doc(`users/${i}`),a=this.firestore.firestore.batch();return a.update(s.ref,{connections:vt.firestore.FieldValue.arrayRemove(i)}),a.update(o.ref,{connections:vt.firestore.FieldValue.arrayRemove(r.uid)}),le(a.commit())}))}};e.\u0275fac=function(r){return new(r||e)(G(ln),G(ui))},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function Mne(n,e){n&1&&(E(0,"div",3)(1,"div",4)(2,"span",5),L(3,"Loading..."),b()()())}function Ane(n,e){if(n&1){let t=Ce();E(0,"div",30)(1,"div",21)(2,"div",31)(3,"img",32),re("click",function(){let r=ue(t).$implicit,s=U(2);return de(s.goToProfile(r.userId))}),b(),E(4,"div")(5,"h6",33),re("click",function(){let r=ue(t).$implicit,s=U(2);return de(s.goToProfile(r.userId))}),L(6),b(),E(7,"p",34),L(8),ri(9,"date"),b()()(),ne(10,"hr"),E(11,"p",35),L(12),b(),E(13,"div",36)(14,"button",37),re("click",function(){let r=ue(t).$implicit,s=U(2);return de(s.toggleLike(r))}),ne(15,"i",38),E(16,"span"),L(17),b()()()()()}if(n&2){let t=e.$implicit,i=U(2);T(3),x("src",t.userProfileImageUrl,Gn),T(3),ht(t.userName),T(2),ht(Yl(9,8,t.timestamp,"short")),T(4),ht(t.content),T(2),jr("liked",t.likedBy.includes(i.user.uid)),T(),x("ngClass",t.likedBy.includes(i.user.uid)?"bi bi-hand-thumbs-up-fill":"bi bi-hand-thumbs-up"),T(2),ht(t.likes)}}function xne(n,e){n&1&&(E(0,"span"),L(1,", "),b())}function Rne(n,e){if(n&1&&(E(0,"span"),L(1),J(2,xne,2,0,"span",47),b()),n&2){let t=e.$implicit,i=e.index,r=U().$implicit;T(),rt(" ",t.skillName,""),T(),x("ngIf",i<r.skills.length-1)}}function One(n,e){if(n&1){let t=Ce();E(0,"li",39)(1,"div",40)(2,"img",41),re("click",function(){let r=ue(t).$implicit,s=U(2);return de(s.goToProfile(r.uid))}),b(),E(3,"div",42),re("click",function(){let r=ue(t).$implicit,s=U(2);return de(s.goToProfile(r.uid))}),E(4,"h5"),L(5),b(),E(6,"h6")(7,"strong"),L(8,"Skills:"),b(),J(9,Rne,3,2,"span",43),b()(),E(10,"div",44)(11,"button",45),re("click",function(){let r=ue(t).$implicit,s=U(2);return de(s.sendMessage(r.uid))}),ne(12,"i",46),b()()()()}if(n&2){let t=e.$implicit;T(2),x("src",t.profileImageUrl||"assets/images/add-photo.png",Gn),T(3),$r("",t.firstName," ",t.lastName,""),T(4),x("ngForOf",t.skills)}}function Nne(n,e){if(n&1){let t=Ce();E(0,"div",6)(1,"div",7)(2,"div",8)(3,"div",9),ne(4,"img",10),b(),E(5,"div",11)(6,"h3",12),L(7),b(),E(8,"p",13),L(9),b(),E(10,"p",14),L(11),b()(),E(12,"ul",15)(13,"li",16)(14,"span",17),L(15,"Connections"),b(),E(16,"span",18),L(17),b()(),E(18,"li",16),L(19,"Saved items"),b()()()(),E(20,"div",19)(21,"div",20)(22,"div",21)(23,"form",22),re("ngSubmit",function(){ue(t);let r=U();return de(r.submitPost())}),E(24,"div",23)(25,"textarea",24),mr("ngModelChange",function(r){ue(t);let s=U();return Hr(s.postContent,r)||(s.postContent=r),de(r)}),b()(),E(26,"button",25),L(27,"Post"),b()()()(),J(28,Ane,18,11,"div",26),ri(29,"async"),b(),E(30,"div",7)(31,"div",27)(32,"div",21)(33,"h5"),L(34,"Connections"),b(),E(35,"ul",28),J(36,One,13,4,"li",29),b()()()()()}if(n&2){let t=U();T(4),x("src",t.user.profileImageUrl||"assets/images/add-photo.png",Gn),T(3),$r("",t.user.firstName," ",t.user.lastName,""),T(2),ht((t.user.education==null||t.user.education[0]==null?null:t.user.education[0].degree)||"No education added"),T(2),ht(t.user.address||"No location available"),T(6),ht(t.connectedUsers.length||0),T(8),gr("ngModel",t.postContent),x("disabled",!t.userLoaded),T(3),x("ngForOf",qr(29,10,t.posts)),T(8),x("ngForOf",t.connectedUsers)}}var B5=(()=>{let e=class e{constructor(i,r,s,o,a,l,c){this.profileService=i,this.afAuth=r,this.firestore=s,this.router=o,this.toastr=a,this.userService=l,this.notificationService=c,this.postContent="",this.posts=new Se,this.user={},this.userLoaded=!1,this.unreadRequests=[],this.connectedUsers=[],this.loading=!0}ngOnInit(){this.loadData(),this.afAuth.authState.subscribe(i=>{i&&(this.firestore.collection("users").doc(i.uid).valueChanges().subscribe(r=>{r&&(this.user=Ee(Q({},r),{uid:i.uid}),this.userLoaded=!0,this.user.connections&&this.user.connections.length>0&&this.loadConnectedUsers(this.user.connections))}),this.user.connections&&this.user.connections.length>0?this.loadConnectedUsers(this.user.connections):this.user.connections=[],this.posts=this.firestore.collection("posts",r=>r.orderBy("timestamp","desc")).snapshotChanges().pipe(se(r=>r.map(s=>{let o=s.payload.doc.data(),a=s.payload.doc.id;return Ee(Q({id:a},o),{likedBy:o.likedBy||[]})})),se(r=>r.map(s=>Ee(Q({},s),{timestamp:s.timestamp.toDate()})))))})}loadData(){setTimeout(()=>{this.loading=!1},1e3)}submitPost(){if(this.postContent.trim()&&this.user&&this.user.uid){let i={content:this.postContent,timestamp:new Date,userId:this.user.uid,userName:`${this.user.firstName} ${this.user.lastName}`,userProfileImageUrl:this.user.profileImageUrl||"assets/images/add-photo.png",likes:0,likedBy:[]};this.firestore.collection("posts").add(i).then(()=>{console.log("Post added successfully"),this.postContent=""}).catch(r=>{console.error("Error adding post: ",r)})}}goToProfile(i){this.router.navigate(["/profile",i])}toggleLike(i){let r=this.firestore.collection("posts").doc(i.id);r.get().subscribe(s=>{if(s.exists){let o=s.data(),a=o?.likes||0,l=o?.likedBy||[];if(l.includes(this.user.uid)){let c=l.filter(d=>d!==this.user.uid);r.update({likes:a-1,likedBy:c}).catch(d=>{console.error("Error removing like: ",d)})}else r.update({likes:a+1,likedBy:[...l,this.user.uid]}).catch(c=>{console.error("Error liking post: ",c)})}})}loadConnectedUsers(i){if(!i||i.length===0){console.warn("No connections to load.");return}this.userService.getUsersByIds(i).subscribe(r=>{this.connectedUsers=r},r=>{console.error("Error loading connected users:",r)})}acceptRequest(i){this.notificationService.acceptConnectionRequest(i).then(()=>{this.unreadRequests=this.unreadRequests.filter(r=>r.id!==i.id),this.user.connections?this.user.connections.push(i.from||i.uid):this.user.connections=[i.from||i.uid],this.loadConnectedUsers(this.user.connections),this.toastr.success(`${i.firstName} ${i.lastName} is now connected.`)}).catch(r=>{this.toastr.error("Failed to accept the request.")})}rejectRequest(i){this.notificationService.rejectConnectionRequest(i).then(()=>{this.unreadRequests=this.unreadRequests.filter(r=>r.id!==i.id)}).catch(r=>{console.error("Error rejecting request: ",r)})}unconnectUser(i){this.profileService.unconnectUser(i).subscribe(()=>{this.toastr.success("You are no longer connected."),this.connectedUsers=this.connectedUsers.filter(r=>r.uid!==i),this.user.connections&&(this.user.connections=this.user.connections.filter(r=>r!==i))},r=>{this.toastr.error("Failed to unconnect from the user.")})}sendMessage(i){this.router.navigate(["/chat",{userId:i}])}};e.\u0275fac=function(r){return new(r||e)(B(ul),B(Zr),B(ln),B(Lt),B(Zs),B(Js),B(vh))},e.\u0275cmp=Oe({type:e,selectors:[["app-home"]],decls:3,vars:2,consts:[[1,"container-fluid"],["class","d-flex justify-content-center align-items-center","style","height: 100vh;",4,"ngIf"],["class","row",4,"ngIf"],[1,"d-flex","justify-content-center","align-items-center",2,"height","100vh"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"row"],[1,"col-lg-3","col-md-4","col-12"],[1,"card","profile-card","shadow-sm"],[1,"profile-header"],["alt","Profile Image",1,"rounded-circle","profile-image",3,"src"],[1,"card-body","text-center"],[1,"profile-name"],[1,"profile-education"],[1,"profile-location"],[1,"list-group","list-group-flush"],[1,"list-group-item"],[1,"connections-label"],[1,"badge","bg-secondary"],[1,"col-lg-6","col-md-8","col-12"],[1,"card","mb-4"],[1,"card-body"],[3,"ngSubmit"],[1,"mb-3"],["name","postContent","rows","3","placeholder","What's on your mind?",1,"form-control",3,"ngModelChange","ngModel","disabled"],["type","submit",1,"btn","btn-primary"],["class","card mb-3 post-card",4,"ngFor","ngForOf"],[1,"card"],[1,"list-group"],["class","list-group-item-con",4,"ngFor","ngForOf"],[1,"card","mb-3","post-card"],[1,"d-flex"],["alt","Profile Image",1,"rounded-circle","post-profile-image","me-3",3,"click","src"],[1,"card-title","mb-0",3,"click"],[1,"post-date"],[1,"card-text"],[1,"d-flex","justify-content-between","align-items-center"],[1,"like-button",3,"click"],[3,"ngClass"],[1,"list-group-item-con"],[1,"d-flex","align-items-center"],["alt","Profile Image",1,"profile-image-con","clickable",3,"click","src"],[1,"ms-2","clickable",3,"click"],[4,"ngFor","ngForOf"],[1,"ms-auto"],[1,"btn","btn-primary","send-message-btn",3,"click"],[1,"bi","bi-chat"],[4,"ngIf"]],template:function(r,s){r&1&&(E(0,"div",0),J(1,Mne,4,0,"div",1)(2,Nne,37,12,"div",2),b()),r&2&&(T(),x("ngIf",s.loading),T(),x("ngIf",!s.loading))},dependencies:[Oi,xs,kt,Pi,kn,li,ki,Lo,Rc,Ea,Yu],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0;padding:0}body[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100vh}.container-fluid[_ngcontent-%COMP%]{flex-grow:1;background-color:#f4f4f4!important;padding:10px 100px 100px}.profile-card[_ngcontent-%COMP%]{padding:20px;text-align:center;border-radius:10px;background-color:#fff;box-shadow:0 2px 10px #0000001a;transition:transform .3s ease,box-shadow .3s ease}.profile-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 5px 15px #0000001a}.profile-image[_ngcontent-%COMP%]{width:120px;height:120px;margin-bottom:15px;border-radius:50%;object-fit:cover}.badge[_ngcontent-%COMP%]{margin-left:10px}.list-group-item[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;box-shadow:0 2px 4px #0000001a;transition:all .3s ease}.list-group-item[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 5px 15px #0003}.connections-label[_ngcontent-%COMP%]{font-size:1.2rem;color:#007bff}.grow-network-btn[_ngcontent-%COMP%]{padding:10px 20px;font-size:1rem;border-radius:20px;transition:background-color .3s ease}.grow-network-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3;color:#fff}textarea.form-control[_ngcontent-%COMP%]{font-size:1.2rem;padding:10px;border-radius:10px}.post-profile-image[_ngcontent-%COMP%]{width:60px;height:60px;margin-right:10px;border-radius:50%;object-fit:cover}.card[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ddd;margin-bottom:20px;border-radius:10px;box-shadow:0 4px 8px #0000000d;transition:transform .3s ease,box-shadow .3s ease}.card[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 6px 20px #00000014}.card-body[_ngcontent-%COMP%]{padding:20px}.card-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;cursor:pointer;color:#007bff;transition:color .3s ease}.card-title[_ngcontent-%COMP%]:hover{color:#0056b3}.card-text[_ngcontent-%COMP%]{font-size:1.1rem;color:#333}.like-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:8px 16px;background-color:transparent;border:none;cursor:pointer;transition:all .2s ease-in-out;font-size:1.2rem}.like-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem;color:#007bff;transition:transform .2s ease,color .2s ease}.like-button[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{transform:scale(1.2)}.like-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:8px;font-size:1rem;color:#007bff;font-weight:700}.like-button.liked[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#007bff;fill:#007bff}.like-button.liked[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#007bff}.like-button[_ngcontent-%COMP%]:focus{outline:none}.profile-image-con[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;object-fit:cover}.list-group-item-con[_ngcontent-%COMP%]{padding:15px;background-color:#fff;border-radius:10px;transition:background-color .3s ease,transform .3s ease}.list-group-item-con[_ngcontent-%COMP%]:hover{background-color:#f1f1f1;transform:translateY(-3px)}h5[_ngcontent-%COMP%]{font-size:1rem;margin:0;color:#333}h6[_ngcontent-%COMP%]{font-size:.7rem;margin:0;color:#333}p[_ngcontent-%COMP%]{font-size:1rem;color:#666}.send-message-btn[_ngcontent-%COMP%]{background-color:#007bff;border:none;border-radius:50%;width:35px;height:35px;color:#fff;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:background-color .3s ease,transform .3s ease;box-shadow:0 4px 8px #0000001a}.send-message-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3;transform:scale(1.1)}.send-message-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.4rem;color:#fff}@media (max-width: 768px){.send-message-btn[_ngcontent-%COMP%]{width:35px;height:35px;font-size:1.2rem}}.loader[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:#fffc}.spinner-border[_ngcontent-%COMP%]{width:3rem;height:3rem;border-width:.3rem}.fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease-in-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.slide-up[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideUp .6s ease-out}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translateY(20px);opacity:0}to{transform:translateY(0);opacity:1}}"]});let n=e;return n})();var z5=Hg(ag());var U5=Hg(ag());function kne(n,e){n&1&&(E(0,"button",24),L(1,"Save"),b())}var WM=(()=>{let e=class e{constructor(i,r){this.activeModal=i,this.fb=r,this.isCurrentUserProfile=!1,this.educationSaved=new xe,this.initializeForm()}ngOnInit(){this.education&&this.educationForm.patchValue(this.education)}initializeForm(){this.educationForm=this.fb.group({schoolName:["",Ft.required],degree:["",Ft.required],fieldOfStudy:["",Ft.required],startDate:[""],endDate:[""],grade:[""],activities:[""],description:[""]})}onSubmit(){this.educationForm.valid&&this.activeModal.close(this.educationForm.value)}saveEducation(){this.educationForm.valid&&(this.educationSaved.emit(this.educationForm.value),this.activeModal.close())}close(){this.activeModal.dismiss()}openDatePicker(i,r){U5.default.fire({title:`Select ${r}`,input:"date",inputLabel:`${r}`,inputPlaceholder:`Select a ${r.toLowerCase()}`,showCancelButton:!0,confirmButtonText:"Select",cancelButtonText:"Cancel",inputValidator:s=>s?void 0:`Please select a valid ${r.toLowerCase()}!`}).then(s=>{s.isConfirmed&&this.educationForm.get(i)?.setValue(s.value)})}};e.\u0275fac=function(r){return new(r||e)(B(Qs),B(el))},e.\u0275cmp=Oe({type:e,selectors:[["app-education-modal"]],inputs:{education:"education",isCurrentUserProfile:"isCurrentUserProfile"},outputs:{educationSaved:"educationSaved"},decls:41,vars:11,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","schoolName",1,"form-label"],["type","text","id","schoolName","formControlName","schoolName",1,"form-control",3,"readonly"],["for","degree",1,"form-label"],["type","text","id","degree","formControlName","degree",1,"form-control",3,"readonly"],["for","fieldOfStudy",1,"form-label"],["type","text","id","fieldOfStudy","formControlName","fieldOfStudy",1,"form-control",3,"readonly"],["for","startDate",1,"form-label"],["type","text","id","startDate","formControlName","startDate","placeholder","Select a start date",1,"form-control",3,"click","readonly"],["for","endDate",1,"form-label"],["type","text","id","endDate","formControlName","endDate","placeholder","Select an end date",1,"form-control",3,"click","readonly"],["for","grade",1,"form-label"],["type","text","id","grade","formControlName","grade",1,"form-control",3,"readonly"],["for","activities",1,"form-label"],["type","text","id","activities","formControlName","activities",1,"form-control",3,"readonly"],["for","description",1,"form-label"],["id","description","formControlName","description",1,"form-control",3,"readonly"],["type","submit","class","btn btn-primary",4,"ngIf"],["type","submit",1,"btn","btn-primary"]],template:function(r,s){r&1&&(E(0,"div",0)(1,"h5",1),L(2),b(),E(3,"button",2),re("click",function(){return s.close()}),E(4,"span",3),L(5,"\xD7"),b()()(),E(6,"div",4)(7,"form",5),re("ngSubmit",function(){return s.onSubmit()}),E(8,"div",6)(9,"label",7),L(10,"School*"),b(),ne(11,"input",8),b(),E(12,"div",6)(13,"label",9),L(14,"Degree"),b(),ne(15,"input",10),b(),E(16,"div",6)(17,"label",11),L(18,"Field of study"),b(),ne(19,"input",12),b(),E(20,"div",6)(21,"label",13),L(22,"Start date"),b(),E(23,"input",14),re("click",function(){return s.openDatePicker("startDate","Start Date")}),b()(),E(24,"div",6)(25,"label",15),L(26,"End date (or expected)"),b(),E(27,"input",16),re("click",function(){return s.openDatePicker("endDate","End Date")}),b()(),E(28,"div",6)(29,"label",17),L(30,"Grade"),b(),ne(31,"input",18),b(),E(32,"div",6)(33,"label",19),L(34,"Activities and societies"),b(),ne(35,"input",20),b(),E(36,"div",6)(37,"label",21),L(38,"Description"),b(),ne(39,"textarea",22),b(),J(40,kne,2,0,"button",23),b()()),r&2&&(T(2),rt(" ",s.education?"Edit Education":"Add Education"," "),T(5),x("formGroup",s.educationForm),T(4),x("readonly",!s.isCurrentUserProfile),T(4),x("readonly",!s.isCurrentUserProfile),T(4),x("readonly",!s.isCurrentUserProfile),T(4),x("readonly",!s.isCurrentUserProfile),T(4),x("readonly",!s.isCurrentUserProfile),T(4),x("readonly",!s.isCurrentUserProfile),T(4),x("readonly",!s.isCurrentUserProfile),T(4),x("readonly",!s.isCurrentUserProfile),T(),x("ngIf",s.isCurrentUserProfile))},dependencies:[kt,Pi,kn,li,ki,Vo,Bo],styles:[".close[_ngcontent-%COMP%]{position:absolute;right:10px}"]});let n=e;return n})();function Pne(n,e){if(n&1&&(E(0,"div",9),ne(1,"img",10),b()),n&2){let t=U();T(),x("src",t.previewUrl||t.imageUrl,Gn)}}function Fne(n,e){if(n&1){let t=Ce();E(0,"div")(1,"input",11),re("change",function(r){ue(t);let s=U();return de(s.onFileSelected(r))}),b()()}}function Lne(n,e){n&1&&(E(0,"div",12),ne(1,"span",13),b())}function Vne(n,e){if(n&1){let t=Ce();E(0,"div",14)(1,"button",15),re("click",function(){ue(t);let r=U();return de(r.deleteImage())}),L(2," Delete "),b(),E(3,"button",16),re("click",function(){ue(t);let r=U();return de(r.uploadImage())}),L(4," Upload "),b(),E(5,"button",17),re("click",function(){ue(t);let r=U();return de(r.activeModal.dismiss())}),L(6," Cancel "),b()()}}var hw=(()=>{let e=class e{constructor(i,r,s,o){this.activeModal=i,this.storage=r,this.afAuth=s,this.firestore=o,this.onDelete=new xe,this.onImageChange=new xe,this.selectedFile=null,this.previewUrl=null,this.isLoading=!1}ngOnInit(){console.log("isCurrentUserProfile in ImageModal:",this.isCurrentUserProfile)}onFileSelected(i){let r=i.target.files[0];if(r){this.selectedFile=r;let s=new FileReader;s.onload=o=>{this.previewUrl=o.target.result},s.readAsDataURL(r)}}uploadImage(){if(!this.isCurrentUserProfile){console.warn("Unauthorized action: Only the current user can upload images.");return}this.isLoading=!0,this.afAuth.authState.subscribe(i=>{if(i&&this.selectedFile){let r=`${this.isProfileImage?"profileImages":"backgroundImages"}/${i.uid}`,s=this.storage.ref(r);this.storage.upload(r,this.selectedFile).snapshotChanges().pipe(zn(()=>{s.getDownloadURL().subscribe(a=>{this.onImageChange.emit(a);let l=this.isProfileImage?{profileImageUrl:a}:{backgroundImageUrl:a};this.firestore.collection("users").doc(i.uid).update(l).then(()=>{this.isLoading=!1,this.activeModal.close()})})})).subscribe()}else this.isLoading=!1,console.error("User is not authenticated or no file selected")})}deleteImage(){if(!this.isCurrentUserProfile){console.warn("Unauthorized action: Only the current user can delete images.");return}this.isLoading=!0,this.afAuth.authState.subscribe(i=>{if(i){let r=this.isProfileImage?"assets/images/add-photo.png":"assets/images/background.png",s=this.isProfileImage?{profileImageUrl:r}:{backgroundImageUrl:r};this.firestore.collection("users").doc(i.uid).update(s).then(()=>{this.onImageChange.emit(r),this.isLoading=!1,this.activeModal.close()})}else this.isLoading=!1,console.error("User not authenticated")})}};e.\u0275fac=function(r){return new(r||e)(B(Qs),B(Mc),B(Zr),B(ln))},e.\u0275cmp=Oe({type:e,selectors:[["app-image-modal"]],inputs:{imageUrl:"imageUrl",isProfileImage:"isProfileImage",isCurrentUserProfile:"isCurrentUserProfile"},outputs:{onDelete:"onDelete",onImageChange:"onImageChange"},decls:12,vars:5,consts:[["loadingTemplate",""],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","text-center"],["class","image-wrapper",4,"ngIf","ngIfElse"],[4,"ngIf"],["class","modal-footer",4,"ngIf"],[1,"image-wrapper"],["alt","Image Preview",1,"img-fluid","mb-3",3,"src"],["type","file",3,"change"],["role","status",1,"spinner"],[1,"sr-only"],[1,"modal-footer"],["type","button",1,"btn","btn-danger",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(r,s){if(r&1){let o=Ce();E(0,"div",1)(1,"h5",2),L(2),b(),E(3,"button",3),re("click",function(){return ue(o),de(s.activeModal.dismiss())}),E(4,"span",4),L(5,"\xD7"),b()()(),E(6,"div",5),J(7,Pne,2,1,"div",6)(8,Fne,2,0,"div",7)(9,Lne,2,0,"ng-template",null,0,Wr),b(),J(11,Vne,7,0,"div",8)}if(r&2){let o=zr(10);T(2),rt(" ",s.isProfileImage?"Profile Image":"Background Image"," "),T(5),x("ngIf",!s.isLoading)("ngIfElse",o),T(),x("ngIf",s.isCurrentUserProfile),T(3),x("ngIf",s.isCurrentUserProfile&&!s.isLoading)}},dependencies:[kt],styles:[".modal-dialog[_ngcontent-%COMP%]{width:750px;height:900px;max-width:100%;max-height:100%}.modal-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;height:100%;max-height:300%}.modal-body[_ngcontent-%COMP%]{width:100%;height:80%;display:flex;justify-content:center;align-items:center}.modal-body[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:90%;max-height:90%;object-fit:contain;border-radius:12px;box-shadow:0 9px 22px #00000026;transition:transform .45s ease}.modal-body[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.075)}.spinner[_ngcontent-%COMP%]{display:inline-block;width:75px;height:75px;border:4.5px solid rgba(255,255,255,.3);border-radius:50%;border-top-color:#3498db;animation:_ngcontent-%COMP%_spin 1s ease-in-out infinite;margin-top:30px}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.modal-header[_ngcontent-%COMP%]{background-color:#f7f8fa;border-bottom:1.5px solid #ddd;padding:22.5px;border-radius:18px 18px 0 0;display:flex;justify-content:space-between;align-items:center}.modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{font-size:2.1rem;color:#333}.modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{font-size:2.4rem;color:#555;opacity:.7;transition:opacity .45s ease}.modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:hover{opacity:1;color:#e74c3c}.modal-footer[_ngcontent-%COMP%]{width:100%;background-color:#f7f8fa;border-top:1.5px solid #ddd;padding:15px;display:flex;justify-content:center}.modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-left:15px;padding:10px 20px;font-size:1rem;border-radius:7.5px;transition:background-color .45s,transform .3s ease}.modal-footer[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]{background-color:#e74c3c;border:none;color:#fff}.modal-footer[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]:hover{background-color:#c0392b;transform:translateY(-3px)}.modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background-color:#3498db;border:none;color:#fff}.modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background-color:#2980b9;transform:translateY(-3px)}.modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background-color:#95a5a6;border:none;color:#fff}.modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover{background-color:#7f8c8d;transform:translateY(-3px)}@media (max-width: 768px){.modal-dialog[_ngcontent-%COMP%]{width:90%;height:auto}.modal-body[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%}}"]});let n=e;return n})();function Bne(n,e){if(n&1){let t=Ce();E(0,"button",18),re("click",function(){ue(t);let r=U(2);return de(r.saveSkill())}),L(1," Save "),b()}if(n&2){let t=U(2);x("disabled",!t.skillForm.valid)}}function Une(n,e){if(n&1){let t=Ce();E(0,"button",19),re("click",function(){ue(t);let r=U(2);return de(r.confirmUpdate())}),L(1," Update "),b()}if(n&2){let t=U(2);x("disabled",!t.formChanged||!t.skillForm.valid)}}function jne(n,e){if(n&1){let t=Ce();E(0,"div",14),J(1,Bne,2,1,"button",15)(2,Une,2,1,"button",16),E(3,"button",17),re("click",function(){ue(t);let r=U();return de(r.dismiss())}),L(4," Cancel "),b()()}if(n&2){let t=U();T(),x("ngIf",!t.isUpdateMode),T(),x("ngIf",t.isUpdateMode)}}var j5=(()=>{let e=class e{constructor(i,r){this.activeModal=i,this.fb=r,this.skillSaved=new xe,this.skillUpdated=new xe,this.isUpdateMode=!1,this.formChanged=!1,this.isCurrentUserProfile=!1,this.skillForm=this.fb.group({skillName:["",Ft.required],relatedField:[""],experience:["",Ft.required]})}ngOnInit(){this.skill&&(this.isUpdateMode=!0,this.skillForm.patchValue(this.skill)),this.skillForm.valueChanges.subscribe(()=>{this.checkForChanges()})}checkForChanges(){this.skill&&(this.formChanged=!this.skillForm.pristine)}saveSkill(){this.skillForm.valid&&(console.log("Skill to save:",this.skillForm.value),this.skillSaved.emit(this.skillForm.value),this.activeModal.close(this.skillForm.value))}dismiss(){this.activeModal.dismiss()}confirmUpdate(){this.skillForm.valid&&confirm("Are you sure you want to update this skill?")&&(console.log("update mess"),this.skillUpdated.emit(this.skillForm.value),this.activeModal.close(this.skillForm.value))}};e.\u0275fac=function(r){return new(r||e)(B(Qs),B(el))},e.\u0275cmp=Oe({type:e,selectors:[["app-skills-modal"]],inputs:{skill:"skill",isCurrentUserProfile:"isCurrentUserProfile"},outputs:{skillSaved:"skillSaved",skillUpdated:"skillUpdated"},decls:21,vars:6,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"formGroup"],[1,"form-group"],["for","skillName"],["id","skillName","type","text","formControlName","skillName",1,"form-control",3,"readonly"],["for","relatedField"],["id","relatedField","type","text","formControlName","relatedField",1,"form-control",3,"readonly"],["for","experience"],["id","experience","type","text","formControlName","experience",1,"form-control",3,"readonly"],["class","modal-footer",4,"ngIf"],[1,"modal-footer"],["type","button","class","btn btn-primary",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-update",3,"disabled","click",4,"ngIf"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click","disabled"],["type","button",1,"btn","btn-update",3,"click","disabled"]],template:function(r,s){r&1&&(E(0,"div",0)(1,"h5",1),L(2),b(),E(3,"button",2),re("click",function(){return s.dismiss()}),E(4,"span",3),L(5,"\xD7"),b()()(),E(6,"div",4)(7,"form",5)(8,"div",6)(9,"label",7),L(10,"Skill Name"),b(),ne(11,"input",8),b(),E(12,"div",6)(13,"label",9),L(14,"Related Field"),b(),ne(15,"input",10),b(),E(16,"div",6)(17,"label",11),L(18,"Experience"),b(),ne(19,"input",12),b()()(),J(20,jne,5,2,"div",13)),r&2&&(T(2),ht(s.skill?"Update Skill":"Add Skill"),T(5),x("formGroup",s.skillForm),T(4),x("readonly",!s.isCurrentUserProfile),T(4),x("readonly",!s.isCurrentUserProfile),T(4),x("readonly",!s.isCurrentUserProfile),T(),x("ngIf",s.isCurrentUserProfile))},dependencies:[kt,Pi,kn,li,ki,Vo,Bo],styles:[".close[_ngcontent-%COMP%]{position:absolute;right:10px}.btn-update[_ngcontent-%COMP%]:disabled{background-color:#6c757d;border-color:#6c757d;color:#fff}.btn-update[_ngcontent-%COMP%]{background-color:#007bff;border-color:#007bff;color:#fff}"]});let n=e;return n})();var zne=n=>({"background-img":n}),$ne=n=>({"add-photo-img":n});function Hne(n,e){if(n&1){let t=Ce();E(0,"input",30),re("change",function(r){ue(t);let s=U();return de(s.onBackgroundImageChange(r))}),b()}}function Gne(n,e){if(n&1){let t=Ce();E(0,"input",30),re("change",function(r){ue(t);let s=U();return de(s.onProfileImageChange(r))}),b()}}function qne(n,e){if(n&1){let t=Ce();E(0,"button",31),re("click",function(){ue(t);let r=U();return de(r.startChat())}),L(1," Send Message "),b()}}function Wne(n,e){if(n&1){let t=Ce();E(0,"button",32),re("click",function(){ue(t);let r=U();return de(r.sendConnectionRequest())}),L(1," Connect "),b()}if(n&2){let t=U();Je("data-userid",t.userId)}}function Kne(n,e){if(n&1){let t=Ce();E(0,"button",33),re("click",function(){ue(t);let r=U();return de(r.confirmUnconnect())}),L(1," Unconnect "),b()}}function Qne(n,e){if(n&1){let t=Ce();E(0,"span",36),re("click",function(){ue(t);let r=U(2);return de(r.toggleEditMode())}),L(1," Edit "),b()}}function Zne(n,e){if(n&1){let t=Ce();E(0,"button",34),re("click",function(){ue(t);let r=U();return de(r.toggleEditMode())}),J(1,Qne,2,0,"span",35),b()}if(n&2){let t=U();T(),x("ngIf",!t.editMode)}}function Yne(n,e){if(n&1){let t=Ce();E(0,"button",37),re("click",function(){ue(t);let r=U();return de(r.onSubmit())}),L(1," Save "),b()}}function Jne(n,e){if(n&1){let t=Ce();E(0,"button",37),re("click",function(){ue(t);let r=U();return de(r.toggleEditMode())}),L(1," Cancel "),b()}}function Xne(n,e){if(n&1){let t=Ce();E(0,"button",38),re("click",function(){ue(t);let r=U();return de(r.openEducationModal())}),ne(1,"ion-icon",39),b()}}function eie(n,e){if(n&1){let t=Ce();E(0,"button",45),re("click",function(){ue(t);let r=U().index,s=U();return de(s.removeEducation(r))}),L(1," Remove "),b()}}function tie(n,e){if(n&1){let t=Ce();E(0,"div",40),re("click",function(){let r=ue(t).$implicit,s=U();return de(s.openEducationModal(r))}),E(1,"div",41),ne(2,"ion-icon",42),b(),E(3,"div",43)(4,"h5"),L(5),b(),E(6,"p"),L(7),b(),J(8,eie,2,0,"button",44),b()()}if(n&2){let t=e.$implicit,i=U();T(5),ht(t.schoolName),T(2),ht(t.degree),T(),x("ngIf",i.editMode)}}function nie(n,e){if(n&1){let t=Ce();E(0,"button",38),re("click",function(){ue(t);let r=U();return de(r.openSkillsForm())}),ne(1,"ion-icon",39),b()}}function iie(n,e){if(n&1){let t=Ce();E(0,"button",45),re("click",function(){ue(t);let r=U().index,s=U();return de(s.removeSkill(r))}),L(1," Remove "),b()}}function rie(n,e){if(n&1){let t=Ce();E(0,"div",46),re("click",function(){let r=ue(t).$implicit,s=U();return de(s.openSkillsForm(r))}),E(1,"div",47)(2,"h5"),L(3),b(),J(4,iie,2,0,"button",44),b()()}if(n&2){let t=e.$implicit,i=U();T(3),ht(t.skillName),T(),x("ngIf",i.editMode)}}function sie(n,e){if(n&1){let t=Ce();E(0,"div",17)(1,"div",48)(2,"form",49),re("ngSubmit",function(){ue(t);let r=U();return de(r.onSubmit())}),E(3,"div",50)(4,"h4"),L(5,"First Name"),b(),ne(6,"input",51),b(),E(7,"div",50)(8,"h4"),L(9,"Last Name"),b(),ne(10,"input",52),b(),E(11,"div",50)(12,"h4"),L(13,"Email"),b(),ne(14,"input",53),b(),E(15,"div",50)(16,"h4"),L(17,"Address"),b(),ne(18,"input",54),b(),E(19,"div",50)(20,"h4"),L(21,"Contact"),b(),ne(22,"input",55),b(),E(23,"div",50)(24,"h4"),L(25,"Bio"),b(),ne(26,"textarea",56),b(),E(27,"button",57),L(28," Update Profile Info "),b()()()()}if(n&2){let t=U();T(2),x("formGroup",t.profileForm)}}function oie(n,e){if(n&1&&(E(0,"div",59)(1,"div",60)(2,"p"),L(3),b(),E(4,"span",61),L(5),ri(6,"date"),b()()()),n&2){let t=e.$implicit;T(3),ht(t.content),T(2),ht(Yl(6,2,t.timestamp.toDate(),"short"))}}function aie(n,e){if(n&1&&(E(0,"div"),J(1,oie,7,5,"div",58),b()),n&2){let t=U();T(),x("ngForOf",t.userPosts)}}function lie(n,e){n&1&&(E(0,"p"),L(1,"You haven't posted yet"),b())}var KM=(()=>{let e=class e{constructor(i,r,s,o,a,l,c,d,h,m,v){this.profileService=i,this.fb=r,this.afAuth=s,this.firestore=o,this.storage=a,this.geocodingService=l,this.router=c,this.route=d,this.modalService=h,this.toastr=m,this.authService=v,this.userData={education:[],skills:[]},this.editMode=!1,this.userPosts=[],this.isCurrentUserProfile=!1,this.connectionSent=!1,this.isConnected=!1,this.profileForm=this.fb.group({profileImageUrl:[""],backgroundImageUrl:[""],firstName:["",Ft.required],lastName:["",Ft.required],email:[{value:"",disabled:!0},[Ft.required,Ft.email]],contact:[""],address:[""],education:this.fb.array([]),skills:this.fb.array([]),bio:[""]}),this.authService.getUser().subscribe(C=>{C&&(this.currentUserId=C.uid)})}ngOnInit(){this.route.params.subscribe(i=>F(this,null,function*(){if(this.userId=i.userId,!this.userId){let r=yield this.afAuth.currentUser;r&&(this.userId=r.uid,this.isCurrentUserProfile=!0)}this.userId&&(yield this.loadUserDataAndPosts(),this.checkConnection())})),console.log("ProfileComponent - IsCurrentUserProfile:",this.isCurrentUserProfile)}loadUserDataAndPosts(){return F(this,null,function*(){try{let i=yield this.afAuth.currentUser;i&&(this.isCurrentUserProfile=i.uid===this.userId),this.firestore.collection("users").doc(this.userId).valueChanges().subscribe(r=>{this.userData=r,(!this.userData.education||!Array.isArray(this.userData.education))&&(this.userData.education=[]),(!this.userData.skills||!Array.isArray(this.userData.skills))&&(this.userData.skills=[]),this.profileForm.patchValue(r),this.profileForm.setControl("education",this.fb.array(this.userData.education||[])),this.profileForm.setControl("skills",this.fb.array(this.userData.skills||[]))}),this.firestore.collection("posts",r=>r.where("userId","==",this.userId).orderBy("timestamp","desc")).valueChanges().subscribe(r=>{console.log("Posts:",r),this.userPosts=r})}catch(i){console.error("Error loading user data and posts:",i)}})}onSubmit(){if(this.profileForm.valid){let i=this.profileForm.value;this.geocodingService.getCoordinates(i.address).subscribe(r=>{i.position=r,this.userId?this.firestore.collection("users").doc(this.userId).update(i).then(()=>{console.log("Profile updated successfully"),this.toggleEditMode()}).catch(s=>{console.log("Error updating profile: ",s)}):this.afAuth.authState.subscribe(s=>{s&&this.firestore.collection("users").doc(s.uid).update(i).then(()=>{console.log("Profile updated successfully"),this.toggleEditMode()}).catch(o=>{console.log("Error updating profile: ",o)})})},r=>{console.error("Error getting coordinates for user address: ",r)})}}openImageModal(i,r){let s=this.modalService.open(hw);s.componentInstance.imageUrl=this.profileForm.get("profileImageUrl")?.value||"assets/images/add-photo.png",s.componentInstance.isProfileImage=r,s.componentInstance.isCurrentUserProfile=this.isCurrentUserProfile,console.log("IsCurrentUserProfile sent to modal:",this.isCurrentUserProfile),s.componentInstance.onImageChange.subscribe(o=>{this.isCurrentUserProfile&&this.profileForm.patchValue({profileImageUrl:o})}),s.componentInstance.onDelete.subscribe(()=>{this.isCurrentUserProfile&&this.profileForm.patchValue({profileImageUrl:""})})}openProfileImageModal(){let i=this.modalService.open(hw);i.componentInstance.imageUrl=this.profileForm.get("profileImageUrl")?.value||"assets/images/default-profile.png",i.componentInstance.isProfileImage=!0,i.componentInstance.isCurrentUserProfile=this.isCurrentUserProfile,console.log("IsCurrentUserProfile sent to modal:",this.isCurrentUserProfile),i.componentInstance.isCurrentUserProfile=void 0,i.componentInstance.isCurrentUserProfile=!0}openBackgroundImageModal(){let i=this.modalService.open(hw);i.componentInstance.imageUrl=this.profileForm.get("backgroundImageUrl")?.value||"assets/images/default-background.png",i.componentInstance.isProfileImage=!1,i.componentInstance.isCurrentUserProfile=!0}deleteImage(i){if(this.userId){let r=i?"profileImageUrl":"backgroundImageUrl";this.firestore.collection("users").doc(this.userId).update({[r]:null}).then(()=>{this.profileForm.patchValue({[r]:null}),console.log(`${i?"Profile":"Background"} image deleted successfully`)}).catch(s=>{console.error(`Error deleting ${i?"profile":"background"} image: `,s)})}}onProfileImageChange(i){let r=i.target.files[0];if(r){let s=`profileImages/${r.name}`,o=this.storage.ref(s);this.storage.upload(s,r).snapshotChanges().pipe(zn(()=>{o.getDownloadURL().subscribe(l=>{this.profileForm.patchValue({profileImageUrl:l})})})).subscribe()}}onBackgroundImageChange(i){let r=i.target.files[0];if(r){let s=`backgroundImages/${r.name}`,o=this.storage.ref(s);this.storage.upload(s,r).snapshotChanges().pipe(zn(()=>{o.getDownloadURL().subscribe(l=>{this.profileForm.patchValue({backgroundImageUrl:l})})})).subscribe()}}startChat(){this.userId&&this.router.navigate(["/chat",{userId:this.userId}])}sendConnectionRequest(){let i={from:this.currentUserId,to:this.userId,timestamp:new Date,status:"pending"};this.firestore.collection("connectionRequests",r=>r.where("from","==",this.currentUserId).where("to","==",this.userId).where("status","==","pending")).get().subscribe(r=>{r.empty?this.firestore.collection("connectionRequests").add(i).then(()=>{this.connectionSent=!0,this.toastr.success("Connection request sent."),this.updatePendingButtons(this.userId)}).catch(s=>{console.error("Error sending connection request: ",s),this.toastr.error("Failed to send connection request.")}):this.toastr.warning("Connection request already sent.")})}updatePendingButtons(i){document.querySelectorAll(`[data-userid="${i}"]`).forEach(s=>{let o=s;o.textContent="Pending",o.disabled=!0})}toggleEditMode(){this.editMode=!this.editMode}openEducationForm(){this.modalService.open(WM).result.then(r=>{r&&(this.userData.education.push(r),this.updateUserData())}).catch(r=>{console.error("Modal dismissed",r)})}openEducationModal(i){let r=this.modalService.open(WM);r.componentInstance.education=i,console.log("Proslije\u0111ena vrijednost isCurrentUserProfile:",this.isCurrentUserProfile),r.componentInstance.isCurrentUserProfile=this.isCurrentUserProfile,r.componentInstance.educationSaved.subscribe(s=>{if(this.userData.education||(this.userData.education=[]),i){let o=this.userData.education.indexOf(i);o!==-1&&(this.userData.education[o]=s)}else this.userData.education.push(s);this.updateUserData()})}removeEducation(i){i>-1&&(this.userData.education.splice(i,1),this.updateUserData())}openSkillsForm(i){let r=this.modalService.open(j5);r.componentInstance.skill=i,r.componentInstance.isCurrentUserProfile=this.isCurrentUserProfile,this.isCurrentUserProfile&&r.componentInstance.skillSaved.subscribe(s=>{if(this.userData.skills||(this.userData.skills=[]),i){let o=this.userData.skills.indexOf(i);o!==-1&&(this.userData.skills[o]=s)}else this.userData.skills.push(s);this.updateUserData()})}removeSkill(i){i>-1&&(this.userData.skills.splice(i,1),this.updateUserData())}updateUserData(){this.userId&&this.firestore.collection("users").doc(this.userId).update({education:this.userData.education,skills:this.userData.skills}).then(()=>{console.log("User data updated successfully")}).catch(i=>{console.error("Error updating user data: ",i)})}checkConnection(){this.userId&&this.profileService.checkConnection(this.userId).subscribe(i=>{this.isConnected=i})}checkExistingRequests(){this.firestore.collection("connectionRequests",i=>i.where("from","==",this.currentUserId).where("to","==",this.userId)).valueChanges().subscribe(i=>{i.length>0&&i[0].status==="pending"&&(this.connectionSent=!0)})}confirmUnconnect(){z5.default.fire({title:"Are you sure?",text:"Do you want to unconnect with this user?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, unconnect",cancelButtonText:"No, cancel"}).then(i=>{i.isConfirmed&&this.unconnectUser()})}unconnectUser(){this.profileService.unconnectUser(this.userId).subscribe(()=>{this.toastr.success("You are no longer connected."),this.isConnected=!1,this.checkConnection()},i=>{this.toastr.error("Failed to unconnect from the user.")})}};e.\u0275fac=function(r){return new(r||e)(B(ul),B(el),B(Zr),B(ln),B(Mc),B(cl),B(Lt),B(rs),B(mM),B(Zs),B(ui))},e.\u0275cmp=Oe({type:e,selectors:[["app-profile"]],decls:55,vars:29,consts:[["noPosts",""],[1,"profile-container"],[1,"profile-photo"],[1,"background-image",3,"click"],["alt","Background Image",1,"background-img",3,"src","ngClass"],["type","file","class","file-input",3,"change",4,"ngIf"],[1,"profile-image",3,"click"],["alt","Profile Image",1,"profile-img",3,"src","ngClass"],[1,"profile-info","container","mt-4"],[1,"row","align-items-center"],[1,"col-md-9","d-flex","justify-content-between","align-items-center"],["href","#"],["class","btn btn-primary me-2",3,"click",4,"ngIf"],["class","btn btn-primary",3,"click",4,"ngIf"],["class","btn btn-outline-danger",3,"click",4,"ngIf"],["class","btn btn-secondary me-2","title","Edit",3,"click",4,"ngIf"],["class","btn btn-secondary",3,"click",4,"ngIf"],[1,"row","mt-4"],[1,"col-md-12","about"],[1,"education-section"],[1,"section-header"],["class","btn btn-light",3,"click",4,"ngIf"],[1,"education-cards"],["class","education-card",3,"click",4,"ngFor","ngForOf"],[1,"skills-section"],[1,"skills-cards"],["class","skills-card",3,"click",4,"ngFor","ngForOf"],["class","row mt-4",4,"ngIf"],["id","activity",1,"col-md-12","mt-4"],[4,"ngIf","ngIfElse"],["type","file",1,"file-input",3,"change"],[1,"btn","btn-primary","me-2",3,"click"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-outline-danger",3,"click"],["title","Edit",1,"btn","btn-secondary","me-2",3,"click"],["class","material-symbols-outlined","onmouseover","Edit",3,"click",4,"ngIf"],["onmouseover","Edit",1,"material-symbols-outlined",3,"click"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-light",3,"click"],["name","add-outline"],[1,"education-card",3,"click"],[1,"education-icon"],["name","school-outline"],[1,"education-info"],["class","btn btn-danger btn-sm",3,"click",4,"ngIf"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"skills-card",3,"click"],[1,"skills-info"],[1,"col-md-12"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["type","text","id","firstName","formControlName","firstName",1,"form-control"],["type","text","id","lastName","formControlName","lastName",1,"form-control"],["type","email","id","email","formControlName","email",1,"form-control"],["type","text","id","address","formControlName","address",1,"form-control"],["type","text","id","contact","formControlName","contact",1,"form-control"],["id","bio","formControlName","bio",1,"form-control"],["type","submit",1,"btn","btn-primary"],["class","post card mb-3",4,"ngFor","ngForOf"],[1,"post","card","mb-3"],[1,"card-body"],[1,"text-muted"]],template:function(r,s){if(r&1){let o=Ce();E(0,"div",1)(1,"div",2)(2,"div",3),re("click",function(){return ue(o),de(s.openBackgroundImageModal())}),ne(3,"img",4),J(4,Hne,1,0,"input",5),b(),E(5,"div",6),re("click",function(){return ue(o),de(s.openProfileImageModal())}),ne(6,"img",7),J(7,Gne,1,0,"input",5),b()(),E(8,"div",8)(9,"div",9)(10,"div",10)(11,"div")(12,"h3"),L(13),b(),E(14,"p"),L(15),b(),E(16,"p"),L(17),b(),E(18,"p")(19,"a",11),L(20),b()(),J(21,qne,2,0,"button",12)(22,Wne,2,1,"button",13)(23,Kne,2,0,"button",14),b(),E(24,"div"),J(25,Zne,2,1,"button",15)(26,Yne,2,0,"button",16)(27,Jne,2,0,"button",16),b()()(),E(28,"div",17)(29,"div",18)(30,"h4"),L(31,"About"),b(),E(32,"p"),L(33),b()(),E(34,"div",19)(35,"div",20)(36,"h4"),L(37,"Education"),b(),J(38,Xne,2,0,"button",21),b(),E(39,"div",22),J(40,tie,9,3,"div",23),b()(),E(41,"div",24)(42,"div",20)(43,"h4"),L(44,"Skills"),b(),J(45,nie,2,0,"button",21),b(),E(46,"div",25),J(47,rie,5,2,"div",26),b()(),J(48,sie,29,1,"div",27),E(49,"div",28)(50,"h4"),L(51,"Activity"),b(),J(52,aie,2,1,"div",29)(53,lie,2,0,"ng-template",null,0,Wr),b()()()()}if(r&2){let o,a,l,c,d=zr(54);T(3),x("src",((o=s.profileForm.get("backgroundImageUrl"))==null?null:o.value)||"assets/images/background.png",Gn)("ngClass",qn(25,zne,!((a=s.profileForm.get("backgroundImageUrl"))!=null&&a.value))),T(),x("ngIf",s.editMode&&s.isCurrentUserProfile),T(2),x("src",((l=s.profileForm.get("profileImageUrl"))==null?null:l.value)||"assets/images/add-photo.png",Gn)("ngClass",qn(27,$ne,!((c=s.profileForm.get("profileImageUrl"))!=null&&c.value))),T(),x("ngIf",s.editMode&&s.isCurrentUserProfile),T(6),$r("",s.userData==null?null:s.userData.firstName," ",s.userData==null?null:s.userData.lastName,""),T(2),ht(s.userData==null||s.userData.education[0]==null?null:s.userData.education[0].degree),T(2),rt(" ",(s.userData==null||s.userData.skills==null||s.userData.skills[0]==null?null:s.userData.skills[0].skillName)||"No skills added yet"," "),T(3),ht(s.userData==null?null:s.userData.address),T(),x("ngIf",!s.isCurrentUserProfile),T(),x("ngIf",!s.isCurrentUserProfile&&!s.connectionSent&&!s.isConnected),T(),x("ngIf",!s.isCurrentUserProfile&&s.isConnected),T(2),x("ngIf",!s.editMode&&s.isCurrentUserProfile),T(),x("ngIf",s.editMode),T(),x("ngIf",s.editMode),T(6),ht(s.userData==null?null:s.userData.bio),T(5),x("ngIf",s.isCurrentUserProfile),T(2),x("ngForOf",s.userData==null?null:s.userData.education),T(5),x("ngIf",s.isCurrentUserProfile),T(2),x("ngForOf",s.userData.skills),T(),x("ngIf",s.editMode&&s.isCurrentUserProfile),T(4),x("ngIf",s.userPosts.length>0)("ngIfElse",d)}},dependencies:[Oi,xs,kt,Pi,kn,li,ki,Vo,Bo,Yu],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0;padding:0}body[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100vh}.profile-container[_ngcontent-%COMP%]{flex-grow:1;background-color:#f4f4f4;border-radius:10.5px;box-shadow:0 2.8px 8.4px #0000001a;overflow:hidden;animation:_ngcontent-%COMP%_fadeIn .56s ease-in-out;padding:20px 200px 200px}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-14px)}to{opacity:1;transform:translateY(0)}}.profile-photo[_ngcontent-%COMP%]{position:relative}.background-image[_ngcontent-%COMP%]{position:relative;width:100%;height:300px;background-color:#e5e5e5;border-radius:10px;overflow:hidden}.background-img[_ngcontent-%COMP%]{width:100%;height:50%;object-fit:cover;transition:transform .35s ease}.background-img[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.profile-image[_ngcontent-%COMP%]{position:absolute;left:12%;bottom:-50px;transform:translate(-50%);width:150px;height:150px;border:5px solid #fff;border-radius:20%;overflow:hidden;background-color:#fff;z-index:10}.profile-img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .35s ease}.profile-img[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.file-input[_ngcontent-%COMP%]{display:none}.profile-info[_ngcontent-%COMP%]{position:relative;padding:30px;margin-top:80px;text-align:left}.profile-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:22.4px;font-weight:700;color:#333}.profile-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:3.5px 0;color:#666;font-size:12.6px}.profile-info[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:0 1px;font-size:12px;margin-left:0;transition:background-color .3s ease}.profile-info[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{position:absolute;right:1.5%}.profile-info[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{font-size:18px;width:24px;height:24px;line-height:24px}.col-md-9[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.row.align-items-center[_ngcontent-%COMP%]{align-items:center}.about[_ngcontent-%COMP%]{padding:14px;background-color:#fff;border-radius:7px;box-shadow:0 1.4px 7px #0000004d;animation:_ngcontent-%COMP%_slideUp .42s ease}.about[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:16.8px;color:#333;margin-bottom:7px}.about[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:11.2px;color:#555}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(14px)}to{opacity:1;transform:translateY(0)}}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:7px}.section-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:15.4px;font-weight:700}.section-header[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:9.8px;padding:5.6px 8.4px}.education-section[_ngcontent-%COMP%], .skills-section[_ngcontent-%COMP%]{margin-top:21px;padding:14px;background-color:#fff;border-radius:7px;box-shadow:0 1.4px 7px #0000004d}.education-cards[_ngcontent-%COMP%], .skills-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(175px,1fr));gap:14px}.education-card[_ngcontent-%COMP%], .skills-card[_ngcontent-%COMP%]{background-color:#f9fafb;border-radius:5.6px;padding:10.5px;transition:background-color .21s ease,box-shadow .21s ease;cursor:pointer;box-shadow:0 1.4px 7px #0505054d}.education-card[_ngcontent-%COMP%]:hover, .skills-card[_ngcontent-%COMP%]:hover{background-color:#f1f3f5;box-shadow:0 2.8px 5.6px #00000080}.education-info[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .skills-info[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:12.6px;margin-bottom:3.5px;color:#333}.education-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .skills-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:9.8px;color:#666}.education-icon[_ngcontent-%COMP%], .skills-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10.5px}.education-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], .skills-info[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:22.4px;color:#6c757d}.skills-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:3.5px 7px;background-color:#dc3545;border:none;border-radius:2.8px;color:#fff;cursor:pointer;transition:background-color .21s ease}.skills-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#c82333}#activity[_ngcontent-%COMP%]{margin-top:21px}.post[_ngcontent-%COMP%]{padding:10.5px;background-color:#fff;border-radius:5.6px;box-shadow:0 1.4px 7px #0000000d;transition:box-shadow .21s ease}.post[_ngcontent-%COMP%]:hover{box-shadow:0 2.8px 8.4px #0000001a}.card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:11.2px;color:#333}.card-body[_ngcontent-%COMP%]   .text-muted[_ngcontent-%COMP%]{font-size:8.4px;color:#888}@media (max-width: 768px){.profile-image[_ngcontent-%COMP%]{bottom:-56px;left:14px}.profile-img[_ngcontent-%COMP%]{width:70px;height:70px}.profile-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:19.6px}.profile-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:11.2px}.education-cards[_ngcontent-%COMP%], .skills-cards[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(140px,1fr))}.skills-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:2.8px 5.6px}}"]});let n=e;return n})();var $5=(()=>{let e=class e{constructor(i){this.firestore=i,this.skillsSubject=new Ot([]),this.skills$=this.skillsSubject.asObservable(),this.fetchSkills()}fetchSkills(){this.firestore.collection("users").valueChanges().pipe(se(i=>{let r=new Set;return i.forEach(s=>{s.skills&&Array.isArray(s.skills)&&s.skills.forEach(o=>{typeof o=="string"?r.add(o.trim()):typeof o=="object"&&o.skillName&&r.add(o.skillName.trim())})}),Array.from(r).sort()})).subscribe(i=>{this.skillsSubject.next(i)})}getSkills(){return this.skillsSubject.value}};e.\u0275fac=function(r){return new(r||e)(G(ln))},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var uie=()=>({standalone:!0}),die=()=>[];function hie(n,e){n&1&&(E(0,"div",17),L(1,"Location is required."),b())}function fie(n,e){if(n&1){let t=Ce();E(0,"li",20),re("click",function(){let r=ue(t).$implicit,s=U(2);return de(s.selectSkill(r))}),L(1),b()}if(n&2){let t=e.$implicit;T(),rt(" ",t," ")}}function pie(n,e){if(n&1&&(E(0,"ul",18),J(1,fie,2,1,"li",19),ri(2,"async"),b()),n&2){let t=U();T(),x("ngForOf",qr(2,1,t.filteredSkills$)||Gr(3,die))}}function gie(n,e){n&1&&(E(0,"div",21)(1,"p"),L(2,"No users found matching your search criteria."),b()())}function mie(n,e){n&1&&(E(0,"span"),L(1,", "),b())}function _ie(n,e){if(n&1&&(E(0,"span"),L(1),J(2,mie,2,0,"span",32),b()),n&2){let t=e.$implicit,i=e.index,r=U().$implicit;T(),rt(" ",t.skillName||t,""),T(),x("ngIf",i<r.skills.length-1)}}function yie(n,e){if(n&1){let t=Ce();E(0,"button",33),re("click",function(){ue(t);let r=U().$implicit,s=U(2);return de(s.sendConnectionRequest(r))}),L(1," Connect "),b()}}function vie(n,e){n&1&&(E(0,"button",34),L(1," Pending "),b())}function wie(n,e){if(n&1){let t=Ce();E(0,"button",35),re("click",function(){ue(t);let r=U().$implicit,s=U(2);return de(s.startChat(r))}),L(1," Send Message "),b()}}function bie(n,e){if(n&1){let t=Ce();E(0,"li",24)(1,"h5"),L(2),b(),E(3,"p")(4,"strong"),L(5,"Skills:"),b(),J(6,_ie,3,2,"span",25),b(),E(7,"p")(8,"strong"),L(9,"Location:"),b(),L(10),b(),E(11,"div",26),J(12,yie,2,0,"button",27)(13,vie,2,0,"button",28)(14,wie,2,0,"button",29),E(15,"button",30),re("click",function(){let r=ue(t).$implicit,s=U(2);return de(s.viewProfile(r))}),L(16," View Profile "),b()(),E(17,"button",31),re("click",function(){let r=ue(t).$implicit,s=U(2);return de(s.focusOnMap(r))}),L(18," Show on Map "),b()()}if(n&2){let t=e.$implicit,i=e.index;Je("data-userid",t.uid)("id","user-"+i),T(2),$r("",t.firstName," ",t.lastName,""),T(4),x("ngForOf",t.skills),T(4),rt(" ",t.address||"No location listed"," "),T(2),x("ngIf",!t.isConnected&&t.requestStatus!=="pending"),T(),x("ngIf",t.requestStatus==="pending"),T(),x("ngIf",t.isConnected)}}function Cie(n,e){if(n&1&&(E(0,"div",22)(1,"h4"),L(2,"Results:"),b(),E(3,"ul",18),J(4,bie,19,9,"li",23),b()()),n&2){let t=U();T(4),x("ngForOf",t.filteredUsers)}}function Eie(n,e){if(n&1){let t=Ce();E(0,"map-marker",40),re("mapClick",function(){let r=ue(t),s=r.$implicit,o=r.index,a=U(2);return de(a.onMapMarkerClick(s,o))}),b()}if(n&2){let t=e.$implicit;x("position",t.position)("title",t.firstName+" "+t.lastName)}}function Iie(n,e){if(n&1&&(E(0,"div",36)(1,"p")(2,"small"),L(3,"*Press the marker!"),b()(),E(4,"google-map",37),J(5,Eie,1,2,"map-marker",38),ne(6,"map-circle",39),b()()),n&2){let t=U();T(4),x("center",t.center)("zoom",t.zoom),T(),x("ngForOf",t.filteredUsers),T(),x("center",t.center)("radius",t.radius*1e3)("options",t.circleOptions)}}var H5=(()=>{let e=class e{constructor(i,r,s,o,a,l,c){this.geocodingService=i,this.firestore=r,this.authService=s,this.skillsService=o,this.notificationService=a,this.profileService=l,this.router=c,this.location="",this.radius=5,this.skill="",this.users=[],this.filteredUsers=[],this.center={lat:0,lng:0},this.zoom=12,this.showMap=!1,this.searchAttempted=!1,this.locationError=!1,this.skillControl=new Ac(""),this.filteredSkills$=le([]),this.isDropdownVisible=!1,this.circleOptions={fillColor:"lightblue",fillOpacity:.4,strokeColor:"blue",strokeOpacity:.8,strokeWeight:1}}ngOnInit(){this.authService.getCurrentUserDetails().then(i=>{this.currentUser=i}),this.firestore.collection("users").valueChanges().subscribe(i=>{this.users=i,this.checkConnectionStatus()}),this.filteredSkills$=this.skillControl.valueChanges.pipe(kr(""),se(i=>this.filterSkills(i??"")))}sendConnectionRequest(i){let r={from:this.currentUser.uid,to:i.uid,timestamp:new Date,status:"pending"};this.firestore.collection("connectionRequests").add(r).then(()=>{i.requestStatus="pending",this.notificationService.showSuccess("Connection request sent."),this.checkConnectionStatus()}).catch(s=>{this.notificationService.showError("Failed to send connection request."),console.error("Error sending connection request:",s)})}checkConnectionStatus(){this.filteredUsers.forEach(i=>{this.profileService.checkConnection(i.uid).subscribe(r=>{i.isConnected=r,r?i.requestStatus="accepted":this.firestore.collection("connectionRequests",s=>s.where("from","==",this.currentUser.uid).where("to","==",i.uid).where("status","==","pending")).valueChanges().subscribe(s=>{i.requestStatus=s.length>0?"pending":null})})})}viewProfile(i){this.router.navigate(["/profile",i.uid])}startChat(i){i.isConnected&&this.router.navigate(["/chat",{userId:i.uid}])}searchUsers(){this.searchAttempted=!0;let i=this.skillControl.value??"";if(!this.location){this.locationError=!0;return}this.locationError=!1,this.geocodingService.getCoordinates(this.location).subscribe(r=>{console.log("Coordinates:",r),this.center=r,this.filteredUsers=[],this.users.forEach(s=>{if(!s.position||!s.position.lat||!s.position.lng){console.warn(`User ${s.firstName||"Unnamed User"} does not have valid position data.`);return}let o=this.calculateDistance(this.center,s.position),l=(Array.isArray(s.skills)?s.skills:[]).some(c=>{let d=typeof c=="string"?c:c.skillName;return d&&d.toLowerCase().includes(i.toLowerCase())});if(s.uid===this.currentUser.uid){console.log("Skipping current user from search results");return}o<=this.radius&&l&&this.geocodingService.getReverseGeocode(s.position.lat,s.position.lng).subscribe(c=>{s.address=c.formatted_address,s.city=c.locality||c.administrative_area_level_2||"",this.filteredUsers.push(s),this.showMap=this.filteredUsers.length>0,console.log("Filtered users:",this.filteredUsers),this.checkConnectionStatus()},c=>{console.error("Error getting address from coordinates:",c)})})},r=>{console.error("Error getting location coordinates",r),this.showMap=!1})}selectSkill(i){this.skillControl.setValue(i),this.filteredSkills$=le([]),this.isDropdownVisible=!1}filterSkills(i){let r=i.toLowerCase();return this.skillsService.getSkills().filter(s=>s.toLowerCase().includes(r))}onSkillInput(i){let s=i.target?.value??"";this.filteredSkills$=le(this.filterSkills(s))}showDropdown(){this.isDropdownVisible=!0}hideDropdown(i){let r=i.relatedTarget;r&&r.closest(".list-group")||setTimeout(()=>{this.isDropdownVisible=!1},200)}focusOnMap(i){this.center={lat:i.position.lat,lng:i.position.lng},this.zoom=15;let r=document.querySelector("google-map");r&&(r.classList.add("map-zoom-animation"),setTimeout(()=>r.classList.remove("map-zoom-animation"),1e3))}calculateDistance(i,r){let o=this.deg2rad(r.lat-i.lat),a=this.deg2rad(r.lng-i.lng),l=Math.sin(o/2)*Math.sin(o/2)+Math.cos(this.deg2rad(i.lat))*Math.cos(this.deg2rad(r.lat))*Math.sin(a/2)*Math.sin(a/2);return 6371*(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)))}onMapMarkerClick(i,r){let s=document.getElementById(`user-${r}`);s&&(s.scrollIntoView({behavior:"smooth"}),s.classList.add("blink"),setTimeout(()=>s.classList.remove("blink"),3e3))}deg2rad(i){return i*(Math.PI/180)}resetForm(){this.location="",this.radius=5,this.skillControl.setValue(""),this.filteredUsers=[],this.showMap=!1}};e.\u0275fac=function(r){return new(r||e)(B(cl),B(ln),B(ui),B($5),B(vh),B(ul),B(Lt))},e.\u0275cmp=Oe({type:e,selectors:[["app-search"]],decls:26,vars:13,consts:[[1,"container","mt-4"],[3,"ngSubmit"],[1,"mb-3"],[1,"btn","btn-warning","btn-sm","float-end","mb-2",3,"click"],["for","location",1,"form-label"],["type","text","id","location","name","location","placeholder","Enter your location (e.g., Zadar)",1,"form-control",3,"ngModelChange","ngModel"],["class","text-danger",4,"ngIf"],["for","radius",1,"form-label"],["type","number","id","radius","name","radius","placeholder","Enter search radius in kilometers",1,"form-control",3,"ngModelChange","ngModel"],[1,"mb-3",3,"focusout"],["for","skill",1,"form-label"],["type","text","id","skill","name","skill","placeholder","Enter skill (e.g., Web Developer)",1,"form-control",3,"ngModelChange","input","focus","ngModel","ngModelOptions"],["class","list-group",4,"ngIf"],["type","submit",1,"btn","btn-primary"],["class","no-results",4,"ngIf"],["class","mt-4",4,"ngIf"],["class","mt-4 google-map",4,"ngIf"],[1,"text-danger"],[1,"list-group"],["class","list-group-item list-group-item-action",3,"click",4,"ngFor","ngForOf"],[1,"list-group-item","list-group-item-action",3,"click"],[1,"no-results"],[1,"mt-4"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],[4,"ngFor","ngForOf"],[1,"actions"],["class","btn btn-outline-primary me-2",3,"click",4,"ngIf"],["class","btn btn-outline-secondary me-2","disabled","",4,"ngIf"],["class","btn btn-success me-2",3,"click",4,"ngIf"],[1,"btn","btn-outline-success",3,"click"],[1,"btn","btn-info","btn-small","ms-auto",3,"click"],[4,"ngIf"],[1,"btn","btn-outline-primary","me-2",3,"click"],["disabled","",1,"btn","btn-outline-secondary","me-2"],[1,"btn","btn-success","me-2",3,"click"],[1,"mt-4","google-map"],["height","500px","width","100%",3,"center","zoom"],[3,"position","title","mapClick",4,"ngFor","ngForOf"],[3,"center","radius","options"],[3,"mapClick","position","title"]],template:function(r,s){if(r&1&&(E(0,"div",0)(1,"h3"),L(2,"Search for Users"),b(),E(3,"form",1),re("ngSubmit",function(){return s.searchUsers()}),E(4,"div",2)(5,"button",3),re("click",function(){return s.resetForm()}),L(6," Reset Form "),b(),E(7,"label",4),L(8,"Location"),b(),E(9,"input",5),mr("ngModelChange",function(a){return Hr(s.location,a)||(s.location=a),a}),b(),J(10,hie,2,0,"div",6),b(),E(11,"div",2)(12,"label",7),L(13,"Radius (km)"),b(),E(14,"input",8),mr("ngModelChange",function(a){return Hr(s.radius,a)||(s.radius=a),a}),b()(),E(15,"div",9),re("focusout",function(a){return s.hideDropdown(a)}),E(16,"label",10),L(17,"Skill"),b(),E(18,"input",11),mr("ngModelChange",function(a){return Hr(s.skillControl.value,a)||(s.skillControl.value=a),a}),re("input",function(a){return s.onSkillInput(a)})("focus",function(){return s.showDropdown()}),b(),J(19,pie,3,4,"ul",12),ri(20,"async"),b(),E(21,"button",13),L(22,"Search"),b()(),J(23,gie,3,0,"div",14)(24,Cie,5,1,"div",15)(25,Iie,7,6,"div",16),b()),r&2){let o;T(9),gr("ngModel",s.location),T(),x("ngIf",s.locationError),T(4),gr("ngModel",s.radius),T(4),gr("ngModel",s.skillControl.value),x("ngModelOptions",Gr(12,uie)),Je("autocomplete","off"),T(),x("ngIf",s.isDropdownVisible&&((o=qr(20,10,s.filteredSkills$))==null?null:o.length)),T(4),x("ngIf",s.filteredUsers.length===0&&s.searchAttempted),T(),x("ngIf",s.filteredUsers.length>0),T(),x("ngIf",s.showMap)}},dependencies:[xs,kt,Pi,kn,ZT,li,ki,Lo,Rc,fv,UV,jV,Ea],styles:[".container[_ngcontent-%COMP%]{font-family:Arial,sans-serif;background:#f9f9f9;border-radius:10px;padding:100px;box-shadow:0 0 15px #0000001a;animation:_ngcontent-%COMP%_fadeIn 1s ease-in-out}.form-control[_ngcontent-%COMP%]{border-radius:20px;padding:10px;margin-bottom:10px;border:1px solid #0077b5;transition:border-color .3s ease-in-out}.form-control[_ngcontent-%COMP%]:focus{border-color:#005582;box-shadow:0 0 10px #0077b533}.btn-primary[_ngcontent-%COMP%]{background-color:#0077b5;border-radius:25px;border:none;padding:10px 20px;font-weight:700;transition:background-color .3s ease-in-out}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#005582;transform:scale(1.05)}.list-group-item[_ngcontent-%COMP%]{background:#fff;border-radius:10px;margin-bottom:10px;box-shadow:0 0 10px #0000000d;padding:20px;transition:transform .3s ease,box-shadow .3s ease}.list-group-item[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 5px 20px #0000001a}.list-group-item[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:#333}.list-group-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;color:#555}.list-group-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#0077b5}.google-map[_ngcontent-%COMP%]{border-radius:10px;overflow:hidden;box-shadow:0 0 15px #0000001a}.actions[_ngcontent-%COMP%]{position:absolute;right:10px;top:50%;transform:translateY(-50%);display:flex;gap:10px}.connect-btn[_ngcontent-%COMP%], .follow-btn[_ngcontent-%COMP%]{padding:8px 12px;border:none;border-radius:5px;cursor:pointer;font-size:14px;font-weight:700;transition:background-color .3s}.connect-btn[_ngcontent-%COMP%]{background-color:#007bff;color:#fff}.connect-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}.follow-btn[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.follow-btn[_ngcontent-%COMP%]:hover{background-color:#218838}.btn-small[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:flex-start;gap:10px;font-size:10px;padding:2px 4px;height:auto}.actions[_ngcontent-%COMP%]   .btn-info[_ngcontent-%COMP%]{margin-left:auto;margin-top:5px}.list-group-item-action[_ngcontent-%COMP%]{font-size:14px;padding:8px 12px}.list-group[_ngcontent-%COMP%]{max-height:150px;overflow-y:auto;border:1px solid #ccc;border-radius:4px;background-color:#fff}.list-group-item-action[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}.list-group[_ngcontent-%COMP%]::-webkit-scrollbar{width:16px}.list-group[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#0077b5;border-radius:10px}.list-group[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#f1f1f1}.map-zoom-animation[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_zoomAnimation .5s ease-in-out}@keyframes _ngcontent-%COMP%_zoomAnimation{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}.blink[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_blinkEffect 1s ease-in-out 3}@keyframes _ngcontent-%COMP%_blinkEffect{0%{background-color:#fff}50%{background-color:#ffeeba}to{background-color:#fff}}.no-results[_ngcontent-%COMP%]{text-align:center;color:red;font-weight:700;margin-top:20px;animation:_ngcontent-%COMP%_fadeIn .5s ease-in-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.text-danger[_ngcontent-%COMP%]{color:red;font-weight:700;margin-top:5px}"]});let n=e;return n})();var G5=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"home",component:B5,canActivate:[wh]},{path:"profile",component:KM,canActivate:[wh]},{path:"search",component:H5,canActivate:[wh]},{path:"login",component:GM},{path:"register",component:GM},{path:"chat",component:V5,canActivate:[wh]},{path:"profile/:userId",component:KM,canActivate:[wh]}];var q5=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e,bootstrap:[F5]}),e.\u0275inj=ve({providers:[cl,ul,Js,yh],imports:[__,hk,dB.forRoot(G5),PV,FV,Ik.initializeApp(og.firebaseConfig),iV,yL,zV,Fk,Rs,kB,v3,VB.forRoot({positionClass:"toast-top-right",timeOut:4e3,progressBar:!0,closeButton:!0,preventDuplicates:!0,newestOnTop:!0,tapToDismiss:!0}),t5,qB,ow]});let n=e;return n})();og.production&&void 0;vk().bootstrapModule(q5).catch(n=>console.error(n));
